{"version":3,"sources":["commons/application/types/CommonsTypes.ts","features/groundControl/GroundControlTypes.ts","features/persistence/PersistenceTypes.ts","../../../src/errors/errors.ts","features/dashboard/DashboardTypes.ts","features/academy/AcademyTypes.ts","commons/application/types/SessionTypes.ts","../../../src/utils/stringify.ts","commons/application/actions/InterpreterActions.ts","commons/utils/NotificationsHelper.ts","commons/collabEditing/CollabEditingTypes.ts","../../../src/parser/parser.ts","commons/workspace/WorkspaceTypes.ts","commons/collabEditing/CollabEditingActions.ts","../../../src/utils/walkers.ts","commons/application/ApplicationTypes.ts","../../src/createContext.ts","commons/utils/Constants.ts","features/academy/AcademyActions.ts","commons/application/actions/CommonsActions.ts","commons/utils/GitHubPersistenceHelper.ts","features/envVisualizer/components/Visible.tsx","features/envVisualizer/EnvVisualizerCompactConfig.ts","features/envVisualizer/EnvVisualizerConfig.ts","features/envVisualizer/components/Text.tsx","features/envVisualizer/components/arrows/GenericArrow.tsx","features/envVisualizer/components/arrows/ArrowFromFrame.tsx","features/envVisualizer/components/ArrayEmptyUnit.tsx","features/envVisualizer/components/arrows/ArrowFromFn.tsx","features/envVisualizer/components/values/Value.tsx","features/envVisualizer/components/values/FnValue.tsx","features/envVisualizer/components/values/GlobalFnValue.tsx","features/envVisualizer/components/arrows/ArrowFromArrayUnit.tsx","features/envVisualizer/components/shapes/RoundedRect.tsx","features/envVisualizer/components/ArrayNullUnit.tsx","features/envVisualizer/components/values/PrimitiveValue.tsx","features/envVisualizer/components/ArrayUnit.tsx","features/envVisualizer/components/values/ArrayValue.tsx","features/envVisualizer/components/Frame.tsx","features/envVisualizer/components/Level.tsx","features/envVisualizer/components/ArrayLevel.tsx","features/envVisualizer/components/FrameLevel.tsx","features/envVisualizer/components/Grid.tsx","features/envVisualizer/components/ArrowLane.tsx","features/envVisualizer/components/arrows/ArrowFromText.tsx","features/envVisualizer/components/values/UnassignedValue.tsx","features/envVisualizer/components/Binding.tsx","features/envVisualizer/EnvVisualizerUtils.ts","features/envVisualizer/compactComponents/arrows/GenericArrow.tsx","features/envVisualizer/compactComponents/arrows/ArrowFromFrame.tsx","features/envVisualizer/compactComponents/ArrayEmptyUnit.tsx","features/envVisualizer/compactComponents/arrows/ArrowFromFn.tsx","features/envVisualizer/compactComponents/values/Value.tsx","features/envVisualizer/compactComponents/values/FnValue.tsx","features/envVisualizer/compactComponents/values/GlobalFnValue.tsx","features/envVisualizer/compactComponents/arrows/ArrowFromArrayUnit.tsx","features/envVisualizer/compactComponents/ArrayNullUnit.tsx","features/envVisualizer/compactComponents/Text.tsx","features/envVisualizer/compactComponents/values/PrimitiveValue.tsx","features/envVisualizer/compactComponents/ArrayUnit.tsx","features/envVisualizer/compactComponents/values/ArrayValue.tsx","features/envVisualizer/compactComponents/arrows/ArrowFromText.tsx","features/envVisualizer/compactComponents/values/UnassignedValue.tsx","features/envVisualizer/compactComponents/Binding.tsx","features/envVisualizer/compactComponents/Frame.tsx","features/envVisualizer/compactComponents/Level.tsx","features/envVisualizer/EnvVisualizerLayout.tsx","features/envVisualizer/EnvVisualizer.tsx","features/dataVisualizer/Config.ts","features/dataVisualizer/list.js","features/dataVisualizer/dataVisualizerUtils.ts","features/dataVisualizer/drawable/ArrowDrawable.tsx","features/dataVisualizer/drawable/BackwardArrowDrawable.tsx","features/dataVisualizer/tree/BaseTreeNode.ts","features/dataVisualizer/tree/AlreadyParsedTreeNode.ts","features/dataVisualizer/tree/DataTreeNode.tsx","features/dataVisualizer/tree/DrawableTreeNode.tsx","features/dataVisualizer/drawable/NullDrawable.tsx","features/dataVisualizer/drawable/ArrayDrawable.tsx","features/dataVisualizer/drawable/FunctionDrawable.tsx","features/dataVisualizer/tree/FunctionTreeNode.tsx","features/dataVisualizer/tree/ArrayTreeNode.tsx","features/dataVisualizer/tree/Tree.tsx","features/dataVisualizer/dataVisualizer.tsx","commons/utils/ConsoleOverload.ts","commons/utils/DisplayBufferService.ts","../../src/constants.ts","../../../src/errors/runtimeSourceError.ts","commons/assessment/AssessmentTypes.ts","../../../src/utils/astCreator.ts","features/achievement/AchievementTypes.ts","../../../src/errors/localImportErrors.ts","../../../src/localImports/filePaths.ts","../../src/types.ts","../../../src/utils/operators.ts","../../../src/utils/rttc.ts","../../../../../src/editors/ace/theme/source.ts","commons/sideContent/SideContentTypes.ts","../../../../../src/editors/ace/docTooltip/index.ts","../../../../src/localImports/constructors/baseConstructors.ts","../../../src/localImports/typeGuards.ts","../../../src/runner/utils.ts","commons/application/types/InterpreterTypes.ts","../../../../../src/editors/ace/modes/source.ts","features/sourceRecorder/SourceRecorderTypes.ts","../../../src/utils/makeWrapper.ts","../../src/finder.ts","commons/workspace/WorkspaceActions.ts","features/sourceRecorder/sourcereel/SourcereelTypes.ts","../../../src/lang/ClangLexer.ts","../../../src/lang/ClangParser.ts","commons/application/types/ExternalTypes.ts","../../../src/utils/formatters.ts","../../../src/runner/index.ts","../../../src/runner/sourceRunner.ts","../../../src/interpreter/interpreter.ts","../../../../src/localImports/transformers/hoistAndMergeImports.ts","../../../../src/localImports/constructors/contextSpecificConstructors.ts","../../../src/stdlib/localImport.prelude.ts","../../../../src/localImports/transformers/removeExports.ts","../../../../src/localImports/transformers/removeNonSourceModuleImports.ts","features/remoteExecution/RemoteExecutionTypes.ts","../../src/schedulers.ts","../../../src/validator/validator.ts","../../../src/errors/validityErrors.ts","commons/notificationBadge/NotificationBadgeTypes.ts","commons/utils/Hooks.ts","commons/utils/LocalStorageHelper.ts","commons/ControlButton.tsx","commons/controlBar/ControlBarRunButton.tsx","commons/controlBar/ControlBarAutorunButtons.tsx","commons/controlBar/ControlBarChapterSelect.tsx","commons/controlBar/ControlBarClearButton.tsx","commons/controlBar/ControlBarEvalButton.tsx","commons/controlBar/ControlBarExecutionTime.tsx","commons/collabEditing/CollabEditingHelper.ts","commons/controlBar/ControlBarSessionButton.tsx","commons/controlBar/ControlBarShareButton.tsx","commons/controlBar/ControlBarStepLimit.tsx","commons/sourceRecorder/SourceRecorderEditor.tsx","commons/editor/EditorHotkeys.ts","commons/editor/UseShareAce.tsx","features/fullJS/fullJSHighlight.js","commons/documentation/Documentation.ts","commons/utils/AceHelper.ts","commons/WorkspaceSettingsContext.tsx","commons/editor/Editor.tsx","commons/editor/EditorContainer.tsx","commons/Markdown.tsx","commons/controlBar/ControlBar.tsx","commons/mcqChooser/McqChooser.tsx","commons/repl/ReplInput.tsx","commons/repl/Repl.tsx","commons/mobileWorkspace/DraggableRepl.tsx","commons/mobileWorkspace/MobileKeyboard.tsx","commons/sideContent/SideContentHelper.ts","commons/sideContent/GenericSideContent.tsx","commons/utils/MemoizeHelper.ts","commons/mobileWorkspace/mobileSideContent/MobileControlBar.tsx","commons/mobileWorkspace/mobileSideContent/MobileSideContent.tsx","commons/mobileWorkspace/MobileWorkspace.tsx","commons/utils/IntroductionHelper.ts","commons/utils/ParamParseHelper.ts","commons/sideBar/SideBar.tsx","commons/sideContent/SideContent.tsx","commons/workspace/Workspace.tsx","features/eventLogging/index.ts","pages/playground/Playground.tsx","commons/utils/QueryHelper.ts","pages/playground/PlaygroundContainer.tsx","commons/profile/ProfileCard.tsx","commons/profile/Profile.tsx","commons/dropdown/DropdownAbout.tsx","commons/dropdown/DropdownCourses.tsx","pages/academy/adminPanel/subcomponents/CourseConfigPanel.tsx","commons/dropdown/DropdownCreateCourse.tsx","commons/dropdown/DropdownHelp.tsx","commons/dropdown/DropdownSettings.tsx","commons/dropdown/Dropdown.tsx","commons/notificationBadge/NotificationBadgeHelper.ts","commons/notificationBadge/NotificationBadge.tsx","commons/notificationBadge/NotificationBadgeContainer.ts","commons/navigationBar/subcomponents/AcademyNavigationBar.tsx","commons/navigationBar/subcomponents/NavigationBarMobileSideMenu.tsx","commons/navigationBar/NavigationBar.tsx","commons/application/Application.tsx","commons/application/ApplicationContainer.ts","commons/utils/RegisterServiceWorker.ts","pages/fileSystem/FileSystemProvider.tsx","index.tsx","features/eventLogging/client.ts","commons/utils/HistoryHelper.ts","features/github/GitHubUtils.tsx","features/playground/PlaygroundTypes.ts","commons/utils/JsSlangHelper.ts","../../src/index.ts","features/achievement/AchievementActions.ts","features/dashboard/DashboardActions.ts","features/groundControl/GroundControlActions.ts","features/persistence/PersistenceActions.ts","features/remoteExecution/RemoteExecutionActions.ts","features/sourceRecorder/sourcecast/SourcecastActions.ts","features/sourceRecorder/SourceRecorderActions.ts","features/sourceRecorder/sourcereel/SourcereelActions.ts","commons/utils/ActionsHelper.ts","commons/application/actions/SessionActions.ts","features/playground/PlaygroundActions.ts","commons/dialogs/ConfirmDialog.tsx","commons/dialogs/PromptDialog.tsx","commons/utils/DialogHelper.tsx","features/sourceRecorder/sourcecast/SourcecastTypes.ts","features/academy/AcademyReducer.ts","features/achievement/AchievementReducer.ts","features/dashboard/DashboardReducer.ts","features/playground/PlaygroundReducer.ts","features/sourceRecorder/sourcecast/SourcecastReducer.ts","features/sourceRecorder/sourcereel/SourcereelReducer.ts","commons/workspace/WorkspaceReducer.ts","commons/application/ApplicationReducer.ts","commons/application/reducers/SessionsReducer.ts","commons/application/reducers/RootReducer.ts","commons/mocks/AssessmentMocks.ts","commons/mocks/UserMocks.ts","commons/mocks/GradingMocks.ts","commons/mocks/BackendMocks.ts","commons/achievement/utils/DateHelper.ts","commons/achievement/utils/AchievementInferencer.ts","features/achievement/AchievementConstants.ts","commons/achievement/AchievementManualEditor.tsx","commons/achievement/utils/EventHandler.ts","commons/achievement/utils/AchievementBackender.ts","commons/sagas/RequestsSaga.ts","commons/utils/CastBackend.ts","commons/sagas/SafeEffects.ts","commons/sagas/AchievementSaga.ts","commons/utils/AuthHelper.ts","commons/sagas/BackendSaga.ts","commons/gitHubOverlay/GitHubFileNodeData.tsx","commons/gitHubOverlay/GitHubTreeNodeCreator.tsx","commons/gitHubOverlay/FileExplorerDialog.tsx","commons/gitHubOverlay/RepositoryDialog.tsx","commons/sagas/GitHubPersistenceSaga.ts","features/github/GitHubTypes.ts","commons/sagas/LoginSaga.ts","commons/sagas/PersistenceSaga.tsx","commons/sagas/PlaygroundSaga.ts","commons/sagas/RemoteExecutionSaga.ts","commons/sagas/WorkspaceSaga.ts","commons/sagas/MainSaga.ts","pages/localStorage.ts","pages/createStore.ts"],"names":["LOG_OUT","CHANGE_DATE_ASSESSMENT","DELETE_ASSESSMENT","PUBLISH_ASSESSMENT","UPLOAD_ASSESSMENT","PERSISTENCE_OPEN_PICKER","PERSISTENCE_SAVE_FILE_AS","PERSISTENCE_SAVE_FILE","PERSISTENCE_INITIALISE","types_1","FETCH_GROUP_GRADING_SUMMARY","UPDATE_GROUP_GRADING_SUMMARY","SAVE_CANVAS","CREATE_COURSE","ADD_NEW_USERS_TO_COURSE","FETCH_AUTH","FETCH_USER_AND_COURSE","FETCH_COURSE_CONFIG","FETCH_ASSESSMENT","FETCH_ASSESSMENT_ADMIN","FETCH_ASSESSMENT_OVERVIEWS","FETCH_ALL_USER_XP","FETCH_TOTAL_XP","FETCH_TOTAL_XP_ADMIN","FETCH_GRADING","FETCH_GRADING_OVERVIEWS","LOGIN","LOGOUT_GOOGLE","LOGIN_GITHUB","LOGOUT_GITHUB","SET_TOKENS","SET_USER","SET_COURSE_CONFIGURATION","SET_COURSE_REGISTRATION","SET_ASSESSMENT_CONFIGURATIONS","SET_ADMIN_PANEL_COURSE_REGISTRATIONS","SET_GOOGLE_USER","SET_GITHUB_ASSESSMENT","SET_GITHUB_OCTOKIT_OBJECT","SET_GITHUB_ACCESS_TOKEN","SUBMIT_ANSWER","SUBMIT_ASSESSMENT","SUBMIT_GRADING","SUBMIT_GRADING_AND_CONTINUE","REAUTOGRADE_SUBMISSION","REAUTOGRADE_ANSWER","REMOVE_GITHUB_OCTOKIT_OBJECT_AND_ACCESS_TOKEN","UNSUBMIT_SUBMISSION","UPDATE_ASSESSMENT_OVERVIEWS","UPDATE_TOTAL_XP","UPDATE_ALL_USER_XP","UPDATE_ASSESSMENT","UPDATE_GRADING_OVERVIEWS","UPDATE_GRADING","FETCH_NOTIFICATIONS","ACKNOWLEDGE_NOTIFICATIONS","UPDATE_NOTIFICATIONS","UPDATE_LATEST_VIEWED_COURSE","UPDATE_COURSE_CONFIG","FETCH_ASSESSMENT_CONFIGS","UPDATE_ASSESSMENT_CONFIGS","DELETE_ASSESSMENT_CONFIG","FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS","UPDATE_USER_ROLE","UPDATE_COURSE_RESEARCH_AGREEMENT","DELETE_USER_COURSE_REGISTRATION","i","handleConsoleLog","workspaceLocation","logString","action","HANDLE_CONSOLE_LOG","evalInterpreterSuccess","value","EVAL_INTERPRETER_SUCCESS","type","evalTestcaseSuccess","index","EVAL_TESTCASE_SUCCESS","evalTestcaseFailure","EVAL_TESTCASE_FAILURE","evalInterpreterError","errors","EVAL_INTERPRETER_ERROR","beginInterruptExecution","BEGIN_INTERRUPT_EXECUTION","endInterruptExecution","END_INTERRUPT_EXECUTION","beginDebuggerPause","BEGIN_DEBUG_PAUSE","endDebuggerPause","END_DEBUG_PAUSE","debuggerResume","DEBUG_RESUME","debuggerReset","DEBUG_RESET","notification","Toaster","create","position","Position","TOP","showSuccessMessage","message","timeout","key","show","intent","Intent","SUCCESS","showWarningMessage","WARNING","showDangerMessage","DANGER","showMessage","props","dismiss","SET_EDITOR_SESSION_ID","SET_SHAREDB_CONNECTED","ADD_HTML_CONSOLE_ERROR","BEGIN_CLEAR_CONTEXT","BROWSE_REPL_HISTORY_DOWN","BROWSE_REPL_HISTORY_UP","CHANGE_EXEC_TIME","CHANGE_EXTERNAL_LIBRARY","CHANGE_SIDE_CONTENT_HEIGHT","CHANGE_STEP_LIMIT","CHAPTER_SELECT","CLEAR_REPL_INPUT","CLEAR_REPL_OUTPUT","CLEAR_REPL_OUTPUT_LAST","END_CLEAR_CONTEXT","EVAL_EDITOR","EVAL_REPL","PROMPT_AUTOCOMPLETE","EVAL_SILENT","EVAL_TESTCASE","EVAL_EDITOR_AND_TESTCASES","MOVE_CURSOR","NAV_DECLARATION","PLAYGROUND_EXTERNAL_SELECT","RESET_TESTCASE","RESET_WORKSPACE","SEND_REPL_INPUT_TO_OUTPUT","TOGGLE_EDITOR_AUTORUN","TOGGLE_USING_SUBST","UPDATE_CURRENT_ASSESSMENT_ID","UPDATE_CURRENT_SUBMISSION_ID","UPDATE_ACTIVE_EDITOR_TAB","UPDATE_EDITOR_VALUE","UPDATE_EDITOR_BREAKPOINTS","UPDATE_HAS_UNSAVED_CHANGES","UPDATE_REPL_VALUE","UPDATE_WORKSPACE","UPDATE_SUBLANGUAGE","CHANGE_SUBLANGUAGE","setEditorSessionId","editorSessionId","setSharedbConnected","connected","ApplicationEnvironment","Role","variantDisplay","Map","Variant","DEFAULT","styliseSublanguage","chapter","variant","has","get","sourceLanguages","Chapter","CLANG","map","sublang","displayName","defaultLanguages","filter","isSourceLanguage","includes","defaultAcademy","gameCanvas","undefined","defaultApplication","environment","Production","defaultDashboard","gradingSummary","cols","rows","defaultAchievement","achievements","goals","users","assessmentOverviews","defaultPlayground","githubSaveInfo","repoName","filePath","defaultEditorValue","createDefaultWorkspace","autogradingResults","context","createContext","Constants","defaultSourceVariant","activeEditorTabIndex","editorTabs","prependValue","postpendValue","highlightedLines","breakpoints","isEditorReadonly","editorTestcases","externalLibrary","ExternalLibraryName","NONE","execTime","output","replHistory","browseIndex","records","originalValue","replValue","sharedbConnected","stepLimit","globals","isEditorAutorun","isRunning","isDebugging","enableDebugging","debuggerContext","defaultWorkspaceManager","assessment","currentAssessment","currentQuestion","hasUnsavedChanges","grading","currentSubmission","playground","usingSubst","sourcecast","audioUrl","codeDeltasToApply","currentPlayerTime","description","inputToApply","playbackData","init","editorValue","inputs","playbackDuration","playbackStatus","PlaybackStatus","paused","sourcecastIndex","title","uid","sourcereel","recordingStatus","RecordingStatus","notStarted","timeElapsedBeforePause","timeResumed","sicp","githubAssessment","defaultSession","courses","group","gameState","completed_quests","collectibles","xp","allUserXp","story","playStory","assessments","agreedToResearch","sessionId","Date","now","githubOctokitObject","octokit","gradingOverviews","gradings","notifications","defaultState","academy","achievement","application","dashboard","session","workspaces","isTrue","defaultTo","toUpperCase","sourceAcademyVersion","process","REACT_APP_VERSION","sourceAcademyEnvironment","REACT_APP_ENVIRONMENT","sourceAcademyDeploymentName","REACT_APP_DEPLOYMENT_NAME","showResearchPrompt","REACT_APP_SHOW_RESEARCH_PROMPT","backendUrl","REACT_APP_BACKEND_URL","cadetLoggerUrl","REACT_APP_CADET_LOGGER","cadetLoggerInterval","parseInt","REACT_APP_CADET_LOGGER_INTERVAL","useBackend","REACT_APP_USE_BACKEND","defaultSourceChapter","urlShortenerBase","REACT_APP_URL_SHORTENER_BASE","urlShortenerSignature","REACT_APP_URL_SHORTENER_SIGNATURE","moduleBackendUrl","REACT_APP_MODULE_BACKEND_URL","sharedbBackendUrl","REACT_APP_SHAREDB_BACKEND_URL","enableGitHubAssessments","REACT_APP_ENABLE_GITHUB_ASSESSMENTS","sentryDsn","REACT_APP_SENTRY_DSN","googleClientId","REACT_APP_GOOGLE_CLIENT_ID","googleApiKey","REACT_APP_GOOGLE_API_KEY","googleAppId","REACT_APP_GOOGLE_APP_ID","githubClientId","REACT_APP_GITHUB_CLIENT_ID","githubOAuthProxyUrl","REACT_APP_GITHUB_OAUTH_PROXY_URL","sicpBackendUrl","REACT_APP_SICPJS_BACKEND_URL","caFulfillmentLevel","REACT_APP_CA_FULFILLMENT_LEVEL","authProviders","id","name","endpoint","set","isDefault","disablePeriods","startStr","endStr","reason","start","moment","end","isBefore","isAfter","push","Links","defaultQuestionId","maxBrowseIndex","mobileBreakpoint","playgroundOnly","workspaceSettingsLocalStorageKey","saveCanvas","canvas","createCourse","courseConfig","addNewUsersToCourse","provider","logOut","generateOctokitInstance","authToken","Octokit","auth","userAgent","baseUrl","log","debug","info","warn","console","error","request","agent","fetch","Visible","_x","_y","_width","_height","_isDrawn","ref","React","createRef","x","this","y","width","height","isDrawn","reset","CompactConfig","ShapeDefaultProps","preventDefault","Config","defaultOptions","maxWidth","Number","MAX_VALUE","fontFamily","FontFamily","toString","fontSize","FontSize","fontStyle","FontStyle","fontVariant","FontVariant","isStringIdentifiable","Text","constructor","data","options","frame","super","_hoveredWidth","partialStr","fullStr","updatePosition","onMouseEnter","currentTarget","EnvVisualizer","getPrintableMode","setHoveredCursor","current","moveToTop","getLayer","draw","onMouseLeave","setUnhoveredCursor","hide","JSON","stringify","String","widthOf","s","getTextWidth","truncatedText","Ellipsis","substring","Math","max","TextMinWidth","hoveredWidth","fill","SA_BLUE","SA_WHITE","Layout","text","visible","listening","opacity","GenericArrow","source","points","target","_path","selected","unhovered_opacity","ArrowUnhoveredOpacity","hovered_opacity","path","to","abs","isSelected","calculateSteps","getStrokeWidth","ArrowStrokeWidth","e","setHoveredStyle","strokeWidth","ArrowHoveredStrokeWidth","onClick","Frame","setUnhoveredStyle","reduce","step","length","splice","n","xa","ya","xb","yb","xc","yc","slice","dx1","dx2","dy1","dy2","r1","sqrt","pow","r2","br","min","ArrowCornerRadius","stroke","hitStrokeWidth","ArrowHitStrokeWidth","strokeEnabled","pointerWidth","ArrowHeadSize","pointerLength","ArrowFromFrame","steps","FramePaddingX","ArrowLane","getHorizontalLaneAfterSource","getPosition","FrameArrowStrokeWidth","FrameArrowHoveredStrokeWidth","ArrayEmptyUnit","parent","ArrowFromFn","FnRadius","getVerticalLaneBeforeTarget","getHorizontalLaneBeforeTarget","Value","referencedBy","addReference","newReference","FnValue","centerX","tooltipWidth","exportTooltipWidth","radius","innerRadius","FnInnerRadius","fnName","paramsText","bodyText","exportBodyText","tooltip","exportTooltip","_arrow","enclosingEnvNode","labelRef","container","getStage","style","cursor","memoizeValue","mainReference","Binding","FrameMarginX","isLastUnit","DataUnitWidth","DataUnitHeight","environmentTree","getTreeNode","getNonEmptyEnv","functionName","getParamsText","getBodyText","split","join","arrow","find","envTreeNode","Fragment","TextPaddingX","TextPaddingY","FnTooltipOpacity","padding","GlobalFnValue","globalEnvNode","ArrowFromArrayUnit","from","emergeFromTopOrBottom","ArrayValue","level","potentialVerticalLaneX","getVerticalLaneAfterSource","potentialHorizontalLaneY","newX","yDiff","newY","sign","units","floor","RoundedRect","cornerRadius","forwardRef","sceneFunc","shape","upperLeft","lowerLeft","upperRight","lowerRight","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fillStrokeShape","ArrayNullUnit","arrayUnit","DataHitStrokeWidth","PrimitiveValue","keyString","textWidth","isNull","ArrayUnit","idx","isFirstUnit","isMainReference","forEach","u","createValue","DataCornerRadius","addArrow","fillEnabled","emptyUnit","_arrows","parentArray","arrayLevelY","DataMinWidth","unit","arrows","setLevel","arrLevel","pos","ArrowFromText","trackObjects","frameNames","xCoord","yCoord","totalHeight","totalWidth","totalHoveredWidth","bindings","parentFrame","offsetY","values","binding","update","maxBindingWidth","Object","entries","head","bindingWidth","ConstantColon","isUnassigned","UnassignedData","isPrimitiveData","prevBinding","exportWidth","descriptors","getOwnPropertyDescriptors","dummyEntries","entry","isDummyKey","actualEnv","GlobalEnvId","currBinding","writable","findIndex","v","isDummyBinding","FramePaddingY","nextX","cumWidths","maxX","heights","getArrow","FrameMinWidth","maxXCoord","CanvasPaddingX","static","l","exists","arrowToParentFrame","FrameCornerRadius","valueOf","CanvasPaddingY","Level","parentLevel","ArrayLevel","_minX","Infinity","_count","_rowCount","arrays","getNumLanes","addArray","array","tail","visitedTail","DataUnitPaddingX","positions","sort","a","b","arrayMargin","DataUnitPaddingY","curY","setY","minX","count","FrameLevel","lastXcoord","frames","addFrame","node","coordinate","maxXcoord","maxYcoord","FrameMarginY","reverse","Grid","envTreeNodes","frameLevels","arrayLevels","levels","widths","destroy","destroyChildren","cumHeights","nodes","result","Array","grid","currentNode","updatedParent","parentNode","children","flatMap","getNextChildren","diff","oldParentCoord","every","d","m","r","p","belongsToFrame","res","arrayLevel","frameLevel","coord","isVertical","objects","indexOf","lane","ArrowLaneInterval","ArrowNumLanes","verticalLanes","horizontalLanes","arrayLevelLanes","currentX","lastXCoordBelow","currentY","lastYCoordBelow","TextMargin","UnassignedValue","Symbol","isConstant","keyYOffset","VariableColon","isEnvironment","object","isEnvTreeNode","isEnvTree","isEmptyEnvironment","env","keys","isArray","isFunction","call","isFn","isGlobalFn","isUndefined","isString","isNumber","isBoolean","reference","isCompactMainReference","test","font","document","createElement","getContext","longestLine","accText","currValue","measureText","metrics","params","fnString","trim","body","hoveredAttrs","Group","setAttrs","attrs","HoveredColor","unhoveredAttrs","copyOwnPropertyDescriptors","destination","root","item","defineProperties","deepCopyTree","clone","cloneDeep","c","nextChildren","gc","x1","y1","x2","y2","memoizeCompactValue","compactFrame","createCompactValue","leftSiblingFrame","compactLevel","prevFrame","newFrame","maxHeight","lastFrame","LevelPaddingX","visibleWidth","visibleHeight","stageRef","window","innerWidth","stageWidth","innerHeight","stageHeight","currentLight","currentDark","currentCompactLight","currentCompactDark","redraw","invisiblePaddingVertical","invisiblePaddingHorizontal","scrollContainerRef","envTree","clear","compactValues","removeProgramEnv","removeUnreferencedGlobalFns","initializeGrid","getCompactLayout","lastLevel","compactLevels","compactHeight","CanvasMinHeight","compactWidth","CanvasMinWidth","nonCompactHeight","nonCompactWidth","programEnvNode","resetChildren","referencedGlobalFns","Set","visitedData","findGlobalFnReferences","envNode","add","findGlobalFnReferencesInData","GlobalFrameDefaultText","currLevel","frontier","prevLevel","CompactLevel","nextFrontier","frontiers","existingValue","newValue","CompactUnassignedValue","CompactPrimitiveValue","CompactArrayValue","CompactFnValue","CompactGlobalFnValue","MaxExportWidth","MaxExportHeight","ceil","dx","dy","transform","prevLayout","layout","className","onScroll","handleScrollPosition","scrollLeft","scrollTop","overflow","margin","backgroundColor","PRINT_BACKGROUND","right","display","alignSelf","vertical","large","outlined","borderColor","onMouseUp","toggleCompactLayout","checked","label","marginBottom","color","togglePrintableMode","saveButtonText","exportImage","scrollTo","left","top","horizontalImages","verticalImages","download_next","href","toDataURL","mimeType","download","appendChild","click","removeChild","setTimeout","download_images","printableMode","compactLayout","setVis","runtime","Error","setContext","updateDimensions","icon","getElementById","classList","is_pair","array_test","xs","is_null","is_list","toText","full","dataString","ArrowDrawable","PureComponent","render","BackwardArrowDrawable","bottomY","leftX","topY","TreeNode","AlreadyParsedTreeNode","actualNode","DataTreeNode","DrawableTreeNode","_drawable","drawableX","drawableY","drawable","NullDrawable","ArrayDrawable","createChildText","nodeValue","isEmptyList","textValue","textToDisplay","DataVisualizer","displaySpecialContent","align","child","FunctionDrawable","FunctionTreeNode","createDrawable","parentX","parentY","ArrayTreeNode","arrayProps","arrayDrawable","Tree","rootNode","_rootNode","getNodeById","tree","nodeCount","constructNode","structure","alreadyDrawnNode","visitedStructures","treeNodes","constructTree","func","constructFunction","constructData","TreeDrawer","drawables","nodeWidths","minY","textConfig","konvaText","Konva","drawNode","getNodeWidth","getNodeHeight","offsetX","drawnNode","arrowProps","childNode","childY","childNodeWidth","childrenWidths","childrenWidth","nodeWidth","nodeLabel","nodeToLabelMap","setSteps","structures","_instance","addStep","dataNode","createDrawing","treeDrawer","fromSourceStructure","leftMargin","topMargin","layer","empty","consoleOverloads","bufferCallback","args","DisplayBufferService","buffer","dump","bufferCopy","resetBuffer","handleWorkspaceChange","attachConsole","defaultConsole","method","overload","newWorkspace","hasWorkspace","Boolean","AssessmentStatuses","GradingStatuses","TestcaseTypes","QuestionTypes","ADD_EVENT","BULK_UPDATE_ACHIEVEMENTS","BULK_UPDATE_GOALS","HANDLE_EVENT","GET_ACHIEVEMENTS","GET_GOALS","GET_OWN_GOALS","GET_USER_ASSESSMENT_OVERVIEWS","GET_USERS","REMOVE_ACHIEVEMENT","REMOVE_GOAL","SAVE_ACHIEVEMENTS","SAVE_GOALS","SAVE_USER_ASSESSMENT_OVERVIEWS","SAVE_USERS","UPDATE_GOAL_PROGRESS","UPDATE_OWN_GOAL_PROGRESS","AchievementStatus","FilterStatus","defaultGoalProgress","targetCount","completed","GoalType","EventType","exports","unaryOp","LHS","RHS","obj","NOTIFY_PROGRAM_EVALUATED","SideContentType","isImportDeclaration","HIGHLIGHT_LINE","SAVE_SOURCECAST_DATA","SET_CURRENT_PLAYER_TIME","SET_CODE_DELTAS_TO_APPLY","SET_INPUT_TO_APPLY","SET_SOURCECAST_DATA","SET_SOURCECAST_PLAYBACK_DURATION","SET_SOURCECAST_PLAYBACK_STATUS","KeyboardCommand","browseReplHistoryDown","browseReplHistoryUp","changeExternalLibrary","newExternal","changeExecTime","changeSideContentHeight","changeStepLimit","chapterSelect","externalLibrarySelect","externalLibraryName","initialise","toggleEditorAutorun","beginClearContext","library","shouldInitLibrary","clearReplInput","clearReplOutput","clearReplOutputLast","endClearContext","evalEditor","evalRepl","evalTestcase","testcaseId","runAllTestcases","updateActiveEditorTab","activeEditorTabOptions","updateEditorValue","newEditorValue","setEditorBreakpoint","highlightEditorLine","updateReplValue","newReplValue","sendReplInputToOutput","newOutput","resetTestcase","navigateToDeclaration","cursorPosition","moveCursor","resetWorkspace","workspaceOptions","updateWorkspace","setIsEditorReadonly","SET_IS_EDITOR_READONLY","updateCurrentAssessmentId","assessmentId","questionId","updateCurrentSubmissionId","submissionId","updateHasUnsavedChanges","changeSublanguage","updateSublanguage","promptAutocomplete","row","column","callback","notifyProgramEvaluated","lastDebuggerResult","code","toggleUsingSubst","addHtmlConsoleError","errorMsg","DELETE_SOURCECAST_ENTRY","RECORD_INIT","RECORD_INPUT","RESET_INPUTS","TIMER_PAUSE","TIMER_RESET","TIMER_RESUME","TIMER_START","TIMER_STOP","ATNDeserializer_1","Parser_1","ParserRuleContext_1","ParserATNSimulator_1","StartContext","ClangParser","libEntries","SOUNDS","externalLibraries","indent","program","REMOTE_EXEC_FETCH_DEVICES","REMOTE_EXEC_UPDATE_DEVICES","REMOTE_EXEC_UPDATE_SESSION","REMOTE_EXEC_CONNECT","REMOTE_EXEC_DISCONNECT","REMOTE_EXEC_RUN","REMOTE_EXEC_REPL_INPUT","deviceTypes","internalFunctions","languageChapter","deviceLibraryName","EV3","deviceTypesById","astCreator_1","walkers_1","ancestors","NotificationTypes","useLocalStorageState","defaultValue","setValue","useState","localStorageValue","localStorage","getItem","parse","readLocalStorage","useEffect","setItem","setLocalStorage","useTypedSelector","useSelector","useResponsive","isMobileBreakpoint","useMediaQuery","fullWidth","iconOnRight","minimal","ControlButton","isDisabled","buttonOptions","iconElement","iconColor","disabled","rightIcon","ControlBarRunButton","content","placement","IconNames","PLAY","handleEditorEval","ControlBarAutorunButtons","showRunButton","showAutoRunIndicator","AUTOMATIC_UPDATES","showDebuggerPause","pauseDisabled","STOP","handleDebuggerPause","showDebuggerResume","CHEVRON_RIGHT","handleDebuggerResume","showDebuggerReset","handleDebuggerReset","autorunDisabled","onChange","handleToggleEditorAutorun","chapterListRenderer","itemsParentRef","renderItem","defaultChoices","ulRef","chapterRenderer","lang","handleClick","ChapterSelectComponent","Select","ofType","ControlBarChapterSelect","sourceChapter","sourceVariant","handleChapterSelect","items","onItemSelect","itemRenderer","itemListRenderer","filterable","Classes","MINIMAL","DOUBLE_CARET_VERTICAL","ControlBarClearButton","handleReplOutputClear","REMOVE","ControlBarEvalButton","handleReplEval","CODE","ControlBarExecutionTime","leftIcon","TIME","onValueChange","handleChangeExecTime","protocolMap","getSessionUrl","ws","url","URL","protocol","async","checkSessionIdExists","resp","ok","handleError","ControlBarSessionButtons","inviteInputElem","state","joinElemValue","handleChange","bind","selectInviteInputText","inviteButtonPopoverContent","readOnly","DUPLICATE","inviteButton","popoverClassName","inheritDarkTheme","GRAPH","initial","headers","createNewSession","then","handleSetEditorSessionId","joinButtonPopoverContent","onSubmit","event","POPOVER_DISMISS","KEY_ENTER","joinButton","LOG_IN","leaveButton","FEED","setState","SOCIAL_MEDIA","Colors","GREEN3","RED3","focus","select","ControlBarShareButton","shareInputElem","selectShareInputText","toggleButton","keyword","isLoading","shareButtonPopoverContent","queryString","isSicp","shortURL","size","SpinnerSize","SMALL","placeholder","SHARE","handleShortenURL","componentDidUpdate","prevProps","handleGenerateLz","handleUpdateShortURL","ControlBarStepLimit","VERTICAL_BAR_CHART_ASC","handleChangeStepLimit","SourcecastEditor","ShareAce","AceEditor","onChangeMethod","onCursorChange","onSelectionChange","getMarkers","markerProps","lineNum","startRow","startCol","endRow","endCol","handleGutterClick","domEvent","editor","isFocused","clientX","getBoundingClientRect","getDocumentPosition","getLine","getBreakpoints","clearBreakpoint","setBreakpoint","stop","handleEditorUpdateBreakpoints","$breakpoints","handleAnnotationChange","annotations","getAnnotations","anno","setAnnotations","handleEvaluate","isRecording","handleRecordInput","time","getTimerDuration","run","selection","clearSelection","moveCursorToPosition","renderer","showCursor","scrollCursorIntoView","handleDeclarationNavigate","getCursorPosition","newCode","delta","handleUpdateHasUnsavedChanges","handleEditorValueChange","getSession","editorCursorPositionToBeApplied","getCursor","range","getRange","isBackwards","isEqual","newCursorPosition","getDocument","applyDeltas","applyDelta","setRange","setDraggableReplPosition","componentDidMount","on","onFocus","onBlur","componentWillUnmount","WS","close","handlers","commands","bindKey","win","mac","exec","editorProps","$blockScrolling","markers","highlightActiveLine","mode","theme","setOptions","goGreen","keyBindings","evaluate","navigate","refactor","highlightScope","typeInferenceDisplay","useShareAce","inProps","outProps","reactAceRef","propsRef","sharedbAce","WsUrl","pluginWsUrl","namespace","handleSetSharedbConnected","Sentry","interval","setInterval","clearInterval","reconnect","addEventListener","connection","connections","unlisten","HighlightRulesSelector_native","external","_SourceHighlightRules","acequire","module","oop","DocCommentHighlightRules","TextHighlightRules","identifierRegex","SourceHighlightRules","keywordMapper","createKeywordMapper","escapedRegex","$rules","no_regex","getStartRule","comments","token","regex","next","property","defaultToken","regex_character_class","function_arguments","qqstring","consumeLineEnd","qstring","noES6","unshift","onMatch","val","stack","nextState","shift","jsx","JSX","embedRules","getEndRule","normalizeRules","tagRegex","replace","jsxTag","offset","charAt","substr","jsxJsRule","include","jsxAttributes","currentState","stateName","getTagRule","caseInsensitive","inherits","ace","externalLibrariesDocumentation","shortenCaption","MAX_CAPTION_LENGTH","mapExternalLibraryName","SourceDocumentation","ext_lib","caption","meta","docHTML","lib","names","deviceType","builtinDocumentation","builtins","chapterDoc","docs","Documentation","selectMode","define","modules","getModeString","Mode","ModeSelector","EditorBinding","defaultWorkspaceSettings","editorBinding","WorkspaceSettingsContext","EventT","EditorBase","handleEditorUpdateBreakpointsRef","handlePromptAutocompleteRef","handlePromptAutocomplete","navigator","makeHandleAnnotationChange","setCompleters","getCompletions","prefix","keyHandlers","aceEditorProps","lineNums","enableBasicAutocompletion","enableLiveAutocompletion","keyboardHandler","hooks","hook","hooksOnChange","_","eventT","propFn","currFn","Editor","workspaceSettings","convertEditorTabStateToProps","editorTab","pick","EditorContainer","createEditorTab","editorVariant","editorTabStateProps","createSourcecastEditorTab","createNormalEditorTab","Markdown","converter","Converter","tables","simplifiedAutoLink","strikethrough","tasklists","openLinksInNewWindow","classNames","RUNNING_TEXT","dangerouslySetInnerHTML","__html","makeHtml","ControlBar","editorControl","BUTTON_GROUP","editorButtons","flowControl","flowButtons","editingWorkspaceControl","editingWorkspaceButtons","McqChooser","onButtonClickFactory","mcq","answer","handleMCQSubmit","solution","choices","hint","hintElement","getButtonIntent","currentOption","chosenOption","active","correctOptionSelected","choice","ReplInput","replInput","replInputBottom","execBrowseHistoryDown","handleBrowseHistoryDown","execBrowseHistoryUp","handleBrowseHistoryUp","disableScrolling","clientWidth","scrollIntoView","handleReplValueChange","minLines","maxLines","showGutter","showPrintMargin","DARK","replButtons","minWidth","Output","consoleLogs","parseError","Repl","cards","hidden","inputHidden","CARD","ELEVATION_0","DraggableRepl","axis","handle","bounds","bottom","onDrag","replProps","MobileKeyboard","isKeyboardShown","setIsKeyoardShown","buttonContent","setButtonContent","keyboardPosition","setKeyboardPosition","selectedIndex","setSelectedIndex","handlePreventDefault","keyboardProps","onKeyPress","button","targetKeyboardInput","navigateLeft","navigateRight","remove","insert","baseClass","default","buttonTheme","class","buttons","preventMouseDownDefault","disableCaretPositioning","setProperty","onMouseDown","keyboardClass","getElementsByClassName","currentlyActiveTabsLabel","getModuleTabs","rawModuleContexts","moduleContexts","tabs","tab","ReactDOM","generateIconId","tabId","GenericSideContent","dynamicTabs","setDynamicTabs","beforeDynamicTabs","concat","afterDynamicTabs","allActiveTabs","spawnedTabs","toSpawn","getDynamicTabs","changeTabsCallback","useCallback","newTabId","prevTabId","resetAlert","iconId","renderFunction","propsAreEqual","nextProps","MobileControlBar","controlBarMenu","autoFocus","COG","MobileSideContent","memo","selectedTabId","renderActiveTabPanelOnly","mobileControlBarProps","otherProps","isIOS","platform","renderedPanels","tabBody","renderPanel","tabTitle","onOpening","iconName","iconSize","renderTab","MobileWorkspace","isAndroid","isPortrait","orientation","draggableReplPosition","isDraggableReplDisabled","setIsDraggableReplDisabled","FocusStyleManager","onlyShowFocusOnTabs","mobileSideContentProps","documentElement","querySelector","setAttribute","handleHideRepl","setTargetKeyboardInput","clearTargetKeyboardInput","enableMobileKeyboardForEditor","handleShowRepl","sideBarTabs","sideBarProps","mobileEditorTab","useMemo","EDIT","mobileEditor","mobileRunTab","mobileEditorRun","inAssessmentWorkspace","editorContainerProps","mcqProps","createWorkspaceInput","substVisualizer","autograder","testcases","files","handleTabChangeForRepl","enableMobileKeyboardForRepl","HOTKEYS_INTRODUCTION","aceHotkeys","sourceHotkeys","generateSourceIntroduction","assessmentTypeLink","assessmentType","toLowerCase","stringParamToInt","str","num","isInteger","SideBar","isExpanded","expandSideBar","collapseSideBar","selectedTabIndex","setSelectedTabIndex","tabIndex","SideContent","editorWidth","sideContentHeight","tabProps","htmlDisplay","tabPanel","panel","rightResizeOnly","bottomResizeOnly","noResize","Workspace","sideBarResizable","contentContainerDiv","editorDividerDiv","leftParentResizable","maxDividerHeight","sideDividerDiv","contentContainerWidth","setWidth","setHeight","resizeObserver","ResizeObserver","observer","contentRect","htmlElement","observe","disconnect","useDimensions","lastExpandedSideBarWidth","setLastExpandedSideBarWidth","isSideBarExpanded","setIsSideBarExpanded","sideContentIsResizeable","clientHeight","toggleSideBarDividerDisplay","direction","elementRef","sideBar","updateSize","toggleEditorDividerDisplay","_a","_b","editorWidthPercentage","toggleDividerDisplay","resizableHeight","rightParentHeight","sideContent","sideContentProps","resizableSideContent","enable","onResize","onResizeStop","handleSideContentHeightChange","controlBarProps","isSideBarRendered","sideBarWidth","defaultSize","sideBarResizableProps","as","questionIdLookup","input","record","Promise","resolve","reject","getDB","db","transaction","STORE_NAME","oncomplete","onerror","objectStore","initSession","initialState","uuid","fn","memoize","indexedDB","open","onsuccess","evt","onupgradeneeded","createObjectStore","keyPath","autoIncrement","keyMap","handleHash","hash","qs","query","parsed","parseQuery","chap","programLz","lz","prgrm","decompressFromEncodedURIComponent","language","mobileOnlyTabIds","desktopOnlyTabIds","introduction","Playground","isSicpEditor","dispatch","useDispatch","deviceSecret","setDeviceSecret","location","useLocation","history","useHistory","shouldAddDevice","URLSearchParams","search","pathname","setLastEdit","isGreen","setIsGreen","selectedTab","setSelectedTab","remoteExecution","hasBreakpoints","setHasBreakpoints","setSessionId","playgroundSourceChapter","usingRemoteExecution","remoteExecutionSession","initialEditorValueHash","courseSourceChapter","courseSourceVariant","onEditorValueChange","onChangeTabs","handleUsingSubst","pushLog","newInput","autorunButtons","handleInterruptEval","chapterSelectHandler","playgroundSourceVariant","clearButton","evalButton","executionTime","stepperStepLimit","limit","sessionButtons","shareButton","generateLzString","shortenURL","updateShortURL","playgroundIntroductionTab","HOME","mobileTabs","onLoadMethod","addFold","Range","prependLength","off","onCursorChangeMethod","onSelectionChangeMethod","numberOfBreakpoints","arrayItem","replDisabled","col","handleSendReplInputToOutput","onLoad","workspaceProps","change","mobileWorkspaceProps","mapStateToProps","persistenceUser","googleUser","persistenceFile","mapDispatchToProps","bindActionCreators","PlaygroundContainer","Component","withRouter","connect","ProfileCard","isInvalidXP","maxXp","xpDetails","animate","parseColour","getFrac","stripes","courseId","activeClassName","renderIcon","Profile","role","assessmentConfigurations","fetchAssessmentOverviews","fetchTotalXp","isLoaded","setIsLoaded","numClosed","status","submitted","userXp","fullXp","userDetails","den","frac","icons","FLAME","LIGHTBULB","PREDICTIVE_ANALYSIS","COMPARISON","MANUAL","PULSE","summaryCallouts","gradingStatus","graded","excluded","toFixed","USER","isCloseButtonShown","isOpen","onClose","DrawerSize","DropdownAbout","HELP","DIALOG_BODY","sourceDocs","textbook","githubOrg","about","DropdownCourses","course","courseName","viewable","Admin","PROPERTIES","CourseHelpTextEditorTab","DropdownCreateCourse","setCourseConfig","courseShortName","enableGame","enableAchievements","enableSourcecast","moduleHelpText","courseHelpTextSelectedTab","setCourseHelpTextSelectedTab","WRITE","sourceChapterOptions","ADD","canOutsideClickClose","helperText","labelInfo","labelFor","tagName","PREVIEW","inline","handleCreateCourse","DropdownHelp","store","ERROR","githubIssues","DropdownSettings","setWorkspaceSettings","useContext","VIM","EMACS","PopoverPosition","titleCase","wrd","Dropdown","isSettingsOpen","setIsSettingsOpen","isAboutOpen","setIsAboutOpen","isHelpOpen","setIsHelpOpen","isProfileOpen","setIsProfileOpen","isMyCoursesOpen","setIsMyCoursesOpen","isCreateCourseOpen","setIsCreateCourseOpen","toggleSettingsOpen","oldValue","toggleAboutOpen","toggleHelpOpen","toggleProfileOpen","toggleMyCoursesOpen","toggleCreateCourseOpen","profile","myCourses","logout","handleLogOut","menu","BOTTOM","CARET_DOWN","filterNotificationsByType","submission_id","assessment_type","makeNotificationMessage","new","deadline","autograded","unsubmitted","new_message","NotificationBadge","notificationFilter","notificationIcon","round","disableHover","makeNotificationTag","multiline","onRemove","handleAcknowledgeNotifications","notificationTags","interactionKind","PopoverInteractionKind","HOVER","RIGHT","hoverOpenDelay","hoverCloseDelay","lazy","NotificationBadgeContainer","acknowledgeNotifications","LAB_TEST","CALCULATOR","AcademyNavigationBar","Alignment","LEFT","assessmentTypes","ACTIVE","BUTTON","Staff","SATELLITE","GLOBE","MOBILE_VIDEO","ENDORSED","CROWN","SETTINGS","NavigationBarMobileSideMenu","LARGE","MUSIC","BRIEFCASE","BOOK","MOUNTAIN","matchSourcecastAchievement","matchExceptSourcecastAchievement","match","NavigationBar","mobileSideMenuOpen","setMobileSideMenuOpen","playgroundOnlyNavbarLeft","MENU","SYMBOL_DIAMOND","paddingBottom","mobileNavbarLeft","handleGitHubLogIn","handleGitHubLogOut","desktopNavbarLeftPopoverContent","desktopLogoButton","isActive","enableDesktopPopoverIn","enableDesktopPopover","startsWith","desktopNavbarLeft","BOTTOM_RIGHT","commonNavbarRight","HEART","computeDisabledState","Application","intervalId","setIsDisabled","isMobile","isPWA","matchMedia","matches","browserDimensions","fetchUserAndCourse","orientationChangeHandler","removeEventListener","Provider","canEscapeKeyClose","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","updateCourseResearchAgreement","ApplicationContainer","loginGitHub","logoutGitHub","isLocalhost","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","FileSystemContext","FileSystemProvider","fileSystem","setFileSystem","configure","fs","storeName","err","BFSRequire","dsn","release","userId","getState","rootContainer","__REDUX_STORE__","origin","response","contentType","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","sync","accessToken","postMessage","triggerSyncLogs","createBrowserHistory","getGitHubOctokitInstance","octokitObject","checkIfFileCanBeOpened","repoOwner","repos","getContent","owner","repo","checkIfFileCanBeSavedAndGetSaveType","saveType","canBeSaved","checkIfUserAgreesToOverwriteEditorData","showSimpleConfirmDialog","contents","negativeLabel","positiveIntent","positiveLabel","checkIfUserAgreesToPerformOverwritingSave","openFileInEditor","Buffer","actions","playgroundUpdateGitHubSaveInfo","performOverwritingSave","githubName","githubEmail","commitMessage","contentEncoded","sha","createOrUpdateFileContents","committer","email","author","performCreatingSave","CHANGE_QUERY_STRING","GENERATE_LZ_STRING","SHORTEN_URL","UPDATE_SHORT_URL","PLAYGROUND_UPDATE_GITHUB_SAVE_INFO","PLAYGROUND_UPDATE_PERSISTENCE_FILE","visualizeEnv","drawEnv","highlightClean","Inspector","highlightLine","line","externals","externalContext","createSlangContext","makeElevatedContext","ProxyFrame","prototype","environments","fakeFrame","proxyGlobalEnv","Proxy","prop","receiver","proxyEnvs","proxyRuntime","getDifferenceInMethods","elevatedContext","eFrame","difference","getStoreExtraMethodsString","toRemove","unblockKey","getRestoreExtraMethodsString","removed","getBlockExtraMethodsString","declarationNode","bulkUpdateAchievements","bulkUpdateGoals","getAchievements","getGoals","studentCourseRegId","getOwnGoals","getUserAssessmentOverviews","getUsers","removeAchievement","removeGoal","updateOwnGoalProgress","progress","addEvent","eventNames","handleEvent","loggedEvents","updateGoalProgress","saveAchievements","saveGoals","saveUsers","saveUserAssessmentOverviews","fetchGroupGradingSummary","updateGroupGradingSummary","changeDateAssessment","openAt","closeAt","deleteAssessment","publishAssessment","togglePublishTo","uploadAssessment","file","forceUpdate","assessmentConfigId","persistenceOpenPicker","persistenceSaveFile","persistenceSaveFileAs","persistenceInitialise","remoteExecFetchDevices","remoteExecUpdateDevices","devices","remoteExecUpdateSession","remoteExecConnect","workspace","device","remoteExecDisconnect","remoteExecRun","remoteExecReplInput","fetchSourcecastIndex","FETCH_SOURCECAST_INDEX","updateSourcecastIndex","UPDATE_SOURCECAST_INDEX","saveSourcecastData","audio","createObjectURL","setCurrentPlayerTime","playerTime","setCodeDeltasToApply","deltas","setInputToApply","setSourcecastData","setSourcecastDuration","duration","setSourcecastStatus","deleteSourcecastEntry","recordInit","initData","recordInput","resetInputs","timerPause","timeNow","timerReset","timerResume","timeBefore","timerStart","timerStop","AchievementActions","CommonsActions","CollabEditingActions","DashboardActions","InterpreterActions","PlaygroundActions","SessionActions","SourcecastActions","SourceRecorderActions","SourcereelActions","WorkspaceActions","GroundControlActions","AcademyActions","PersistenceActions","RemoteExecutionActions","fetchAuth","providerId","fetchCourseConfig","fetchAssessment","fetchAssessmentAdmin","courseRegId","fetchTotalXpAdmin","fetchAllUserXp","fetchGrading","fetchGradingOverviews","filterToGroup","login","logoutGoogle","setTokens","refreshToken","setUser","user","setCourseConfiguration","courseConfiguration","setCourseRegistration","courseRegistration","setAssessmentConfigurations","setAdminPanelCourseRegistrations","courseRegistrations","setGoogleUser","setGitHubAssessment","missionRepoData","setGitHubOctokitObject","setGitHubAccessToken","removeGitHubOctokitObjectAndAccessToken","submitAnswer","submitAssessment","submitGrading","xpAdjustment","submitGradingAndContinue","reautogradeSubmission","reautogradeAnswer","updateAssessmentOverviews","overviews","updateTotalXp","totalXp","updateAllUserXp","updateAssessment","updateGradingOverviews","updateGrading","unsubmitSubmission","fetchNotifications","withFilter","updateNotifications","updateLatestViewedCourse","updateCourseConfig","fetchAssessmentConfigs","updateAssessmentConfigs","assessmentConfigs","deleteAssessmentConfig","assessmentConfig","fetchAdminPanelCourseRegistrations","updateUserRole","deleteUserCourseRegistration","changeQueryString","playgroundUpdatePersistenceFile","lastSaved","ConfirmDialog","onResponse","largeButtons","escapeResponse","escapeHandler","PromptDialog","enterResponse","validationFunction","inputRef","isValid","setIsValid","returnResponse","buttonResponse","disableOnInvalid","handleEnter","keyCode","handleValidate","onKeyDown","DialogHelper","dialog","dialogOnClose","containerElement","dialogHelper","singleton","closeDialog","promisifyDialog","DialogComponent","finally","showConfirmDialog","showSimplePromptDialog","AcademyReducer","payload","AchievementReducer","DashboardReducer","PlaygroundReducer","SourcecastReducer","SourcereelReducer","recording","finished","WorkspaceReducer","lastOutput","sourcecastState","sourcereelState","newIndex","newRecords","lastRecords","lastIndex","symbols","newReplHistoryRecords","pop","updatedLastOutput","playgroundWorkspace","execType","executionMethod","newOutputEntry","testcase","updatedEditorTabs","ApplicationReducer","SessionsReducer","githubAccessToken","userCourseRegistrations","newAssessments","newGradings","remoteExecutionDevices","createRootReducer","combineReducers","mockAssessmentConfigurations","isManuallyGraded","displayInDashboard","hoursBeforeEarlyXpDecay","earlySubmissionXp","mockAssessmentOverviews","coverImage","shortSummary","not_attempted","none","attempted","attempting","private","mockLibrary","mockAssessmentQuestions","prepend","postpend","public","score","solutionTemplate","blocking","mockClosedAssessmentQuestions","grader","gradedAt","resultType","expected","actual","errorType","errorLine","errorExplanation","mockAssessments","longSummary","missionPDF","questions","opaque","contestEntries","contestLeaderboard","student_name","mockFetchRole","mockUser","mockCourseRegistrations","Student","mockAdminPanelCourseRegistrations","username","mockCourseConfigurations","assetsPrefix","mockNotifications","assessment_id","assessment_title","mockGradingOverviews","assessmentName","currentXp","xpBonus","initialXp","studentId","studentName","submissionStatus","groupName","questionCount","gradedCount","mockGrading","question","errorMessage","grade","student","mockGradingSummary","avenger","ungradedMissions","submittedMissions","ungradedQuests","submittedQuests","mockBackendSaga","takeEvery","put","mockGetUserAndCourse","sublanguage","newQuestions","newAssessment","newOverviews","overview","permittedRoles","subX","subY","mockFetchGradingOverview","mockFetchGrading","sendGrade","newGrading","gradingQuestion","notificationsToAcknowledge","ids","newNotifications","isExpired","isReleased","AchievementNode","displayDeadline","progressFrac","descendant","parents","prerequisiteUuids","AchievementInferencer","nodeList","goalList","textToUuid","titleToUuid","achievementsToDelete","goalsToDelete","invalidGoal","achievementUuids","invalidAchievement","isVariableXp","isTask","goalUuids","cardBackground","view","completionText","constructNodeList","constructGoalList","processNodes","processGoals","getAllAchievements","getAllReleasedAchievements","UNRELEASED","getAllCompletedAchievements","COMPLETED","getAllAchievementUuids","getAllGoals","getAllGoalUuids","hasAchievement","isPrerequisite","getAchievement","hasGoal","getGoal","getGoalDefinition","getGoalProgress","getAchievementPositionByUuid","getAchievementsToDelete","getGoalsToDelete","resetToDelete","getAchievementsByGoal","goalUuid","listSortedAchievementUuids","isInvalidGoal","goal","isInvalidAchievement","insertAchievement","newUuid","v4","normalizePositions","insertFakeAchievement","insertGoalDefinition","definition","insertFakeGoalDefinition","complete","modifyAchievement","modifyGoalDefinition","modifyGoalProgress","generateXp","generateProgressFrac","generateStatus","targetUuid","delete","hasTarget","newPrerequisiteUuids","sanitizeNode","removeGoalDefinition","targetIndex","findTargetIndex","listTaskUuids","isCompleted","task","listSortedTaskUuids","taskA","taskB","sortedTask","listSortedReleasedTaskUuids","listAllSortedAchievementUuids","goalLength","prereqLength","listGoals","listPrerequisiteGoals","childGoalUuids","childUuid","getImmediateChildren","getUuidByText","getTextByUuid","getUuidByTitle","getTitleByUuid","getAchievementXp","getTotalXp","getProgressFrac","getStatus","getDisplayDeadline","isImmediateChild","isDescendant","getDescendants","getDescendantXp","descendantUuid","listAvailablePrerequisiteUuids","uniq","generateParentReference","generateDescendant","generateDisplayDeadline","grandchildUuid","descendantDeadlines","childDeadline","currentDeadline","allGoalsCompleted","completion","denom","achievementCompleted","hasReleased","hasUnexpiredDeadline","EXPIRED","anchorUuid","anchorPosition","newPosition","nonTask","anchorAchievement","misplacedAchievement","DeadlineColors","FilterColors","sourceAcademyAssets","eventShouldCount","fromTime","toTime","currentTime","getHours","getMinutes","leftBound","rightBound","isWithinTimeRange","observeFrom","observeTo","frontendifyAchievementGoal","postAuth","clientId","redirectUri","client_id","redirect_uri","tokens","json","access_token","refresh_token","getUser","shouldRefresh","getLatestCourseRegistrationAndConfiguration","putLatestViewedCourse","noHeaderAccept","shouldAutoLogout","putCourseResearchAgreement","postCreateCourse","getCourseConfig","frontendifyAchievementItem","getAllUsers","backendifyAchievementItem","ASSESSMENT","backendifyGoalDefinition","getAssessmentOverviews","computeGradingStatus","getAllUserXp","getAssessment","prompt","back","password","q","programming","voting","eval","postAnswer","postAssessment","getGradingOverviews","gradingOverview","groupLeaderId","getGrading","execTimeMs","postReautogradeSubmission","postReautogradeAnswer","getNotifications","postAcknowledgeNotifications","notificationIds","getSourcecastIndex","getGradingSummary","putCourseConfig","getAssessmentConfigs","putAssessmentConfigs","overrideCourseId","removeAssessmentConfig","getUserCourseRegistrations","putNewUsers","putUserRole","removeUserCourseRegistration","fetchDevices","getDeviceWSEndpoint","opts","Headers","append","fetchOpts","noContentType","newTokens","postRefresh","newOpts","statusText","handleResponseError","respText","numGraded","numQuestions","handleUncaughtError","isIterator","throw","safeTakeEvery","pattern","worker","wrappedWorker","safeTakeLatest","takeLatest","selectTokens","AchievementSaga","timeoutSet","delay","backendAchievements","backendGoals","inferencer","updatedGoals","events","EVENT","j","goalIncludesEvents","wasCompleted","incompleteAchievements","achievementUuid","incrementCount","computeRedirectUri","ep","port","encodeURIComponent","handleReautogradeResponse","BackendSaga","payloadProviderId","searchParams","getClientId","redirectUrl","all_users_xp","postUnsubmit","postGrading","formData","FormData","filename","postSourcecast","updatedAssessmentConfigs","resp1","groupOverviews","isPublished","GitHubFileNodeData","childrenRetrieved","fileType","GitHubTreeNodeCreator","fileIndex","currentRepoName","getChildNodes","childNodes","GitHubUtils","githubLoginID","getAuthenticated","childFiles","childFile","createNode","octokitFileData","nodeData","FileExplorerDialog","repoFiles","setRepoFiles","setFilePath","setCommitMessage","getFirstLayerRepoFileNodes","setFirstLayerRepoFiles","handleClose","DIALOG_HEADER","onNodeClick","treeNode","_nodePath","originallySelected","newRepoFiles","cloneWithCallbacks","newFilePath","onNodeCollapse","onNodeExpand","pickerType","authUser","editorContent","PRIMARY","treeNodeToEdit","allNodesCallback","specificNodeCallback","newTreeNodes","clonedNode","assign","newChildNodes","RepositoryDialog","setRepoName","selectedValue","userRepos","githubLoginSaga","githubOauthLoginLink","windowName","windowSpecs","BroadcastChannel","onmessage","receivedMessage","githubLogoutSaga","githubOpenFile","paginate","listForAuthenticatedUser","per_page","promisifiedDialog","githubSaveFile","githubLoginId","githubSaveFileAs","promisifiedFileExplorer","GitHubPersistenceSaga","LoginSaga","updateLoginHref","epUrl","computeEndpointUrl","DISCOVERY_DOCS","UPLOAD_PATH","MIME_SOURCE","startInitialisation","initialisationPromise","gapi","load","client","apiKey","discoveryDocs","scope","auth2","getAuthInstance","currentUser","listen","handleUserChanged","isSignedIn","getBasicProfile","getEmail","ensureInitialised","ensureInitialisedAndAuthorised","signIn","pickFile","pickFolders","showFolders","showFiles","google","picker","DocsView","ViewId","DOCS","FOLDERS","rootFolder","setParent","setOwnedByMe","setIncludeFolders","setSelectFolderEnabled","setMode","DocsViewMode","LIST","PickerBuilder","setTitle","enableFeature","Feature","NAV_HIDDEN","addView","setOAuthToken","getAuthResponse","setAppId","setDeveloperKey","setCallback","Response","ACTION","Action","PICKED","parentId","picked","CANCEL","build","setVisible","createFile","appProperties","createMultipartBody","uploadType","updateFile","contentsMime","metaJson","boundary","generateBoundary","random","persistenceSaga","toastKey","drive","fileId","fields","alt","ex","pickedDir","saveToDir","pickedFile","newFile","PlaygroundSaga","updateQueryString","hasTimedOut","race","shortenURLRequest","shorturl","newQueryString","compressToEncodedURIComponent","ext","host","signature","format","k","dummyLocation","ALPHANUMERIC","generateClientNonce","remoteExecutionSaga","updatedDevice","oldClient","SlingClient","clientNamePrefix","deviceId","thingName","websocketEndpoint","currentSession","dispatchAction","peripheralData","peripherals","pickBy","lastUpdated","endsWith","speed","ExceptionError","connectPromise","once","take","sendStop","WorkspaceSaga","evalCode","break","RUN_TESTCASE","runTestCase","newChapter","newVariant","oldVariant","oldChapter","externalSymbols","newExternalLibraryName","oldExternalLibraryName","moduleParams","runes","phaser","Phaser","findDeclaration","takeLeading","updateInspector","loc","clearContext","dumpDisplayBuffer","editorCode","RUN_CODE","exploded","msg","blockExtraMethods","blockKey","toUnblock","restorer","restoreExtraMethods","interrupted","runInContext","scheduler","originalMaxExecTime","throwInfiniteLoops","interrupt","InterruptedError","evalTestCode","toBeBlocked","storeValues","nullifier","actionType","useSubst","oldErrors","MainSaga","fork","PersistenceSaga","RemoteExecutionSaga","sagaMiddleware","createSagaMiddleware","middleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","serialize","maxAge","compose","initialStore","loadedStore","playgroundEditorValue","playgroundIsEditorAutorun","playgroundExternalLibrary","loadStore","serializedState","decompressed","decompressFromUTF16","loadStoredState","enhancers","applyMiddleware","createdStore","_createStore","subscribe","throttle","stateToBeSaved","serialized","compressToUTF16","saveState","createStore"],"mappings":"sGAAA,kCAAO,MAAMA,EAAU,W,iCCAvB,wIAAO,MAAMC,EAAyB,yBACzBC,EAAoB,oBACpBC,EAAqB,qBACrBC,EAAoB,qB,iCCHjC,wIAAO,MAAMC,EAA0B,0BAC1BC,EAA2B,2BAC3BC,EAAwB,wBACxBC,EAAyB,0B,mWCDtC,eAGM,EAAN,MACM,EAAN,OACM,EAAN,OAEA,MAAa,UAAyB,qBACpC,YAAY,GACV,MAAM,GAGD,UACL,MAAO,6BAGF,YACL,MAAO,QAVX,qBAcA,uBAIE,YAAmB,EAAqB,GAArB,aAAqB,gBAHjC,UAAO,YAAU,QACjB,cAAWC,EAAQ,cAAM,MAIzB,UACL,OAAO,KAAK,MAAM,WAGb,YACL,MAAO,SAIX,MAAa,UAAkC,qBAc7C,YAAY,EAAuB,GACjC,MAAM,GAD2B,aAX3B,qBAAe,+BAClB,iBAAa,CAChB,eAAe,EAAW,GACxB,EAAM,OAAM,cAAS,EAAK,SAC1B,EAAM,MAAM,KACZ,MAAM,EAAW,EAAK,UAAU,KAAK,IAAa,eAAU,EAAI,SAChE,EAAM,MAAM,EAAS,KAAK,OAC1B,EAAM,MAAM,QAQT,UACL,MAAM,EAAQ,IAA4B,cAAS,EAAM,CAAE,UAAW,KAAK,kBAC3E,MACE,uCAAyC,KAAK,MAAM,KAAI,GAAQ,EAAK,GAAQ,OAAM,KAAK,MAIrF,YACL,MAAO,QA1BX,8BACgB,oBAAoB,EA6BpC,MAAa,UAAgC,qBAC3C,YAAoB,EAAuB,GACzC,MAAM,GADY,cAAuB,YAIpC,UACL,MAAO,+BAA8B,eAAU,KAAK,WAG/C,YACL,MAAM,EAAY,KAAK,OACjB,GAAY,eAAU,GAC5B,IAAI,EAAS,GAIb,EAFkB,KAAK,KAA2B,UAEhC,IAAI,YAAU,KAAK,MAErC,MAAM,EAAU,WAAW,uCAA+C,KAAa,MACjF,EAAU,qDAAqD,qCAErE,OAAI,OAAO,SAAS,GACX,GAAG,KAAW,IAEd,GAxBb,4BA6BA,MAAa,UAA0B,qBACrC,YAAmB,EAAc,GAC/B,MAAM,GADW,YAIZ,UACL,MAAO,QAAQ,KAAK,qBAGf,YACL,MAAO,oCAAoC,KAAK,8GAVpD,sBAcA,MAAa,UAA2B,qBACtC,YAAmB,EAAc,GAC/B,MAAM,GADW,YAIZ,UACL,MAAO,QAAQ,KAAK,4DAGf,YACL,MAAO,2CAA2C,KAAK,qDAAqD,KAAK,wHAAwH,KAAK,2BAVlP,uBAcA,MAAa,UAAiC,qBAG5C,YACE,EACQ,EACA,GACkB,IAAlB,0DAER,MAAM,GAJE,gBACA,WACA,kBAGR,KAAK,WAAY,cAAU,EAA2B,QAGjD,UACL,MAAO,YAAY,KAAK,YAAY,KAAK,WAAa,WAAa,wBACjE,KAAK,OAIF,YACL,MAAM,EAAY,KAAK,UACjB,EAA4B,IAAlB,KAAK,SAAiB,GAAK,IAE3C,MAAO,wBAAwB,qBAA6B,KAAK,oBAAoB,sEAvBzF,6BA2BA,MAAa,UAA8B,qBACzC,YAAoB,EAAuB,EAAsB,GAC/D,MAAM,GADY,YAAuB,YAAsB,gBAI1D,UACL,MAAO,oBAAoB,KAAK,QAG3B,YACL,IAAsB,IAAlB,KAAK,SAAmB,CAC1B,MAAM,EAAU,SAAS,KAAK,qFAE9B,IAAI,EAAU,GASd,MAPuB,wBAAnB,KAAK,KAAK,KACZ,EACE,IAAO,KAAK,KAAgC,OAAO,IAAI,YAAU,KAAK,KAAO,YACnD,wBAAnB,KAAK,KAAK,OACnB,GAAU,cAAU,KAAK,KAAgC,aAAa,GAAG,OAGpE,GAAG,mCAAyC,KAAK,UAAU,OAC7D,OAAsB,IAAlB,KAAK,SACP,iDAAiD,KAAK,qBAEtD,IA1Bb,0BA+BA,MAAa,UAAwB,qBACnC,YAAY,EAAuB,GACjC,MAAM,GAD2B,YAI5B,UACL,MAAO,uCAAuC,KAAK,QAG9C,YACL,MAAO,MAAM,KAAK,0GAVtB,oBAcA,MAAa,UAAyB,qBACpC,YAAY,EAAuB,EAAoB,GACrD,MAAM,GAD2B,WAAoB,YAIhD,UACL,MAAO,wBAAwB,KAAK,YAAW,eAAU,KAAK,QAGzD,YACL,MAAO,QAVX,qBAcA,MAAa,UAAkC,qBAK7C,YAAY,EAAuB,EAAoB,GACrD,MAAM,GAD2B,WAAoB,YAJhD,UAAO,YAAU,QACjB,cAAW,gBAAc,MAK9B,KAAK,SAAW,EAAK,IAGhB,UACL,MAAO,kCAAkC,KAAK,YAAW,eAAU,KAAK,QAGnE,YACL,MAAO,QAfX,8BAmBA,MAAa,UAAyB,qBACpC,YAAY,EAAuB,EAAoB,GACrD,MAAM,GAD2B,WAAoB,YAIhD,UACL,MAAO,0BAA0B,KAAK,YAAW,eAAU,KAAK,QAG3D,YACL,MAAO,QAVX,sB,iCCtOA,oEAAO,MAAMC,EAA8B,8BAC9BC,EAA+B,gC,iCCD5C,sGAAO,MAAMC,EAAc,cAKdC,EAAgB,gBAChBC,EAA0B,2B,gCCQvC,ssDAAO,MAAMC,EAAa,aACbC,EAAwB,wBACxBC,EAAsB,sBACtBC,EAAmB,mBACnBC,EAAyB,yBACzBC,EAA6B,6BAC7BC,EAAoB,oBACpBC,EAAiB,iBACjBC,EAAuB,uBACvBC,EAAgB,gBAChBC,EAA0B,0BAC1BC,EAAQ,QACRC,EAAgB,gBAChBC,EAAe,eACfC,EAAgB,gBAChBC,EAAa,aACbC,EAAW,WACXC,EAA2B,2BAC3BC,EAA0B,0BAC1BC,EAAgC,gCAChCC,EAAuC,uCACvCC,EAAkB,kBAClBC,EAAwB,wBACxBC,EAA4B,4BAC5BC,EAA0B,0BAC1BC,EAAgB,gBAChBC,EAAoB,oBACpBC,EAAiB,iBACjBC,EAA8B,8BAC9BC,EAAyB,yBACzBC,EAAqB,qBACrBC,EACX,gDACWC,EAAsB,sBACtBC,EAA8B,8BAC9BC,EAAkB,kBAClBC,EAAqB,qBACrBC,EAAoB,oBACpBC,EAA2B,2BAC3BC,EAAiB,iBACjBC,EAAsB,sBACtBC,EAA4B,4BAC5BC,EAAuB,uBACvBC,EAA8B,8BAC9BC,EAAuB,uBACvBC,EAA2B,2BAC3BC,EAA4B,4BAC5BC,EAA2B,2BAC3BC,EAAyC,yCACzCC,EAAmB,mBACnBC,EAAmC,mCACnCC,EAAkC,mC,wMCjE/C,eAEA,SAoCA,SAAS,EAAiB,GAAkC,IAAtB,EAAO,uDAAG,CAAE,MAAO,GACvD,SAAS,EAAoB,GAC3B,OAAO,EAAiB,EAAG,GAG7B,OAAQ,EAAK,MACX,IAAK,YACH,OAAO,EAAK,KACd,IAAK,WACH,OAAI,EAAK,YAAkC,SAApB,EAAK,WACnB,EAAK,YAER,EAAK,QAAQ,IAEjB,EAAQ,EAAK,MAAQ,IAAM,EAAQ,SAE9B,EAAQ,EAAK,OACtB,IAAK,OACH,MAAO,QAAQ,EAAoB,EAAK,gBAC1C,IAAK,QACH,MAAO,SAAS,EAAoB,EAAK,gBAC3C,IAAK,OACH,MAAM,EAAW,EAAoB,EAAK,UAE1C,MACyB,SAAvB,EAAK,SAAS,MACd,IAAa,EAAoB,EAAK,SAAS,aAExC,QAAQ,KACV,IAAI,EAAoB,EAAK,cAAc,EAAoB,EAAK,aAC7E,IAAK,WACH,IAAI,EAAmB,EAAK,eAAe,IAAI,GAAqB,KAAK,MAIzE,OAHmC,IAA/B,EAAK,eAAe,QAAgD,aAAhC,EAAK,eAAe,GAAG,OAC7D,EAAmB,IAAI,MAElB,GAAG,QAAuB,EAAoB,EAAK,cAC5D,QACE,MAAO,wBAgPb,SAAgB,EAAiB,GAC/B,MAAM,EAAgC,IAAI,IACpC,EAA8B,IAAI,IAwBxC,SAAS,EACP,EACA,EACA,EACA,GAEA,MAAM,EAAa,EAAK,IAAI,GAC5B,QAAmB,IAAf,EACF,MAAO,CAAC,GAAY,GAEtB,EAAU,IAAI,EAAO,EAAU,MAC/B,MAAM,EAAY,EAAM,IAAI,GAC5B,IAAI,EAAS,EAAO,OAAS,EAAO,OAA6C,EAApC,KAAK,IAAI,EAAG,EAAU,OAAS,GACxE,GAAa,EACjB,IAAK,IAAI,EAAI,EAAGC,EAAI,EAAU,OAAQ,IAChB,MAAhB,EAAU,KAEZ,EAAU,GAAK,OAAQ,IAEzB,GAAU,EAAU,GAAG,GAAG,OAC1B,MAAe,EAAU,GAAG,IAE9B,EAAU,OAAO,GACjB,MAAM,EAAoB,CACxB,KAAM,YACN,MAAO,EAAU,KAAI,GAAK,EAAE,KAC5B,OAAQ,EACR,OAAQ,EACR,OAAQ,GAKV,OAHK,GACH,EAAK,IAAI,EAAO,GAEX,CAAC,EAAQ,GAuClB,SAAS,EAAY,GACnB,MAAM,EAAkB,EAAK,MAAM,MACnC,OAAwB,IAAjB,EAAM,OACT,CAAC,CAAE,KAAM,WAAY,IAAK,EAAM,GAAI,OAAQ,EAAM,GAAG,SAAU,GAC/D,CAAC,CAAE,KAAM,YAAa,QAAO,OAAQ,MAAY,GAGvD,SAAS,EAAQ,GACf,GAAU,OAAN,EACF,MAAO,CAAC,CAAE,KAAM,WAAY,IAAK,OAAQ,OAAQ,IAAK,GACjD,QAAU,IAAN,EACT,MAAO,CAAC,CAAE,KAAM,WAAY,IAAK,YAAa,OAAQ,IAAK,GACtD,GAAI,EAAU,IAAI,GACvB,MAAO,CAAC,CAAE,KAAM,WAAY,IAAK,gBAAiB,OAAQ,KAAM,GAC3D,GAAiB,kBAAN,EAAgB,CAChC,MAAM,EAAM,KAAK,UAAU,GAC3B,MAAO,CAAC,CAAE,KAAM,WAAY,IAAK,EAAK,OAAQ,EAAI,SAAU,GACvD,MAAiB,kBAAN,EACT,EAAY,EAAE,YACZ,EAAU,KAAO,0BACnB,CAAC,CAAE,KAAM,WAAY,IAAK,iBAAkB,OAAQ,KAAM,GAC9B,oBAAnB,EAAE,aACX,EAAY,EAAE,gBACZ,MAAM,QAAQ,GACN,IAAb,EAAE,OAvHV,SAAqB,GACnB,MAAM,EAAa,EAAK,IAAI,GAC5B,QAAmB,IAAf,EACF,MAAO,CAAC,GAAY,GAEtB,EAAU,IAAI,EAAO,EAAU,MAC/B,MAAM,EAAiB,GAChB,EAAS,GAAkB,EAAQ,EAAM,KACzC,EAAS,GAAkB,EAAQ,EAAM,IAC1C,EAAa,GAAkB,EACrC,EAAU,OAAO,GACjB,MAAM,EAAoB,CACxB,KAAM,OACN,KAAM,EACN,KAAM,EACN,OAAQ,EAAQ,OAAS,EAAQ,OAAS,GAK5C,OAHK,GACH,EAAK,IAAI,EAAO,GAEX,CAAC,EAAQ,GAoGL,CAAY,GAEZ,EAAiB,EAAG,EAAG,IAAK,KA9a3C,SAAqB,GACnB,MAC0B,kBAAjB,EAAE,YACe,kBAAjB,EAAE,YACsB,oBAAxB,EAAE,kBA4aE,CAAY,GACd,EAAiB,EAAG,EAAE,oBAAqB,EAAE,WAAY,EAAE,YAG3D,OAAO,eAAe,KAAO,OAAO,UArE/C,SAAuB,GACrB,MAAM,EAAa,EAAK,IAAI,GAC5B,QAAmB,IAAf,EACF,MAAO,CAAC,GAAY,GAEtB,EAAU,IAAI,EAAO,EAAU,MAC/B,MAAM,EAAU,OAAO,QAAQ,GACzB,EAAY,EAAQ,KAAI,GAAM,EAAQ,EAAG,MAC/C,IAAI,EAAS,EAAsC,EAAlC,KAAK,IAAI,EAAG,EAAQ,OAAS,GAA0B,EAAjB,EAAQ,OAC3D,GAAa,EACjB,MAAM,EAAuB,GAC7B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAU,OAAQ,IACpC,GAAU,EAAQ,GAAG,GAAG,OACxB,GAAU,EAAU,GAAG,OACvB,MAAe,EAAU,GAAG,IAC5B,EAAQ,KAAK,CACX,KAAM,SACN,IAAK,EAAQ,GAAG,GAChB,MAAO,EAAU,GAAG,GACpB,OAAQ,EAAU,GAAG,GAAG,OAAS,EAAQ,GAAG,GAAG,SAGnD,EAAU,OAAO,GACjB,MAAM,EAAoB,CACxB,KAAM,YACN,MAAO,EACP,OAAQ,IACR,OAAQ,IACR,OAAQ,GAKV,OAHK,GACH,EAAK,IAAI,EAAO,GAEX,CAAC,EAAQ,GAqCV,CAAc,GACd,EAAY,EAAE,YAItB,OAAO,EAAQ,GAAO,GAmBxB,SAAgB,EACd,EACA,EACA,GAGA,MACM,EAAiC,IADV,IAAI,OAAO,KAAK,IAAI,EAAG,EAAS,IAEvD,EAAiC,IAAI,IA2F3C,OA1FA,SAAS,EAAO,GACd,MAAM,EAAa,EAAK,IAAI,GAC5B,QAAmB,IAAf,EACF,OAAO,EAET,IAAI,EACJ,GAAiB,aAAb,EAAI,KACN,EAAS,CAAE,KAAM,OAAQ,KAAM,QAC1B,GAAiB,cAAb,EAAI,KACb,EAAS,CACP,KAAM,QACN,YAAa,GACb,WAAY,GACZ,MAAO,EAAI,MAAM,KAAI,IAAC,CACpB,KAAM,OACN,KAAM,CAAE,KAAM,WAAY,IAAK,EAAG,OAAQ,EAAE,YAE9C,WAAY,GACZ,WAAY,SAET,GAAiB,SAAb,EAAI,KAAiB,CAC9B,MAAM,EAAW,EAAO,EAAI,MACtB,EAAW,EAAO,EAAI,MAO1B,EAJA,EAAI,OAAS,EAAI,GACC,SAAlB,EAAS,MACS,SAAlB,EAAS,KAEA,CACP,KAAM,QACN,YAAa,EACb,WAAY,GACZ,MAAO,CAAC,EAAU,GAClB,WAAY,IACZ,WAAY,KAGL,CACP,KAAM,OACN,KAAM,QAGL,GAAiB,cAAb,EAAI,KAAsB,CACnC,MAAM,EAAY,EAAI,MAAM,IAAI,GAK9B,EAHA,EAAI,OAAS,EAAI,OAAO,OAAS,EAAI,OAAO,OAAS,GACrD,EAAU,MAAK,GAAgB,SAAX,EAAE,OAEb,CACP,KAAM,QACN,YAAa,EAAI,OAAS,IAAI,OAAO,KAAK,IAAI,EAAG,EAAS,EAAI,OAAO,SACrE,WAAY,IAAI,OAAO,KAAK,IAAI,EAAI,OAAO,OAAQ,IACnD,MAAO,EACP,WAAY,IACZ,WAAY,EAAI,QAGT,CACP,KAAM,OACN,KAAM,OAGL,IAAiB,WAAb,EAAI,KAqBb,KAAM,KArB0B,CAChC,MAAM,EAAY,EAAO,EAAI,OAE3B,EADE,EAAI,OAAS,GAAyC,SAAnB,EAAU,KACtC,CACP,KAAM,QACN,YAAa,GACb,WAAY,GACZ,MAAO,CACL,CAAE,KAAM,OAAQ,KAAM,CAAE,KAAM,WAAY,IAAK,KAAK,UAAU,EAAI,KAAM,OAAQ,IAChF,GAEF,WAAY,IACZ,WAAY,IAGL,CACP,KAAM,OACN,KAAM,IAOZ,OADA,EAAK,IAAI,EAAK,GACP,EAGF,CAAO,GAGhB,SAAgB,EAAsB,GA8BpC,OA7BA,SAAS,EAAM,EAAgB,GAC7B,GAAiB,cAAb,EAAI,KACN,KAAM,yDACD,GAAiB,aAAb,EAAI,KACb,EAAM,KAAK,EAAI,UACV,GAAiB,SAAb,EAAI,KACb,EAAM,KAAK,KACX,EAAM,EAAI,KAAM,GAChB,EAAM,KAAK,MACX,EAAM,EAAI,KAAM,GAChB,EAAM,KAAK,UACN,GAAiB,WAAb,EAAI,KACb,EAAM,KAAK,KAAK,UAAU,EAAI,MAC9B,EAAM,KAAK,MACX,EAAM,EAAI,MAAO,QACZ,GAAiB,cAAb,EAAI,KAAsB,CACnC,EAAM,KAAK,EAAI,QACX,EAAI,MAAM,OAAS,GACrB,EAAM,EAAI,MAAM,GAAI,GAEtB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAI,MAAM,OAAQ,IACpC,EAAM,KAAK,MACX,EAAM,EAAI,MAAM,GAAI,GAEtB,EAAM,KAAK,EAAI,QAEjB,OAAO,EAGF,CAAM,EAAK,IAAI,KAAK,IAG7B,SAAgB,EAAiB,GAC/B,IAAI,EAAQ,GACZ,MAAM,EAA8C,IAAI,IAClD,EAAyE,IAAI,IAwCnF,OAvCA,SAAS,EAAM,EAAgB,GAC7B,MAAM,EAAsB,EAAyB,IAAI,GACzD,QAA4B,IAAxB,EAAmC,CACrC,MAAM,EAAW,EAAoB,IAAI,EAAQ,QACjD,QAAiB,IAAb,EAEF,YADA,GAAS,EAAM,UAAU,EAAS,GAAI,EAAS,KAInD,MAAM,EAAQ,EAAM,OACpB,GAAkB,SAAd,EAAK,KACF,EAAoB,IAAI,EAAK,OAChC,EAAoB,IAAI,EAAK,KAAM,EAAsB,EAAK,OAEhE,GAAS,EAAoB,IAAI,EAAK,WACjC,GAAkB,UAAd,EAAK,KAAkB,CAChC,GAAS,EAAK,YACd,MAAM,EAAuB,EAAU,IAAI,OAAO,EAAK,YAAY,QAC7D,EAAsB,EAAU,EAAK,WAC3C,EAAM,EAAK,MAAM,GAAI,GACrB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,MAAM,OAAQ,IACrC,GAAS,EAAK,WACd,GAAS,EACT,EAAM,EAAK,MAAM,GAAI,GAEvB,GAAS,EAAK,WAEhB,MAAM,EAAM,EAAM,OAClB,QAA4B,IAAxB,EAAmC,CACrC,MAAM,EAAS,IAAI,IACnB,EAAO,IAAI,EAAQ,OAAQ,CAAC,EAAO,IACnC,EAAyB,IAAI,EAAM,QAEnC,EAAoB,IAAI,EAAQ,OAAQ,CAAC,EAAO,IAIpD,CAAM,EAAM,MAEL,EAvnBI,YAAY,SACvB,GAGU,IAFV,yDAA0B,EAC1B,EAAkB,uDAAG,GAGrB,GADA,GAAQ,aAAQ,GACM,kBAAX,EACT,KAAM,uDAER,IAAI,EAAkB,EAItB,OAHI,EAAS,KACX,EAAU,IAEL,EAAiB,EAAoB,EAAiB,GAAQ,EAAS,KAGhF,wBAA6B,GAC3B,OAAO,EAAiB,IAwR1B,qBA4JA,wBAsGA,0BAiCA,sB,iCC7lBA,8kBAiBO,MAAMC,EAAmB,SAACC,GAAoC,2BAAKC,EAAS,iCAATA,EAAS,yBACjFC,iBAAOC,IAAoB,CAAEF,YAAWD,uBAE7BI,EAAyB,CAACC,EAAcL,IACnDE,iBAAOI,IAA0B,CAAEC,KAAM,SAAUF,QAAOL,sBAE/CQ,EAAsB,CACjCH,EACAL,EACAS,IACGP,iBAAOQ,IAAuB,CAAEH,KAAM,SAAUF,QAAOL,oBAAmBS,UAElEE,EAAsB,CACjCN,EACAL,EACAS,IACGP,iBAAOU,IAAuB,CAAEL,KAAM,SAAUF,QAAOL,oBAAmBS,UAElEI,EAAuB,CAACC,EAAuBd,IAC1DE,iBAAOa,IAAwB,CAAER,KAAM,SAAUO,SAAQd,sBAE9CgB,EAA2BhB,GACtCE,iBAAOe,IAA2B,CAAEjB,sBAEzBkB,EAAyBlB,GACpCE,iBAAOiB,IAAyB,CAAEnB,sBAEvBoB,EAAsBpB,GACjCE,iBAAOmB,IAAmB,CAAErB,sBAEjBsB,EAAoBtB,GAC/BE,iBAAOqB,IAAiB,CAAEvB,sBAEfwB,EAAkBxB,GAC7BE,iBAAOuB,IAAc,CAAEzB,sBAEZ0B,EAAiB1B,GAC5BE,iBAAOyB,IAAa,CAAE3B,uB,gCCvDxB,uMAEA,MAAM4B,EAAeC,IAAQC,OAAO,CAClCC,SAAUC,IAASC,MAGRC,EAAqB,SAChCC,GAA6B,IAC7BC,EAAe,uDAAG,IAClBC,EAAY,8CAEZT,EAAaU,KACX,CACEC,OAAQC,IAAOC,QACfN,UACAC,WAEFC,IAGSK,EAAqB,SAChCP,GAA6B,IAC7BC,EAAe,uDAAG,IAClBC,EAAY,8CAEZT,EAAaU,KACX,CACEC,OAAQC,IAAOG,QACfR,UACAC,WAEFC,IAGSO,EAAoB,SAC/BT,GAA6B,IAC7BC,EAAe,uDAAG,IAClBC,EAAY,8CAEZT,EAAaU,KACX,CACEC,OAAQC,IAAOK,OACfV,UACAC,WAEFC,IAGSS,EAAc,CAACC,EAAoBV,IAAiBT,EAAaU,KAAKS,EAAOV,GAE7EW,EAAWX,GAAgBT,EAAaoB,QAAQX,I,iCClD7D,oEAAO,MAAMY,EAAwB,wBACxBC,EAAwB,yB,4LCArC,eAOM,EAAN,OACA,SAEA,QACA,SAEA,iCAKE,YAAmB,eAJZ,UAAO,YAAU,OACjB,cAAW,gBAAc,MAI9B,KAAK,SAAW,KAAK,eAAe,KAAK,KAAK,MAG5C,eACF,OAAO,KAAK,KAAK,IAGZ,UACL,MAAO,GAAG,KAAK,2BAGV,YACL,OAAO,aAAW;8BACQ,KAAK;MAUzB,eAAe,GACrB,OAAQ,GACN,IAAK,iBACH,MAAO,qBACT,IAAK,WACH,MAAO,aACT,QAEE,OADc,EAAS,MAAM,aAChB,KAAI,CAAC,EAAM,IAAa,IAAN,EAAU,EAAO,EAAK,gBAAgB,KAAK,KAAO,OAMzF,MAAa,EAGX,YAA0B,EAAoC,GAApC,gBAAoC,eAFvD,UAAO,YAAU,OACjB,cAAW,gBAAc,MAGzB,UACL,OAAO,KAAK,QAGP,YACL,MAAO,2CAVX,qBAcA,8BAGE,YAA0B,mBAFnB,UAAO,YAAU,OACjB,cAAW,gBAAc,MAGzB,UACL,MAAO,4CAGF,YACL,MAAO,uDAIX,2BAGE,YAA0B,mBAEnB,UACL,MAAO,iBAGF,YACL,MAAO,qCAIX,MAAM,EAGJ,MAAM,GACJ,OAAO,EAAK,OAAO,MAErB,cAAc,GACZ,MAAM,EAA+B,GACrC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,WAAY,IACnC,EAAY,KAAK,EAAK,SAAS,GAAG,OAAO,OAE3C,MAAO,CACL,KAAM,qBACN,eAGJ,cAAc,GACZ,OAAO,EAAK,OAAO,MAGrB,eAAe,GACb,MAAM,IAAI,EACR,CACE,MAAO,CACL,KAAM,EAAK,OAAO,KAClB,OAAQ,EAAK,OAAO,oBAEtB,IAAK,CACH,KAAM,EAAK,OAAO,KAClB,OAAQ,EAAK,OAAO,mBAAqB,IAG7C,kBAAkB,EAAK,SAK7B,SAAS,EAAkB,GACzB,MAAM,EAAY,IAAI,EACtB,OAAO,EAAW,OAAO,GAgB3B,iBAAsB,EAAgB,GACpC,IAAI,EAEJ,GAAwB,UAApB,EAAQ,QAAqB,CAC/B,MAAM,EAAc,cAAY,WAAW,GACrC,EAAQ,IAAI,aAAW,GACvB,EAAc,IAAI,oBAAkB,GACpC,EAAS,IAAI,cAAY,GAC/B,EAAO,gBAAiB,EACxB,IACE,MAAM,EAAO,EAAO,aACpB,EAvBG,CACL,KAAM,UACN,WAAY,SACZ,KAAM,CACJ,CACE,KAAM,sBACN,WAAY,EAiBU,MACxB,MAAO,GACP,KAAI,aAAiB,GAGnB,MAAM,EAFN,EAAQ,OAAO,KAAK,GAKxB,MAAM,EAAY,EAAQ,OAAO,MAAK,GAAK,EAAE,WAAa,gBAAc,QACxE,OAAI,IAAY,EACP,OAEP,K,gCCvKN,0uCAAO,MAAMC,EAAyB,yBACzBC,EAAsB,sBACtBC,EAA2B,2BAC3BC,EAAyB,yBACzBC,EAAmB,mBACnBC,EAA0B,0BAC1BC,EAA6B,6BAC7BC,EAAoB,oBACpBC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAoB,oBACpBC,EAAyB,yBACzBC,EAAoB,oBACpBC,EAAc,cACdC,EAAY,YACZC,EAAsB,sBACtBC,EAAc,cACdC,EAAgB,gBAChBC,EAA4B,4BAC5BC,EAAc,cACdC,EAAkB,kBAClBC,EAA6B,8BAC7BC,EAAiB,iBACjBC,EAAkB,kBAClBC,EAA4B,4BAC5BC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAA+B,+BAC/BC,EAA+B,+BAC/BC,EAA2B,2BAC3BC,EAAsB,sBACtBC,EAA4B,4BAC5BC,EAA6B,6BAC7BC,EAAoB,oBACpBC,EAAmB,mBACnBC,EAAqB,qBACrBC,EAAqB,sB,iCC9ClC,kIAKO,MAAMC,EAAqB,CAACxF,EAAsCyF,IACvEvF,iBAAO+C,IAAuB,CAC5BjD,oBACAyF,oBASSC,EAAsB,CAAC1F,EAAsC2F,IACxEzF,iBAAOgD,IAAuB,CAAElD,oBAAmB2F,e,2MCdrD,eA6Ca,SAKD,EAAQ,OAEP,WAKD,EAAQ,SAEP,YAKD,EAAQ,UAEP,OAKD,EAAQ,KAEP,eAKD,EAAQ,aAEP,OAGoB,EAAQ,KAE5B,aAOoB,EAAQ,WAC5B,iBAAoC,EAAQ,eAE5C,gBAAmC,EAAQ,cAE3C,OAAgC,EAAQ,M,gCCrGrD,0iBA0FO,IAAKC,EAMAC,GAFX,SAJWD,KAAsB,0BAAtBA,EAAsB,wBAAtBA,EAAsB,YAIjC,CAJWA,MAAsB,KAYlC,SANYC,KAAI,kBAAJA,EAAI,cAAJA,EAAI,cAMhB,CANYA,MAAI,KAehB,MAAMC,EAAuC,IAAIC,IAAI,CAAC,CAACC,UAAQC,QAAS,WAE3DC,EAAqB,SAACC,GAA0D,IAAxCC,EAAgB,uDAAGJ,UAAQC,QAC9E,MAAQ,cAAaE,IACnBL,EAAeO,IAAID,GAAY,IAAGN,EAAeQ,IAAIF,KAAa,MAMzDG,EAF2B,CAAC,CAAEJ,QAASK,UAAQC,MAAOL,QAASJ,UAAQC,UAE1BS,KAAIC,IACrD,IACFA,EACHC,YAAaV,EAAmBS,EAAQR,QAASQ,EAAQP,aAIhDS,EAAmBN,EAAgBO,QAC9CH,GAAWA,EAAQP,UAAYJ,UAAQC,UAO5Bc,GAJmBR,EAAgBO,QAC9CH,GAAWA,EAAQP,UAAYJ,UAAQC,UAGRE,GAAqB,CAACK,UAAQC,OAAOO,SAASb,IAalEc,EAA+B,CAC1CC,gBAAYC,GAGDC,EAAuC,CAClDC,YAXWzB,EAAuB0B,YAcvBC,EAAmC,CAC9CC,eAAgB,CACdC,KAAM,GACNC,KAAM,KAIGC,EAAuC,CAClDC,aAAc,GACdC,MAAO,GACPC,MAAO,GACPC,oBAAqB,IAGVC,EAAqC,CAChDC,eAAgB,CAAEC,SAAU,GAAIC,SAAU,KAG/BC,EAAqB,MAQrBC,EAA0BrI,IAAoC,CACzEsI,mBAAoB,GACpBC,QAASC,YAAiC,GAAIxI,EAAmByI,IAAUC,sBAC3EC,qBAAsB,EACtBC,WAAY,CACV,CACEvI,MAAO,CAAC,aAAc,aAAc,qBAAqB2G,SAAShH,GAC9DoI,EACA,GACJS,aAAc,GACdC,cAAe,GACfC,iBAAkB,GAClBC,YAAa,KAGjBvD,gBAAiB,GACjBwD,kBAAkB,EAClBC,gBAAiB,GACjBC,gBAAiBC,IAAoBC,KACrCC,SAAU,IACVC,OAAQ,GACRC,YAAa,CACXC,YAAa,KACbC,QAAS,GACTC,cAAe,IAEjBC,UAAW,GACXC,kBAAkB,EAClBC,UAAW,IACXC,QAAS,GACTC,iBAAiB,EACjBC,WAAW,EACXC,aAAa,EACbC,iBAAiB,EACjBC,gBAAiB,KAGNC,EAAiD,CAC5DC,WAAY,IACPjC,EAAuB,cAC1BkC,uBAAmBpD,EACnBqD,qBAAiBrD,EACjBsD,mBAAmB,GAErBC,QAAS,IACJrC,EAAuB,WAC1BsC,uBAAmBxD,EACnBqD,qBAAiBrD,EACjBsD,mBAAmB,GAErBG,WAAY,IACPvC,EAAuB,cAC1BwC,YAAY,GAEdC,WAAY,IACPzC,EAAuB,cAC1B0C,SAAU,GACVC,kBAAmB,KACnBC,kBAAmB,EACnBC,YAAa,KACbC,aAAc,KACdC,aAAc,CACZC,KAAM,CACJC,YAAa,GACbnF,QAASK,UAAQC,MACjB0C,gBAAiBC,IAAoBC,MAEvCkC,OAAQ,IAEVC,iBAAkB,EAClBC,eAAgBC,IAAeC,OAC/BC,gBAAiB,KACjBC,MAAO,KACPC,IAAK,MAEPC,WAAY,IACP1D,EAAuB,cAC1B+C,aAAc,CACZC,KAAM,CACJC,YAAa,GACbnF,QAASK,UAAQC,MACjB0C,gBAAiBC,IAAoBC,MAEvCkC,OAAQ,IAEVS,gBAAiBC,IAAgBC,WACjCC,uBAAwB,EACxBC,YAAa,GAEfC,KAAM,IACDhE,EAAuB,QAC1BwC,YAAY,GAEdyB,iBAAkB,IACbjE,EAAuB,oBAC1BoC,mBAAmB,IAIV8B,EAA+B,CAC1CC,QAAS,GACTC,MAAO,KACPC,UAAW,CACTC,iBAAkB,GAClBC,aAAc,IAEhBC,GAAI,EACJC,eAAW3F,EACX4F,MAAO,CACLA,MAAO,GACPC,WAAW,GAEbC,YAAa,IAAIlH,IACjBgC,yBAAqBZ,EACrB+F,sBAAkB/F,EAClBgG,UAAWC,KAAKC,MAChBC,oBAAqB,CAAEC,aAASpG,GAChCqG,sBAAkBrG,EAClBsG,SAAU,IAAI1H,IACd2H,cAAe,IAGJC,EAA6B,CACxCC,QAAS3G,EACT4G,YAAalG,EACbmG,YAAa1G,EACb2G,UAAWxG,EACXqD,WAAY5C,EACZgG,QAASzB,EACT0B,WAAY5D,I,6MCtTd,cAEA,oBAGE,YAAY,EAA6B,GACvC,KAAK,KAAO,EACZ,KAAK,aAAe,IAIxB,MAAa,EAAb,cACU,WAA4B,KAC5B,SAAM,IAAI,IAEd,WACF,OAAO,KAAK,MAGP,OAAO,GACZ,MAAM,EAAkB,EAAY,KACpC,GAAwB,OAApB,EACiB,OAAf,KAAK,QACP,KAAK,MAAQ,IAAI,EAAY,EAAa,MAC1C,KAAK,IAAI,IAAI,EAAa,KAAK,YAE5B,CACL,MAAM,EAAa,KAAK,IAAI,IAAI,GAChC,GAAI,EAAY,CACd,MAAM,EAAY,IAAI,EAAY,EAAa,GAC/C,EAAW,SAAS,GACpB,KAAK,IAAI,IAAI,EAAa,KAKzB,YAAY,GACjB,OAAO,KAAK,IAAI,IAAI,IA1BxB,YA8BA,MAAa,EAGX,YAAqB,EAAiC,GAAjC,mBAAiC,cAF9C,eAA2B,GAI/B,eACF,OAAO,KAAK,UAGP,cAAc,GACnB,KAAK,gBACL,KAAK,YAAY,GACjB,EAAY,SAAQ,GAAM,EAAE,OAAS,OAG/B,gBACN,KAAK,UAAY,GAGX,YAAY,GAClB,KAAK,UAAU,QAAQ,GAGlB,SAAS,GAEd,OADA,KAAK,UAAU,KAAK,GACb,GAzBX,gBA6BA,MAAM,EAAqB,MACzB,OAAO,EACP,YAAY,EACZ,WAAW,EACX,gBAAiB,IAAI,EACrB,aAAc,GACd,WAAO,EACP,MAAO,KAGI,0BAA0B,MACrC,KAAM,KACN,KAAM,SACN,KAAM,GACN,GAAI,OAGO,qBAAqB,CAChC,EACA,EACA,KAEO,CACL,kBACA,OAAQ,GACR,kBACA,QAAS,IACT,0BAA2B,EAC3B,QAAS,KACT,gBAAiB,OACjB,UACA,eAAgB,GAChB,kBAAmB,GACnB,aAAc,KAIL,+BAAgC,IAU3C,GATK,EAAQ,UACX,EAAQ,QAAU,KAEf,EAAQ,QAAQ,eACnB,EAAQ,QAAQ,aAAe,IAE5B,EAAQ,QAAQ,kBACnB,EAAQ,QAAQ,gBAAkB,IAAI,GAEI,IAAxC,EAAQ,QAAQ,aAAa,OAAc,CAC7C,MAAM,GAAoB,+BAC1B,EAAQ,QAAQ,aAAa,KAAK,GAClC,EAAQ,QAAQ,gBAAgB,OAAO,KAc3C,UAVsB,WAIT,IAHX,yDAAmB,UAAQ,QAC3B,yDAA4B,GAC5B,EAAmB,uCAEnB,MAAM,GAAU,wBAAmB,EAAS,EAAiB,GAE7D,OAAO,I,gCCrIT,+DAGA,SAAS6D,EAAO7N,EAAgB8N,GAC9B,MAAwB,qBAAV9N,GAA8C,qBAAd8N,EAC1CA,EACiB,kBAAV9N,GAA8C,SAAxBA,EAAM+N,cAGzC,MAEMC,EAAuBC,uLAAYC,mBAAqB,QACxDC,EAA2BF,uLAAYG,uBAAyB,MAChEC,EAA8BJ,uLAAYK,2BAA6B,iBACvEC,EAA+BV,EAAOI,uLAAYO,gCAClDC,EAAaR,uLAAYS,sBACzBC,EAAsCV,uLAAYW,uBAClDC,EAAsBC,SAASb,uLAAYc,iCAAmC,QAAS,IACvFC,EAAwBnB,EAAOI,uLAAYgB,uBAC3CC,EAAuB/I,UAAQC,MAC/BiC,EAAuB1C,UAAQC,QAI/BuJ,EAAmBlB,uLAAYmB,6BAC/BC,EAAwBpB,uLAAYqB,kCACpCC,EAAmBtB,uLAAYuB,8BAAgC,UAC/DC,EAAoBxB,uLAAYyB,+BAAiC,GAEjEC,EAAoC9B,EAAOI,uLAAY2B,qCACvDC,EAAY5B,uLAAY6B,qBACxBC,EAAiB9B,uLAAY+B,2BAC7BC,EAAehC,uLAAYiC,yBAC3BC,EAAclC,uLAAYmC,wBAC1BC,EAAiBpC,uLAAYqC,4BAA8B,GAC3DC,EAAsBtC,uLAAYuC,kCAAoC,GACtEC,EACJxC,uLAAYyC,8BAAgC,kCAKxCC,EAEF7B,SAASb,uLAAY2C,gCAAkC,KAErDC,EACJ,IAAInL,IAEN,IAAK,IAAIjG,EAAI,KAAOA,EAAG,CACrB,MAAMqR,EAAK7C,uLAAa,4BAA2BxO,KACnD,IAAKqR,EACH,MAGF,MAAMC,EAAO9C,uLAAa,4BAA2BxO,WAAa,mBAC5DuR,EAAW/C,uLAAa,4BAA2BxO,eAAiB,GAE1EoR,EAAcI,IAAIH,EAAI,CAAEC,OAAMC,WAAUE,UAAiB,IAANzR,IAGrD,MAAM0R,EAAyE,GAG7E,IAAK,IAAI1R,EAAI,KAAOA,EAAG,CACrB,MAAM2R,EAAWnD,uLAAa,oBAAmBxO,WAC3C4R,EAASpD,uLAAa,oBAAmBxO,SAC/C,IAAK2R,IAAaC,EAChB,MAEF,MAAMC,EAASrD,uLAAa,oBAAmBxO,YACzC8R,EAAQC,IAAOJ,GACfK,EAAMD,IAAOH,GACfI,EAAIC,SAASH,IAAUC,MAASG,QAAQF,IAG5CN,EAAeS,KAAK,CAAEL,QAAOE,MAAKH,WAI/B,IAAKO,GAkCX,SAlCWA,KAAK,iEAALA,EAAK,8CAALA,EAAK,wCAALA,EAAK,qDAALA,EAAK,uGAALA,EAAK,iDAALA,EAAK,6EAALA,EAAK,2EAALA,EAAK,qFAALA,EAAK,6CAALA,EAAK,yCAALA,EAAK,0BAALA,EAAK,6CAALA,EAAK,kDAALA,EAAK,0DAALA,EAAK,0DAALA,EAAK,4EAALA,EAAK,kGAALA,EAAK,oDAALA,EAAK,8DAALA,EAAK,8DAALA,EAAK,oDAALA,EAAK,8DAALA,EAAK,oDAALA,EAAK,0EAALA,EAAK,mEAALA,EAAK,oDAALA,EAAK,4DAALA,EAAK,2DAkChB,CAlCWA,MAAK,KAoCjB,MAAMzJ,EAAY,CAChB4F,uBACAG,2BACAE,8BACAE,qBACAE,aACAE,iBACAK,aACAE,uBACA7G,uBACAyJ,kBAzGwB,EA0GxBC,eAzGqB,GA0GrBC,iBAzGuB,IA0GvB7C,mBACAE,wBACAE,mBACAsB,gBACAoB,gBAzGqB,EA0GrBtC,0BACAE,YACAE,iBACAE,eACAE,cACAE,iBACAE,sBACAd,oBACA0B,iBACAtC,sBACA4B,iBACAyB,iCA3GuC,qBA4GvCvB,sBAGavI,O,iCCnJf,uKAIO,MAAM+J,EAAcC,GAA8BvS,iBAAO1D,IAAaiW,GAEhEC,EAAgBC,GAC3BzS,iBAAOzD,IAAekW,GAEXC,EAAsB,CAAC9K,EAA4B+K,IAC9D3S,iBAAOxD,IAAyB,CAAEoL,QAAO+K,c,iCCZ3C,kEAIO,MAAMC,EAAS,IAAM5S,iBAAOtE,M,iCCJnC,+CAKO,SAASmX,EAAwBC,GAkBtC,OAjBgB,IAAIC,IAAQ,CAC1BC,KAAMF,EACNG,UAAW,4BACXC,QAAS,yBACTC,IAAK,CACHC,MAAO,OACPC,KAAM,OACNC,KAAMC,QAAQD,KACdE,MAAOD,QAAQC,OAEjBC,QAAS,CACPC,WAAOzM,EACP0M,WAAO1M,EACP/E,QAAS,O,yGCXR,MAAe0R,EAA6B,cAAD,KACtCC,GAAa,EAAE,KACfC,GAAa,EAAE,KACfC,OAAiB,EAAE,KACnBC,QAAkB,EAAE,KACpBC,UAAoB,EAAM,KAmBpCC,IAAsBC,IAAMC,YAlB5BC,IACE,OAAOC,KAAKT,GAEdU,IACE,OAAOD,KAAKR,GAEdU,QACE,OAAOF,KAAKP,OAEdU,SACE,OAAOH,KAAKN,QAEdU,UACE,OAAOJ,KAAKL,SAEdU,QACEL,KAAKL,UAAW,GC7Bb,IAAKW,GAsDX,SAtDWA,OAAa,uCAAbA,IAAa,qCAAbA,IAAa,oCAAbA,IAAa,oCAAbA,IAAa,kCAAbA,IAAa,kCAAbA,IAAa,mCAAbA,IAAa,kCAAbA,IAAa,kCAAbA,IAAa,gCAAbA,IAAa,gCAAbA,IAAa,yCAAbA,IAAa,wBAAbA,IAAa,iCAAbA,IAAa,wCAAbA,IAAa,gCAAbA,IAAa,kCAAbA,IAAa,oCAAbA,IAAa,uCAAbA,IAAa,2CAAbA,IAAa,gCAAbA,IAAa,gCAAbA,IAAa,2BAAbA,IAAa,gCAAbA,EAAa,kCAAbA,IAAa,wBAAbA,EAAa,mBAAbA,EAAa,qBAAbA,EAAa,uBAAbA,IAAa,kCAAbA,IAAa,uCAAbA,IAAa,6CAAbA,IAAa,qDAAbA,IAAa,0CAAbA,EAAa,mBAAbA,EAAa,kBAAbA,EAAa,yBAAbA,EAAa,oBAAbA,EAAa,mBAAbA,EAAa,kBAAbA,EAAa,kBAAbA,EAAa,iDAAbA,EAAa,iBAsDxB,CAtDWA,MAAa,KAwDlB,MAAMC,EAAoB,CAC/BC,gBAAgB,G,qBCzDX,IAAKC,GAiEX,SAjEWA,OAAM,uCAANA,IAAM,qCAANA,IAAM,oCAANA,IAAM,oCAANA,IAAM,kCAANA,IAAM,kCAANA,IAAM,mCAANA,IAAM,kCAANA,IAAM,kCAANA,IAAM,gCAANA,IAAM,iCAANA,IAAM,yCAANA,IAAM,wBAANA,IAAM,iCAANA,IAAM,wCAANA,IAAM,gCAANA,IAAM,kCAANA,IAAM,wCAANA,IAAM,wCAANA,IAAM,oCAANA,IAAM,uCAANA,IAAM,2CAANA,IAAM,yCAANA,IAAM,gCAANA,IAAM,gCAANA,IAAM,2BAANA,IAAM,gCAANA,EAAM,kCAANA,IAAM,wBAANA,EAAM,mBAANA,EAAM,qBAANA,EAAM,uBAANA,IAAM,kCAANA,IAAM,uCAANA,IAAM,6CAANA,IAAM,qDAANA,IAAM,kDAANA,IAAM,0CAANA,IAAM,qCAANA,IAAM,iCAANA,IAAM,yCAANA,IAAM,iDAANA,IAAM,iEAANA,IAAM,qCAANA,IAAM,wCAANA,EAAM,mBAANA,EAAM,kBAANA,EAAM,yBAANA,EAAM,oBAANA,EAAM,mBAANA,EAAM,kBAANA,EAAM,kBAANA,EAAM,iDAANA,EAAM,iBAiEjB,CAjEWA,MAAM,KAmEX,MAAMF,EAAoB,CAC/BC,gBAAgB,G,WChDX,MAAME,EAA8B,CACzCC,SAAUC,OAAOC,UACjBC,WAAYL,EAAOM,WAAWC,WAC9BC,SAAUL,OAAOH,EAAOS,UACxBC,UAAWV,EAAOW,UAAUJ,WAC5BK,YAAaZ,EAAOa,YAAYN,WAChCO,sBAAsB,GAIjB,MAAMC,UAAalC,EASxBmC,YACWC,EACT3B,EACAE,GAIC,IAFD0B,EAA6B,uDAAG,GAChCC,EAAa,uCAEbC,QAAQ,KAPCH,OAAU,KATZI,mBAAa,OAEbC,gBAAU,OACVC,aAAO,OAEPL,QAAuBjB,EAAe,KACtCkB,WAAK,OAyCdK,eAAiB,CAAClC,EAAWE,KAC3BD,KAAKT,GAAKQ,EACVC,KAAKR,GAAKS,GACV,KACFiC,aAAe,IAAsD,IAAD,MAApD,cAAEC,GAA6C,EACzDC,GAAcC,qBAClBC,GAAiBH,GACjBnC,KAAKJ,IAAI2C,QAAQC,YACjBxC,KAAKJ,IAAI2C,QAAQzU,OACO,QAAxB,EAAAqU,EAAcM,kBAAU,OAAxB,EAA0BC,SAC1B,KAEFC,aAAe,IAAsD,IAAD,MAApD,cAAER,GAA6C,EACzDC,GAAcC,qBAClBO,GAAmBT,GACnBnC,KAAKJ,IAAI2C,QAAQM,OACO,QAAxB,EAAAV,EAAcM,kBAAU,OAAxB,EAA0BC,SA9C1B1C,KAAKT,GAAKQ,EACVC,KAAKR,GAAKS,EACVD,KAAK4B,MAAQA,EACb5B,KAAK2B,QAAU,IAAK3B,KAAK2B,WAAYA,GAErC,MAAM,SAAEV,EAAQ,UAAEE,EAAS,WAAEL,EAAU,SAAEH,EAAQ,qBAAEY,GAAyBvB,KAAK2B,QAEjF3B,KAAKgC,QAAUhC,KAAK+B,WAAaR,GAC7BuB,KAAKC,UAAUrB,IACfsB,OAAOtB,GACX1B,KAAKN,QAAUuB,EAEf,MAAMgC,EAAWC,GAAcC,GAAaD,EAAI,GAAE/B,KAAaF,OAAcH,KAE7E,GADAd,KAAK8B,cAAgBmB,EAAQjD,KAAK+B,YAC9B/B,KAAK8B,cAAgBnB,EAAU,CACjC,IAAIyC,EAAgB3C,EAAO4C,SAASrC,WAChC1V,EAAI,EACR,KAAO2X,EAAQjD,KAAK+B,WAAWuB,UAAU,EAAGhY,GAAKmV,EAAO4C,SAASrC,YAAcL,GAC7EyC,EAAgBpD,KAAK+B,WAAWuB,UAAU,EAAGhY,KAAOmV,EAAO4C,SAASrC,WAEtEhB,KAAKP,OAASwD,EAAQG,GACtBpD,KAAK+B,WAAaqB,OAElBpD,KAAKP,OAAS8D,KAAKC,IAAI/C,EAAOgD,aAAcR,EAAQjD,KAAK+B,aAI7D2B,eACE,OAAO1D,KAAK8B,cAqBdY,OACE,MAAMnU,EAAQ,CACZuS,WAAYd,KAAK2B,QAAQb,WACzBG,SAAUjB,KAAK2B,QAAQV,SACvBE,UAAWnB,KAAK2B,QAAQR,UACxBwC,KAAMvB,GAAcC,mBAChB5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,YAEtB,OACE,eAAC,IAAK,CAAoBkB,aAAclC,KAAKkC,aAAcS,aAAc3C,KAAK2C,aAAa,UACzF,cAAC,IAAU,CAAC5C,EAAGC,KAAKD,IAAKE,EAAGD,KAAKC,IAAI,SACnC,wBAAC,IAAS,IAAKM,EAAmB1S,IAAKiW,GAAOjW,MAAOkW,KAAM/D,KAAK+B,cAAgBxT,MAElF,eAAC,IAAU,CAACwR,EAAGC,KAAKD,IAAKE,EAAGD,KAAKC,IAAKL,IAAKI,KAAKJ,IAAKoE,SAAS,EAAOC,WAAW,EAAM,UACpF,cAAC,IAAQ,IACH1D,EACJoD,KAAMvB,GAAcC,mBAAqB,QAAU,QACnD6B,QAAS,GACTD,WAAW,IAEb,wBAAC,IAAS,IACJ1D,EACJ1S,IAAKiW,GAAOjW,MACZkW,KAAM/D,KAAKgC,WACPzT,EACJ0V,WAAW,SAhBLH,GAAOjW,QC1FlB,MAAMsW,UACH7E,EAYRmC,YAAY2C,GACVvC,QAAQ,KAVVwC,OAAmB,GAAG,KACtBD,YAAM,OACNE,YAAM,OAEEC,MAAgB,GAAG,KACnBC,UAAoB,EAAM,KACzBC,kBAA4BhE,EAAOiE,sBAAsB,KACzDC,gBAA0B,EAIjC3E,KAAKoE,OAASA,EACdpE,KAAKT,GAAK6E,EAAOrE,IACjBC,KAAKR,GAAK4E,EAAOnE,IAEnB2E,OACE,OAAO5E,KAAKuE,MAEdM,GAAGP,GAID,OAHAtE,KAAKsE,OAASA,EACdtE,KAAKP,OAAS8D,KAAKuB,IAAIR,EAAOvE,IAAMC,KAAKoE,OAAOrE,KAChDC,KAAKN,QAAU6D,KAAKuB,IAAIR,EAAOrE,IAAMD,KAAKoE,OAAOnE,KAC1CD,KAET+E,aACE,OAAO/E,KAAKwE,SAkBJQ,iBACR,MAAMH,EAAK7E,KAAKsE,OAChB,OAAKO,EACE,CAAC,IAAM,CAACA,EAAG9E,IAAK8E,EAAG5E,MADV,GAGlBgF,iBACE,OAAOrE,OAAOH,EAAOyE,kBAEvBhD,aAAaiD,GACX7C,GAAiB6C,EAAEb,QACnBc,GAAgBD,EAAEhD,cAAe,CAC/BkD,YAAazE,OAAOH,EAAO6E,2BAE7BtF,KAAKJ,IAAI2C,QAAQ2B,QAAUlE,KAAKyE,kBAElCc,QAAQ,GAAkD,IAAlD,cAAEpD,GAA6C,EAE5B,IAAD,GADxBnC,KAAKwE,UAAYxE,KAAKwE,SACjBxE,KAAK+E,gBAEJ/E,KAAKoE,kBAAkB5C,GAAyB,QAArB,EAAIxB,KAAKoE,OAAOxC,aAAK,OAAjB,EAAmBmD,cAClD/E,KAAKoE,kBAAkBoB,GAASxF,KAAKoE,OAAOW,cAO9CK,GAAgBjD,EAAe,CAC7BkD,YAAazE,OAAOH,EAAO6E,yBAA2BtF,KAAKyE,oBAE7DzE,KAAKJ,IAAI2C,QAAQ2B,QAAUlE,KAAK2E,kBARhCc,GAAkBtD,EAAe,CAC/BkD,YAAarF,KAAKiF,mBAEpBjF,KAAKJ,IAAI2C,QAAQ2B,QAAUlE,KAAKyE,oBAStC9B,aAAawC,GAEc,IAAD,GADxBvC,GAAmBuC,EAAEb,QAChBtE,KAAK+E,gBAEL/E,KAAKoE,kBAAkB5C,GAAyB,QAArB,EAAIxB,KAAKoE,OAAOxC,aAAK,OAAjB,EAAmBmD,cAClD/E,KAAKoE,kBAAkBoB,GAASxF,KAAKoE,OAAOW,cAE7CK,GAAgBD,EAAEhD,cAAe,CAC/BkD,YAAazE,OAAOH,EAAO6E,yBAA2BtF,KAAKyE,oBAE7DzE,KAAKJ,IAAI2C,QAAQ2B,QAAUlE,KAAK2E,kBAEhCc,GAAkBN,EAAEhD,cAAe,CACjCkD,YAAarF,KAAKiF,mBAEpBjF,KAAKJ,IAAI2C,QAAQ2B,QAAUlE,KAAKyE,oBAItC/B,OACE,MAAM2B,EAASrE,KAAKgF,iBAAiBU,QACnC,CAACrB,EAAQsB,IAAS,IAAItB,KAAWsB,EAAKtB,EAAOA,EAAOuB,OAAS,GAAIvB,EAAOA,EAAOuB,OAAS,MACxF,CAAC5F,KAAKoE,OAAOrE,IAAKC,KAAKoE,OAAOnE,MAEhCoE,EAAOwB,OAAO,EAAG,GAEjB,IAAIjB,EAAO,GAGX,GADAA,GAAS,KAAIP,EAAO,MAAMA,EAAO,MACX,IAAlBA,EAAOuB,OAEThB,GAAS,KAAIP,EAAO,MAAMA,EAAO,UAC5B,CACL,IAAIyB,EAAI,EACR,KAAOA,EAAIzB,EAAOuB,OAAS,GAAG,CAC5B,MAAOG,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAM/B,EAAOgC,MAAMP,EAAGA,EAAI,GAC/CQ,GAAOL,EAAKF,GAAM,EAClBQ,GAAOJ,EAAKF,GAAM,EAClBO,GAAON,EAAKF,GAAM,EAClBS,GAAOL,EAAKF,GAAM,EAClBQ,EAAKnD,KAAKoD,KAAKpD,KAAKqD,IAAIN,EAAK,GAAK/C,KAAKqD,IAAIJ,EAAK,IAAM,EACtDK,EAAKtD,KAAKoD,KAAKpD,KAAKqD,IAAIL,EAAK,GAAKhD,KAAKqD,IAAIH,EAAK,IAAM,EACtDK,EAAKvD,KAAKwD,IAAItG,EAAOuG,kBAAmBN,EAAIG,GAOlDjC,GAAS,KANEqB,EAAMa,EAAKR,EAAOI,KAClBR,EAAMY,EAAKN,EAAOE,OAKFT,KAAMC,KAJtBD,EAAMa,EAAKP,EAAOM,KAClBX,EAAMY,EAAKL,EAAOI,KAI7Bf,GAAK,GAMT,OAFAlB,GAAS,KAAIP,EAAOA,EAAOuB,OAAS,MAAMvB,EAAOA,EAAOuB,OAAS,MACjE5F,KAAKuE,MAAQK,EAEX,eAAC,IAAU,CAEThF,IAAKI,KAAKJ,IACVsC,aAAciD,GAAKnF,KAAKkC,aAAaiD,GACrCxC,aAAcwC,GAAKnF,KAAK2C,aAAawC,GACrCI,QAASJ,GAAKnF,KAAKuF,QAAQJ,GAC3BjB,QAASlE,KAAKyE,kBAAkB,UAEhC,wBAAC,IAAS,IACJlE,EACJ0G,OACE7E,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,WAEtBqE,YAAarF,KAAKiF,iBAClBiC,eAAgBtG,OAAOH,EAAO0G,qBAC9BzF,KAAMkD,EACN/W,IAAKiW,GAAOjW,QAEd,wBAAC,IAAU,IACL0S,EACJ8D,OAAQA,EAAOgC,MAAMhC,EAAOuB,OAAS,GACrCjC,KACEvB,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,WAEtBoG,eAAe,EACfC,aAAczG,OAAOH,EAAO6G,eAC5BC,cAAe3G,OAAOH,EAAO6G,eAC7BzZ,IAAKiW,GAAOjW,UA9BTiW,GAAOjW,QCnJb,MAAM2Z,UAAuBrD,EACxBa,iBACR,MAAMV,EAAStE,KAAKsE,OACpB,IAAKA,EAAQ,MAAO,GAEpB,MAAMmD,EAAoB,CAAC,CAAC1H,EAAGE,IAAM,CAACF,EAAIU,EAAOiH,cAAezH,IAgBhE,OAdIqE,aAAkBkB,IAGlBiC,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnBF,EACA4H,EAAUC,6BAA6BtD,EAAQrE,GAAG4H,YAAYvD,MAKlEmD,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOvE,IAAMU,EAAOiH,cAAezH,MAG3DwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOvE,IAAMU,EAAOiH,cAAepD,EAAOrE,IAAMqE,EAAOnE,YACtEsH,EAGTxC,iBACE,OAAOrE,OAAOH,EAAOqH,uBAGvBvC,QAAQJ,GACNtD,MAAM0D,QAAQJ,GACdC,GAAgBD,EAAEhD,cAAe,CAC/BkD,YAAazE,OAAOH,EAAOsH,gCAI/B7F,aAAaiD,GACXtD,MAAMK,aAAaiD,GACnBC,GAAgBD,EAAEhD,cAAe,CAC/BkD,YAAazE,OAAOH,EAAOsH,gCAI/BpF,aAAawC,GACXtD,MAAMc,aAAawC,GACfnF,KAAK+E,cAAiB/E,KAAKoE,OAAiBW,aAC9CK,GAAgBD,EAAEhD,cAAe,CAC/BkD,YAAazE,OAAOH,EAAOqH,yBAG7BrC,GAAkBN,EAAEhD,cAAe,CACjCkD,YAAazE,OAAOH,EAAOqH,0BCjD5B,MAAME,UAAuB1I,EAMlCmC,YAAqBwG,GACnBpG,QAAQ,KADWoG,SAAkB,KAL9Bpc,MAAc,KAAK,KAEnB6V,KAAa,GAAG,KACzB9B,IAAsBC,IAAMC,YAAY,KAUxCmC,eAAiB,KACfjC,KAAKT,GAAKS,KAAKiI,OAAOlI,IACtBC,KAAKR,GAAKQ,KAAKiI,OAAOhI,KARtBD,KAAKT,GAAKS,KAAKiI,OAAOlI,IACtBC,KAAKR,GAAKQ,KAAKiI,OAAOhI,IACtBD,KAAKN,QAAUM,KAAKiI,OAAO9H,SAC3BH,KAAKP,OAASO,KAAKiI,OAAO/H,QAQ5BwC,OACE,OACE,wBAAC,IAAI,IACCnC,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACb8G,OACE7E,GAAcC,mBAAqB5B,EAAOmD,QAAQ5C,WAAaP,EAAOoD,SAAS7C,WAEjFpB,IAAKI,KAAKJ,OCjCX,MAAMsI,UAAoB/D,EACrBa,iBACR,MAAMZ,EAASpE,KAAKoE,OACdE,EAAStE,KAAKsE,OACpB,IAAKA,EAAQ,MAAO,GAEpB,MAAMmD,EAAoB,CAAC,CAAC1H,EAAGE,IAAM,CAACF,EAAsB,EAAlBU,EAAO0H,SAAclI,IAmB/D,OAjBIqE,EAAOrE,IAAMmE,EAAOnE,KAAOmE,EAAOnE,IAAMqE,EAAOrE,IAAMqE,EAAOnE,UAC9DsH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAAsB,EAAlBQ,EAAO0H,YACpCV,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOvE,KAAOqE,EAAOrE,IAAMuE,EAAOvE,IAAM,EAAIuE,EAAOpE,SAAUD,OAEnFwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAAsB,EAAlBQ,EAAO0H,YACpCV,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnB0H,EAAUS,4BAA4BhE,EAAQrE,GAAG8H,YAAYzD,GAC7DnE,KAEFwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnBF,EACA4H,EAAUU,8BAA8B/D,EAAQrE,GAAG4H,YAAYvD,MAEjEmD,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOvE,KAAOuE,EAAOvE,IAAMA,EAAIuE,EAAOpE,QAAU,GAAID,KAC1EwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGuE,EAAOrE,KAAOqE,EAAOrE,IAAMmE,EAAOnE,IAAMqE,EAAOnE,SAAW,OAG9EsH,GC3BJ,MAAea,UAAchJ,EAA+B,cAAD,yBAavDiJ,kBAAY,OAEH7G,UAAI,EARtB8G,aAAaC,GACXzI,KAAKuI,aAAa9K,KAAKgL,ICiBpB,MAAMC,UAAgBJ,EAsB3B7G,YAEWC,EAEA6G,GAET1G,QAAQ,KAJCH,OAAa,KAEb6G,eAA6B,KAzBxCI,aAAO,OACEC,kBAAY,OACZC,wBAAkB,OAClBC,OAAiBrI,EAAO0H,SAAS,KACjCY,YAAsBtI,EAAOuI,cAAc,KAG3CC,YAAM,OACNC,gBAAU,OACVC,cAAQ,OACRC,oBAAc,OACdC,aAAO,OACPC,mBAAa,OACd9E,UAAoB,EAAM,KAC1B+E,YAAM,OAGLC,sBAAgB,OAChB5J,IAAsBC,IAAMC,YAAY,KACxC2J,SAA2B5J,IAAMC,YAAY,KAsFtDoC,aAAe,IAAsD,IAArD,cAAEC,GAA6C,EACzDC,GAAcC,qBAClBrC,KAAKyJ,SAASlH,QAAQC,YACtBxC,KAAKyJ,SAASlH,QAAQzU,OACtBsX,GAAgBjD,KAChB,KAEFQ,aAAe,IAAsD,IAArD,cAAER,GAA6C,EAC7D,IAAIC,GAAcC,mBAClB,GAAKrC,KAAKwE,SAGH,CAAC,IAAD,EACL,MAAMkF,EAAoC,QAA3B,EAAGvH,EAAcwH,kBAAU,aAAxB,EAA0BD,YAC5CA,IAAcA,EAAUE,MAAMC,OAAS,gBAJvC7J,KAAKyJ,SAASlH,QAAQM,OACtB4C,GAAkBtD,IAKpB,KACFoD,QAAU,IAAsD,IAArD,cAAEpD,GAA6C,EACpDC,GAAcC,qBAClBrC,KAAKwE,UAAYxE,KAAKwE,SACjBxE,KAAKwE,UAIRxE,KAAKyJ,SAASlH,QAAQzU,OACtBsX,GAAgBjD,KAJhBnC,KAAKyJ,SAASlH,QAAQM,OACtB4C,GAAkBtD,MAnGpB2B,GAAOgG,aAAa9J,MAGpB,MAAM+J,EAAgB/J,KAAKuI,aAAa,GACpCwB,aAAyBC,GAC3BhK,KAAKT,GAAKwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUO,EAAOwJ,aAAe,EACxFjK,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK2I,QAAU3I,KAAKT,GAAmB,EAAdS,KAAK8I,SAE1BiB,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAA6B,EAAvBU,EAAO0J,cACrCnK,KAAKR,GAAKuK,EAAc9J,IAAMQ,EAAO2J,eAAiB,EAAIpK,KAAK8I,SAE/D9I,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWM,EAAO2J,gBAEvEpK,KAAK2I,QAAU3I,KAAKT,GAAKkB,EAAO0J,cAAgB,EAChDnK,KAAKT,GAAKS,KAAK2I,QAAwB,EAAd3I,KAAK8I,QAEhC9I,KAAKR,IAAMQ,KAAK8I,OAEhB9I,KAAKP,OAAuB,EAAdO,KAAK8I,OACnB9I,KAAKN,QAAwB,EAAdM,KAAK8I,OAEpB9I,KAAKwJ,iBAAmB1F,GAAOuG,gBAAgBC,YAC7CC,GAAevK,KAAK0B,KAAK7O,cAE3BmN,KAAKiJ,OAASjJ,KAAK0B,KAAK8I,aAExBxK,KAAKkJ,WAAc,YAAWuB,GAAczK,KAAK0B,SACjD1B,KAAKmJ,SAAY,SAAQuB,GAAY1K,KAAK0B,QAC1C1B,KAAKoJ,gBACFpJ,KAAKmJ,SAASvD,OAAS,GAAK5F,KAAKmJ,SAAS9C,MAAM,EAAG,IAAMrG,KAAKmJ,UAC5DwB,MAAM,MACNtE,MAAM,EAAG,GACTuE,KAAK,MAAQ,OAClB5K,KAAKqJ,QAAW,GAAErJ,KAAKkJ,eAAelJ,KAAKmJ,WAC3CnJ,KAAKsJ,cAAiB,GAAEtJ,KAAKkJ,eAAelJ,KAAKoJ,iBACjDpJ,KAAK4I,aAAerF,KAAKC,IAAIL,GAAanD,KAAKkJ,YAAa/F,GAAanD,KAAKmJ,WAC9EnJ,KAAK6I,mBAAqBtF,KAAKC,IAC7BL,GAAanD,KAAKkJ,YAClB/F,GAAanD,KAAKoJ,iBAItBrE,aACE,OAAO/E,KAAKwE,SAEdqG,QACE,OAAO7K,KAAKuJ,OAEdtH,iBACE,MAAM8H,EACJ/J,KAAKuI,aAAauC,MAChB/K,GAAKA,aAAaiK,GAAYjK,EAAc6B,MAAMmJ,cAAgB/K,KAAKwJ,oBACpExJ,KAAKuI,aAAa,GACrBwB,aAAyBC,GAC3BhK,KAAKT,GAAKwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUO,EAAOwJ,aAAe,EACxFjK,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK2I,QAAU3I,KAAKT,GAAmB,EAAdS,KAAK8I,SAE1BiB,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAA6B,EAAvBU,EAAO0J,cACrCnK,KAAKR,GAAKuK,EAAc9J,IAAMQ,EAAO2J,eAAiB,EAAIpK,KAAK8I,SAE/D9I,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWM,EAAO2J,gBAEvEpK,KAAK2I,QAAU3I,KAAKT,GAAKkB,EAAO0J,cAAgB,EAChDnK,KAAKT,GAAKS,KAAK2I,QAAwB,EAAd3I,KAAK8I,QAEhC9I,KAAKR,IAAMQ,KAAK8I,OAElBzI,QACEwB,MAAMxB,QACNL,KAAKuI,aAAa3C,OAAS,EA+B7BlD,OAAyB,IAAD,EAItB,OAHA1C,KAAKL,UAAW,EAChBK,KAAKuJ,OACHvJ,KAAKwJ,iBAAiB5H,OAAS,IAAIsG,EAAYlI,MAAM6E,GAAG7E,KAAKwJ,iBAAiB5H,OAE9E,eAAC,IAAMoJ,SAAQ,WACb,eAAC,IAAK,CACJ9I,aAAciD,GAAKnF,KAAKkC,aAAaiD,GACrCxC,aAAcwC,GAAKnF,KAAK2C,aAAawC,GACrCI,QAASJ,GAAKnF,KAAKuF,QAAQJ,GAC3BvF,IAAKI,KAAKJ,IAAI,UAEd,wBAAC,IAAM,IACDW,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK8I,OACb7B,OACE7E,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,aAGxB,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK+I,YACbpF,KACEvB,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,aAGxB,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK8I,OACb7B,OACE7E,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,aAGxB,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK+I,YACbpF,KACEvB,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,gBAIzBoB,GAAcC,mBACb,eAAC,IAAU,CACTtC,EAAGC,KAAKD,IAAMC,KAAKE,QAAgC,EAAtBO,EAAOwK,aACpChL,EAAGD,KAAKC,IAAMQ,EAAOyK,aACrBlH,SAAS,EACTpE,IAAKI,KAAKyJ,SAAS,UAEnB,cAAC,IAAQ,CAACxC,OAAO,QAAQtD,KAAM,QAASO,QAAStD,OAAOH,EAAO0K,oBAC/D,cAAC,IAAS,CACRpH,KAAM/D,KAAKsJ,cACXxI,WAAYL,EAAOM,WAAWC,WAC9BC,SAAUL,OAAOH,EAAOS,UACxBC,UAAWV,EAAOW,UAAUJ,WAC5B2C,KAAMlD,EAAOmD,QAAQ5C,WACrBoK,QAAS,OAIb,eAAC,IAAU,CACTrL,EAAGC,KAAKD,IAAMC,KAAKE,QAAgC,EAAtBO,EAAOwK,aACpChL,EAAGD,KAAKC,IAAMQ,EAAOyK,aACrBlH,SAAS,EACTpE,IAAKI,KAAKyJ,SAAS,UAEnB,cAAC,IAAQ,CAACxC,OAAO,QAAQtD,KAAM,QAASO,QAAStD,OAAOH,EAAO0K,oBAC/D,cAAC,IAAS,CACRpH,KAAM/D,KAAKqJ,QACXvI,WAAYL,EAAOM,WAAWC,WAC9BC,SAAUL,OAAOH,EAAOS,UACxBC,UAAWV,EAAOW,UAAUJ,WAC5B2C,KAAMlD,EAAOoD,SAAS7C,WACtBoK,QAAS,OAIH,QADX,EACApL,KAAKuJ,cAAM,aAAX,EAAa7G,SA3FKoB,GAAOjW,QC9I3B,MAAMwd,UAAsB/C,EAkBjC7G,YAEWC,EAEA6G,GAET1G,QAAQ,KAJCH,OAAe,KAEf6G,eAA6B,KArBxCI,aAAO,OACEC,kBAAY,OACZC,wBAAkB,OAClBC,OAAiBrI,EAAO0H,SAAS,KACjCY,YAAsBtI,EAAOuI,cAAc,KAC5CO,YAAM,OAELL,gBAAU,OACVC,cAAQ,OACRC,oBAAc,OACdC,aAAO,OACPC,mBAAa,OACd9E,UAAoB,EAAM,KAEzB5E,IAAsBC,IAAMC,YAAY,KACxC2J,SAA2B5J,IAAMC,YAAY,KA6EtDoC,aAAe,IAAsD,IAArD,cAAEC,GAA6C,EACzDC,GAAcC,qBAClBrC,KAAKyJ,SAASlH,QAAQzU,OACtBsX,GAAgBjD,KAChB,KAEFQ,aAAe,IAAsD,IAArD,cAAER,GAA6C,EAC7D,IAAIC,GAAcC,mBAClB,GAAKrC,KAAKwE,SAGH,CAAC,IAAD,EACL,MAAMkF,EAAoC,QAA3B,EAAGvH,EAAcwH,kBAAU,aAAxB,EAA0BD,YAC5CA,IAAcA,EAAUE,MAAMC,OAAS,gBAJvC7J,KAAKyJ,SAASlH,QAAQM,OACtB4C,GAAkBtD,IAKpB,KACFoD,QAAU,IAAsD,IAArD,cAAEpD,GAA6C,EACpDC,GAAcC,qBAClBrC,KAAKwE,UAAYxE,KAAKwE,SACjBxE,KAAKwE,UAIRxE,KAAKyJ,SAASlH,QAAQzU,OACtBsX,GAAgBjD,KAJhBnC,KAAKyJ,SAASlH,QAAQM,OACtB4C,GAAkBtD,MAzFpB2B,GAAOgG,aAAa9J,MAGpB,MAAM+J,EAAgB/J,KAAKuI,aAAa,GACpCwB,aAAyBC,GAC3BhK,KAAKT,GAAKwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUO,EAAOwJ,aAAe,EACxFjK,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK2I,QAAU3I,KAAKT,GAAmB,EAAdS,KAAK8I,SAE1BiB,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAA6B,EAAvBU,EAAO0J,cACrCnK,KAAKR,GAAKuK,EAAc9J,IAAMQ,EAAO2J,eAAiB,EAAIpK,KAAK8I,SAE/D9I,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWM,EAAO2J,gBAEvEpK,KAAK2I,QAAU3I,KAAKT,GAAKkB,EAAO0J,cAAgB,EAChDnK,KAAKT,GAAKS,KAAK2I,QAAwB,EAAd3I,KAAK8I,QAEhC9I,KAAKR,IAAMQ,KAAK8I,OAEhB9I,KAAKP,OAAuB,EAAdO,KAAK8I,OACnB9I,KAAKN,QAAwB,EAAdM,KAAK8I,OAEpB9I,KAAKkJ,WAAc,WAAUuB,GAAczK,KAAK0B,QAChD1B,KAAKmJ,SAAY,SAAQuB,GAAY1K,KAAK0B,QAC1C1B,KAAKoJ,gBACFpJ,KAAKmJ,SAASvD,OAAS,GAAK5F,KAAKmJ,SAAS9C,MAAM,EAAG,IAAMrG,KAAKmJ,UAC5DwB,MAAM,MACNtE,MAAM,EAAG,GACTuE,KAAK,MAAQ,OAClB5K,KAAKqJ,QAAW,GAAErJ,KAAKkJ,eAAelJ,KAAKmJ,WAC3CnJ,KAAKsJ,cAAiB,GAAEtJ,KAAKkJ,eAAelJ,KAAKoJ,iBACjDpJ,KAAK4I,aACHrF,KAAKC,IAAIL,GAAanD,KAAKkJ,YAAa/F,GAAanD,KAAKmJ,WAAa1I,EAAOwK,aAChFjL,KAAK6I,mBAAqBtF,KAAKC,IAC7BL,GAAanD,KAAKkJ,YAClB/F,GAAanD,KAAKoJ,iBAItBrE,aACE,OAAO/E,KAAKwE,SAEdqG,QACE,OAAO7K,KAAKuJ,OAGdtH,iBACE,MAAM8H,EAAgB/J,KAAKuI,aAAauC,MAAK/K,GAAKA,aAAaiK,KAAYhK,KAAKuI,aAAa,GACzFwB,aAAyBC,GAC3BhK,KAAKT,GAAKwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUO,EAAOwJ,aAAe,EACxFjK,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK2I,QAAU3I,KAAKT,GAAmB,EAAdS,KAAK8I,SAE1BiB,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAA6B,EAAvBU,EAAO0J,cACrCnK,KAAKR,GAAKuK,EAAc9J,IAAMQ,EAAO2J,eAAiB,EAAIpK,KAAK8I,SAE/D9I,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWM,EAAO2J,gBAEvEpK,KAAK2I,QAAU3I,KAAKT,GAAKkB,EAAO0J,cAAgB,EAChDnK,KAAKT,GAAKS,KAAK2I,QAAwB,EAAd3I,KAAK8I,QAEhC9I,KAAKR,IAAMQ,KAAK8I,OA+BlBpG,OAAyB,IAAD,EAItB,OAHA1C,KAAKL,UAAW,EAChBK,KAAKuJ,OACHzF,GAAOwH,cAAc1J,OAAS,IAAIsG,EAAYlI,MAAM6E,GAAGf,GAAOwH,cAAc1J,OAE5E,eAAC,IAAMoJ,SAAQ,WACb,eAAC,IAAK,CACJ9I,aAAciD,GAAKnF,KAAKkC,aAAaiD,GACrCxC,aAAcwC,GAAKnF,KAAK2C,aAAawC,GACrCI,QAASJ,GAAKnF,KAAKuF,QAAQJ,GAC3BvF,IAAKI,KAAKJ,IAAI,UAEd,wBAAC,IAAM,IACDW,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK8I,OACb7B,OACE7E,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,aAGxB,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK+I,YACbpF,KACEvB,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,aAGxB,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK8I,OACb7B,OACE7E,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,aAGxB,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK+I,YACbpF,KACEvB,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,gBAIzBoB,GAAcC,mBACb,eAAC,IAAU,CACTtC,EAAGC,KAAKD,IAAMC,KAAKE,QAAgC,EAAtBO,EAAOwK,aACpChL,EAAGD,KAAKC,IAAMQ,EAAOyK,aACrBlH,SAAS,EACTpE,IAAKI,KAAKyJ,SAAS,UAEnB,cAAC,IAAQ,CAACxC,OAAO,QAAQtD,KAAM,QAASO,QAAStD,OAAOH,EAAO0K,oBAC/D,cAAC,IAAS,CACRpH,KAAM/D,KAAKsJ,cACXxI,WAAYL,EAAOM,WAAWC,WAC9BC,SAAUL,OAAOH,EAAOS,UACxBC,UAAWV,EAAOW,UAAUJ,WAC5B2C,KAAMlD,EAAOmD,QAAQ5C,WACrBoK,QAAS,OAIb,eAAC,IAAU,CACTrL,EAAGC,KAAKD,IAAMC,KAAKE,QAAgC,EAAtBO,EAAOwK,aACpChL,EAAGD,KAAKC,IAAMQ,EAAOyK,aACrBlH,SAAS,EACTpE,IAAKI,KAAKyJ,SAAS,UAEnB,cAAC,IAAQ,CAACxC,OAAO,QAAQtD,KAAM,QAASO,QAAStD,OAAOH,EAAO0K,oBAC/D,cAAC,IAAS,CACRpH,KAAM/D,KAAKqJ,QACXvI,WAAYL,EAAOM,WAAWC,WAC9BC,SAAUL,OAAOH,EAAOS,UACxBC,UAAWV,EAAOW,UAAUJ,WAC5B2C,KAAMlD,EAAOoD,SAAS7C,WACtBoK,QAAS,OAIH,QADX,EACApL,KAAKuJ,cAAM,aAAX,EAAa7G,SA3FKoB,GAAOjW,QCjJ3B,MAAM0d,UAA2BpH,EACtC,6BAAqCsD,EAAmB+D,EAAiB3G,GAGvE4C,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnBF,EACAE,GACG4E,EAAG5E,IAAMuL,EAAKvL,KAAQ4E,EAAG5E,MAAQuL,EAAKvL,KAAO4E,EAAG9E,KAAOyL,EAAKzL,IAAO,IAAO,IACzEU,EAAO2J,kBAGLpF,iBACR,MAAMZ,EAASpE,KAAKoE,OACdE,EAAStE,KAAKsE,OACpB,IAAKA,EAAQ,MAAO,GAEpB,MAAMmD,EAAoB,CACxB,CAAC1H,EAAGE,IAAM,CAACF,EAAIU,EAAO0J,cAAgB,EAAGlK,EAAIQ,EAAO2J,eAAiB,IAEvE,GAAI9F,aAAkBoE,GAAWpE,aAAkB+G,EAC7C9H,KAAKuB,IAAIR,EAAOrE,IAAMmE,EAAOnE,KAA+B,EAAxBQ,EAAO2J,gBAC7CmB,EAAmBE,sBAAsBhE,EAAOrD,EAAQE,GAExDmD,EAAMhK,MAAK,IAAM,CAAC6G,EAAOqE,QAA4B,EAAlBlI,EAAO0H,SAAe1H,EAAO0H,SAAU7D,EAAOrE,OACjFwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAIU,EAAO0H,SAAUlI,MAE3CwH,EAAMhK,MAAK,IAAM,CAAC6G,EAAOqE,QAA4B,EAAlBlI,EAAO0H,SAAc7D,EAAOrE,YAE5D,GAAIqE,aAAkBoH,EAC3B,GAAItH,EAAO6D,SAAW3D,EACpBmD,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAA6B,EAAxBQ,EAAO2J,eAAsB,KAC3D3C,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAIU,EAAO2J,eAAiB,EAAGnK,KACrDwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAAIQ,EAAO2J,eAAiB,UAChD,GACLhG,EAAO8F,YACP5F,EAAOvE,IAAMqE,EAAOrE,KAA8B,EAAvBU,EAAO0J,eAClC7F,EAAOvE,IAAMqE,EAAOrE,KACpBuE,EAAOqH,QAAUvH,EAAO6D,OAAO0D,MAG/BlE,EAAMhK,MAAK,IAAM,CAAC6G,EAAOvE,IAAKuE,EAAOrE,IAAMQ,EAAO2J,eAAiB,SAC9D,CACLmB,EAAmBE,sBAAsBhE,EAAOrD,EAAQE,GAExD,MAAMsH,EAAyBjE,EAAUkE,2BACvCvH,EACAF,EAAOrE,KACP8H,YAAYvD,IAETsH,EAAyBxH,EAAOrE,MAAQ6L,EAAyBtH,EAAOvE,KAAO,GAClF0H,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAAC2L,EAAwB3L,KAGhD,MAAM6L,EAA2BnE,EAAUU,8BACzC/D,EACAF,EAAOnE,KACP4H,YAAYvD,IACTwH,EAA2B1H,EAAOnE,MAAQ6L,EAA2BxH,EAAOrE,KAAO,GACtFwH,EAAMhK,MAAK,CAACsC,EAAGE,KACL6L,EAA2B7L,IAAM6L,EAA2BxH,EAAOrE,KAAO,EAC9E,CAACF,EAAGE,GACJ,CAACF,EAAG4H,EAAUU,8BAA8B/D,EAAQrE,GAAG4H,YAAYvD,MAK3EmD,EAAMhK,MAAK,CAACsC,EAAGE,KACb,IAAI8L,EACAC,EAAQ1H,EAAOrE,IAAMQ,EAAO2J,eAAiB,EAAInK,EACrD,MAAMgM,EACJ3H,EAAOrE,IAAMQ,EAAO2J,eAAiB,EAAK7G,KAAK2I,KAAKF,GAASvL,EAAO2J,eAAkB,EAExF,GADA4B,EAAQC,EAAOhM,EACXF,EAAIuE,EAAOvE,IAAMU,EAAO0J,cAE1B4B,EAAOxI,KAAKC,IAAIzD,EAAIU,EAAO0J,cAAe7F,EAAOvE,IAAMwD,KAAKuB,IAAIkH,QAC3D,MACLjM,GACAuE,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cAAgB1J,EAAO0J,eAK5D,CAEL,GAAIpK,EAAIuE,EAAOvE,IACbgM,EAAOzH,EAAOvE,SACT,GACLA,GACAuE,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cAAgB1J,EAAO0J,cAEjE4B,EAAOzH,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cAAgB1J,EAAO0J,kBACnE,CACL,MAAMle,EAAQsX,KAAK6I,OAAOrM,EAAIuE,EAAOvE,KAAOU,EAAO0J,eACnD4B,EAAOzH,EAAOvE,IAAMU,EAAO0J,cAAgBle,EAE7C,MAAO,EAAE8T,EAAIgM,GAAQ,GAAI9L,EAAIgM,GAAQ,GAfrCF,EAAOzH,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cACjD4B,EAAOxI,KAAKwD,IAAIhH,EAAIU,EAAO0J,cAAe4B,EAAOxI,KAAKuB,IAAIkH,IAgB5D,MAAO,CAACD,EAAM9L,MAGhBwH,EAAMhK,MAAK,CAACsC,EAAGE,KACb,MAAMhU,EAAQsX,KAAK6I,OAAOrM,EAAIuE,EAAOvE,KAAOU,EAAO0J,eAC7C6B,EAAQ1H,EAAOrE,IAAMQ,EAAO2J,eAAiB,EAAInK,EACjDgM,EACJ3H,EAAOrE,IAAMQ,EAAO2J,eAAiB,EAAK7G,KAAK2I,KAAKF,GAASvL,EAAO2J,eAAkB,EACxF,OAAIrK,EAAIuE,EAAOvE,IACN,CAACuE,EAAOvE,IAAKkM,GACXlM,GAAKuE,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cACjD,CAAC7F,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cAAe8B,GAE1D,CAAC3H,EAAOvE,IAAMU,EAAO0J,cAAgBle,EAAOggB,WAMzDxE,EAAMhK,MAAK,IAAM,CAAC6G,EAAOvE,IAAKuE,EAAOrE,OAEvC,OAAOwH,GCzGJ,MAAM4E,EAA+B,IAQrC,IARsC,EAC3CtM,EAAC,EACDE,EAAC,MACDC,EAAK,OACLC,EAAM,aACNmM,EAAY,WACZC,KACGhe,GACJ,EACC,OACE,cAAC,IAAK,CACJie,UAAW,CAACzY,EAAS0Y,KACnB,MAAM,UAAEC,EAAS,UAAEC,EAAS,WAAEC,EAAU,WAAEC,GAAeP,EACzDvY,EAAQ+Y,YACR/Y,EAAQgZ,OAAOhN,EAAI2M,EAAWzM,GAC9BlM,EAAQiZ,OAAOjN,EAAIG,EAAQ0M,EAAY3M,GACvClM,EAAQkZ,iBAAiBlN,EAAIG,EAAOD,EAAGF,EAAIG,EAAOD,EAAI2M,GACtD7Y,EAAQiZ,OAAOjN,EAAIG,EAAOD,EAAIE,EAAS0M,GACvC9Y,EAAQkZ,iBAAiBlN,EAAIG,EAAOD,EAAIE,EAAQJ,EAAIG,EAAQ2M,EAAY5M,EAAIE,GAC5EpM,EAAQiZ,OAAOjN,EAAI4M,EAAW1M,EAAIE,GAClCpM,EAAQkZ,iBAAiBlN,EAAGE,EAAIE,EAAQJ,EAAGE,EAAIE,EAASwM,GACxD5Y,EAAQiZ,OAAOjN,EAAGE,EAAIyM,GACtB3Y,EAAQkZ,iBAAiBlN,EAAGE,EAAGF,EAAI2M,EAAWzM,GAC9ClM,EAAQmZ,YAERnZ,EAAQoZ,gBAAgBV,OAEtBlM,EACJX,IAAK2M,KACDhe,KC3CH,MAAM6e,UAAsB9N,EAIjCmC,YAAY8G,GACV1G,QAAQ,KAJVwL,eAAS,OACT9E,kBAAY,OAYZtG,eAAiB,KACfjC,KAAKT,GAAKS,KAAKqN,UAAUtN,IACzBC,KAAKR,GAAKQ,KAAKqN,UAAUpN,KAVzBD,KAAKuI,aAAeA,EACpBvI,KAAKqN,UAAY9E,EAAa,GAC9BvI,KAAKT,GAAKS,KAAKqN,UAAUtN,IACzBC,KAAKR,GAAKQ,KAAKqN,UAAUpN,IACzBD,KAAKN,QAAUM,KAAKqN,UAAUlN,SAC9BH,KAAKP,OAASO,KAAKqN,UAAUnN,QAQ/BwC,OACE,OACE,wBAAC,IAAS,IACJnC,EACJ1S,IAAKiW,GAAOjW,MACZwW,OAAQ,CAACrE,KAAKD,IAAKC,KAAKC,IAAMD,KAAKG,SAAUH,KAAKD,IAAMC,KAAKE,QAASF,KAAKC,KAC3EgH,OACE7E,GAAcC,mBAAqB5B,EAAOmD,QAAQ5C,WAAaP,EAAOoD,SAAS7C,WAEjFkG,eAAgBtG,OAAOH,EAAO6M,oBAC9B1N,IAAKI,KAAKJ,IACVqE,WAAW,KC5BZ,MAAMsJ,UAAuBjF,EAIlC7G,YAEWC,EAEA6G,GAET1G,QAEA,KANSH,OAAoB,KAEpB6G,eAA6B,KAN/BxE,UAAI,OAqCb9B,eAAiB,KACf,MAAM8H,EAAgB/J,KAAKuI,aAAa,GACxC,GAAIwB,aAAyBC,EAC3BhK,KAAKT,GAAKwK,EAAchK,IAAMoD,GAAa4G,EAAcyD,WAAa/M,EAAOwK,aAC7EjL,KAAKR,GAAKuK,EAAc9J,QACnB,CACL,MAAMU,EAAWoJ,EAAc7J,QACzBuN,EAAYlK,KAAKwD,IAAI5D,GAAaH,OAAOhD,KAAK0B,OAAQf,GAC5DX,KAAKT,GAAKwK,EAAchK,KAAOgK,EAAc7J,QAAUuN,GAAa,EACpEzN,KAAKR,GAAKuK,EAAc9J,KAAO8J,EAAc5J,SAAWM,EAAOS,UAAY,EAE7ElB,KAAK+D,gBAAgBvC,EACjBxB,KAAK+D,KAAK9B,eAAejC,KAAKD,IAAKC,KAAKC,KACxCD,KAAK+D,KAAK9B,kBAvCd,MAAM8H,EAAgB/J,KAAKuI,aAAa,GACxC,GAAIwB,aAAyBC,EAC3BhK,KAAKT,GAAKwK,EAAchK,IAAMoD,GAAa4G,EAAcyD,WAAa/M,EAAOwK,aAC7EjL,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK+D,KAAO,IAAIvC,EAAKxB,KAAK0B,KAAM1B,KAAKT,GAAIS,KAAKR,GAAI,CAAE+B,sBAAsB,QACrE,CACL,MAAMZ,EAAWoJ,EAAc7J,QACzBuN,EAAYlK,KAAKwD,IAAI5D,GAAaH,OAAOhD,KAAK0B,OAAQf,GAC5DX,KAAKT,GAAKwK,EAAchK,KAAOgK,EAAc7J,QAAUuN,GAAa,EACpEzN,KAAKR,GAAKuK,EAAc9J,KAAO8J,EAAc5J,SAAWM,EAAOS,UAAY,EAC3ElB,KAAK+D,KAAO2J,EAAO1N,KAAK0B,MACpB,IAAI0L,EAAc,CAACrD,IACnB,IAAIvI,EAAKxB,KAAK0B,KAAM1B,KAAKD,IAAKC,KAAKC,IAAK,CACtCU,SAAUA,EACVY,sBAAsB,IAI9BvB,KAAKP,OAASO,KAAK+D,KAAK7D,QACxBF,KAAKN,QAAUM,KAAK+D,KAAK5D,SAG3BE,QACEwB,MAAMxB,QACNL,KAAKuI,aAAa3C,OAAS,EAiB7B1D,gBACAS,gBAEAD,OAEE,OADA1C,KAAKL,UAAW,EACT,cAAC,IAAMqL,SAAQ,UAAqBhL,KAAK+D,KAAKrB,QAAzBoB,GAAOjW,QCnDhC,MAAM8f,UAAkBrO,EAc7BmC,YAEWmM,EAEAlM,EAETuG,GAEApG,QAAQ,KANC+L,MAAW,KAEXlM,OAAU,KAjBZ7V,WAAK,OAGLgiB,iBAAW,OAEX3D,gBAAU,OAEV4D,qBAAe,OAGxB7F,YAAM,OACN4C,WAAoDlY,EAAU,KAsB9DsP,eAAiB,KACfjC,KAAKT,GAAKS,KAAKiI,OAAOlI,IAAMC,KAAK4N,IAAMnN,EAAO0J,cAC9CnK,KAAKR,GAAKQ,KAAKiI,OAAOhI,IACtBD,KAAKnU,iBAAiB0hB,GAAkBvN,KAAKnU,MAAMoW,kBACnD,KAEFC,aAAe,KACblC,KAAKiI,OAAOkE,MAAM4B,SAAQC,IACxB5I,GAAgB4I,EAAEpO,IAAI2C,aAExB,KAEFI,aAAe,IAAsD,IAArD,cAAER,GAA6C,EAC7D,GAAKnC,KAAKiI,OAAOlD,aAIV,CAAC,IAAD,EACL,MAAM2E,EAAoC,QAA3B,EAAGvH,EAAcwH,kBAAU,aAAxB,EAA0BD,YAC5CA,IAAcA,EAAUE,MAAMC,OAAS,gBALvC7J,KAAKiI,OAAOkE,MAAM4B,SAAQC,IACxBvI,GAAkBuI,EAAEpO,IAAI2C,aAM5B,KAEFgD,QAAU,KACRvF,KAAKiI,OAAO1C,WAnCZvF,KAAKiI,OAASA,EACdjI,KAAKT,GAAKS,KAAKiI,OAAOlI,IAAMC,KAAK4N,IAAMnN,EAAO0J,cAC9CnK,KAAKR,GAAKQ,KAAKiI,OAAOhI,IACtBD,KAAKN,QAAUe,EAAO2J,eACtBpK,KAAKP,OAASgB,EAAO0J,cACrBnK,KAAK6N,YAA2B,IAAb7N,KAAK4N,IACxB5N,KAAKkK,WAAalK,KAAK4N,MAAQ5N,KAAKiI,OAAOvG,KAAKkE,OAAS,EACzD5F,KAAKnU,MAAQiY,GAAOmK,YAAYjO,KAAK0B,KAAM1B,MAC3CA,KAAK8N,gBAAkB9N,KAAKnU,MAAM0c,aAAa3C,OAAS,EA8B1DlD,OACE,GAAI1C,KAAKL,SAAU,OAAO,KAC1BK,KAAKL,UAAW,EAEhB,MAAM2M,EAAe,CACnBI,UAAW,EACXC,UAAW,EACXC,WAAY,EACZC,WAAY,GAed,OAZI7M,KAAK6N,cACPvB,EAAaI,UAAYJ,EAAaK,UAAY/L,OAAOH,EAAOyN,mBAC9DlO,KAAKkK,aACPoC,EAAaM,WAAaN,EAAaO,WAAajM,OAAOH,EAAOyN,mBAC9DlO,KAAKnU,iBAAiB0hB,IAC1BvN,KAAK6K,MAAQ,IAAIU,EAAmBvL,MAAM6E,GAAG7E,KAAKnU,OAClDmU,KAAKiI,OAAOkG,SAASnO,KAAK6K,OACtB7K,KAAKnU,iBAAiB6f,GACxB1L,KAAKnU,MAAMsiB,SAASnO,KAAK6K,QAK3B,eAAC,IAAMG,SAAQ,WACb,cAACqB,EAAW,CAEVtM,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACb8G,OACE7E,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,WAEtBkG,eAAgBtG,OAAOH,EAAO6M,oBAC9Bc,aAAa,EACb7B,WAAYvM,KAAKJ,IACjB0M,aAAcA,EACd/G,QAASvF,KAAKuF,QACdrD,aAAclC,KAAKkC,aACnBS,aAAc3C,KAAK2C,cAhBdmB,GAAOjW,SAkBXmS,KAAKnU,iBAAiB6c,GAAW1I,KAAKnU,iBAAiBwf,IACxDrL,KAAKnU,MAAM6W,OACZ1C,KAAK6K,OAAS7K,KAAK6K,MAAMnI,SAtBPoB,GAAOjW,QCvF3B,MAAM6d,UAAmBpD,EAW9B7G,YAEWC,EAEA6G,GAET1G,QAAQ,KAJCH,OAAY,KAEZ6G,eAA6B,KAbxC4D,MAAqB,GAAG,KAChBkC,eAAwC1b,EAAU,KAC1DgZ,WAAK,OACG2C,QAA+E,GAAG,KAClF9J,UAAoB,EAAM,KAClC5E,IAAsBC,IAAMC,YAAY,KACxCyO,iBAAsC5b,EAAU,KAChD6b,aAAuB,EAAE,KAmDzBjJ,QAAU,KACRvF,KAAKwE,UAAYxE,KAAKwE,SACjBxE,KAAKwE,WACRxE,KAAKmM,MAAM4B,SAAQC,IACjBvI,GAAkBuI,EAAEpO,IAAI2C,YAE1BvC,KAAKqO,WAAa5I,GAAkBzF,KAAKqO,UAAUzO,IAAI2C,WAEzD,KAeF4L,SAAYtD,IACV7K,KAAKsO,QAAQ7Q,KAAKoN,IAlElB/G,GAAOgG,aAAa9J,MAGpB,MAAM+J,EAAgB/J,KAAKuI,aAAa,GACpCwB,aAAyBC,GAC3BhK,KAAKT,GAAKwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUO,EAAOwJ,aACzEjK,KAAKR,GAAKuK,EAAc9J,MAExBD,KAAKuO,YAAcxE,EAAc9B,OAC7B8B,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAA6B,EAAvBU,EAAO0J,cACrCnK,KAAKR,GAAKuK,EAAc9J,MAExBD,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWM,EAAO2J,iBAIzEpK,KAAKP,OAASO,KAAK0B,KAAKkE,OAASnF,EAAO0J,cAAgB1J,EAAOgO,aAC/DzO,KAAKN,QAAUe,EAAO2J,eAGtB,IAAK,IAAI9e,EAAI0U,KAAK0B,KAAKkE,OAAS,EAAGta,GAAK,EAAGA,IAAK,CAC9C,MAAMojB,EAAO,IAAIf,EAAUriB,EAAG0U,KAAK0B,KAAKpW,GAAI0U,MAC5CA,KAAKmM,MAAQ,CAACuC,KAAS1O,KAAKmM,QAGhCjK,gBACAS,gBACAoC,aACE,OAAO/E,KAAKwE,SAEdmK,SACE,OAAO3O,KAAKsO,QAEdjO,QACEwB,MAAMxB,QACNL,KAAKmM,MAAMja,KAAI6N,GAAKA,EAAEM,UACtBL,KAAKuI,aAAa3C,OAAS,EAC3B5F,KAAKsO,QAAU,GAajBM,SAASC,EAAsBlD,GAC7B3L,KAAK2L,MAAQkD,EACb7O,KAAKwO,YAAc7C,EAGrB1J,iBAAwE,IAAzD6M,EAA6B,uDAAG,CAAE/O,GAAI,EAAGE,GAAI,GAC1DD,KAAKT,GAAKuP,EAAI/O,EAAI,EAAI+O,EAAI/O,EAAIC,KAAKT,GACnCS,KAAKR,GAAKsP,EAAI7O,EAAI,EAAI6O,EAAI7O,EAAID,KAAKR,GACnCQ,KAAKmM,MAAM4B,SAAQW,IACjBA,EAAKzM,oBAQTS,OACE,OAAI1C,KAAKI,UACA,MAETJ,KAAKL,UAAW,EAChBK,KAAKsO,QAAWtO,KAAKuI,aAAajW,QAAOyN,GAAKA,aAAaiK,IAAuB9X,KAAI6N,IACpF,MAAM8K,EAAwC,IAAIkE,EAA0BhP,EAAElS,KAAKgX,GAAG7E,MAGtF,OAFAD,EAAE6B,MAAMoN,aAAahP,MACrBD,EAAE6B,MAAMoN,aAAanE,GACdA,KAEiB,IAAtB7K,KAAKmM,MAAMvG,SACb5F,KAAKqO,UAAY,IAAIrG,EAAehI,OAGpC,eAAC,IAAK,CAAoBJ,IAAKI,KAAKJ,IAAI,UACrCI,KAAKsO,QAAQpc,KAAI2Y,GAASA,EAAMnI,SAChC1C,KAAKmM,MAAMvG,OAAS,GAAK5F,KAAKmM,MAAMja,KAAIwc,GAAQA,EAAKhM,SACrD1C,KAAKqO,WAAarO,KAAKqO,UAAU3L,OAClC,cAAC,IAAI,CAACxC,MAAOF,KAAKE,QAASC,OAAQH,KAAKG,aAJ9B2D,GAAOjW,SC7FzB,MAAMohB,EAAa,IAAI1d,IAAI,CACzB,CAAC,SAAU,UACX,CAAC,qBAAsB,WACvB,CAAC,qBAAsB,oBACvB,CAAC,sBAAuB,gCACxB,CAAC,mBAAoB,SACrB,CAAC,0BAA2B,mBAIvB,MAAMiU,UAAclG,EA0BzBmC,YAEWsJ,EAEAmE,EACAC,GACR,IAAD,EACAtN,QAAQ,KALCkJ,cAAwB,KAExBmE,SAAc,KACdC,SAAc,KA7BzBC,iBAAW,OAEXC,gBAAU,OACVC,uBAAiB,OAGRC,SAAsB,GAAG,KAEzB3S,UAAI,OAEb+O,WAAK,OAEL9Y,iBAAW,OAEF2c,iBAAW,OAKpBC,aAAO,OAECC,OAAoB,GAAG,KACvBlL,UAAoB,EAAM,KA6DlCvC,eAAiB,CAAClC,EAAWE,KAC3BD,KAAKT,GAAKQ,EACVC,KAAKR,GAAKS,EAAID,KAAKyP,QACnBzP,KAAKpD,KAAKqF,eAAejC,KAAKD,IAAKE,GACnCD,KAAKuP,SAASxB,SAAQ4B,IACpBA,EAAQ1N,eAAejC,KAAKD,IAAKE,OAEnC,KAEF2P,OAAU7E,IACR/K,KAAK2L,MAAQZ,EAAYY,MACzB3L,KAAKnN,YAAckY,EAAYlY,YAC/BmN,KAAKyP,QAAUzP,KAAKpD,KAAKuD,SAAWM,EAAOyK,aAAe,EAC1DlL,KAAKR,GAAKQ,KAAK2L,MAAM1L,IAAMD,KAAKyP,QAEhC,IAAII,EAAkB,EACtB,IAAK,MAAOhiB,EAAK6T,KAASoO,OAAOC,QAAQ/P,KAAKnN,YAAYmd,MAAO,CAC/D,MAAMC,EACJ1M,KAAKC,IAAI/C,EAAOgD,aAAcN,GAAatV,EAAM4S,EAAOyP,gBACxDzP,EAAOwK,cACNkF,EAAazO,GACV6B,KAAKC,IAAI/C,EAAOgD,aAAcN,GAAa1C,EAAO2P,eAAepP,aACjEqP,EAAgB3O,GAChB6B,KAAKC,IAAI/C,EAAOgD,aAAcN,GAAaH,OAAOtB,KAClD,GACNmO,EAAkBtM,KAAKC,IAAIqM,EAAiBI,GAE9CjQ,KAAKP,OAASoQ,EAAyC,EAAvBpP,EAAOiH,cACvC1H,KAAK0P,OAAS,GAGd,IAAIY,EAA8B,KAC9BjB,EAAarP,KAAKP,OAClB8Q,EAAcvQ,KAAKP,OACvBO,KAAKsP,kBAAoB/L,KAAKC,IAAI6L,EAAYrP,KAAKpD,KAAK8G,gBAExD,MAAM8M,EAAcV,OAAOW,0BAA0BzQ,KAAKnN,YAAYmd,MAChED,EAAU,GACVW,EAAe,GACrB,IAAK,MAAMC,KAASb,OAAOC,QAAQS,GACjC,GAAII,EAAWD,EAAM,IAAK,CACxB,MAAME,EAAYtG,GAAeoG,EAAM,GAAG9kB,MAAMgH,cAE9CmN,KAAKnN,YAAY8J,KAAO8D,EAAOqQ,aAC9BD,GAAaA,EAAUlU,KAAOqD,KAAKnN,YAAY8J,KAEhD+T,EAAajT,KAAKkT,QAGpBZ,EAAQtS,KAAKkT,GAGjBZ,EAAQtS,QAAQiT,GAEhB,IAAK,MAAO7iB,EAAK6T,KAASqO,EAAS,CACjC,MAAMgB,EAAuB,IAAI/G,EAAQnc,EAAK6T,EAAK7V,MAAOmU,KAAMsQ,GAAc5O,EAAKsP,WAM1E,IAJPhR,KAAKuP,SAAS0B,WACZC,GACEA,EAAErlB,QAAUklB,EAAYllB,QACvBklB,EAAYI,gBAAkBD,EAAE1D,YAAcuD,EAAYvD,eAG/DxN,KAAKuP,SAAS9R,KAAKsT,GACnBT,EAAcS,EACd1B,EAAa9L,KAAKC,IAAI6L,EAAY0B,EAAY7Q,QAAUO,EAAOiH,eAC/D6I,EAAchN,KAAKC,IAAI+M,EAAaQ,EAAYR,cAAgB9P,EAAOiH,eACvE1H,KAAKsP,kBAAoB/L,KAAKC,IAC5BxD,KAAKsP,kBACLyB,EAAYrN,eAAiBjD,EAAOiH,gBAKtCtF,GAAcC,mBAChBrC,KAAKqP,WAAakB,EAElBvQ,KAAKqP,WAAaA,EAIpBrP,KAAKN,QAAU4Q,EACXA,EAAYrQ,IAAMqQ,EAAYnQ,SAAWM,EAAO2Q,cAAgBpR,KAAKC,IAC9C,EAAvBQ,EAAO2Q,cACXpR,KAAKoP,YAAcpP,KAAKG,SAAWH,KAAKpD,KAAKuD,SAAWM,EAAOyK,aAAe,EAC9E,MAAMmG,EACJ7L,EAAM8L,UAAUtR,KAAKkP,QAAUlP,KAAKqP,WAAa5O,EAAOwJ,aAAexJ,EAAO0H,SAChF3C,EAAM8L,UAAUtR,KAAKkP,OAAS,QACSvc,IAArC6S,EAAM8L,UAAUtR,KAAKkP,OAAS,GAC1BmC,EACA9N,KAAKC,IAAIgC,EAAM8L,UAAUtR,KAAKkP,OAAS,GAAImC,GACjD7L,EAAM+L,KAAOhO,KAAKC,IAChBgC,EAAM+L,KACN/L,EAAM8L,UAAUtR,KAAKkP,SAClB9M,GAAcC,mBAAqBrC,KAAKqP,WAAarP,KAAKsP,mBAC7D9J,EAAM8L,UAAU9L,EAAM8L,UAAU1L,OAAS,IAE3CJ,EAAMgM,QAAQxR,KAAKmP,QAAU5L,KAAKC,IAAIgC,EAAMgM,QAAQxR,KAAKmP,SAAW,EAAGnP,KAAKoP,cAC5E,KASFrK,WAAa,IACJ/E,KAAKwE,SACZ,KAEFtC,aAAe,KACbI,GAAiBtC,KAAKJ,IAAI2C,SAC1B6C,GAAgBpF,KAAKJ,IAAI2C,SACzBvC,KAAKuP,SAASxB,SAAQhO,IACpB,MAAM8K,EAAQ9K,EAAE0R,WAChB5G,GAASzF,GAAgByF,EAAMjL,IAAI2C,YAErCvC,KAAK0P,OAAO3B,SAAQhO,IAClBA,GAAKqF,GAAgBrF,EAAEH,IAAI2C,aAE7B,KAEFI,aAAe,KACbC,GAAmB5C,KAAKJ,IAAI2C,SACvBvC,KAAKwE,WACRiB,GAAkBzF,KAAKJ,IAAI2C,SAC3BvC,KAAKuP,SAASxB,SAAQhO,IACpB,MAAM8K,EAAQ9K,EAAE0R,WAChB5G,IAAUA,EAAM9F,cAAgBU,GAAkBoF,EAAMjL,IAAI2C,YAE9DvC,KAAK0P,OAAO3B,SAAQhO,IACZA,aAAa2L,GAAgB3L,EAAEgF,cACnChF,GAAK0F,GAAkB1F,EAAEH,IAAI2C,cAInC,KAKFgD,QAAWJ,IACTnF,KAAKwE,UAAYxE,KAAKwE,SACjBxE,KAAKwE,UAYRY,GAAgBpF,KAAKJ,IAAI2C,SACzBvC,KAAKuP,SAASxB,SAAQhO,IACpB,MAAM8K,EAAQ9K,EAAE0R,WAChB5G,GAASzF,GAAgByF,EAAMjL,IAAI2C,YAErCvC,KAAK0P,OAAO3B,SAAQhO,IAClBA,GAAKqF,GAAgBrF,EAAEH,IAAI2C,cAjB7BkD,GAAkBzF,KAAKJ,IAAI2C,SAC3BvC,KAAKuP,SAASxB,SAAQhO,IACpB,MAAM8K,EAAQ9K,EAAE0R,WAChB5G,IAAUA,EAAM9F,cAAgBU,GAAkBoF,EAAMjL,IAAI2C,YAE9DvC,KAAK0P,OAAO3B,SAAQhO,IACZA,aAAa2L,GAAgB3L,EAAEgF,cACnChF,GAAK0F,GAAkB1F,EAAEH,IAAI2C,cA3MnCvC,KAAKP,OAASgB,EAAOiR,cACrB1R,KAAK2L,MAAQZ,EAAYY,MACzB3L,KAAKnN,YAAckY,EAAYlY,YAC/BmN,KAAKwP,YAAgC,QAArB,EAAGzE,EAAY9C,cAAM,aAAlB,EAAoBrG,MACvC5B,KAAKkP,OAASA,EACdlP,KAAKmP,OAASA,EACd3J,EAAMmM,UAAYpO,KAAKC,IAAI0L,EAAQ1J,EAAMmM,WACzC3R,KAAKT,GAAgB,IAAX2P,EAAezO,EAAOmR,eAAiBpM,EAAM8L,UAAUpC,GAEjElP,KAAKpD,KAAO,IAAI4E,EACdyN,EAAWnd,IAAIkO,KAAKnN,YAAY+J,OAASoD,KAAKnN,YAAY+J,KAC1DoD,KAAKD,IACLC,KAAK2L,MAAM1L,IACX,CAAEU,SAAUX,KAAKE,UAEnBF,KAAKyP,QAAUzP,KAAKpD,KAAKuD,SAAWM,EAAOyK,aAAe,EAC1DlL,KAAKR,GAAKQ,KAAK2L,MAAM1L,IAAMD,KAAKyP,QAChCzP,KAAKP,OAAgC,EAAvBgB,EAAOiH,cACrB1H,KAAKqP,WAAarP,KAAKE,QACvBF,KAAKsP,kBAAoBtP,KAAKqP,WAC9BrP,KAAKN,QAAiC,EAAvBe,EAAO2Q,cACtBpR,KAAKoP,YAAcpP,KAAKG,SAAWH,KAAKpD,KAAKuD,SAAWM,EAAOyK,aAAe,EAC9ElL,KAAK4P,OAAO7E,GAQd8G,uBAAuB9R,GACrB,IAAI+R,EAAItM,EAAM8L,UAAU1L,OACxB,KAAOkM,KACL,GAAItM,EAAM8L,UAAUQ,IAAM/R,EACxB,OAAO+R,EAGX,OAAO,EAGT9C,aAAanjB,GACX,MAAMkmB,EAAkB/R,KAAK0P,OAAOld,SAAS3G,GAE7C,OADCkmB,GAAU/R,KAAK0P,OAAOjS,KAAK5R,IACpBkmB,EA+KVrP,OACE,IAAIsP,EAKJ,YAJyBrf,IAArBqN,KAAKwP,cACPwC,EAAqB,IAAIxK,EAAexH,MAAM6E,GAAG7E,KAAKwP,aACtDxP,KAAKgP,aAAagD,IAGlB,eAAC,IAAK,CAAoBpS,IAAKI,KAAKJ,IAAI,UACrCoS,GAAsBA,EAAmBtP,OACzC1C,KAAKuP,SAASrd,KAAIyd,KAAaA,EAAQjO,gBAAgBgK,IAAeiE,EAAQjN,SAC9E1C,KAAKpD,KAAK8F,OACX,wBAAC,IAAI,IACCnC,EACJR,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACb8G,OACE7E,GAAcC,mBACV5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,WAEtBsL,aAAc1L,OAAOH,EAAOwR,mBAC5BpkB,IAAKiW,GAAOjW,MACZ0X,QAASJ,GAAKnF,KAAKuF,QAAQJ,GAC3BjD,aAAc,IAAMlC,KAAKkC,eACzBS,aAAc,IAAM3C,KAAK2C,mBAnBjBmB,GAAOjW,QAnQZ2X,EAiBJmM,WAAqB,EAjBjBnM,EAkBJ+L,KAAe9Q,EAAOmR,eAAeM,UAlBjC1M,EAmBJ8L,UAAsB,CAAC7Q,EAAOmR,eAAeM,WAnBzC1M,EAoBJgM,QAAoB,CAAC/Q,EAAO0R,eAAeD,WApBvC1M,EAyLJnF,MAAQ,KACbmF,EAAM+L,KAAO9Q,EAAOmR,eAAeM,UACnC1M,EAAMmM,WAAa,EACnBnM,EAAM8L,UAAY,CAAC7Q,EAAOmR,eAAeM,WACzC1M,EAAMgM,QAAU,CAAC/Q,EAAO0R,eAAeD,YC7NpC,MAAeE,UAAc9S,EACxBmC,YAEC4Q,GAETxQ,QAAQ,KAFCwQ,eCGN,MAAMC,UAAmBF,EAW9B3Q,YAEW4Q,GAETxQ,MAAMwQ,GAAa,KAFVA,cAAuB,KAZ1BE,MAAgBC,IAAS,KACzBC,OAAiB,EAAE,KAC3BllB,SAAuC,CAAC,IAAI,KAGpCmlB,UAAoB,EAAE,KAGrBC,OAAuB,GAAG,KAmBnCC,YAAc,IACL5S,KAAK0S,UACZ,KAOFG,SAAW,CAACC,EAAmB/S,KAAe,IAAD,IAC3CA,EAAIA,GAAK,EAGT,IAAI4L,EAAsC,QAAjC,EAAoB,QAApB,EAAGmH,EAAMvE,mBAAW,aAAjB,EAAmBC,mBAAW,QAAI,EAC1CtO,EAAQ,EACR6S,EAAcD,EAClB,MAAME,EAAuB,GAC7B,KAAOD,aAAgBrH,IACjBsH,EAAYxgB,SAASugB,IAGzBC,EAAYvV,KAAKsV,GACjB7S,GAASO,EAAOwS,iBAAmBF,EAAK5G,MAAMvG,OAASnF,EAAO0J,cAC1D4I,EAAK5G,MAAMvG,OAAS,GAAKmN,EAAK5G,MAAM4G,EAAK5G,MAAMvG,OAAS,GAAG/Z,iBAAiB6f,IAC9EqH,EAAOA,EAAK5G,MAAM4G,EAAK5G,MAAMvG,OAAS,GAAG/Z,OAI7CqnB,EAAW,IAAK,MAAMA,KAAalT,KAAKzS,SAAS8Y,MAAMsF,GAAQ,CAC7D,IAAK,MAAMpe,KAAY2lB,EAErB,GAAI3lB,EAAS,GAAKwS,EAAIG,EAAQO,EAAOgO,cAAgBlhB,EAAS,GAAKwS,EAAG,CACpE4L,IACA,SAASuH,EAGb,MAEFlT,KAAKuS,MAAQhP,KAAKwD,IAAIhH,EAAGC,KAAKuS,OAC9BvS,KAAKyS,SACLzS,KAAK0S,UAAYnP,KAAKC,IAAIxD,KAAK0S,UAAW/G,GAC1C3L,KAAKzS,SAASoe,GAAS3L,KAAKzS,SAASoe,IAAU,GAC/C3L,KAAKzS,SAASoe,GAAOlO,KAAK,CAACsC,EAAGA,EAAI+S,EAAM5S,QAAUO,EAAO0J,cAAgB,IACzEnK,KAAKzS,SAASoe,GAAOwH,MAAK,CAACC,EAAGC,IAAMD,EAAE,GAAKC,EAAE,KAC7C,MAAMC,EAAc7S,EAAO8S,iBACrBC,EAAOxT,KAAKR,GAAKmM,EAAQlL,EAAO2J,gBAAkBuB,EAAQ,GAAK2H,EACrER,EAAM7Q,eAAe,CAAElC,IAAGE,EAAGuT,IAC7BV,EAAMlE,SAAS5O,KAAM2L,GACrB3L,KAAKN,QAAU6D,KAAKC,IAAIxD,KAAKN,QAAS8T,EAAOF,GAC7CtT,KAAK2S,OAAOlV,KAAKqV,GACjB9S,KAAKP,OAAS8D,KAAKC,IAAIxD,KAAKP,OAAQM,EAAI+S,EAAM5S,UAC9C,KAEFuT,KAAQxT,IACND,KAAK2S,OAAO5E,SAAQ+E,GACXA,EAAM7Q,eAAe,CAAElC,EAAG+S,EAAM/S,IAAKE,EAAG6S,EAAM7S,IAAMD,KAAKC,IAAMA,MAExED,KAAKR,GAAKS,GACV,KAEFI,MAAQ,KACNL,KAAKuS,MAAQC,IACbxS,KAAKyS,OAAS,GA1EdzS,KAAKT,GAAKkB,EAAOmR,eACjB5R,KAAKR,GAAK,EACVQ,KAAKP,OAAS,EACdO,KAAK0S,UAAY,EAGnBgB,OACE,OAAO1T,KAAKuS,MAEdoB,QACE,OAAO3T,KAAKyS,OAmEd/P,OACE,OACE,eAAC,IAAK,CAAoB9C,IAAKI,KAAKJ,IAAI,UACtC,wBAAC,IAAI,IACCW,EACJR,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACbtS,IAAKiW,GAAOjW,MACZoW,WAAW,IAEZjE,KAAK2S,OAAOzgB,KAAI4gB,GAASA,EAAMpQ,WAVtBoB,GAAOjW,QC/FlB,MAAM+lB,UAAmBxB,EAS9B3Q,YAEW4Q,GAETxQ,MAAMwQ,GAAa,KAFVA,cAA8B,KARzCwB,gBAAU,OACD1E,YAAM,OAGN2E,OAAkB,GAAG,KAyB9BC,SAAYC,IAAuB,IAAD,EAEhC,MAAMC,EAAa1Q,KAAKC,IAAe,QAAZ,EAACwQ,EAAK9E,cAAM,QAAI,EAAG0E,EAAWM,UAAWlU,KAAK6T,WAAa,GACtF7T,KAAK6T,WAAaI,EAClBL,EAAWM,UAAY3Q,KAAKC,IAAIoQ,EAAWM,UAAWD,GACtDD,EAAKrI,MAAQ3L,UACmBrN,IAA5BqN,KAAK8T,OAAOG,GACdjU,KAAK8T,OAAOG,GAAYrE,OAAOoE,IAE/BhU,KAAK8T,OAAOG,GAAc,IAAIzO,EAAMwO,EAAMC,EAAYjU,KAAKmP,QAC3D6E,EAAKpS,MAAQ5B,KAAK8T,OAAOG,IAE3BjU,KAAKP,OAAS+F,EAAM+L,MACpB,KAMFkC,KAAQxT,IACND,KAAKR,GAAKS,EACVD,KAAK8T,OAAO/F,SAAQnM,IAClBA,EAAMK,eAAeL,EAAM7B,IAAKE,OAxClCD,KAAKT,GAAKkB,EAAOmR,eACjB5R,KAAKR,GAAK,EACVQ,KAAKP,OAAS,EACdO,KAAK6T,YAAc,EACnB7T,KAAKmP,OAASyE,EAAWO,YAG3BhU,SACE,OAAOqF,EAAMgM,QAAQxR,KAAKmP,QAAU1O,EAAO2T,aAyC7C1R,OACE,OACE,eAAC,IAAK,CAAoB9C,IAAKI,KAAKJ,IAAI,UACtC,wBAAC,IAAI,IACCW,EACJR,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACbtS,IAAKiW,GAAOjW,MACZoW,WAAW,IAEZjE,KAAK8T,OAAOO,UAAUniB,KAAI0P,GAASA,EAAMc,WAVhCoB,GAAOjW,QAjEZ+lB,EACJM,UAAoB,EADhBN,EAEJO,UAAoB,EAFhBP,EA0DJvT,MAAQ,KACbuT,EAAWM,UAAY,EACvBN,EAAWO,UAAY,GClDpB,MAAMG,UAAahV,EAQxBmC,YAEW8S,GAET1S,QAAQ,KAFC0S,eAA6B,KARxCC,iBAAW,OACXC,iBAAW,OACXC,YAAM,OACNC,YAAM,OAoBNC,QAAU,KACR5U,KAAKwU,YAAYzG,SAAQ+D,GAAKA,EAAElS,IAAI2C,QAAQsS,qBAb5C7U,KAAKT,GAAK,EACVS,KAAKR,GAAK,EACVQ,KAAKwU,YAAc,GACnBxU,KAAKyU,YAAc,GACnBzU,KAAK0U,OAAS,GACd1U,KAAK2U,OAAS,GACdL,EAAKQ,WAAa,GAClB9U,KAAKN,QAAU,EACfM,KAAKP,OAAS,EACdO,KAAK4P,OAAO2E,GAWd3E,OAAO2E,GACL/O,EAAMnF,QACNuT,EAAWvT,QACXsH,EAAUtH,QACVL,KAAKyU,YAAY1G,SAAQhO,GAAKA,EAAEM,UAChCL,KAAKwU,YAAc,GACnBxU,KAAKyU,YAAc,GACnBzU,KAAK0U,OAAS,GACd,MAAMK,EAAsCR,EAAa7O,QAAO,CAACsP,EAAQD,EAAOzpB,KACpE,IAANA,GACF0U,KAAKwU,YAAYlpB,GAAK,IAAIsoB,EAAW,MACrC5T,KAAKyU,YAAYnpB,GAAK,IAAIgnB,EAAWtS,KAAKwU,YAAYlpB,MAEtD0U,KAAKwU,YAAYlpB,GAAK,IAAIsoB,EAAW5T,KAAKyU,YAAYnpB,EAAI,IAC1D0U,KAAKyU,YAAYnpB,GAAK,IAAIgnB,EAAWtS,KAAKwU,YAAYlpB,KAExD0U,KAAK0U,OAAOjX,KAAKuC,KAAKwU,YAAYlpB,IAClC0U,KAAK0U,OAAOjX,KAAKuC,KAAKyU,YAAYnpB,IAC3B,IAAI0pB,KAAWD,EAAM7iB,KAA2B8hB,GAAQ,CAAC1oB,EAAG0oB,QAClE,IAAIiB,OAEPF,EAAM5B,MAAK,CAACC,EAAGC,IAAM1Y,SAASyY,EAAE,GAAGvgB,YAAY8J,IAAMhC,SAAS0Y,EAAE,GAAGxgB,YAAY8J,MAC/EqD,KAAK2U,OAAS,GACdL,EAAKQ,WAAa,GAGlB,MAAMI,EAAsC,GAC5CH,EAAMhH,SAAQiG,IAAS,IAAD,MAQpB,GANAkB,EAAKlB,EAAK,IAAmB,QAAhB,EAAGkB,EAAKlB,EAAK,WAAG,QAAI,GACjCA,EAAK,GAAG9E,OAAS3L,KAAKC,IACpB0R,EAAKlB,EAAK,IAAIpO,OAAS,EAAI,EACY,QADX,EACG,QADH,EAC3BoO,EAAK,GAAmB/L,cAAM,aAA/B,EAAiCiH,cAAM,QAAI,GAE7CgG,EAAKlB,EAAK,IAAIA,EAAK,GAAG9E,QAAU8E,EAAK,GACjCA,EAAK,GAAG/L,OAAQ,CAClB,IAAIkN,EAAcnB,EAAK,GACnBrI,EAAQqI,EAAK,GACboB,GAAgB,EAMpB,KAAOA,GAAe,CACpB,MAAMC,EAAaF,EAAYlN,OAC/B,GACEoN,EAAWnG,QACXmG,EAAWC,SAASC,SAAQxV,GAAKyV,GAAgBzV,KAAmB,KAAOoV,EAE3E,QAA2BxiB,IAAvBwiB,EAAYjG,aAA8Cvc,IAAtB0iB,EAAWnG,OACjDkG,GAAgB,MACX,CACL,MAAMK,EAAeN,EAAYjG,OAASmG,EAAWnG,OAC/CwG,EAAiBL,EAAWnG,OAEhCuG,EAAO,GACPP,EAAKvJ,GACFtF,MAAMqP,EAAgBP,EAAYjG,QAClCyG,OACC5V,IAAC,kBACOpN,IAANoN,GACApF,SAAgC,QAAxB,EAACoF,EAAEkI,OAAOpV,YAAY8J,UAAE,QAAI,GAAKhC,SAAS0a,EAAWxiB,YAAY8J,QAG/EuY,EAAKvJ,EAAQ,GAAGtF,MAAMqP,GAAgB3H,SAAQhO,SAClCpN,IAANoN,IACFA,EAAEmP,OAASnP,EAAEmP,OAASnP,EAAEmP,OAASuG,EAAO1V,EAAEmP,WAG9CgG,EAAKvJ,EAAQ,GAAK,IACbuJ,EAAKvJ,EAAQ,GAAGtF,MAAM,EAAGqP,MACzBT,MAAMQ,GAAM9R,UAAKhR,MACjBuiB,EAAKvJ,EAAQ,GAAGtF,MAAMqP,IAE3B/J,GAAgB,EAChBwJ,EAAcE,GAEdD,GAAgB,OAIpBA,GAAgB,OAOxBL,EAAM5B,MAAK,CAACC,EAAGC,KAAC,eAAiB,QAAZ,EAACD,EAAE,GAAGlE,cAAM,QAAI,IAAiB,QAAhB,EAAKmE,EAAE,GAAGnE,cAAM,QAAI,MAC1D6F,EAAMhH,SAAQiG,GAAQhU,KAAKwU,YAAYR,EAAK,IAAID,SAASC,EAAK,MAE9DlQ,GAAO4L,OAAO3B,SAAQ,CAACmD,EAAG0E,EAAGC,KAC3B,GAAI3E,aAAaxF,EAAY,CAC3B,IAAI6D,EAAW2B,EAAE3I,aAAajW,QAAOwjB,GAAKA,aAAa9L,IACnD+L,EAAe7E,EAAE3I,aAAauC,MAAK/K,GAAKA,aAAa4N,IACzD,MAAMqI,EAAiB9E,EAAE3I,aAAa,aAAcyB,EACpD,KAA2B,IAApBuF,EAAS3J,QACd2J,EAAWwG,EAAE9N,OAAOM,aAAajW,QAAOwjB,GAAKA,aAAa9L,IAC1D+L,EAAIA,EAAE9N,OAAOM,aAAauC,MAAK/K,GAAKA,aAAa4N,IAGnD,GAAIqI,EAAgB,CAClB,MAAM/V,EAAKiR,EAAE3I,aAAa,GAAe3G,MAAMuN,OAEzCpP,EACJyF,EAAM8L,UAAWJ,EAAE3I,aAAa,GAAe3G,MAAMsN,OAAS,GAC9D,GAAMzO,EAAOwJ,aAGfjK,KAAKyU,YAAYlR,KAAK6I,MAAMnM,IAAI4S,SAAS3B,EAAGnR,QACvC,GAAImR,EAAE3I,aAAa,aAAcoF,EAAW,CAAC,IAAD,MACjD,MAAM1N,EAAuD,QAAtD,EAAiC,QAAjC,EAAGiR,EAAE3I,aAAa,GAAGN,OAAO0D,aAAK,OAAa,QAAb,EAA9B,EAAgC0G,mBAAW,WAAb,EAA9B,EAA6ClD,cAAM,QAAI,EAC3DpP,EACJmR,EAAE3I,aAAa,GAAGxI,KACjBmR,EAAE3I,aAAa,aAAcoF,GAAauD,EAAE3I,aAAa,GAAG2B,WACzDzJ,EAAO0J,cAAgB1J,EAAOwS,iBAC9B,GACNjT,KAAKyU,YAAYlR,KAAK6I,MAAMnM,IAAI4S,SAAS3B,EAAGnR,QAMlDuU,EAAKQ,WAAa9U,KAAK0U,OAAOhP,QAC5B,CAACuQ,EAAK5C,EAAG/nB,KACP,IAAI6U,EACJ,GAAI7U,EAAI,IAAM,EAAG,CACf,MAAM4qB,EAAalW,KAAKyU,YAAYlR,KAAK6I,MAAM9gB,EAAI,IACnD6U,EACEqF,EAAM8L,UAAW+B,EAAiBQ,WAAa,IAAMqC,EAAWxC,OAC5D,EACAlO,EAAMgM,QAAQjO,KAAK6I,MAAM9gB,EAAI,KAC5Bka,EAAMgM,QAAQjO,KAAK6I,MAAM9gB,EAAI,IAC1BmV,EAAO2T,aAAe,OAE3B,CACL,MAAM+B,EAAanW,KAAKwU,YAAYjR,KAAK6I,MAAM9gB,EAAI,IACnD6U,EACEqF,EAAMgM,QAAQjO,KAAK6I,MAAM9gB,EAAI,KAC5Bka,EAAMgM,QAAQjO,KAAK6I,MAAM9gB,EAAI,IAAM,EAAImV,EAAO2T,aAAe,GAC3Df,EAAiBM,QAAU,IAE5BxT,EADEqF,EAAM8L,UAAU6E,EAAWtC,WAAa,IAAOR,EAAiBK,OACzDnQ,KAAKC,IACZrD,EACAH,KAAKyU,YAAYlR,KAAK6I,OAAO9gB,EAAI,GAAK,IAAI6U,UACvCH,KAAKyU,YAAYlR,KAAK6I,OAAO9gB,EAAI,GAAK,IAAI6U,SAAW,EAClDM,EAAO2T,aACP3T,EAAO2T,aAAe,IAGrBpU,KAAKyU,YAAYlR,KAAK6I,OAAO9gB,EAAI,GAAK,IAAI6U,SAAWM,EAAO2T,cAI3E,MAAO,IAAI6B,EAAKA,EAAIA,EAAIrQ,OAAS,GAAKzF,KAExC,CAACM,EAAO0R,eAAeD,YAEzBlS,KAAK0U,OAAO3G,SAAQ,CAACpC,EAAOrgB,KAC1BqgB,EAAM8H,KAAKa,EAAKQ,WAAWxpB,OAI7B0U,KAAKN,QAAU4U,EAAKQ,WAAWR,EAAKQ,WAAWlP,OAAS,GAExD5F,KAAKP,OACH8D,KAAKC,IACHxD,KAAKwU,YAAY9O,QAAe,CAAC0N,EAAGC,IAAM9P,KAAKC,IAAI4P,EAAGC,EAAEnT,UAAU,GAClEF,KAAKyU,YAAY/O,QAAe,CAAC0N,EAAGC,IAAM9P,KAAKC,IAAI4P,EAAGC,EAAEnT,UAAU,IAChEO,EAAOwJ,aAQf4H,uBAAuB5R,GACrB,IAAI6R,EAAIwC,EAAKQ,WAAWlP,OACxB,KAAOkM,KACL,GAAIwC,EAAKQ,WAAWhD,IAAM7R,EACxB,OAAO6R,EAGX,OAAO,EAGTpP,OACE,OACE,eAAC,IAAK,WACJ,wBAAC,IAAI,IACCnC,EACJR,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACbtS,IAAKiW,GAAOjW,MACZoW,WAAW,IAEZjE,KAAKyU,YAAYJ,UAAUniB,KAAIyZ,GAASA,EAAMjJ,SAC9C1C,KAAKwU,YAAYH,UAAUniB,KAAIyZ,GAASA,EAAMjJ,WAXrCoB,GAAOjW,QA/NZymB,EAMJQ,gBAAU,ECpBZ,MAAMnN,EASXlG,YAAY2U,EAAeC,GAAsB,KARxC1Z,QAAE,OAIJ2Z,QAA+B,GAAG,KAClCxC,OAAkB,GAAG,KACnBuC,YAAsB,EAAK,KAyDpCxO,YAAevD,IAKb,GAAIA,aAAkBkB,EAAO,CAC3B,IAAIvZ,EAAQ+T,KAAK8T,OAAOyC,QAAQjS,IACjB,IAAXrY,IACFA,EAAQ+T,KAAK8T,OAAOrW,KAAK6G,GAAU,GAErC,MAAMkS,EAAgBvqB,EAAQwU,EAAOgW,kBAAqBhW,EAAOiW,cACjE,OACEpC,EAAKQ,WAAW9U,KAAKrD,IACC,IAAtB8D,EAAO2T,aACNoC,EAAO/V,EAAOiW,cAAiBjW,EAAO2T,aAAe,IAEnD,CACL,IAAInoB,EAAQ+T,KAAKsW,QAAQC,QAAQjS,aAAkBgE,EAAQhE,EAAO5C,KAAO4C,IAC1D,IAAXrY,IACFA,EAAQ+T,KAAKsW,QAAQ7Y,KAAK6G,aAAkBgE,EAAQhE,EAAO5C,KAAO4C,GAAU,GAE9E,MAAMkS,EAAgBvqB,EAAQwU,EAAOgW,kBAAqBhW,EAAOiW,cACjE,OAAI1W,KAAKqW,WAEL7Q,EAAM8L,UAAUtR,KAAKrD,IACC,GAAtB8D,EAAOwJ,aACPxJ,EAAO0H,SACNqO,GAAQ/V,EAAOiW,cAAgB,GAAMjW,EAAOwJ,aAAe,IAG1DjK,KAAKrD,GAGL2X,EAAKQ,WAAW9U,KAAKrD,IACC,GAAtB8D,EAAO2T,aACNoC,EAAO/V,EAAOiW,cAAiBjW,EAAO2T,aAAe,OAzF9DpU,KAAKrD,GAAKyZ,EACVpW,KAAKqW,WAAaA,GAXT1O,EAEJgP,cAA6B,GAFzBhP,EAGJiP,gBAA+B,GAH3BjP,EAIJkP,gBAA+B,GAJ3BlP,EAcJtH,MAAQ,KACbsH,EAAUgP,cAAgB,GAC1BhP,EAAUiP,gBAAkB,GAC5BjP,EAAUkP,gBAAkB,IAjBnBlP,EAoBJS,4BAA8B,CAAC9D,EAAkBwS,KAEtD,IAAI5H,EAAS1J,EAAMuR,gBAAgBzS,EAAOvE,MAAQ+W,EAAWxS,EAAOvE,IAAM,EAAI,GAC9E,MAAMA,EAAIyF,EAAM8L,UAAUpC,GAO1B,OANI5K,EAAOvE,IAAMA,GAAK+W,EAAW/W,GAC/BmP,SAEsCvc,IAApCgV,EAAUgP,cAAczH,KAC1BvH,EAAUgP,cAAczH,GAAU,IAAIvH,EAAUuH,GAAQ,IAEnDvH,EAAUgP,cAAczH,IA9BtBvH,EAiCJkE,2BAA6B,CAACvH,EAAkBwS,KAErD,IAAI5H,EAAS1J,EAAMuR,gBAAgBD,IAAaA,EAAWxS,EAAOvE,IAAM,EAAI,GAC5E,MAAMA,EAAIyF,EAAM8L,UAAUpC,GAO1B,OANI5K,EAAOvE,IAAMA,GAAK+W,EAAW/W,GAC/BmP,SAEsCvc,IAApCgV,EAAUgP,cAAczH,KAC1BvH,EAAUgP,cAAczH,GAAU,IAAIvH,EAAUuH,GAAQ,IAEnDvH,EAAUgP,cAAczH,IA3CtBvH,EA8CJU,8BAAgC,CAAC/D,EAAkB0S,KAExD,MAAM7H,EAASmF,EAAK2C,gBAAgB3S,EAAOrE,MAAQ+W,EAAW1S,EAAOrE,IAAM,EAAI,GAI/E,YAH0CtN,IAAtCgV,EAAUiP,gBAAgBzH,KAC5BxH,EAAUiP,gBAAgBzH,GAAU,IAAIxH,EAAUwH,GAAQ,IAErDxH,EAAUiP,gBAAgBzH,IApDxBxH,EAuDJC,6BAA+B,CAACtD,EAAkB0S,KAEvD,MAAM7H,EAASmF,EAAK2C,gBAAgBD,IAAaA,EAAW1S,EAAOrE,IAAM,EAAI,GAI7E,YAH0CtN,IAAtCgV,EAAUiP,gBAAgBzH,KAC5BxH,EAAUiP,gBAAgBzH,GAAU,IAAIxH,EAAUwH,GAAQ,IAErDxH,EAAUiP,gBAAgBzH,ICvD9B,MAAMJ,UAAuC5K,EACxCa,iBACR,MAAMZ,EAASpE,KAAKoE,OACdE,EAAStE,KAAKsE,OACpB,IAAKA,EAAQ,MAAO,GAEpB,MAAMmD,EAAoB,CAAC,CAAC1H,EAAGE,IAAM,CAACF,EAAIqE,EAAOlE,QAASD,EAAImE,EAAOjE,SAAW,IAChF,GAAImE,aAAkBoH,EAAY,CAChCjE,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAIU,EAAOyW,WAAazW,EAAOwK,aAAchL,KACnEwH,EAAMhK,MAAK,CAACsC,EAAGE,IACA0H,EAAUkE,2BAA2BvH,EAAQvE,GAAG8H,YAAYvD,GAC3DvE,EACV,CAACA,EAAGE,EAAIsD,KAAK2I,KAAK9H,EAAOnE,IAAMqE,EAAOrE,MAAQmE,EAAOjE,SAAWM,EAAOyW,aACvE,CAACnX,EAAGE,KAEVwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnB0H,EAAUkE,2BAA2BvH,EAAQvE,GAAG8H,YAAYvD,GAC5DrE,KAGF,MAAM6L,EAA2BnE,EAAUU,8BACzC/D,EACAF,EAAOnE,KACP4H,YAAYvD,IACTwH,EAA2B1H,EAAOnE,MAAQ6L,EAA2BxH,EAAOrE,KAAO,GACtFwH,EAAMhK,MAAK,CAACsC,EAAGE,KACb,MAAMgM,EAAOtE,EAAUU,8BAA8B/D,EAAQrE,GAAG4H,YAAYvD,GAC5E,OAAQ2H,EAAOhM,IAAMgM,EAAO3H,EAAOrE,KAAO,EACtC,CAACF,EAAGE,GACJ,CAACF,EAAG4H,EAAUU,8BAA8B/D,EAAQrE,GAAG4H,YAAYvD,OAK3EmD,EAAMhK,MAAK,CAACsC,EAAGE,KACb,IAAI8L,EACAC,EAAQ1H,EAAOrE,IAAMQ,EAAO2J,eAAiB,EAAInK,EAErD,GADA+L,EAAQzI,KAAKuB,IAAIkH,EAASzI,KAAK2I,KAAKF,GAASvL,EAAO2J,eAAkB,GAClErK,EAAIuE,EAAOvE,IACbgM,EAAOxI,KAAKC,IAAIzD,EAAIU,EAAO0J,cAAe7F,EAAOvE,IAAMiM,OAClD,MAAIjM,GAAKuE,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,eAGnD,CAEL,MAAMle,EAAQsX,KAAK6I,OAAOrM,EAAIuE,EAAOvE,KAAOU,EAAO0J,eAEnD,OADA4B,EAAOzH,EAAOvE,IAAMU,EAAO0J,cAAgBle,EACpC,EAAE8T,EAAIgM,GAAQ,GAAI9L,EAAIqE,EAAOrE,KAAO,GAN3C8L,EAAOzH,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cACjD4B,EAAOxI,KAAKwD,IAAIhH,EAAIU,EAAO0J,cAAe4B,EAAOC,GAOnD,MAAO,CAACD,EAAM9L,MAGhBwH,EAAMhK,MAAK,CAACsC,EAAGE,KACb,MAAMhU,EAAQsX,KAAK6I,OAAOrM,EAAIuE,EAAOvE,KAAOU,EAAO0J,eAC7C6B,EAAQ5H,EAAOnE,KAAOqE,EAAOrE,IAAMQ,EAAO2J,eAAiB,GAC3D6B,EACJ3H,EAAOrE,IACPQ,EAAO2J,eAAiB,GACtB7G,KAAKuB,IAAIkH,GAASvL,EAAO2J,eAAiB,EAAI7G,KAAK2I,KAAKF,IACxDvL,EAAO2J,eACP,EACJ,OAAIrK,EAAIuE,EAAOvE,IACN,CAACuE,EAAOvE,IAAKkM,GACXlM,GAAKuE,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cACjD,CAAC7F,EAAOvE,IAAMuE,EAAO6H,MAAMvG,OAASnF,EAAO0J,cAAe8B,GAE1D,CAAC3H,EAAOvE,IAAMU,EAAO0J,cAAgBle,EAAOggB,WAG9C3H,aAAkBoE,GAAWpE,aAAkB+G,EACpD/G,EAAOvE,IAAMqE,EAAOrE,KAEtB0H,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAIU,EAAOyW,WAAYjX,KAC7CwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAAIsD,KAAK2I,KAAK9H,EAAOnE,IAAMqE,EAAOrE,KAAOmE,EAAOjE,YAEvEmU,EAAK2C,gBAAgB3S,EAAOrE,OAASqU,EAAK2C,gBAAgB7S,EAAOnE,MACjEuF,EAAMuR,gBAAgB3S,EAAOrE,OAASyF,EAAMuR,gBAAgBzS,EAAOvE,KAAO,GAG1E0H,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOqE,QAA4B,EAAlBlI,EAAO0H,SAAclI,KAC5DwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGuE,EAAOrE,OAChCwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAIU,EAAO0H,SAAUlI,OAG3CwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnB0H,EAAUkE,2BAA2BvH,EAAQvE,GAAG8H,YAAYvD,GAC5DrE,KAEFwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnBF,EACA4H,EAAUU,8BAA8B/D,EAAQrE,GAAG4H,YAAYvD,MAEjEmD,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnB0H,EAAUS,4BAA4B9D,EAAQvE,GAAG8H,YAAYvD,GAC7DrE,KAEFwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGuE,EAAOrE,OAChCwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOqE,QAA4B,EAAlBlI,EAAO0H,SAAclI,OAI5DqU,EAAK2C,gBAAgB3S,EAAOrE,OAASqU,EAAK2C,gBAAgB7S,EAAOnE,MACjEuF,EAAMuR,gBAAgB3S,EAAOrE,OAASyF,EAAMuR,gBAAgBzS,EAAOvE,MAEnE0H,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOvE,IAAKE,KAClCwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGuE,EAAOrE,SAEhCwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnB0H,EAAUkE,2BAA2BvH,EAAQvE,GAAG8H,YAAYvD,GAC5DrE,KAEFwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnBF,EACA4H,EAAUU,8BAA8B/D,EAAQrE,GAAG4H,YAAYvD,MAEjEmD,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnB0H,EAAUS,4BAA4B9D,EAAQvE,GAAG8H,YAAYvD,GAC7DrE,KAEFwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGuE,EAAOrE,OAChCwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOqE,QAA4B,EAAlBlI,EAAO0H,SAAclI,OAIhEwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGuE,EAAOrE,OAChCwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACqE,EAAOvE,IAAKE,MAEpC,OAAOwH,GCjIJ,MAAM0P,UAAwB7O,EAInC7G,YAAqB8G,GACnB1G,QAEA,KAHmB0G,eAA6B,KAHzC7G,KAAuB0V,SAAS,KAChCrT,UAAI,EAMX,MAAMgG,EAAgB/J,KAAKuI,aAAa,GACxC,GAAIwB,aAAyBC,EAC3BhK,KAAKT,GAAKwK,EAAchK,IAAMoD,GAAa4G,EAAcyD,WAAa/M,EAAOwK,aAC7EjL,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK+D,KAAO,IAAIvC,EAAKf,EAAO2P,eAAepP,WAAYhB,KAAKT,GAAIS,KAAKR,GAAI,CACvE+B,sBAAsB,QAEnB,CACL,MAAMZ,EAAWoJ,EAAc7J,QACzBuN,EAAYlK,KAAKwD,IAAI5D,GAAaH,OAAOhD,KAAK0B,OAAQf,GAC5DX,KAAKT,GAAKwK,EAAchK,KAAOgK,EAAc7J,QAAUuN,GAAa,EACpEzN,KAAKR,GAAKuK,EAAc9J,KAAO8J,EAAc5J,SAAWM,EAAOS,UAAY,EAC3ElB,KAAK+D,KAAO,IAAIvC,EAAKf,EAAO2P,eAAepP,WAAYhB,KAAKT,GAAIS,KAAKR,GAAI,CACvEmB,SAAUA,EACVY,sBAAsB,IAI1BvB,KAAKP,OAASO,KAAK+D,KAAK7D,QACxBF,KAAKN,QAAUM,KAAK+D,KAAK5D,SAG3BE,QACEwB,MAAMxB,QACNL,KAAKuI,aAAa3C,OAAS,EAE7B3D,iBACE,MAAM8H,EAAgB/J,KAAKuI,aAAa,GACxC,GAAIwB,aAAyBC,EAC3BhK,KAAKT,GAAKwK,EAAchK,IAAMoD,GAAa4G,EAAcyD,WAAa/M,EAAOwK,aAC7EjL,KAAKR,GAAKuK,EAAc9J,QACnB,CACL,MAAMU,EAAWoJ,EAAc7J,QACzBuN,EAAYlK,KAAKwD,IAAI5D,GAAaH,OAAOhD,KAAK0B,OAAQf,GAC5DX,KAAKT,GAAKwK,EAAchK,KAAOgK,EAAc7J,QAAUuN,GAAa,EACpEzN,KAAKR,GAAKuK,EAAc9J,KAAO8J,EAAc5J,SAAWM,EAAOS,UAAY,EAE7ElB,KAAK+D,KAAK9B,eAAejC,KAAKT,GAAIS,KAAKR,IAEzC0C,gBACAS,gBAEAD,OAEE,OADA1C,KAAKL,UAAW,EACT,cAAC,IAAMqL,SAAQ,UAAqBhL,KAAK+D,KAAKrB,QAAzBoB,GAAOjW,QC3ChC,MAAMmc,UAAgB1K,EAqB3BmC,YAEW+L,EAEA9L,EAEAE,EAEA0O,GAER,IADQ+G,EAAmB,wDAE5BxV,QAAQ,KATC2L,YAAiB,KAEjB9L,OAAU,KAEVE,QAAY,KAEZ0O,cAA2B,KAC3B+G,aAAmB,KA7BrB5H,aAAO,OAEP3N,mBAAa,OACbgM,qBAAe,OAGfjiB,WAAK,OAELgC,SAAG,OAKHsjB,gBAA0B,EAAM,KACzCmG,gBAAU,OACFzM,WAA+ClY,EAAU,KAC1D8e,SAAW,IACTzR,KAAK6K,MACZ,KAsFF5I,eAAiB,CAAClC,EAAWE,KAC3BD,KAAKT,GAAKQ,EAAIU,EAAOiH,cACrB1H,KAAKR,GAAKS,EAAID,KAAKyP,QACnBzP,KAAKnS,IAAIoU,eAAejC,KAAKD,IAAKC,KAAKC,IAAMD,KAAKsX,YAC9CxJ,EAAgB9N,KAAKnU,MAAOmU,OAC9BA,KAAKnU,MAAMoW,kBA7EbjC,KAAKmR,eAAiBP,EAAW5Q,KAAKwN,WAGlCxN,KAAKsQ,aACPtQ,KAAKT,GAAKS,KAAKsQ,YAAYvQ,IAC3BC,KAAKyP,QAAUzP,KAAKsQ,YAAYb,QAAUzP,KAAKsQ,YAAYnQ,SAAWM,EAAOyK,eAE7ElL,KAAKT,GAAKS,KAAK4B,MAAM7B,IAAMU,EAAOiH,cAClC1H,KAAKyP,QAAUzP,KAAK4B,MAAM3B,IAAMQ,EAAO2Q,eAEzCpR,KAAKR,GAAKQ,KAAKyP,QAEfzP,KAAKwN,WAAa6J,EAAa5W,EAAOyP,cAAgBzP,EAAO8W,cAC7DvX,KAAKnU,MAAQiY,GAAOmK,YAAYvM,EAAM1B,MACtCA,KAAK8N,gBAAkBA,EAAgB9N,KAAKnU,MAAOmU,MAC/CA,KAAK8N,iBAEP9N,KAAKnU,MAAMoW,iBAEbjC,KAAKsX,YACFtX,KAAKnU,iBAAiB6c,GAAW1I,KAAKnU,iBAAiBwf,IAAkBrL,KAAK8N,iBAC1E9N,KAAKnU,MAAMsU,SAAWM,EAAOS,UAAY,EAC1C,EACNlB,KAAKnS,IAAM,IAAI2T,EAAKxB,KAAKwN,UAAWxN,KAAKD,IAAKC,KAAKyP,QAAUzP,KAAKsX,WAAY,GAAI1V,GAGlF5B,KAAKP,OACDO,KAAKnU,iBAAiB6f,IAAe1L,KAAK8N,gBAExC9N,KAAKnS,IAAIqS,QADTF,KAAKnU,MAAMkU,IAAMC,KAAKnU,MAAMqU,QAAUF,KAAKD,IAEjDC,KAAK8B,cACH9B,KAAKP,QACJO,KAAKnU,iBAAiB6c,GAAW1I,KAAKnU,iBAAiBwf,EACpDrL,KAAKnU,MAAM+c,aACX,GACN5I,KAAKN,QAAU6D,KAAKC,IAClBxD,KAAKnS,IAAIsS,UACRH,KAAKnU,iBAAiB6c,GAAW1I,KAAKnU,iBAAiBwf,IAAkBrL,KAAK8N,gBAC3E9N,KAAKnU,MAAMsU,SACX,GAGFH,KAAKmR,iBAAmBnR,KAAK8N,iBAC3B9N,KAAKsQ,cACPtQ,KAAKyP,QAAUzP,KAAKsQ,YAAYb,QAChCzP,KAAKP,OAASO,KAAKsQ,YAAYpQ,QAC/BF,KAAKN,QAAUM,KAAKsQ,YAAYnQ,UAGpCH,KAAKR,GAAKQ,KAAKyP,QAEjB/L,eACE,OAAOtB,GAAcC,mBACjBrC,KAAK8B,cACL9B,KAAKP,QACFO,KAAKnU,iBAAiB6c,GAAW1I,KAAKnU,iBAAiBwf,EACpDrL,KAAKnU,MAAM+c,aACX,GAEZ2H,cACE,OACEvQ,KAAKP,QACJO,KAAKnU,iBAAiB6c,GAAW1I,KAAKnU,iBAAiBwf,EACpDrL,KAAKnU,MAAMgd,mBACX,GAiBRnG,OAWE,OARI1C,KAAKmR,gBACLnR,KAAKnU,iBAAiB0hB,GACtBvN,KAAKnU,iBAAiBsrB,GACtBnX,KAAKnU,iBAAiB6f,IAGxB1L,KAAK6K,MAAQ,IAAIkE,EAAc/O,KAAKnS,KAAKgX,GAAG7E,KAAKnU,QAGjD,eAAC,IAAMmf,SAAQ,WACZhL,KAAKmR,eACF,KACAnR,KAAKnS,IAAI6U,OACZ1C,KAAK6K,OAAS7K,KAAK6K,MAAMnI,OACvB1C,KAAKnU,iBAAiB6f,IAAe1L,KAAK8N,gBAAsC,KAApB9N,KAAKnU,MAAM6W,SALvDoB,GAAOjW,QC7G3B,SAAS2pB,EAAcC,GAC5B,MAAO,SAAUA,GAAU,SAAUA,GAAU,SAAUA,EAIpD,SAASC,EAAcD,GAC5B,MAAO,WAAYA,GAAU,aAAcA,EAItC,SAASE,EAAUF,GACxB,MAAO,SAAUA,EAIZ,SAASG,EAAmBC,GACjC,OAAe,OAARA,IArBqBJ,EAqBSI,EAAI7H,KApBH,IAA/BF,OAAOgI,KAAKL,GAAQ7R,QADtB,IAAuB6R,EAyBvB,SAASM,EAAQrW,GACtB,OAAOuT,MAAM8C,QAAQrW,GAIhB,SAASsW,EAAWjY,GACzB,OAAOA,GAA6B,sBAAxB,GAAGiB,SAASiX,KAAKlY,GAIxB,SAASmY,EAAKxW,GACnB,OAAOsW,EAAWtW,IAAS,gBAAiBA,GAAQ,iBAAkBA,EAIjE,SAASyW,EAAWpY,GACzB,OAAOiY,EAAWjY,KAAOmY,EAAKnY,GAIzB,SAAS2N,EAAOhM,GACrB,OAAgB,OAATA,EAmBF,SAASyO,EAAazO,GAC3B,MAAuB,kBAATA,EAST,SAAS2O,EAAgB3O,GAC9B,OA1BK,SAAqBA,GAC1B,YAAgB/O,IAAT+O,EAyBA0W,CAAY1W,IAASgM,EAAOhM,IArB9B,SAAkBA,GACvB,MAAuB,kBAATA,EAoB8B2W,CAAS3W,IAhBhD,SAAkBA,GACvB,MAAuB,kBAATA,EAegD4W,CAAS5W,IANlE,SAAmBA,GACxB,MAAuB,mBAATA,EAKkE6W,CAAU7W,GAIrF,SAASoM,EAAgBjiB,EAAc2sB,GAC5C,OAAI3sB,aAAiB6c,EAGjB8P,aAAqBxO,GACrBne,EAAM2d,mBAAsBgP,EAAsB5W,MAAMmJ,cACwB,IAAhFlf,EAAM0c,aAAa0I,WAAUlR,GAAKA,aAAaiK,GAAWjK,IAAMyY,IAEzD3sB,aAAiBwf,EACnBxf,EAAM0c,aAAauC,MAAK/K,GAAKA,aAAaiK,MAAawO,EAEvD3sB,EAAM0c,aAAa,KAAOiQ,EAK9B,SAASC,EAAuB5sB,EAAqB2sB,GAC1D,OAAO3sB,EAAM0c,aAAa,KAAOiQ,EAa5B,SAAS5H,EAAW/iB,GACzB,MARO,UAAU6qB,KAQA7qB,GASZ,SAASsV,GACdY,GAES,IADT4U,EAAY,uDAAI,GAAElY,EAAOW,aAAaX,EAAOS,cAAcT,EAAOM,aAElE,MAAM9C,EAAS2a,SAASC,cAAc,UAChC9kB,EAAUkK,EAAO6a,WAAW,MAElC,IAAK/kB,IAAYgQ,EACf,OAAO,EAGThQ,EAAQ4kB,KAAOA,EACf,MAAMI,EAAchV,EACjB4G,MAAM,MACNjF,QACC,CAACsT,EAASC,IACRllB,EAAQmlB,YAAYF,GAAS9Y,MAAQnM,EAAQmlB,YAAYD,GAAW/Y,MAChE8Y,EACAC,GACN,IAEEE,EAAUplB,EAAQmlB,YAAYH,GACpC,OAAOI,EAAQjZ,MAIV,SAASuK,GAAc/I,GAC5B,GAAIwW,EAAKxW,GACP,OAAOA,EAAKsS,KAAKoF,OAAOlnB,KAAK8hB,GAAcA,EAAKpX,OAAMgO,KAAK,KACtD,CACL,MAAMyO,EAAW3X,EAAKV,WACtB,OAAOqY,EAAS/V,UAAU+V,EAAS9C,QAAQ,KAAM8C,EAAS9C,QAAQ,MAAM+C,QAKrE,SAAS5O,GAAYhJ,GAC1B,MAAM2X,EAAW3X,EAAKV,WACtB,GAAIkX,EAAKxW,GAAO,CACd,IAAI6X,EACiB,wBAAnB7X,EAAKsS,KAAKjoB,MAA+D,aAA7BstB,EAAS/V,UAAU,EAAG,GAC9D+V,EAAS/V,UAAU+V,EAAS9C,QAAQ,MACpC8C,EAAS/V,UAAU+V,EAAS9C,QAAQ,KAAO,GAGjD,MADgB,MAAZgD,EAAK,KAAYA,EAAO,eAAiBA,EAAO,QAC7CA,EAEP,OAAOF,EAAS/V,UAAU+V,EAAS9C,QAAQ,MAIxC,SAASjU,GAAiBgC,GAAuB,IAAD,EACrD,MAAMoF,EAA6B,QAApB,EAAGpF,EAAOqF,kBAAU,aAAjB,EAAmBD,YACrCA,IAAcA,EAAUE,MAAMC,OAAS,WAGlC,SAASjH,GAAmB0B,GAAuB,IAAD,EACvD,MAAMoF,EAA6B,QAApB,EAAGpF,EAAOqF,kBAAU,aAAjB,EAAmBD,YACrCA,IAAcA,EAAUE,MAAMC,OAAS,WAIlC,SAASzE,GAAgBd,GAAqD,IAA/BkV,EAAiB,uDAAG,GACxE,MAAMzE,EACJzQ,aAAkBmV,IAAQxE,MAAMzJ,KAAKlH,EAAOgR,UAAY,IAAM,GAChEP,EAAMtX,KAAK6G,GACXyQ,EAAMhH,SAAQiG,IACZA,EAAK0F,SAAS,CACZzS,OAAQ+M,EAAK2F,MAAM1S,OAASxG,EAAOmZ,aAAa5Y,WAAagT,EAAK2F,MAAM1S,OACxEtD,KAAMqQ,EAAK2F,MAAMhW,KAAOlD,EAAOmZ,aAAa5Y,WAAagT,EAAK2F,MAAMhW,QACjE6V,OAMF,SAAS/T,GAAkBnB,GAAuD,IAAjCuV,EAAmB,uDAAG,GAC5E,MAAM9E,EACJzQ,aAAkBmV,IAAQxE,MAAMzJ,KAAKlH,EAAOgR,UAAY,IAAM,GAChEP,EAAMtX,KAAK6G,GAEXyQ,EAAMhH,SAAQiG,IACZA,EAAK0F,SAAS,CACZzS,OAAQ+M,EAAK2F,MAAM1S,OACf7E,GAAcC,mBACZ5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,WAClBgT,EAAK2F,MAAM1S,OACftD,KAAMqQ,EAAK2F,MAAMhW,KACbvB,GAAcC,mBACZ5B,EAAOmD,QAAQ5C,WACfP,EAAOoD,SAAS7C,WAClBgT,EAAK2F,MAAMhW,QACZkW,OAMF,SAAStP,GAAe1X,GAC7B,OAAoB,OAAhBA,EACK,KACE+kB,EAAmB/kB,GACrB0X,GAAe1X,EAAYkgB,MAE3BlgB,EASJ,SAASinB,GAA2B1V,EAAa2V,GAClD/B,EAAW5T,IAAWiM,EAAgBjM,KAGtCuT,EAAUvT,IAAWuT,EAAUoC,GACjCD,GAA2B1V,EAAO4V,KAAMD,EAAYC,MAC3CtC,EAActT,IAAWsT,EAAcqC,IAEhDD,GAA2B1V,EAAOkR,SAAUyE,EAAYzE,UACxDwE,GAA2B1V,EAAOvR,YAAaknB,EAAYlnB,cAClDklB,EAAQ3T,IAAW2T,EAAQgC,GAEpC3V,EAAO2J,SAAQ,CAACkM,EAAM3uB,IAAMwuB,GAA2BG,EAAMF,EAAYzuB,MAChEksB,EAAcpT,IAAWoT,EAAcuC,KAEhDjK,OAAOoK,iBAAiBH,EAAY/J,KAAMF,OAAOW,0BAA0BrM,EAAO4L,OAElF8J,GAA2B1V,EAAO2O,KAAMgH,EAAYhH,QAUjD,SAASoH,GAAatuB,GAC3B,MAAMuuB,EAAQC,oBAAUxuB,GAExB,OADAiuB,GAA2BjuB,EAAOuuB,GAC3BA,EAGF,SAAS5E,GAAgB8E,GAC9B,GAAI1C,EAAmB0C,EAAEznB,aAAc,CACrC,MAAM0nB,EAA8B,GAIpC,OAHAD,EAAEhF,SAASvH,SAAQyM,IACjBD,EAAa9c,QAAQ+X,GAAgBgF,OAEhCD,EAEP,MAAO,CAACD,GCxSL,MAAMnW,WAAuE7E,EAMlFmC,YAAY+J,GACV3J,QAAQ,KANF0C,MAAgB,GAAG,KAC3BF,OAAmB,GAAG,KACtBD,YAAM,OACNE,YAAM,OA0CNpC,aAAe,IAAsD,IAArD,cAAEC,GAA6C,EAC7DiD,GAAgBjD,EAAe,CAC7BkD,YAAazE,OAAON,EAAcgF,4BAEpC,KAEF3C,aAAe,IAAsD,IAArD,cAAER,GAA6C,EAC7DsD,GAAkBtD,EAAe,CAC/BkD,YAAazE,OAAON,EAAc4E,qBA9CpClF,KAAKoE,OAASoH,EACdxL,KAAKsE,YAAS3R,EACdqN,KAAKT,GAAKiM,EAAKzL,IACfC,KAAKR,GAAKgM,EAAKvL,IAEjB2E,OACE,OAAO5E,KAAKuE,MAGdM,GAAGA,GAID,OAHA7E,KAAKsE,OAASO,EACd7E,KAAKP,OAAS8D,KAAKuB,IAAID,EAAG9E,IAAMC,KAAKoE,OAAOrE,KAC5CC,KAAKN,QAAU6D,KAAKuB,IAAID,EAAG5E,IAAMD,KAAKoE,OAAOnE,KACtCD,KAmBCgF,iBACR,MAAMH,EAAK7E,KAAKsE,OAChB,OAAKO,EACE,CAAC,IAAM,CAACA,EAAG9E,IAAK8E,EAAG5E,MADV,GAelBsF,WAEA7C,OACE,MAAM2B,EAASrE,KAAKgF,iBAAiBU,QACnC,CAACrB,EAAQsB,IAAS,IAAItB,KAAWsB,EAAKtB,EAAOA,EAAOuB,OAAS,GAAIvB,EAAOA,EAAOuB,OAAS,MACxF,CAAC5F,KAAKoE,OAAOrE,IAAKC,KAAKoE,OAAOnE,MAMhC,GAJAoE,EAAOwB,OAAO,EAAG,GAGjB7F,KAAKuE,OAAU,KAAIF,EAAO,MAAMA,EAAO,MACjB,IAAlBA,EAAOuB,OAET5F,KAAKuE,OAAU,KAAIF,EAAO,MAAMA,EAAO,UAClC,CACL,IAAIyB,EAAI,EACR,KAAOA,EAAIzB,EAAOuB,OAAS,GAAG,CAC5B,MAAOG,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAM/B,EAAOgC,MAAMP,EAAGA,EAAI,GAC/CQ,EAAML,EAAKF,EACXQ,EAAMJ,EAAKF,EACXO,EAAMN,EAAKF,EACXS,EAAML,EAAKF,EACXY,EAAKvD,KAAKwD,IACdzG,EAAc0G,kBACdzD,KAAKC,IAAID,KAAKuB,IAAIwB,GAAM/C,KAAKuB,IAAI0B,IAAQ,EACzCjD,KAAKC,IAAID,KAAKuB,IAAIyB,GAAMhD,KAAKuB,IAAI2B,IAAQ,GAErCgU,EAAKxU,EAAKa,EAAKvD,KAAK2I,KAAK5F,GACzBoU,EAAKxU,EAAKY,EAAKvD,KAAK2I,KAAK1F,GACzBmU,EAAK1U,EAAKa,EAAKvD,KAAK2I,KAAK3F,GACzBqU,EAAK1U,EAAKY,EAAKvD,KAAK2I,KAAKzF,GAG/BzG,KAAKuE,OAAU,KAAIkW,KAAMC,OAAQzU,KAAMC,KAAMyU,KAAMC,IACnD9U,GAAK,GAKT,OADA9F,KAAKuE,OAAU,KAAIF,EAAOA,EAAOuB,OAAS,MAAMvB,EAAOA,EAAOuB,OAAS,MAErE,eAAC,IAAU,CAET1D,aAAclC,KAAKkC,aACnBS,aAAc3C,KAAK2C,aAAa,UAEhC,wBAAC,IAAS,IACJpC,EACJ0G,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,WAE7BqE,YAAazE,OAAON,EAAc4E,kBAClCgC,eAAgBtG,OAAON,EAAc6G,qBACrCzF,KAAM1B,KAAK4E,OACX/W,IAAKiW,GAAOjW,QAEd,wBAAC,IAAU,IACL0S,EACJ8D,OAAQA,EAAOgC,MAAMhC,EAAOuB,OAAS,GACrCjC,KACEvB,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,WAE7BoG,eAAe,EACfC,aAAczG,OAAON,EAAcgH,eACnCzZ,IAAKiW,GAAOjW,UA1BTiW,GAAOjW,QCvGb,MAAM2Z,WAAuBrD,GACxBa,iBACR,MAAMH,EAAK7E,KAAKsE,OAChB,IAAKO,EAAI,MAAO,GAEhB,MAAM4C,EAAoB,CAAC,CAAC1H,EAAGE,IAAM,CAACF,EAAIO,EAAcoH,cAAezH,IAQvE,OANI4E,aAAcW,KAChBiC,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAAIK,EAAc8T,gBAC3C3M,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAAC4E,EAAG9E,IAAMO,EAAcoH,cAAezH,MAG9DwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAAC4E,EAAG9E,IAAMO,EAAcoH,cAAe7C,EAAG5E,IAAM4E,EAAG1E,YACjEsH,GCRJ,MAAMO,WAAuB1I,EAKlCmC,YAAqBwG,GACnBpG,QAAQ,KADWoG,SAAkB,KAJ9Bpc,MAAc,KAAK,KAEnB6V,KAAa,GAAG,KAqBzBO,eAAiB,KACfjC,KAAKT,GAAKS,KAAKiI,OAAOlI,IACtBC,KAAKR,GAAKQ,KAAKiI,OAAOhI,KAnBtBD,KAAKT,GAAKS,KAAKiI,OAAOlI,IACtBC,KAAKR,GAAKQ,KAAKiI,OAAOhI,IACtBD,KAAKN,QAAUM,KAAKiI,OAAO9H,SAC3BH,KAAKP,OAASO,KAAKiI,OAAO/H,QAE5BH,IACE,OAAOC,KAAKT,GAEdU,IACE,OAAOD,KAAKR,GAEdW,SACE,OAAOH,KAAKN,QAEdQ,QACE,OAAOF,KAAKP,OAMdY,SAEAqC,OACE,OACE,wBAAC,IAAI,IACCnC,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACb8G,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,WAE7BpB,IAAKI,KAAKJ,OC/CX,MAAMsI,WAAoB/D,GACrBa,iBACR,MAAMwG,EAAOxL,KAAKoE,OACZS,EAAK7E,KAAKsE,OAChB,IAAKO,EAAI,MAAO,GAEhB,MAAM4C,EAAoB,CAAC,CAAC1H,EAAGE,IAAM,CAACF,EAA6B,EAAzBO,EAAc6H,SAAclI,IAStE,OAPI4E,EAAG5E,IAAMuL,EAAKvL,KAAOuL,EAAKvL,IAAM4E,EAAG5E,IAAM4E,EAAG1E,UAC9CsH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAA6B,EAAzBK,EAAc6H,YAC3CV,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAAC4E,EAAG9E,KAAOyL,EAAKzL,IAAM8E,EAAG9E,IAAM,EAAI8E,EAAG3E,SAAUD,MAErEwH,EAAMhK,MAAK,IAAM,CAACoH,EAAG9E,IAAM8E,EAAG3E,QAAU,EAAG2E,EAAG5E,KAAO4E,EAAG5E,IAAMuL,EAAKvL,IAAM4E,EAAG1E,SAAW,MAGlFsH,GCjBJ,MAAea,WAAchJ,EAAS,cAAD,yBAUnCiJ,aAAuC,GAAG,KAE/B7G,UAAI,EARtB8G,aAAaC,GACXzI,KAAKuI,aAAa9K,KAAKgL,ICkBpB,MAAMC,WAAgBJ,GAoB3B7G,YAEWC,EAEA6G,GAET1G,QAAQ,KAJCH,OAAa,KAEb6G,eAAoC,KAtBtCO,OAAiBxI,EAAc6H,SAAS,KACxCY,YAAsBzI,EAAc0I,cAAc,KAClDJ,kBAAY,OACZD,aAAO,OAEPM,YAAM,OACNC,gBAAU,OACVC,cAAQ,OACRC,oBAAc,OACdC,aAAO,OACPC,mBAAa,OACbT,wBAAkB,OACnBU,YAAM,OAGLC,sBAAgB,OAChBC,SAA2B5J,IAAMC,YAAY,KAuDtDoC,aAAe,IAAsD,IAArD,cAAEC,GAA6C,EACzDC,GAAcC,qBAClBrC,KAAKJ,IAAI2C,QAAQC,YACjBxC,KAAKyJ,SAASlH,QAAQzU,OACtBsX,GAAgBjD,KAChB,KAEFQ,aAAe,IAAsD,IAArD,cAAER,GAA6C,EACzDC,GAAcC,qBAClBrC,KAAKyJ,SAASlH,QAAQM,OACtB4C,GAAkBtD,KAxDlB2B,GAAO+W,oBAAoB7a,MAG3B,MAAM+J,EAAgB/J,KAAKuI,aAAa,GACpCwB,aAAyBC,IAC3BhK,KAAKT,GACHwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUI,EAAc2J,aAAe,EACvFjK,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK2I,QAAU3I,KAAKT,GAAmB,EAAdS,KAAK8I,SAE1BiB,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAAoC,EAA9BO,EAAc6J,cAC5CnK,KAAKR,GAAKuK,EAAc9J,IAAMK,EAAc8J,eAAiB,EAAIpK,KAAK8I,SAEtE9I,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWG,EAAc8J,gBAE9EpK,KAAK2I,QAAU3I,KAAKT,GAAKe,EAAc6J,cAAgB,EACvDnK,KAAKT,GAAKS,KAAK2I,QAAwB,EAAd3I,KAAK8I,QAEhC9I,KAAKR,IAAMQ,KAAK8I,OAEhB9I,KAAKP,OAAuB,EAAdO,KAAK8I,OACnB9I,KAAKN,QAAwB,EAAdM,KAAK8I,OAEpB9I,KAAKwJ,iBAAmB1F,GAAOuG,gBAAgBC,YAC7CC,GAAevK,KAAK0B,KAAK7O,cAE3BmN,KAAKiJ,OAASjJ,KAAK0B,KAAK8I,aAExBxK,KAAKkJ,WAAc,YAAWuB,GAAczK,KAAK0B,SACjD1B,KAAKmJ,SAAY,SAAQuB,GAAY1K,KAAK0B,QAC1C1B,KAAKoJ,gBACFpJ,KAAKmJ,SAASvD,OAAS,GAAK5F,KAAKmJ,SAAS9C,MAAM,EAAG,IAAMrG,KAAKmJ,UAC5DwB,MAAM,MACNtE,MAAM,EAAG,GACTuE,KAAK,MAAQ,OAClB5K,KAAKqJ,QAAW,GAAErJ,KAAKkJ,eAAelJ,KAAKmJ,WAC3CnJ,KAAKsJ,cAAiB,GAAEtJ,KAAKkJ,eAAelJ,KAAKoJ,iBACjDpJ,KAAK4I,aAAerF,KAAKC,IAAIL,GAAanD,KAAKkJ,YAAa/F,GAAanD,KAAKmJ,WAC9EnJ,KAAK6I,mBAAqBtF,KAAKC,IAC7BL,GAAanD,KAAKkJ,YAClB/F,GAAanD,KAAKoJ,iBAgBtBnH,kBACAS,OAAyB,IAAD,EAItB,OAHA1C,KAAKuJ,OACHvJ,KAAKwJ,iBAAiBsR,cACrB,IAAI5S,GAAYlI,MAAM6E,GAAG7E,KAAKwJ,iBAAiBsR,cAEhD,eAAC,IAAM9P,SAAQ,WACb,eAAC,IAAK,CACJ9I,aAAciD,GAAKnF,KAAKkC,aAAaiD,GACrCxC,aAAcwC,GAAKnF,KAAK2C,aAAawC,GACrCvF,IAAKI,KAAKJ,IAAI,UAEd,wBAAC,IAAM,IACDW,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK8I,OACb7B,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,aAG/B,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK+I,YACbpF,KACEvB,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,aAG/B,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK8I,OACb7B,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,aAG/B,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK+I,YACbpF,KACEvB,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,gBAIhCoB,GAAcC,mBACb,eAAC,IAAU,CACTtC,EAAGC,KAAKD,IAAMC,KAAKE,QAAuC,EAA7BI,EAAc2K,aAC3ChL,EAAGD,KAAKC,IAAMK,EAAc4K,aAC5BlH,SAAS,EACTpE,IAAKI,KAAKyJ,SAAS,UAEnB,cAAC,IAAQ,CACPxC,OAAO,QACPtD,KAAM,QACNO,QAAStD,OAAON,EAAc6K,oBAEhC,cAAC,IAAS,CACRpH,KAAM/D,KAAKsJ,cACXxI,WAAYR,EAAcS,WAAWC,WACrCC,SAAUL,OAAON,EAAcY,UAC/BC,UAAWb,EAAcc,UAAUJ,WACnC2C,KAAMrD,EAAcsD,QAAQ5C,WAC5BoK,QAAS,OAIb,eAAC,IAAU,CACTrL,EAAGC,KAAKD,IAAMC,KAAKE,QAAuC,EAA7BI,EAAc2K,aAC3ChL,EAAGD,KAAKC,IAAMK,EAAc4K,aAC5BlH,SAAS,EACTpE,IAAKI,KAAKyJ,SAAS,UAEnB,cAAC,IAAQ,CACPxC,OAAO,QACPtD,KAAM,QACNO,QAAStD,OAAON,EAAc6K,oBAEhC,cAAC,IAAS,CACRpH,KAAM/D,KAAKqJ,QACXvI,WAAYR,EAAcS,WAAWC,WACrCC,SAAUL,OAAON,EAAcY,UAC/BC,UAAWb,EAAcc,UAAUJ,WACnC2C,KAAMrD,EAAcuD,SAAS7C,WAC7BoK,QAAS,OAIH,QADX,EACApL,KAAKuJ,cAAM,aAAX,EAAa7G,SAlGKoB,GAAOjW,QC7F3B,MAAMwd,WAAsB/C,GAiBjC7G,YAEWC,EAEA6G,GAET1G,QAAQ,KAJCH,OAAe,KAEf6G,eAAoC,KApB/CI,aAAO,OACEC,kBAAY,OACZC,wBAAkB,OAClBC,OAAiBxI,EAAc6H,SAAS,KACxCY,YAAsBzI,EAAc0I,cAAc,KACnDO,YAAM,OAELL,gBAAU,OACVC,cAAQ,OACRC,oBAAc,OACdC,aAAO,OACPC,mBAAa,OACd9E,UAAoB,EAAM,KAEzBiF,SAA2B5J,IAAMC,YAAY,KA+EtDoC,aAAe,IAAsD,IAArD,cAAEC,GAA6C,EACzDC,GAAcC,qBAClBrC,KAAKyJ,SAASlH,QAAQzU,OACtBsX,GAAgBjD,KAChB,KAEFQ,aAAe,IAAsD,IAArD,cAAER,GAA6C,EAC7D,IAAIC,GAAcC,mBAClB,GAAKrC,KAAKwE,SAGH,CAAC,IAAD,EACL,MAAMkF,EAAoC,QAA3B,EAAGvH,EAAcwH,kBAAU,aAAxB,EAA0BD,YAC5CA,IAAcA,EAAUE,MAAMC,OAAS,gBAJvC7J,KAAKyJ,SAASlH,QAAQM,OACtB4C,GAAkBtD,IAKpB,KACFoD,QAAU,IAAsD,IAArD,cAAEpD,GAA6C,EACpDC,GAAcC,qBAClBrC,KAAKwE,UAAYxE,KAAKwE,SACjBxE,KAAKwE,UAIRxE,KAAKyJ,SAASlH,QAAQzU,OACtBsX,GAAgBjD,KAJhBnC,KAAKyJ,SAASlH,QAAQM,OACtB4C,GAAkBtD,MA3FpB2B,GAAO+W,oBAAoB7a,MAG3B,MAAM+J,EAAgB/J,KAAKuI,aAAa,GACpCwB,aAAyBC,IAC3BhK,KAAKT,GACHwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUI,EAAc2J,aAAe,EACvFjK,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK2I,QAAU3I,KAAKT,GAAmB,EAAdS,KAAK8I,SAE1BiB,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAAoC,EAA9BO,EAAc6J,cAC5CnK,KAAKR,GAAKuK,EAAc9J,IAAMK,EAAc8J,eAAiB,EAAIpK,KAAK8I,SAEtE9I,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWG,EAAc8J,gBAE9EpK,KAAK2I,QAAU3I,KAAKT,GAAKe,EAAc6J,cAAgB,EACvDnK,KAAKT,GAAKS,KAAK2I,QAAwB,EAAd3I,KAAK8I,QAEhC9I,KAAKR,IAAMQ,KAAK8I,OAEhB9I,KAAKP,OAAuB,EAAdO,KAAK8I,OACnB9I,KAAKN,QAAwB,EAAdM,KAAK8I,OAEpB9I,KAAKkJ,WAAc,WAAUuB,GAAczK,KAAK0B,QAChD1B,KAAKmJ,SAAY,SAAQuB,GAAY1K,KAAK0B,QAC1C1B,KAAKoJ,gBACFpJ,KAAKmJ,SAASvD,OAAS,GAAK5F,KAAKmJ,SAAS9C,MAAM,EAAG,IAAMrG,KAAKmJ,UAC5DwB,MAAM,MACNtE,MAAM,EAAG,GACTuE,KAAK,MAAQ,OAClB5K,KAAKqJ,QAAW,GAAErJ,KAAKkJ,eAAelJ,KAAKmJ,WAC3CnJ,KAAKsJ,cAAiB,GAAEtJ,KAAKkJ,eAAelJ,KAAKoJ,iBACjDpJ,KAAK4I,aACHrF,KAAKC,IAAIL,GAAanD,KAAKkJ,YAAa/F,GAAanD,KAAKmJ,WAC1D7I,EAAc2K,aAChBjL,KAAK6I,mBAAqBtF,KAAKC,IAC7BL,GAAanD,KAAKkJ,YAClB/F,GAAanD,KAAKoJ,iBAGtBrE,aACE,OAAO/E,KAAKwE,SAEdqG,QACE,OAAO7K,KAAKuJ,OAGdtH,iBACE,MAAM8H,EAAgB/J,KAAKuI,aAAauC,MAAK/K,GAAKA,aAAaiK,MAAYhK,KAAKuI,aAAa,GACzFwB,aAAyBC,IAC3BhK,KAAKT,GACHwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUI,EAAc2J,aAAe,EACvFjK,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK2I,QAAU3I,KAAKT,GAAmB,EAAdS,KAAK8I,SAE1BiB,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAAoC,EAA9BO,EAAc6J,cAC5CnK,KAAKR,GAAKuK,EAAc9J,IAAMK,EAAc8J,eAAiB,EAAIpK,KAAK8I,SAEtE9I,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWG,EAAc8J,gBAE9EpK,KAAK2I,QAAU3I,KAAKT,GAAKe,EAAc6J,cAAgB,EACvDnK,KAAKT,GAAKS,KAAK2I,QAAwB,EAAd3I,KAAK8I,QAEhC9I,KAAKR,IAAMQ,KAAK8I,OA+BlBpG,OAKE,OAJA1C,KAAKL,UAAW,EAChBK,KAAKuJ,OACHzF,GAAOwH,cAAcwP,cACpB,IAAI5S,GAAYlI,MAAM6E,GAAGf,GAAOwH,cAAcwP,cAE/C,eAAC,IAAM9P,SAAQ,WACb,eAAC,IAAK,CACJ9I,aAAciD,GAAKnF,KAAKkC,aAAaiD,GACrCxC,aAAcwC,GAAKnF,KAAK2C,aAAawC,GACrCI,QAASJ,GAAKnF,KAAKuF,QAAQJ,GAC3BvF,IAAKI,KAAKJ,IAAI,UAEd,wBAAC,IAAM,IACDW,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK8I,OACb7B,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,aAG/B,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK+I,YACbpF,KACEvB,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,aAG/B,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK8I,OACb7B,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,aAG/B,wBAAC,IAAM,IACDT,EACJ1S,IAAKiW,GAAOjW,MACZkS,EAAGC,KAAK2I,QAAU3I,KAAK8I,OACvB7I,EAAGD,KAAKC,IACR6I,OAAQ9I,KAAK+I,YACbpF,KACEvB,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,gBAIhCoB,GAAcC,mBACb,eAAC,IAAU,CACTtC,EAAGC,KAAKD,IAAMC,KAAKE,QAAuC,EAA7BI,EAAc2K,aAC3ChL,EAAGD,KAAKC,IAAMK,EAAc4K,aAC5BlH,SAAS,EACTpE,IAAKI,KAAKyJ,SAAS,UAEnB,cAAC,IAAQ,CACPxC,OAAO,QACPtD,KAAM,QACNO,QAAStD,OAAON,EAAc6K,oBAEhC,cAAC,IAAS,CACRpH,KAAM/D,KAAKsJ,cACXxI,WAAYR,EAAcS,WAAWC,WACrCC,SAAUL,OAAON,EAAcY,UAC/BC,UAAWb,EAAcc,UAAUJ,WACnC2C,KAAMrD,EAAcsD,QAAQ5C,WAC5BoK,QAAS,OAIb,eAAC,IAAU,CACTrL,EAAGC,KAAKD,IAAMC,KAAKE,QAAuC,EAA7BI,EAAc2K,aAC3ChL,EAAGD,KAAKC,IAAMK,EAAc4K,aAC5BlH,SAAS,EACTpE,IAAKI,KAAKyJ,SAAS,UAEnB,cAAC,IAAQ,CACPxC,OAAO,QACPtD,KAAM,QACNO,QAAStD,OAAON,EAAc6K,oBAEhC,cAAC,IAAS,CACRpH,KAAM/D,KAAKqJ,QACXvI,WAAYR,EAAcS,WAAWC,WACrCC,SAAUL,OAAON,EAAcY,UAC/BC,UAAWb,EAAcc,UAAUJ,WACnC2C,KAAMrD,EAAcuD,SAAS7C,WAC7BoK,QAAS,OAIdtH,GAAOwH,cAAcwP,cACpB,IAAI5S,GAAYlI,MAAM6E,GAAGf,GAAOwH,cAAcwP,cAAcpY,SApG3CoB,GAAOjW,QCjJ3B,MAAM0d,WAA2BpH,GAC5Ba,iBACR,MAAMwG,EAAOxL,KAAKoE,OACZS,EAAK7E,KAAKsE,OAChB,IAAKO,EAAI,MAAO,GAEhB,MAAM4C,EAAoB,CACxB,CAAC1H,EAAGE,IAAM,CAACF,EAAIO,EAAc6J,cAAgB,EAAGlK,EAAIK,EAAc8J,eAAiB,IAyBrF,OAtBIvF,aAAc6D,IAAW7D,aAAcwG,GACzC5D,EAAMhK,MAAK,IAAM,CAAC+N,EAAKzL,IAAM8E,EAAG9E,IAAM8E,EAAG9E,IAAM8E,EAAG8D,QAAS9D,EAAG5E,OACrD4E,aAAc6G,KACnBF,EAAKvL,MAAQ4E,EAAG5E,IACdsD,KAAKuB,IAAI0G,EAAKzL,IAAM8E,EAAG9E,KAAqC,EAA9BO,EAAc6J,eAC9C1C,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAAIK,EAAc8J,kBAC3C3C,EAAMhK,MAAK,IAAM,CACfoH,EAAG9E,IAAMO,EAAc6J,cAAgB,EACvCtF,EAAG5E,IAAMK,EAAc8J,eAAiB,KAE1C3C,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAAIK,EAAc8J,eAAiB,MAE5D3C,EAAMhK,MAAK,IAAM,CAACoH,EAAG9E,IAAK8E,EAAG5E,IAAMK,EAAc8J,eAAiB,KAGpE3C,EAAMhK,MAAK,IAAM,CACfoH,EAAG9E,IAAMO,EAAc6J,cAAgB,EACvCtF,EAAG5E,KAAOuL,EAAKvL,IAAM4E,EAAG5E,IAAMK,EAAc8J,eAAiB,OAK5D3C,GChCJ,MAAM2F,WAAsB9N,EAIjCmC,YAAY8G,GACV1G,QAAQ,KAJVwL,eAAS,OACT9E,kBAAY,OAYZtG,eAAiB,OARfjC,KAAKuI,aAAeA,EACpBvI,KAAKqN,UAAY9E,EAAa,GAC9BvI,KAAKT,GAAKS,KAAKqN,UAAUtN,IACzBC,KAAKR,GAAKQ,KAAKqN,UAAUpN,IACzBD,KAAKN,QAAUM,KAAKqN,UAAUlN,SAC9BH,KAAKP,OAASO,KAAKqN,UAAUnN,QAK/BwC,OACE,OACE,wBAAC,IAAS,IACJnC,EACJ1S,IAAKiW,GAAOjW,MACZwW,OAAQ,CAACrE,KAAKD,IAAKC,KAAKC,IAAMD,KAAKG,SAAUH,KAAKD,IAAMC,KAAKE,QAASF,KAAKC,KAC3EgH,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,WAE7BkG,eAAgBtG,OAAON,EAAcgN,oBACrC1N,IAAKI,KAAKJ,IACVqE,WAAW,KCpBZ,MAAMvD,GAA8B,CACzCC,SAAUC,OAAOC,UACjBC,WAAYR,EAAcS,WAAWC,WACrCC,SAAUL,OAAON,EAAcY,UAC/BC,UAAWb,EAAcc,UAAUJ,WACnCK,YAAaf,EAAcgB,YAAYN,WACvCO,sBAAsB,GAIjB,MAAMC,WAAalC,EASxBmC,YACWC,EACAnC,EACAC,GAGR,IADDmC,EAA6B,uDAAG,GAEhCE,QAAQ,KANCH,OAAU,KACVnC,KAAU,KACVC,KAAU,KAXZE,aAAO,OACPD,YAAM,OAENsC,gBAAU,OACVC,aAAO,OAEPL,QAAuBjB,GAAe,KAmC/CwB,aAAe,IAAsD,IAAD,QAApD,cAAEC,GAA6C,EAC7D,MAAMuH,EAAoC,QAA3B,EAAGvH,EAAcwH,kBAAU,aAAxB,EAA0BD,YAC5CA,IAAcA,EAAUE,MAAMC,OAAS,WACvC7J,KAAKJ,IAAI2C,QAAQC,YACjBxC,KAAKJ,IAAI2C,QAAQzU,OACO,QAAxB,EAAAqU,EAAcM,kBAAU,OAAxB,EAA0BC,QAC1B,KAEFC,aAAe,IAAsD,IAAD,QAApD,cAAER,GAA6C,EAC7D,MAAMuH,EAAoC,QAA3B,EAAGvH,EAAcwH,kBAAU,aAAxB,EAA0BD,YAC5CA,IAAcA,EAAUE,MAAMC,OAAS,WACvC7J,KAAKJ,IAAI2C,QAAQM,OACO,QAAxB,EAAAV,EAAcM,kBAAU,OAAxB,EAA0BC,QArC1B1C,KAAK2B,QAAU,IAAK3B,KAAK2B,WAAYA,GAErC,MAAM,SAAEV,EAAQ,UAAEE,EAAS,WAAEL,EAAU,SAAEH,EAAQ,qBAAEY,GAAyBvB,KAAK2B,QAEjF3B,KAAKgC,QAAUhC,KAAK+B,WAAaR,GAC7BuB,KAAKC,UAAUrB,IACfsB,OAAOtB,GACX1B,KAAKN,QAAUuB,EAEf,MAAMgC,EAAWC,GAAcC,GAAaD,EAAI,GAAE/B,KAAaF,OAAcH,KAC7E,GAAImC,EAAQjD,KAAK+B,YAAcpB,EAAU,CACvC,IAAIyC,EAAgB9C,EAAc+C,SAASrC,WACvC1V,EAAI,EACR,KACE2X,EAAQjD,KAAK+B,WAAWuB,UAAU,EAAGhY,GAAKgV,EAAc+C,SAASrC,YAAcL,GAE/EyC,EAAgBpD,KAAK+B,WAAWuB,UAAU,EAAGhY,KAAOgV,EAAc+C,SAASrC,WAE7EhB,KAAKP,OAASwD,EAAQG,GACtBpD,KAAK+B,WAAaqB,OAElBpD,KAAKP,OAAS8D,KAAKC,IAAIlD,EAAcmD,aAAcR,EAAQjD,KAAK+B,aAmBpEW,OACE,MAAMnU,EAAQ,CACZuS,WAAYd,KAAK2B,QAAQb,WACzBG,SAAUjB,KAAK2B,QAAQV,SACvBE,UAAWnB,KAAK2B,QAAQR,UACxBwC,KAAMrD,EAAcuD,SAAS7C,YAE/B,OACE,eAAC,IAAMgK,SAAQ,WACb,cAAC,IAAU,CACTjL,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRiC,aAAclC,KAAKkC,aACnBS,aAAc3C,KAAK2C,aAAa,SAEhC,wBAAC,IAAS,IAAKpC,EAAmB1S,IAAKiW,GAAOjW,MAAOkW,KAAM/D,KAAK+B,cAAgBxT,MAElF,eAAC,IAAU,CACTwR,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRL,IAAKI,KAAKJ,IACVoE,SAAS,EACT9B,aAAclC,KAAKkC,aACnBS,aAAc3C,KAAK2C,aAAa,UAEhC,cAAC,IAAQ,IAAKpC,EAAmBoD,KAAM,QAASO,QAAS,KACzD,wBAAC,IAAS,IAAK3D,EAAmB1S,IAAKiW,GAAOjW,MAAOkW,KAAM/D,KAAKgC,WAAazT,SAlB5DuV,GAAOjW,QClF3B,MAAM0f,WAAuBjF,GAIlC7G,YAEWC,EAEA6G,GAET1G,QAEA,KANSH,OAAoB,KAEpB6G,eAAoC,KANtCxE,UAAI,EAWX,MAAMgG,EAAgB/J,KAAKuI,aAAa,GACxC,GAAIwB,aAAyBC,GAC3BhK,KAAKT,GACHwK,EAAchK,IAAMoD,GAAa4G,EAAcyD,WAAalN,EAAc2K,aAC5EjL,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK+D,KAAO,IAAIvC,GAAKxB,KAAK0B,KAAM1B,KAAKD,IAAKC,KAAKC,IAAK,CAAEsB,sBAAsB,QACvE,CACL,MAAMZ,EAAWoJ,EAAc7J,QACzBuN,EAAYlK,KAAKwD,IAAI5D,GAAaH,OAAOhD,KAAK0B,OAAQf,GAC5DX,KAAKT,GAAKwK,EAAchK,KAAOgK,EAAc7J,QAAUuN,GAAa,EACpEzN,KAAKR,GAAKuK,EAAc9J,KAAO8J,EAAc5J,SAAWG,EAAcY,UAAY,EAClFlB,KAAK+D,KAAO2J,EAAO1N,KAAK0B,MACpB,IAAI0L,GAAc,CAACrD,IACnB,IAAIvI,GAAKxB,KAAK0B,KAAM1B,KAAKD,IAAKC,KAAKC,IAAK,CACtCU,SAAUA,EACVY,sBAAsB,IAI9BvB,KAAKP,OAASO,KAAK+D,KAAK7D,QACxBF,KAAKN,QAAUM,KAAK+D,KAAK5D,SAE3B8B,kBACAS,OACE,OAAO,cAAC,IAAMsI,SAAQ,UAAqBhL,KAAK+D,KAAKrB,QAAzBoB,GAAOjW,QC/BhC,MAAM8f,WAAkBrO,EAY7BmC,YAEWmM,EAEAlM,EAETuG,GAEApG,QAAQ,KANC+L,MAAW,KAEXlM,OAAU,KAfZ7V,WAAK,OAGLgiB,iBAAW,OAEX3D,gBAAU,OAEV4D,qBAAe,OACxB7F,YAAM,OACN4C,WAA2BlY,EAAU,KAsBrCsP,eAAiB,OAAS,KAE1BC,aAAe,IAAsD,IAArD,cAAEC,GAA6C,EAC7DiD,GAAgBjD,IAChB,KAEFQ,aAAe,IAAsD,IAArD,cAAER,GAA6C,EAC7DsD,GAAkBtD,IAlBlBnC,KAAKiI,OAASA,EACdjI,KAAKT,GAAKS,KAAKiI,OAAOlI,IAAMC,KAAK4N,IAAMtN,EAAc6J,cACrDnK,KAAKR,GAAKQ,KAAKiI,OAAOhI,IACtBD,KAAKN,QAAUY,EAAc8J,eAC7BpK,KAAKP,OAASa,EAAc6J,cAC5BnK,KAAK6N,YAA2B,IAAb7N,KAAK4N,IACxB5N,KAAKkK,WAAalK,KAAK4N,MAAQ5N,KAAKiI,OAAOvG,KAAKkE,OAAS,EACzD5F,KAAKnU,MAAQiY,GAAOiX,mBAAmB/a,KAAK0B,KAAM1B,MAClDA,KAAK8N,gBAAkB9N,KAAKnU,MAAM0c,aAAa3C,OAAS,EAa1DlD,OACE,GAAI1C,KAAKI,UAAW,OAAO,KAC3BJ,KAAKL,UAAW,EAEhB,MAAM2M,EAAe,CACnBI,UAAW,EACXC,UAAW,EACXC,WAAY,EACZC,WAAY,GAQd,OALI7M,KAAK6N,cACPvB,EAAaI,UAAYJ,EAAaK,UAAY/L,OAAON,EAAc4N,mBACrElO,KAAKkK,aACPoC,EAAaM,WAAaN,EAAaO,WAAajM,OAAON,EAAc4N,mBAGzE,eAAC,IAAMlD,SAAQ,WACb,cAACqB,EAAW,CAEVtM,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACb8G,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,WAE7BkG,eAAgBtG,OAAON,EAAcgN,oBACrCc,aAAa,EACblM,aAAclC,KAAKkC,aACnBS,aAAc3C,KAAK2C,aACnB2J,aAAcA,EACdC,WAAYvM,KAAKJ,KAfZkE,GAAOjW,OAiBbmS,KAAKnU,MAAM6W,OACX1C,KAAKnU,iBAAiB0hB,IAAkB,IAAIhC,GAAmBvL,MAAM6E,GAAG7E,KAAKnU,OAAO6W,SApBlEoB,GAAOjW,QChE3B,MAAM6d,WAAmBpD,GAI9B7G,YAEWC,EAEA6G,GAET1G,QAAQ,KAJCH,OAAY,KAEZ6G,eAAoC,KAN/C4D,MAAqB,GASnBrI,GAAO+W,oBAAoB7a,MAG3B,MAAM+J,EAAgB/J,KAAKuI,aAAa,GACpCwB,aAAyBC,IAC3BhK,KAAKT,GAAKwK,EAAcnI,MAAM7B,IAAMgK,EAAcnI,MAAM1B,QAAUI,EAAc2J,aAChFjK,KAAKR,GAAKuK,EAAc9J,KAEpB8J,EAAcG,YAChBlK,KAAKT,GAAKwK,EAAchK,IAAoC,EAA9BO,EAAc6J,cAC5CnK,KAAKR,GAAKuK,EAAc9J,MAExBD,KAAKT,GAAKwK,EAAchK,IACxBC,KAAKR,GAAKuK,EAAc9J,IAAM8J,EAAc9B,OAAO9H,SAAWG,EAAc8J,gBAIhFpK,KAAKP,OAASO,KAAK0B,KAAKkE,OAAStF,EAAc6J,cAAgB7J,EAAcmO,aAC7EzO,KAAKN,QAAUY,EAAc8J,eAG7B,IAAK,IAAI9e,EAAI0U,KAAK0B,KAAKkE,OAAS,EAAGta,GAAK,EAAGA,IAAK,CAC9C,MAAMojB,EAAO,IAAIf,GAAUriB,EAAG0U,KAAK0B,KAAKpW,GAAI0U,MAM5CA,KAAKP,OAAS8D,KAAKC,IACjBxD,KAAKE,QACLwO,EAAK7iB,MAAMqU,SACNwO,EAAK7iB,iBAAiB0hB,IAAmBjiB,IAAM0U,KAAK0B,KAAKkE,OAAS,EAEjEta,EAAIgV,EAAc6J,eADjB7e,EAAI,GAAKgV,EAAc6J,cAAgB7J,EAAc6J,gBAK9DnK,KAAKN,QAAU6D,KAAKC,IAClBxD,KAAKN,QACLgP,EAAK7iB,iBAAiB0hB,IAAkBmB,EAAKZ,gBACzCxN,EAAc8J,eACdsE,EAAK7iB,MAAMoU,IAAMyO,EAAK7iB,MAAMsU,SAAWuO,EAAKzO,KAGlDD,KAAKmM,MAAQ,CAACuC,KAAS1O,KAAKmM,QAGhC9L,QACEwB,MAAMxB,QACNL,KAAKmM,MAAMja,KAAI6N,GAAKA,EAAEM,UACtBL,KAAKuI,aAAa3C,OAAS,EAE7B3D,kBAEAS,OACE,OAAI1C,KAAKI,UAAkB,MAC3BJ,KAAKL,UAAW,EAEd,cAAC,IAAMqL,SAAQ,UACZhL,KAAKmM,MAAMvG,OAAS,EACjB5F,KAAKmM,MAAMja,KAAIwc,GAAQA,EAAKhM,SAC5B,IAAIsF,GAAehI,MAAM0C,QAHVoB,GAAOjW,SC1E3B,MAAMkhB,WAAsB5K,GACvBa,iBACR,MAAMwG,EAAOxL,KAAKoE,OACZS,EAAK7E,KAAKsE,OAChB,IAAKO,EAAI,MAAO,GAEhB,MAAM4C,EAAoB,CAAC,CAAC1H,EAAGE,IAAM,CAACF,EAAIyL,EAAKtL,QAASD,EAAIuL,EAAKrL,SAAW,IAsB5E,OApBI0E,EAAG9E,IAAMyL,EAAKzL,IACZ8E,aAAc6G,IAChBjE,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAIO,EAAc4W,WAAYjX,KACpDwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAG8E,EAAG5E,IAAMK,EAAc8J,eAAiB,KACjE3C,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAAC4E,EAAG9E,IAAMO,EAAc6J,cAAgB,EAAGlK,KAChEwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAG8E,EAAG5E,SAE5BwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAIO,EAAc4W,WAAYjX,KACpDwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAGE,EAAIuL,EAAKrL,SAAW,EAAIG,EAAc4W,cAC/DzP,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAAC4E,EAAG9E,IAAM8E,EAAG3E,QAAUI,EAAcgH,cAAerH,KACzEwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAG8E,EAAG5E,OAC5BwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CAACF,EAAIO,EAAcgH,cAAerH,MAGzDwH,EAAMhK,MAAK,CAACsC,EAAGE,IAAM,CACnB4E,EAAG9E,IACH8E,EAAG5E,KAAO4E,aAAc6G,GAAapL,EAAc8J,eAAiB,EAAI,MAIrE3C,GCzBJ,MAAM0P,WAAwB7O,GAInC7G,YAAqB8G,GACnB1G,QAEA,KAHmB0G,eAAoC,KAHhD7G,KAAuB0V,SAAS,KAChCrT,UAAI,EAMX,MAAMgG,EAAgB/J,KAAKuI,aAAa,GACxC,GAAIwB,aAAyBC,GAC3BhK,KAAKT,GACHwK,EAAchK,IAAMoD,GAAa4G,EAAcyD,WAAalN,EAAc2K,aAC5EjL,KAAKR,GAAKuK,EAAc9J,IACxBD,KAAK+D,KAAO,IAAIvC,GAAKlB,EAAc8P,eAAepP,WAAYhB,KAAKT,GAAIS,KAAKR,GAAI,CAC9E+B,sBAAsB,QAEnB,CACL,MAAMZ,EAAWoJ,EAAc7J,QACzBuN,EAAYlK,KAAKwD,IAAI5D,GAAaH,OAAOhD,KAAK0B,OAAQf,GAC5DX,KAAKT,GAAKwK,EAAchK,KAAOgK,EAAc7J,QAAUuN,GAAa,EACpEzN,KAAKR,GAAKuK,EAAc9J,KAAO8J,EAAc5J,SAAWG,EAAcY,UAAY,EAClFlB,KAAK+D,KAAO,IAAIvC,GAAKlB,EAAc8P,eAAepP,WAAYhB,KAAKT,GAAIS,KAAKR,GAAI,CAC9EmB,SAAUA,EACVY,sBAAsB,IAI1BvB,KAAKP,OAASO,KAAK+D,KAAK7D,QACxBF,KAAKN,QAAUM,KAAK+D,KAAK5D,SAG3BE,QACEwB,MAAMxB,QACNL,KAAKuI,aAAa3C,OAAS,EAE7B3D,kBAEAS,OAEE,OADA1C,KAAKL,UAAW,EACT,cAAC,IAAMqL,SAAQ,UAAqBhL,KAAK+D,KAAKrB,QAAzBoB,GAAOjW,QC/BhC,MAAMmc,WAAgB1K,EAe3BmC,YAEW+L,EAEA9L,EAEAE,EAEA0O,GAER,IADQ+G,EAAmB,wDAE5BxV,QAAQ,KATC2L,YAAiB,KAEjB9L,OAAU,KAEVE,QAAY,KAEZ0O,cAA2B,KAC3B+G,aAAmB,KAtBrBxrB,WAAK,OAELgC,SAAG,OAKHsjB,gBAA0B,EAAM,KACjCtG,WAA+ClY,EAAU,KAC1D8e,SAAW,IACTzR,KAAK6K,MAeZ7K,KAAKmR,eAAiBP,EAAW5Q,KAAKwN,WAGlCxN,KAAKsQ,aACPtQ,KAAKT,GAAKS,KAAKsQ,YAAYvQ,IAC3BC,KAAKR,GAAKQ,KAAKsQ,YAAYrQ,IAAMD,KAAKsQ,YAAYnQ,SAAWG,EAAc4K,eAE3ElL,KAAKT,GAAKS,KAAK4B,MAAM7B,IAAMO,EAAcoH,cACzC1H,KAAKR,GAAKQ,KAAK4B,MAAM3B,IAAMK,EAAc8Q,eAG3CpR,KAAKwN,WAAa6J,EAAa/W,EAAc4P,cAAgB5P,EAAciX,cAC3EvX,KAAKnU,MAAQiY,GAAOiX,mBAAmBrZ,EAAM1B,MAE7C,MAAMsX,EACJtX,KAAKnU,iBAAiB6f,IACjBpL,EAAc8J,eAAiB9J,EAAcY,UAAY,GACzDlB,KAAKnU,MAAMsU,SAAWG,EAAcY,UAAY,EAEvDlB,KAAKnS,IAAM,IAAI2T,GAAKxB,KAAKwN,UAAWxN,KAAKD,IAAKC,KAAKC,IAAMqX,GAGzDtX,KAAKP,OAASgZ,EAAuBzY,KAAKnU,MAAOmU,MAC7CA,KAAKnU,MAAMkU,IACXC,KAAKnU,MAAMqU,QACXF,KAAKD,KACJC,KAAKnU,iBAAiB6c,IAAW1I,KAAKnU,iBAAiBwf,GACpDrL,KAAKnU,MAAM+c,aACX,GACJ5I,KAAKnS,IAAIqS,QAEbF,KAAKN,QAAU6D,KAAKC,IAAIxD,KAAKnS,IAAIsS,SAAUH,KAAKnU,MAAMsU,UAElDH,KAAKmR,iBAAmBsH,EAAuBzY,KAAKnU,MAAOmU,OACzDA,KAAKsQ,cACPtQ,KAAKR,GAAKQ,KAAKsQ,YAAYrQ,IAC3BD,KAAKP,OAASO,KAAKsQ,YAAYpQ,QAC/BF,KAAKN,QAAUM,KAAKsQ,YAAYnQ,UAKtCuC,OACE,OACE,eAAC,IAAMsI,SAAQ,WACZhL,KAAKmR,eACF,KACAnR,KAAKnS,IAAI6U,OACZ1C,KAAKmR,gBACNnR,KAAKnU,iBAAiB0hB,IACtBvN,KAAKnU,iBAAiBsrB,GAClB,KACA,IAAIpI,GAAc/O,KAAKnS,KAAKgX,GAAG7E,KAAKnU,OAAO6W,OAC9C+V,EAAuBzY,KAAKnU,MAAOmU,MAAQA,KAAKnU,MAAM6W,OAAS,OAT7CoB,GAAOjW,QCnElC,MAAMohB,GAAa,IAAI1d,IAAI,CACzB,CAAC,SAAU,UACX,CAAC,qBAAsB,WACvB,CAAC,qBAAsB,oBACvB,CAAC,sBAAuB,gCACxB,CAAC,mBAAoB,SACrB,CAAC,0BAA2B,mBAIvB,MAAMiU,WAAclG,EAiBzBmC,YAEWsJ,EAEAiQ,GACR,IAAD,EACAnZ,QAAQ,KAJCkJ,cAAwB,KAExBiQ,mBAA8B,KAnBhC5L,iBAAW,OAEXC,gBAAU,OAGVE,SAAsB,GAAG,KAEzB3S,UAAI,OAEJ+O,WAAK,OAEL9Y,iBAAW,OAEX2c,iBAAW,OAmFpBtN,aAAe,IAAsD,IAArD,cAAEC,GAA6C,EAC7DiD,GAAgBjD,IAChB,KAEFQ,aAAe,IAAsD,IAArD,cAAER,GAA6C,EAC7DsD,GAAkBtD,IA/ElBnC,KAAKP,OAASa,EAAcoR,cAC5B1R,KAAK2L,MAAQZ,EAAYkQ,aACzBjb,KAAKnN,YAAckY,EAAYlY,YAC/BmN,KAAKwP,YAAgC,QAArB,EAAGzE,EAAY9C,cAAM,aAAlB,EAAoB6S,aACvC9a,KAAKT,GAAKS,KAAK2L,MAAM5L,IAErBC,KAAKgb,mBACFhb,KAAKT,IACJS,KAAKgb,iBAAiBjb,IAAMC,KAAKgb,iBAAiB3L,WAAa/O,EAAc2J,cAEjFjK,KAAKpD,KAAO,IAAI4E,GACdyN,GAAWnd,IAAIkO,KAAKnN,YAAY+J,OAASoD,KAAKnN,YAAY+J,KAC1DoD,KAAKD,IACLC,KAAK2L,MAAM1L,IACX,CAAEU,SAAUX,KAAKE,UAEnBF,KAAKR,GAAKQ,KAAK2L,MAAM1L,IAAMD,KAAKpD,KAAKuD,SAAWG,EAAc4K,aAAe,EAG7E,IAAI2E,EAAkB,EACtB,IAAK,MAAOhiB,EAAK6T,KAASoO,OAAOC,QAAQ/P,KAAKnN,YAAYmd,MAAO,CAC/D,MAAMC,EACJ1M,KAAKC,IAAIlD,EAAcmD,aAAcN,GAAatV,EAAMyS,EAAc4P,gBACtE5P,EAAc2K,cACbkF,EAAazO,GACV6B,KAAKC,IACHlD,EAAcmD,aACdN,GAAa7C,EAAc8P,eAAepP,aAE5CqP,EAAgB3O,GAChB6B,KAAKC,IAAIlD,EAAcmD,aAAcN,GAAaH,OAAOtB,KACzD,GACNmO,EAAkBtM,KAAKC,IAAIqM,EAAiBI,GAE9CjQ,KAAKP,OAASoQ,EAAgD,EAA9BvP,EAAcoH,cAG9C,IAAI4I,EAA8B,KAC9BjB,EAAarP,KAAKP,OAEtB,MAAM+Q,EAAcV,OAAOW,0BAA0BzQ,KAAKnN,YAAYmd,MAChED,EAAU,GACVW,EAAe,GACrB,IAAK,MAAMC,KAASb,OAAOC,QAAQS,GACjC,GAAII,EAAWD,EAAM,IAAK,CACxB,MAAME,EAAYtG,GAAeoG,EAAM,GAAG9kB,MAAMgH,cAE9CmN,KAAKnN,YAAY8J,KAAO2D,EAAcwQ,aACrCD,GAAaA,EAAUlU,KAAOqD,KAAKnN,YAAY8J,KAEhD+T,EAAajT,KAAKkT,QAGpBZ,EAAQtS,KAAKkT,GAGjBZ,EAAQtS,QAAQiT,GAEhB,IAAK,MAAO7iB,EAAK6T,KAASqO,EAAS,CACjC,MAAMgB,EAAuB,IAAI/G,GAAQnc,EAAK6T,EAAK7V,MAAOmU,KAAMsQ,GAAc5O,EAAKsP,UACnFhR,KAAKuP,SAAS9R,KAAKsT,GACnBT,EAAcS,EACd1B,EAAa9L,KAAKC,IAAI6L,EAAY0B,EAAY7Q,QAAUI,EAAcoH,eAExE1H,KAAKqP,WAAaA,EAGlBrP,KAAKN,QAAU4Q,EACXA,EAAYrQ,IAAMqQ,EAAYnQ,SAAWG,EAAc8Q,cAAgBpR,KAAKC,IAC9C,EAA9BK,EAAc8Q,cAElBpR,KAAKoP,YAAcpP,KAAKG,SAAWH,KAAKpD,KAAKuD,SAAWG,EAAc4K,aAAe,EAWvFxI,OACE,OACE,eAAC,IAAK,WACH1C,KAAKpD,KAAK8F,OACX,wBAAC,IAAI,IACCnC,EACJR,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACb8G,OACE7E,GAAcC,mBACV/B,EAAcsD,QAAQ5C,WACtBV,EAAcuD,SAAS7C,WAE7BsL,aAAc1L,OAAON,EAAc2R,mBACnC/P,aAAclC,KAAKkC,aACnBS,aAAc3C,KAAK2C,aACnB9U,IAAKiW,GAAOjW,QAEbmS,KAAKuP,SAASrd,KAAIyd,GAAWA,EAAQjN,SACrC1C,KAAKwP,aAAe,IAAIhI,GAAexH,MAAM6E,GAAG7E,KAAKwP,aAAa9M,SAnBzDoB,GAAOjW,QCnIlB,MAAMukB,WAAc9S,EAIzBmC,YAEW4Q,EAEAkC,GAET1S,QAAQ,KAJCwQ,cAAyB,KAEzBkC,eAA2B,KAN7BT,OAAkB,GASzB9T,KAAKT,GAAKe,EAAcsR,eACxB5R,KAAKR,GAAKc,EAAc6R,eACxBnS,KAAKqS,cAAgBrS,KAAKR,IAAMQ,KAAKqS,YAAYlS,SAAWH,KAAKqS,YAAYpS,KAC7E,IAAIib,EAA0B,KAC9B3G,EAAaxG,SAAQ5I,IACnBA,EAAE8V,aAAejb,KACjB,MAAMmb,EAAW,IAAI3V,GAAML,EAAG+V,GAC9B/V,EAAE2V,aAAeK,EACjBnb,KAAK8T,OAAOrW,KAAK0d,GACjBD,EAAYC,KAIdnb,KAAKN,QAAUM,KAAK8T,OAAOpO,QACzB,CAAC0V,EAAWxZ,IAAU2B,KAAKC,IAAI4X,EAAWxZ,EAAMwN,cAChD,GAEF,MAAMiM,EAAYrb,KAAK8T,OAAO9T,KAAK8T,OAAOlO,OAAS,GAEnD5F,KAAKP,OAAS4b,EAAUtb,IAAMsb,EAAUhM,WAAarP,KAAKD,IAAMO,EAAcgb,cAGhF1G,UACE5U,KAAKJ,IAAI2C,QAAQsS,kBAGnBnS,OACE,OACE,eAAC,IAAK,CAAoB9C,IAAKI,KAAKJ,IAAI,UACtC,wBAAC,IAAI,IACCW,EACJR,EAAGC,KAAKD,IACRE,EAAGD,KAAKC,IACRC,MAAOF,KAAKE,QACZC,OAAQH,KAAKG,SACbtS,IAAKiW,GAAOjW,MACZoW,WAAW,IAEZjE,KAAK8T,OAAO5hB,KAAI0P,GAASA,EAAMc,WAVtBoB,GAAOjW,QCRlB,MAAMiW,GA2CX+N,wBAAwB3R,EAAeC,GAErC2D,GAAOyX,aAAerb,EACtB4D,GAAO0X,cAAgBrb,EAEO,OAA5B2D,GAAO2X,SAASlZ,UACfgB,KAAKwD,IAAIjD,GAAO5D,QAASwb,OAAOC,YAAc7X,GAAO8X,YACpDrY,KAAKwD,IAAIjD,GAAO3D,SAAUub,OAAOG,aAAe/X,GAAOgY,eAEzDhY,GAAOiY,kBAAeppB,EACtBmR,GAAOkY,iBAAcrpB,EACrBmR,GAAOmY,yBAAsBtpB,EAC7BmR,GAAOoY,wBAAqBvpB,EAC5BmR,GAAO8X,WAAarY,KAAKwD,IAAIjD,GAAO5D,QAASwb,OAAOC,YACpD7X,GAAOgY,YAAcvY,KAAKwD,IAAIjD,GAAO3D,SAAUub,OAAOG,aACtD/X,GAAO2X,SAASlZ,QAAQrC,MAAM4D,GAAO8X,YACrC9X,GAAO2X,SAASlZ,QAAQpC,OAAO2D,GAAOgY,aACtC1Z,GAAc+Z,UAEZrY,GAAOgY,YAAchY,GAAO0X,cAEhC1X,GAAOsY,yBACLtY,GAAOgY,YAAchY,GAAO0X,eACvB1X,GAAOgY,YAAchY,GAAO0X,eAAiB,EAC9C,EACN1X,GAAOuY,2BACLvY,GAAO8X,WAAa9X,GAAOyX,cAAgBzX,GAAO8X,WAAa9X,GAAOyX,cAAgB,EAAI,EAE5F,MAAM7R,EAAgC1J,KAAKsc,mBAAmB/Z,QAC1DmH,IACFA,EAAUE,MAAM1J,MAAS,GAAE4D,GAAOyX,iBAClC7R,EAAUE,MAAMzJ,OAAU,GAAE2D,GAAO0X,mBAKvC3J,kBAAkB0K,GA2BhB,GA1BAzY,GAAOiY,kBAAeppB,EACtBmR,GAAOkY,iBAAcrpB,EACrBmR,GAAOmY,yBAAsBtpB,EAC7BmR,GAAOoY,wBAAqBvpB,EAE5BmR,GAAO4L,OAAO3B,SAAQ,CAACmD,EAAG0E,KACxB1E,EAAE7Q,WAEJyD,GAAO4L,OAAO8M,QACd1Y,GAAO2Y,cAAc1O,SAAQ,CAACmD,EAAG0E,KAC/B1E,EAAE7Q,WAEJyD,GAAO2Y,cAAcD,QACrB1Y,GAAOjW,IAAM,EAEbiW,GAAOuG,gBAAkB8P,GAAaoC,GACtCzY,GAAOwH,cAAgBxH,GAAOuG,gBAAgB2P,KAG9ClW,GAAO4Y,mBAEP5Y,GAAO6Y,8BAEP7Y,GAAO8Y,iBAGHxa,GAAcya,mBAAoB,CACpC,MAAMC,EAAYhZ,GAAOiZ,cAAcjZ,GAAOiZ,cAAcnX,OAAS,GACrE9B,GAAOkZ,cAAgBzZ,KAAKC,IAC1B/C,EAAOwc,gBACPH,EAAU7c,IAAM6c,EAAU3c,SAAWM,EAAO0R,gBAG9CrO,GAAOoZ,aAAe3Z,KAAKC,IACzB/C,EAAO0c,eACPrZ,GAAOiZ,cAAcrX,QACnB,CAAC/E,EAAUgL,IAAUpI,KAAKC,IAAI7C,EAAUgL,EAAMzL,UAC9C,GAEwB,EAAxBO,EAAOmR,qBAGX9N,GAAOsZ,iBAAmB7Z,KAAKC,IAC7B/C,EAAOwc,gBACPjd,KAAKkV,KAAK/U,SAAWM,EAAO0R,gBAE9BrO,GAAOuZ,gBAAkB9Z,KAAKC,IAC5B/C,EAAO0c,eACPnd,KAAKkV,KAAKhV,QAAkC,EAAxBO,EAAOmR,gBAMjC,0BACE,IAAK9N,GAAOwH,cAAcgK,SAAU,OAEpC,MAAMgI,EAAiBxZ,GAAOwH,cAAcgK,SAAS,GAC/ChK,EAAgBxH,GAAOwH,cAG7BA,EAAczY,YAAYmd,KAAO,IAC5BsN,EAAezqB,YAAYmd,QAC3B1E,EAAczY,YAAYmd,MAI3BsN,EAAehI,UACjBhK,EAAciS,cAAcD,EAAehI,UAK7C,IAAK,MAAMzpB,KAASikB,OAAOJ,OAAOpE,EAAczY,YAAYmd,MACtDkI,EAAKrsB,WACCA,EAAoC2e,aAMlD,qCACE,MAAMgT,EAAsB,IAAIC,IAC1BC,EAAc,IAAID,IAClBE,EAA0BC,IAC9B,IAAK,MAAMlc,KAAQoO,OAAOJ,OAAOkO,EAAQ/qB,YAAYmd,MAC/CmI,EAAWzW,GACb8b,EAAoBK,IAAInc,GACfqW,EAAQrW,IACjBoc,EAA6Bpc,GAG7Bkc,EAAQtI,UACVsI,EAAQtI,SAASvH,QAAQ4P,IAIvBG,EAAgCpc,IACpCA,EAAKqM,SAAQ6H,IACPuC,EAAWvC,GACb4H,EAAoBK,IAAIjI,GACfmC,EAAQnC,KAAO8H,EAAY7rB,IAAI+jB,KACxC8H,EAAYG,IAAIjI,GAChBkI,EAA6BlI,QAK/B9R,GAAOwH,cAAcgK,UACvBxR,GAAOwH,cAAcgK,SAASvH,QAAQ4P,GAGxC,MAAMxC,EAAkB,GACxB,IAAK,MAAOttB,EAAK6T,KAASoO,OAAOC,QAAQjM,GAAOwH,cAAczY,YAAYmd,OACpEwN,EAAoB3rB,IAAI6P,IAASkP,EAAW/iB,MAC9CstB,EAASttB,GAAO6T,GAIpBoC,GAAOwH,cAAczY,YAAYmd,KAAO,CACtC,CAACvP,EAAOsd,wBAAyB3G,YAC9B+D,GAIP,eACE,OAAO/Y,GAAcya,mBAAqB/Y,GAAOoZ,aAAepZ,GAAOuZ,gBAGzE,gBACE,OAAOjb,GAAcya,mBAAqB/Y,GAAOkZ,cAAgBlZ,GAAOsZ,iBAI1E,wBACE,GAAIhb,GAAcya,mBAAoB,CACpC7c,KAAK+c,cAAgB,GACrB,IAEIiB,EAFAC,EAA0B,CAACna,GAAOwH,eAClC4S,EAAiC,KAGrC,KAAOD,EAASrY,OAAS,GAAG,CAC1BoY,EAAY,IAAIG,GAAaD,EAAWD,GACxCje,KAAK+c,cAActf,KAAKugB,GACxB,MAAMI,EAA8B,GAEpCH,EAASlQ,SAAQ5I,IACfA,EAAEmQ,SAASvH,SAAQuM,IACjB,MAAMC,EAAe/E,GAAgB8E,GACrCC,EAAaxM,SAAQuM,GAAMA,EAAErS,OAAS9C,IACtCiZ,EAAa3gB,QAAQ8c,SAIzB2D,EAAYF,EACZC,EAAWG,OAER,CACL,MAAMC,EAA6B,GACnC,IAAIJ,EAAW,CAACna,GAAOwH,eAEvB,KAAO2S,EAASrY,OAAS,GAAG,CAC1ByY,EAAU5gB,KAAKwgB,GAEf,MAAMG,EAA8B,GAEpCH,EAASlQ,SAAQ5I,IACfA,EAAEmQ,SAASvH,SAAQuM,IACjB,MAAMC,EAAe/E,GAAgB8E,GACrCC,EAAaxM,SAAQuM,GAAMA,EAAErS,OAAS9C,IACtCiZ,EAAa3gB,QAAQ8c,SAIzB0D,EAAWG,OAEKzrB,IAAdqN,KAAKkV,KACPlV,KAAKkV,KAAO,IAAIZ,EAAK+J,GAErBre,KAAKkV,KAAKtF,OAAOyO,IAMvBxM,oBAAoBhmB,GAClBiY,GAAO4L,OAAO5S,IAAIjR,EAAM6V,KAAM7V,GAKhCgmB,mBAAmBnQ,EAAY8W,GAC7B,GAAIrI,EAAazO,GACf,OAAO,IAAIyV,EAAgB,CAACqB,IACvB,GAAInI,EAAgB3O,GACzB,OAAO,IAAI6L,EAAe7L,EAAM,CAAC8W,IAC5B,CAEL,MAAM8F,EAAgBxa,GAAO4L,OAAO5d,IAAI4P,GACxC,GAAI4c,EAEF,OADAA,EAAc9V,aAAagQ,GACpB8F,EAIT,IAAIC,EAAkB,IAAIhR,EAAe,KAAM,CAACiL,IAahD,OAZIT,EAAQrW,GACV6c,EAAW,IAAI7S,EAAWhK,EAAM,CAAC8W,IACxBR,EAAWtW,KAGlB6c,EAFErG,EAAKxW,GAEI,IAAIgH,EAAQhH,EAAM,CAAC8W,IAGnB,IAAInN,EAAc3J,EAAM,CAAC8W,KAIjC+F,GAKX1M,2BAA2BhmB,GACzBiY,GAAO2Y,cAAc3f,IAAIjR,EAAM6V,KAAM7V,GAKvCgmB,0BAA0BnQ,EAAY8W,GACpC,GAAIrI,EAAazO,GACf,OAAO,IAAI8c,GAAuB,CAAChG,IAC9B,GAAInI,EAAgB3O,GACzB,OAAO,IAAI+c,GAAsB/c,EAAM,CAAC8W,IACnC,CAEL,MAAM8F,EAAgBxa,GAAO2Y,cAAc3qB,IAAI4P,GAC/C,GAAI4c,EAEF,OADAA,EAAc9V,aAAagQ,GACpB8F,EAIT,IAAIC,EAAyB,IAAIE,GAAsB,KAAM,CAACjG,IAa9D,OAZIT,EAAQrW,GACV6c,EAAW,IAAIG,GAAkBhd,EAAM,CAAC8W,IAC/BR,EAAWtW,KAGlB6c,EAFErG,EAAKxW,GAEI,IAAIid,GAAejd,EAAM,CAAC8W,IAG1B,IAAIoG,GAAqBld,EAAM,CAAC8W,KAIxC+F,GA+CX,wBACE,MAAQ,SACNza,GAAO5D,QAAUO,EAAOoe,gBAAkB/a,GAAO3D,SAAWM,EAAOqe,gBAC/Dvb,KAAKwb,KAAKjb,GAAO5D,QAAUO,EAAOoe,gBAChCtb,KAAKwb,KAAKjb,GAAO3D,SAAWM,EAAOqe,iBACrC,UACA,SASR,4BAAoC/e,EAAWE,GAC7C,MAAM+e,EAAKjf,EAAI+D,GAAOuY,2BAChB4C,EAAKhf,EAAI6D,GAAOsY,yBACtBpc,KAAKyb,SAASlZ,QAAQmH,YAAYE,MAAMsV,UAAY,aAAeF,EAAK,OAASC,EAAK,MACtFjf,KAAKyb,SAASlZ,QAAQxC,GAAGif,GACzBhf,KAAKyb,SAASlZ,QAAQtC,GAAGgf,GAG3BpN,cACE,GAAmB,IAAf/N,GAAOjW,IACT,OAAOiW,GAAOqb,WACT,CACL,MAAMC,EACJ,qBAAKC,UAAW,oBAAoB,SAClC,qBACE1iB,GAAG,mBACHiD,IAAKkE,GAAOwY,mBACZgD,SAAUna,GACRrB,GAAOyb,qBAAqBpa,EAAEhD,cAAcqd,WAAYra,EAAEhD,cAAcsd,WAE1E7V,MAAO,CACL1J,MAAO4D,GAAOyX,aACdpb,OAAQ2D,GAAO0X,cACfkE,SAAU,OACVC,OAAQ,QACR,SAEF,sBACEhjB,GAAG,kBACHiN,MAAO,CACL1J,MAAO4D,GAAO5D,QACdC,OAAQ2D,GAAO3D,SACfuf,SAAU,SACVE,gBAAiBxd,GAAcC,mBAC3B5B,EAAOof,iBAAiB7e,WACxBP,EAAOmD,QAAQ5C,YACnB,UAEF,qBAAK4I,MAAO,CAAEkW,MAAO,GAAIvyB,SAAU,WAAYwyB,QAAS,OAAQC,UAAW,SAAU,SACnF,eAAC,IAAW,CAACC,UAAQ,YACnB,cAAC,IAAM,CACLC,OAAO,EACPC,UAAU,EACVvW,MAAO,CACLgW,gBAAiBxd,GAAcC,mBAC3B5B,EAAOof,iBAAiB7e,WACxBP,EAAOmD,QAAQ5C,WACnBkD,QAAS,GACTkc,YAAahe,GAAcC,mBACvB5B,EAAOmD,QAAQ5C,WACfP,EAAOof,iBAAiB7e,YAE9Bqf,UAAW,KACTje,GAAcke,sBACdle,GAAc+Z,UACd,SAEF,cAAC,IAAQ,CACPoE,SAAUne,GAAcya,mBACxB2D,MAAM,eACN5W,MAAO,CACL6W,aAAc,MACdC,MAAOte,GAAcC,mBACjB5B,EAAOmD,QAAQ5C,WACfP,EAAOof,iBAAiB7e,gBAIlC,cAAC,IAAM,CACLkf,OAAO,EACPC,UAAU,EACVvW,MAAO,CACLgW,gBAAiBxd,GAAcC,mBAC3B5B,EAAOof,iBAAiB7e,WACxBP,EAAOmD,QAAQ5C,WACnBkD,QAAS,GACTkc,YAAahe,GAAcC,mBACvB5B,EAAOmD,QAAQ5C,WACfP,EAAOof,iBAAiB7e,YAE9Bqf,UAAW,KACTje,GAAcue,sBACdve,GAAc+Z,UACd,SAEF,cAAC,IAAQ,CACPoE,QAASne,GAAcC,mBACvBme,MAAM,YACN5W,MAAO,CACL6W,aAAc,MACdC,MAAOte,GAAcC,mBACjB5B,EAAOmD,QAAQ5C,WACfP,EAAOof,iBAAiB7e,gBAIlC,cAAC,IAAM,CACLmf,UAAU,EACVpc,KAAMD,GAAO8c,iBACbV,OAAO,EACP3a,QAASvF,KAAK6gB,YACdjX,MAAO,CACL8W,MAAOte,GAAcC,mBACjB5B,EAAOmD,QAAQ5C,WACfP,EAAOof,iBAAiB7e,WAC5B4e,gBAAiBxd,GAAcC,mBAC3B5B,EAAOof,iBAAiB7e,WACxBP,EAAOmD,QAAQ5C,WACnBkD,QAAS,GACTkc,YAAahe,GAAcC,mBACvB5B,EAAOmD,QAAQ5C,WACfP,EAAOof,iBAAiB7e,mBAKpC,cAAC,IAAK,CAACd,MAAO4D,GAAO8X,WAAYzb,OAAQ2D,GAAOgY,YAAalc,IAAKI,KAAKyb,SAAS,SAC9E,eAAC,IAAK,WACJ,wBAAC,IAAI,IACClb,EACJR,EAAG,EACHE,EAAG,EACHC,MAAO4D,GAAO5D,QACdC,OAAQ2D,GAAO3D,SACfwD,KACEvB,GAAcC,mBACV5B,EAAOof,iBAAiB7e,WACxBP,EAAOmD,QAAQ5C,WAErBnT,IAAKiW,GAAOjW,MACZoW,WAAW,KAEX7B,GAAcya,oBAAsB/Y,GAAOoR,KAAKxS,OACjDN,GAAcya,oBACb/Y,GAAOiZ,cAAc7qB,KAAIyZ,GAASA,EAAMjJ,qBAsBtD,OAfAoB,GAAOqb,WAAaC,EAChBhd,GAAcya,mBACZza,GAAcC,mBAChByB,GAAOmY,oBAAsBmD,EAE7Btb,GAAOoY,mBAAqBkD,EAG1Bhd,GAAcC,mBAChByB,GAAOiY,aAAeqD,EAEtBtb,GAAOkY,YAAcoD,EAIlBA,IA1iBAtb,GAEJsZ,sBAAgB,EAFZtZ,GAIJuZ,qBAAe,EAJXvZ,GAMJoZ,kBAAY,EANRpZ,GAQJkZ,mBAAa,EARTlZ,GAUJ0X,cAAwBE,OAAOG,YAV3B/X,GAYJyX,aAAuBG,OAAOC,WAZ1B7X,GAcJgY,YAAsBJ,OAAOG,YAdzB/X,GAgBJ8X,WAAqBF,OAAOC,WAhBxB7X,GAkBJjW,IAAc,EAlBViW,GAqBJuG,qBAAe,EArBXvG,GAuBJwH,mBAAa,EAvBTxH,GAyBJoR,UAAI,EAzBApR,GA0BJiZ,cAAgC,GA1B5BjZ,GA6BJ4L,OAAS,IAAIne,IA7BTuS,GA8BJ2Y,cAAgB,IAAIlrB,IA9BhBuS,GAgCJqb,gBAAU,EAhCNrb,GAiCJkY,iBAAW,EAjCPlY,GAkCJiY,kBAAY,EAlCRjY,GAmCJoY,wBAAkB,EAnCdpY,GAoCJmY,yBAAmB,EApCfnY,GAqCJ2X,SAA2B5b,IAAMC,YArC7BgE,GAuCJsY,yBAAmC,IAvC/BtY,GAwCJuY,2BAAqC,IAxCjCvY,GAyCJwY,mBAAqCzc,IAAMC,YAzCvCgE,GAuVJ+c,YAAc,KAvVV/c,GAwVkCwY,mBAAmB/Z,QACpDue,SAAS,CAAEC,KAAM,EAAGC,IAAK,IACnCld,GAAOyb,qBAAqB,EAAG,GAC/B,MAAMpf,EAAS2D,GAAO3D,SAChBD,EAAQ4D,GAAO5D,QACf+gB,EAAmB1d,KAAKwb,KAAK7e,EAAQO,EAAOoe,gBAC5CqC,EAAiB3d,KAAKwb,KAAK5e,EAASM,EAAOqe,iBACzB,MACtB,MAAMqC,EAAiBrb,IACrB,GAAIA,GAAKmb,EAAmBC,EAC1B,OAEF,MAAMnhB,EAAI+F,EAAImb,EACRhhB,EAAIsD,KAAK6I,MAAMtG,EAAImb,GACnB7N,EAAIwF,SAASC,cAAc,KACjCzF,EAAExJ,MAAMmW,QAAU,OAClB3M,EAAEgO,KAxWGtd,GAwWS2X,SAASlZ,QAAQ8e,UAAU,CACvCthB,EAAGA,EAAIU,EAAOoe,eAAiB/a,GAAOuY,2BACtCpc,EAAGA,EAAIQ,EAAOqe,gBAAkBhb,GAAOsY,yBACvClc,MAAOqD,KAAKwD,IAAI7G,EAAQH,EAAIU,EAAOoe,eAAgBpe,EAAOoe,gBAC1D1e,OAAQoD,KAAKwD,IAAI5G,EAASF,EAAIQ,EAAOqe,gBAAiBre,EAAOqe,iBAC7DwC,SAAU,eAGZlO,EAAEmO,SAAY,WAAUxhB,KAAKE,QAC7B2Y,SAASW,KAAKiI,YAAYpO,GAC1BA,EAAEqO,QACF7I,SAASW,KAAKmI,YAAYtO,GAC1BuO,YAAW,WACTR,EAAcrb,EAAI,KACjB,MAGLqb,EAAc,IAEhBS,IC1ZW,MAAMxf,GAMnB,6BACEA,GAAcyf,eAAiBzf,GAAcyf,cAE/C,6BACEzf,GAAc0f,eAAiB1f,GAAc0f,cAE/C,0BACE,OAAO1f,GAAcyf,cAEvB,0BACE,OAAOzf,GAAc0f,cAIvBjQ,YAAYkQ,EAAgB7hB,EAAeC,GACzC2D,GAAO0X,cAAgBrb,EACvB2D,GAAOyX,aAAerb,EACtBF,KAAK+hB,OAASA,EAGhBlQ,eACE/N,GAAO4L,OAAO8M,QACd1Y,GAAO2Y,cAAcD,QAKvB3K,eAAe9d,GAGb,GADAqO,GAAciI,gBAAkB8P,GAAapmB,EAAQiuB,QAAQ3X,kBACxDrK,KAAK+hB,OAAQ,MAAM,IAAIE,MAAM,kCAElCne,GAAOoe,WAAWnuB,EAAQiuB,QAAQ3X,iBAClCrK,KAAK+hB,OAAOje,GAAOpB,QACnBoB,GAAOqe,iBAAiBre,GAAOyX,aAAczX,GAAO0X,eAGpD,MAAM4G,EAAOxJ,SAASyJ,eAAe,uBACrCD,GAAQA,EAAKE,UAAUzE,IAAI,0BAG7BhM,gBACM7R,KAAKqK,kBAGLjI,GAAcya,oBACdza,GAAcC,yBACiB1P,IAA/BmR,GAAOmY,oBAEPjc,KAAK+hB,OAAOje,GAAOmY,qBAEnB7Z,GAAcya,qBACbza,GAAcC,yBACe1P,IAA9BmR,GAAOoY,mBAEPlc,KAAK+hB,OAAOje,GAAOoY,qBAElB9Z,GAAcya,oBACfza,GAAcC,yBACU1P,IAAxBmR,GAAOiY,aAEP/b,KAAK+hB,OAAOje,GAAOiY,cAElB3Z,GAAcya,oBACdza,GAAcC,yBACQ1P,IAAvBmR,GAAOkY,aAIPlY,GAAOoe,WAAW9f,GAAciI,iBAChCrK,KAAK+hB,OAAOje,GAAOpB,SAHnB1C,KAAK+hB,OAAOje,GAAOkY,aAKrBlY,GAAOqe,iBAAiBre,GAAOyX,aAAczX,GAAO0X,gBAIxD3J,wBAAwB3R,EAAeC,GACd,MAAnB2D,GAAO2X,UAA8B,OAAVvb,GAA6B,OAAXC,GAC/C2D,GAAOqe,iBAAiBjiB,EAAOC,IApFhBiC,GAEJ2f,YAAM,EAFF3f,GAGJyf,eAAyB,EAHrBzf,GAIJ0f,eAAyB,EAJrB1f,GAKJiI,qBAAe,G,+ECZzB,MAAM5J,EACE,EADFA,EAEH,QAFGA,EAGL,QAHKA,EAKD,GALCA,EAME,GANFA,EAOA,GAPAA,EAWA,KAXAA,EAYA,GAZAA,EAaQ,GAbRA,EAcQ,EAdRA,EAgBmB,GAhBnBA,GAiBkB,EAjBlBA,EAkBO,EAlBPA,EAmBK,GAnBLA,EAoBQ,GApBRA,EAqBY,GArBZA,EAuBI,G,aCEV,SAAS8hB,EAAQxiB,GACtB,OAjBK,SAAoBA,GACzB,YAAsBpN,IAAlBsiB,MAAM8C,QACDhY,aAAakV,MAEbA,MAAM8C,QAAQhY,GAahByiB,CAAWziB,IAAmB,IAAbA,EAAE6F,OAiBrB,SAASmN,EAAK0P,GACnB,GAAIF,EAAQE,GACV,OAAOA,EAAG,GAEV,MAAM,IAAIR,MAAM,2DAA6DQ,GAM1E,SAASC,EAAQD,GACtB,OAAc,OAAPA,EAMF,SAASE,EAAQF,GACtB,MAASA,EAAK1P,EAAK0P,GAAK,CACtB,GAAIC,EAAQD,GACV,OAAO,EACF,IAAKF,EAAQE,GAClB,OAAO,GC5DN,SAASG,EAAOlhB,GAAwD,IAA5CmhB,EAAa,wDAC9C,GAAIA,EACF,MAAO,GAAKnhB,EACP,CACL,MAAM3V,SAAc2V,EACpB,GAAc,aAAT3V,GAAgC,WAATA,GAA+B,OAAT2V,EAE3C,IAAa,WAAT3V,EAAmB,CAC5B,MAAM+2B,EAAaphB,EAAO,GAE1B,MAAQ,IADIohB,EAAWxf,UAAU,EAAG7C,KACnBqiB,EAAWld,OAASnF,EAAuB,MAAQ,MAEpE,MAAQ,GAAEiB,IANV,Q,2BCFC,MAAMqhB,UAAsBljB,IAAMmjB,cACvCC,SACE,OACE,cAAC,IAAK,CAEJ5e,OAAQ,CACNrE,KAAKzR,MAAMid,KAAKzL,EAChBC,KAAKzR,MAAMid,KAAKvL,EAChBD,KAAKzR,MAAMsW,GAAG9E,EAAIU,EAClBT,KAAKzR,MAAMsW,GAAG5E,EAAIQ,GAEpB4G,aAAc5G,EACd8G,cAAe9G,EACfkD,KAAMlD,EACNwG,OAAQxG,EACR4E,YAAa5E,EACbD,gBAAgB,GAZXR,KAAKzR,MAAQ,KCJnB,MAAM20B,UAA8BF,gBAYzCC,SAGE,MAAME,EAAUnjB,KAAKzR,MAAMid,KAAKvL,EAAIQ,EAAmB,EAAIA,EAGrD2iB,EAAQpjB,KAAKzR,MAAMsW,GAAG9E,EAAIU,EAG1B4iB,EAAOrjB,KAAKzR,MAAMsW,GAAG5E,EAAIQ,EAEzBmE,EAAO,CACX5E,KAAKzR,MAAMid,KAAKzL,EAChBC,KAAKzR,MAAMid,KAAKvL,EAChBD,KAAKzR,MAAMid,KAAKzL,EAChBojB,EACAC,EACAD,EACAC,EACAC,EACArjB,KAAKzR,MAAMsW,GAAG9E,EAAIU,EAClB4iB,EACArjB,KAAKzR,MAAMsW,GAAG9E,EAAIU,EAClBT,KAAKzR,MAAMsW,GAAG5E,EAAIQ,GAEpB,OACE,cAAC,IAAK,CACJ4D,OAAQO,EACR2C,cAAe9G,EACf4G,aAAc5G,EACdkD,KAAMlD,EACNwG,OAAQxG,EACR4E,YAAa5E,EACbD,gBAAgB,KCzDjB,MAAM8iB,EAGX7hB,cAAe,KAFR6T,cAAQ,EAGbtV,KAAKsV,SAAW,MCEb,MAAMiO,UAA8BD,EAGzC7hB,YAAY+hB,GACV3hB,QAAQ,KAHH2hB,gBAAU,EAIfxjB,KAAKwjB,WAAaA,GCLf,MAAMC,UAAqBH,EAGhC7hB,YAAYC,GACVG,QAAQ,KAHMH,UAAI,EAIlB1B,KAAK0B,KAAOA,GCJT,MAAegiB,UAAyBJ,EAAU,cAAD,yBAC5CK,eAAS,OACZC,eAAS,OACTC,eAAS,EAEZC,eACF,OAAO9jB,KAAK2jB,WCGT,MAAMI,UAAqBlkB,IAAMmjB,cACtCC,SACE,OACE,cAAC,IAAI,CACHljB,EAAGC,KAAKzR,MAAMwR,EACdE,EAAGD,KAAKzR,MAAM0R,EACdoE,OAAQ,CAAC,EAAG5D,EAAkBA,EAAiB,GAC/C4E,YAAa5E,EAAqB,EAClCwG,OAAQxG,EACRD,gBAAgB,KCPjB,MAAMwjB,UAAsBnkB,IAAMmjB,cACvCC,SACE,MAAMgB,EAAkB,CAACjQ,EAAoB/nB,KAC3C,MAAMi4B,EAAYlQ,EAAKtS,KACvB,GRgBGihB,EQhBSuB,GAgBL,IRGN,SAAqBxiB,GAC1B,OAAgB,OAATA,EQJQyiB,CAAYD,GAAY,CACjC,MAAM31B,EAAQ,CACZwR,EAAG9T,EAAQwU,EACXR,EAAG,GAEL,OAAO,cAAC,EAAY,IAAiB1R,GAAXtC,GAE1B,OAAO,KAvBe,CACtB,MAAMm4B,EAAgCxB,EAAOsB,GACvCG,EAAyB,OAATD,QAAS,IAATA,IAAa,IAAME,EAAeC,sBAAsBvQ,GAC9E,OACE,cAAC,IAAI,CAEHjQ,KAAMsgB,EACNG,MAAO,SACPtkB,MAAOO,EACPV,EAAGU,EAAkBxU,EACrBgU,EAAGsD,KAAK6I,OAAO3L,EAAmB,IAAM,IAAM,GAC9CU,eAAyBxO,IAAdyxB,EAA0B,SAAW,SAChDzgB,KAAM,QACNnD,gBAAgB,GARX,GAAK0jB,EAAYj4B,KAsB9B,OACE,eAAC,IAAK,CAAC8T,EAAGC,KAAKzR,MAAMwR,EAAGE,EAAGD,KAAKzR,MAAM0R,EAAE,UAEtC,cAAC,IAAI,CACHC,MAAOqD,KAAKC,IAAI/C,EAAkBT,KAAKzR,MAAMwmB,MAAMnP,OAAQnF,GAC3DN,OAAQM,EACR4E,YAAa5E,EACbwG,OAAQxG,EACRkD,KAAM,UACNnD,gBAAgB,IAGjBR,KAAKzR,MAAMwmB,MAAMnP,OAAS,GACzBqP,MAAMzJ,KAAKyJ,MAAMjV,KAAKzR,MAAMwmB,MAAMnP,OAAS,IAAI,CAACT,EAAG7Z,IAE/C,cAAC,IAAI,CAEH+Y,OAAQ,CAAC5D,GAAmBnV,EAAI,GAAI,EAAGmV,GAAmBnV,EAAI,GAAImV,GAClE4E,YAAa5E,EACbwG,OAAQxG,EACRD,gBAAgB,GAJX,OAASlV,KAQrB0U,KAAKzR,MAAMwmB,MAAM7iB,KAChB,CAACuyB,EAAOx4B,IAAUw4B,aAAiBhB,GAAgBQ,EAAgBQ,EAAOx4B,SC7D7E,MAAMy4B,UAAyB7kB,IAAMmjB,cAC1CC,SACE,OACE,eAAC,IAAK,IAAKjjB,KAAKzR,MAAK,UAEnB,cAAC,IAAM,CACLua,OAAQrI,EACR4E,YAAa5E,EACbwG,OAAQxG,EACRV,EAAGU,EACHR,EAAGQ,EACHD,gBAAgB,IAIlB,cAAC,IAAM,CACLsI,OAAQrI,EACR4E,YAAa5E,EACbwG,OAAQxG,EACRV,EAA8B,EAA3BU,EAA+BA,EAClCR,EAAGQ,EACHD,gBAAgB,IAIlB,cAAC,IAAM,CACLsI,OAAQrI,EACR4E,YAAa5E,EACbwG,OAAQxG,EACRkD,KAAMlD,EACNV,EAAGU,EACHR,EAAGQ,EACHD,gBAAgB,IAIlB,cAAC,IAAM,CACLsI,OAAQrI,EACR4E,YAAa5E,EACbwG,OAAQxG,EACRkD,KAAMlD,EACNV,EAA8B,EAA3BU,EAA+BA,EAClCR,EAAGQ,EACHD,gBAAgB,QC/CnB,MAAMmkB,UAAyBjB,EACpCkB,eAAe7kB,EAAWE,EAAW4kB,EAAiBC,GAwBpD,OAvBA9kB,KAAK2jB,UACH,eAAC,IAAK,WACJ,cAAC,EAAgB,CAAO5jB,IAAGE,OACzB4kB,IAAY9kB,GAAK+kB,IAAY7kB,IAC7B,cAAC,EAAa,CAEVuL,KAAM,CACJzL,EAAG8kB,EAAUpkB,EAAkB,EAC/BR,EAAG6kB,EAAUrkB,EAAmB,GAElCoE,GAAI,CACF9E,IACAE,SAXEF,EAAI,KAAOE,GAmBzBD,KAAK4jB,UAAY7jB,EACjBC,KAAK6jB,UAAY5jB,EAEVD,KAAK2jB,WCzBT,MAAMoB,UAAsBrB,EACjCkB,eAAe7kB,EAAWE,EAAW4kB,EAAiBC,GAA+B,IAAD,EAClF,MAAME,EAAa,CAAEjQ,MAAoB,QAAf,EAAE/U,KAAKsV,gBAAQ,QAAI,GAAIvV,IAAGE,KAC9CglB,EAAgB,cAAC,EAAa,IAAKD,IAuBzC,OArBAhlB,KAAK2jB,UACH,eAAC,IAAK,WACHsB,GACCJ,IAAY9kB,GAAK+kB,IAAY7kB,IAC7B,cAAC,EAAa,CAEVuL,KAAM,CACJzL,EAAG8kB,EAAUpkB,EAAkB,EAC/BR,EAAG6kB,EAAUrkB,EAAmB,GAElCoE,GAAI,CACF9E,IACAE,SAXEF,EAAI,KAAOE,GAkBzBD,KAAK4jB,UAAY7jB,EACjBC,KAAK6jB,UAAY5jB,EACVD,KAAK2jB,WCdT,MAAMuB,EASXzjB,YAAY0jB,EAAoBpQ,GAA4B,KARpDqQ,eAAS,OACTrQ,WAAK,EAQX/U,KAAKolB,UAAYD,EACjBnlB,KAAK+U,MAAQA,EAMXoQ,eACF,OAAOnlB,KAAKolB,UAOdC,YAAY1oB,GACV,OAAOqD,KAAK+U,MAAMpY,GAGpBkV,2BAA2ByT,GACzB,IAAIC,EAAY,EAEhB,SAASC,EAAcC,GACrB,MAAMC,EAAmBC,EAAkB7zB,IAAI2zB,GAC/C,YAAyB9yB,IAArB+yB,EACK,IAAInC,EAAsBmC,IZ/BjBhkB,EYiCH+jB,EZhCZxQ,MAAM8C,QAAQrW,GY6CnB,SAAuB4jB,GACrB,MAAMtR,EAAO,IAAI+Q,EASjB,OAPAY,EAAkB7oB,IAAIwoB,EAAMtR,GAC5B4R,EAAUL,GAAavR,EACvBuR,IAGAvR,EAAKsB,SAAWgQ,EAAKpzB,IAAIszB,GAElBxR,EAtBH6R,CAAcJ,GZ9BjB,SAAoB/jB,GACzB,MAAuB,oBAATA,EY8BNsW,CAAWyN,GA8BjB,SAA2BK,GACzB,MAAM9R,EAAO,IAAI2Q,EAOjB,OAJAgB,EAAkB7oB,IAAIgpB,EAAM9R,GAC5B4R,EAAUL,GAAavR,EACvBuR,IAEOvR,EArCH+R,CAAkBN,GA6CxB,SAAuB/jB,GACrB,OAAO,IAAI+hB,EAAa/hB,GA7CpBskB,CAAcP,IZrCjB,IAAiB/jB,EYqFpB,MAAMikB,EAA0E,IAAIp0B,IAC9Eq0B,EAAgC,GAChCT,EAAWK,EAAcF,GAE/B,OAAO,IAAIJ,EAAKC,EAAUS,GAG5BljB,OACE,OAAO,IAAIujB,EAAWjmB,OAO1B,MAAMimB,EAYJxkB,YAAY6jB,GAAa,KAXjBA,UAAI,OAEJY,eAAS,OACTC,gBAAU,OACXjmB,MAAgB,EAAE,KAClBC,OAAiB,EAAE,KAGlBuT,KAAO,EAAE,KACT0S,KAAO,EAGbpmB,KAAKslB,KAAOA,EACZtlB,KAAKkmB,UAAY,GACjBlmB,KAAKmmB,WAAa,IAAI50B,IAMxBmR,KAAK3C,EAAWE,GACd,GAAID,KAAKslB,KAAKH,oBAAoB1B,EAAc,CAC9C,MACM4C,EAAa,CACjBtiB,KAFW6e,EAAO5iB,KAAKslB,KAAKH,SAASzjB,MAGrC8iB,MAAO,SACPrjB,UAAW,SACXF,SAAU,GACV0C,KAAMlD,GAEF6lB,EAAY,IAAIC,IAAM/kB,KAAK6kB,GAGjC,OAFArmB,KAAKE,MAAQomB,EAAUpmB,QACvBF,KAAKG,OAASmmB,EAAUnmB,SAEtB,cAAC,IAAK,UACJ,cAAC,IAAI,IAAKkmB,MAOd,OAHArmB,KAAKwmB,SAASxmB,KAAKslB,KAAKH,SAAUplB,EAAGE,EAAGF,EAAGE,GAC3CD,KAAKE,MAAQF,KAAKymB,aAAazmB,KAAKslB,KAAKH,UAAYnlB,KAAK0T,KAC1D1T,KAAKG,OAASH,KAAK0mB,cAAc1mB,KAAKslB,KAAKH,UAAYnlB,KAAKomB,KAAO3lB,EAEjE,cAAC,IAAK,CAAoBkmB,QAAS3mB,KAAK0T,KAAMjE,QAASzP,KAAKomB,KAAK,SAC9DpmB,KAAKkmB,WADInmB,EAAI,KAAOE,GAmB7BumB,SAASxS,EAAgBjU,EAAWE,EAAW4kB,EAAiBC,GAC9D,GAAI9Q,aAAgBuP,EAAuB,CAEzC,MAAMqD,EAAY5S,EAAKwP,WACjBqD,EAAa,CACjBrb,KAAM,CACJzL,EAAG8kB,EAAUpkB,EAAkB,EAC/BR,EAAG6kB,EAAUrkB,EAAmB,GAElCoE,GAAI,CACF9E,EAAG6mB,EAAUhD,UACb3jB,EAAG2mB,EAAU/C,YAMjB,IAAIhZ,EAFoBgc,EAAWrb,KAAKvL,GAAK4mB,EAAWhiB,GAAG5E,GAMzDD,KAAK0T,KAAOnQ,KAAKwD,IACf/G,KAAK0T,KACLkT,EAAUhD,UAAanjB,EAA+BA,EAAqB,GAE7ET,KAAKomB,KAAO7iB,KAAKwD,IACf/G,KAAKomB,KACLQ,EAAU/C,UAAapjB,EAAwBA,EAAqB,GAEtEoK,EACE,cAAC,EAAqB,IAAsDgc,GAAhD,eAAiBhC,EAAU9kB,EAAI+kB,EAAU7kB,IAGvE4K,EAAQ,cAAC,EAAa,IAA+Cgc,GAAzC,QAAUhC,EAAU9kB,EAAI+kB,EAAU7kB,GAEhED,KAAKkmB,UAAUzoB,KAAKoN,GAGtB,GAAMmJ,aAAgB0P,EAGtB,GAAI1P,aAAgB2Q,EAAkB,CACpC,MAAMb,EAAW9P,EAAK4Q,eAAe7kB,EAAGE,EAAG4kB,EAASC,GACpD9kB,KAAKkmB,UAAUzoB,KAAKqmB,QACf,GAAI9P,aAAgB+Q,EAAe,CAAC,IAAD,EACxC,MAAMjB,EAAW9P,EAAK4Q,eAAe7kB,EAAGE,EAAG4kB,EAASC,GACpD9kB,KAAKkmB,UAAUzoB,KAAKqmB,GAIpB,IAAIV,EAAQrjB,EACC,QAAb,EAAAiU,EAAKsB,gBAAQ,OAAb,EAAevH,SAAQ,CAAC+Y,EAAW76B,KACjC,MAAM86B,EAASD,aAAqBvD,EAAwBtjB,EAAIA,EAAIQ,EACpET,KAAKwmB,SAASM,EAAW1D,EAAO2D,EAAQhnB,EAAIU,EAAkBxU,EAAOgU,GACrE,MAAM+mB,EAAiBhnB,KAAKymB,aAAaK,GACzC1D,GAAS4D,EAAiBA,EAAiBvmB,EAAmB,MASpEgmB,aAAazS,GACX,GAAIA,aAAgByP,GAAgBzP,aAAgBuP,EAClD,OAAO,EACF,GAAIvP,aAAgB2Q,EACzB,OAAkC,EAA3BlkB,EAA+B,EAAIA,EACrC,GAAIuT,aAAgB+Q,EAAe,CACR,IAAD,EAA/B,GAAI/kB,KAAKmmB,WAAWt0B,IAAImiB,GACtB,OAAgC,QAAhC,EAAOhU,KAAKmmB,WAAWr0B,IAAIkiB,UAAK,QAAI,EAC/B,GAAqB,MAAjBA,EAAKsB,SAAkB,CAChC,MAAM2R,EAAiBjT,EAAKsB,SACzBpjB,KAAI8hB,GAAQhU,KAAKymB,aAAazS,KAC9B1hB,QAAOyN,GAAKA,EAAI,IACbmnB,EACJD,EAAerhB,OAAS,EAAIqhB,EAAevhB,QAAO,CAAC3F,EAAGE,IAAMF,EAAIE,EAAIQ,IAAoB,EACpF0mB,EAAY5jB,KAAKC,IACrBwQ,EAAKsB,SAAS1P,OAASnF,EAAkBA,EACzCymB,EACAzmB,EAAqBA,GAGvB,OADAT,KAAKmmB,WAAWrpB,IAAIkX,EAAMmT,GACnBA,EAEP,OAAO,EAGT,OAAO,EAQXT,cAAc1S,GACZ,OAAIA,aAAgByP,EACX,EACEzP,aAAgB2Q,EAClBlkB,EACEuT,aAAgBuP,EAClB9iB,EACEuT,aAAgB+Q,GAGT,QAAd,EAAC/Q,EAAKsB,gBAAQ,QAAI,IACfpjB,KAAIuyB,GACiBzkB,KAAK0mB,cAAcjC,IACjBA,aAAiBf,EAAmBjjB,EAAmB,EAAI,KAElFnO,QAAO6N,GAAUA,EAAS,IAC1BuF,QAAO,CAAC3F,EAAGE,IAAMsD,KAAKC,IAAIzD,EAAGE,IAAI,GAAKQ,EAGpC,EAZkC,IAAD,GCrR/B,MAAM6jB,EACnB,aAAqB3e,IAQblE,cAAe,KAJfgG,MAAgB,GAAG,KACnB2f,UAAY,EAAE,KACdC,eAA4C,IAAI91B,IAIxD,YAAmB+1B,GACjBhD,EAAegD,SAAWA,EAG5B,gBAAuBC,GACrB,IAAKjD,EAAegD,SAClB,MAAM,IAAIrF,MAAM,mCAElBqC,EAAekD,UAAUC,QAAQF,GACjCjD,EAAegD,SAAShD,EAAekD,UAAU/f,OAGnD,eACE6c,EAAekD,UAAY,IAAIlD,EAC/BA,EAAegD,SAAShD,EAAekD,UAAU/f,OAGnD,6BAAoCigB,GAClC,OAAOpD,EAAekD,UAAUjD,sBAAsBmD,GAGhDnD,sBAAsBmD,GACY,IAAD,EAAvC,OAAI1nB,KAAKqnB,eAAex1B,IAAI61B,GACc,QAAxC,EAAO1nB,KAAKqnB,eAAev1B,IAAI41B,UAAS,QAAI,GAE5CzoB,QAAQJ,IAAI,IAAMmB,KAAKonB,UAAY,KAAOM,EAAShmB,MACnD1B,KAAKqnB,eAAevqB,IAAI4qB,EAAU1nB,KAAKonB,WAChCpnB,KAAKonB,aAIRK,QAAQF,GACd,MAAM5hB,EAAO4hB,EAAWr1B,IAAI8N,KAAK2nB,eACjC3nB,KAAKyH,MAAMhK,KAAKkI,GAOVgiB,cAAclF,GACpB,MAAMmF,EAAa1C,EAAK2C,oBAAoBpF,GAAI/f,OAI1ColB,EAAarnB,EAAqB,EAGlCsnB,EAAYtnB,EAAqB,EAEjCunB,EAAQJ,EAAWllB,KAAKolB,EAAYC,GAC1C,OACE,cAAC,IAAK,CAAU7nB,MAAO0nB,EAAW1nB,MAAQ4nB,EAAY3nB,OAAQynB,EAAWznB,OAAS4nB,EAAU,SACzFC,GADSvF,IA/DG6B,EAEJgD,SAAmChD,EAAe2D,MAF9C3D,EAGJkD,UAAY,IAAIlD,G,8CCN1B,MAAM4D,EAAoC,CAC/CrpB,IACGspB,GACD,WAAqB,IAAD,uBAAhBC,EAAI,yBAAJA,EAAI,gBACND,EAAeC,EAAKl2B,KAAI2M,GAAuB,kBAARA,EAAmBA,EAAMkE,oBAAUlE,KAAO+L,KAAK,QCsC5F,MAAMyd,EAAsC,IAnD5C,MAIE5mB,cAAe,KAHP6mB,YAAM,OACN98B,uBAAiB,EAGvBwU,KAAKsoB,OAAS,GAGTC,OACL,MAAMC,EAAa,IAAIxoB,KAAKsoB,QAE5B,OADAtoB,KAAKyoB,cACED,EAGF/qB,KAAKoB,EAAarT,GACvBwU,KAAK0oB,sBAAsBl9B,GAC3BwU,KAAKsoB,OAAO7qB,KAAKoB,GAGZ8pB,cAAcn9B,GACnB,MAAM28B,EAAkBtpB,GAAgBmB,KAAKvC,KAAKoB,EAAKrT,GACjDo9B,EAAiB,GAMvB,OALA9Y,OAAOC,QAAQmY,GAAkBna,SAAQ,IAAyB,IAAvB8a,EAAQC,GAAS,EAC1DF,EAAeC,GAAU5pB,QAAQ4pB,GACjC5pB,QAAQ4pB,GAAUC,EAASX,MAGtB,KACLrY,OAAOC,QAAQmY,GAAkBna,SAAQ,IAAe,IAAb8a,GAAO,EAChD5pB,QAAQ4pB,GAAUD,EAAeC,OAK/BH,sBAAsBK,GACvB/oB,KAAKgpB,gBAAkBD,IAAiB/oB,KAAKxU,oBAChDwU,KAAKxU,kBAAoBu9B,EACzB/oB,KAAKyoB,eAIDO,eACN,OAAOC,QAAQjpB,KAAKxU,mBAGdi9B,cACNzoB,KAAKsoB,OAAS,KAMHD,O,uSCpDf,MAAMxgC,EAAU,EAAhB,IAEa,MAAM,MACN,YAAY,QACZ,SAA2B,qBAAX,OAAyB,EAAS,OAClD,oBAAoB,gBACpB,mBAAmB,eACnB,qBAAqB,iBACrB,0BAA0B,IAC1B,mBAAsC,CACjD,MAAO,CACL,MAAO,EACP,QAAS,GAEX,IAAK,CACH,MAAO,EACP,QAAS,IAGA,qBAAqB,CAChC,YAAa,IACb,mBAAoB,IAGT,kBAA8B,CAAC,CAAE,QAAS,UAAQ,MAAO,QAAS,UAAQ,UAE1E,sBAA+B,CAAE,YAAa,Q,gIC3B3D,eACM,EAAN,MAEA,2BAKE,YAAY,GAJL,UAAO,YAAU,QACjB,cAAWA,EAAQ,cAAM,MAI9B,KAAK,SAAW,EAAO,EAAK,IAAO,mBAG9B,UACL,MAAO,GAGF,YACL,OAAO,KAAK,a,gCCfhB,4MAAO,MAAMW,EAA6B,6BAC7BqB,EAAoB,oBAE1B,IAAKq/B,EAaAC,EAUAC,EAUAC,GA5BX,SALWH,KAAkB,wBAAlBA,EAAkB,sBAAlBA,EAAkB,8BAAlBA,EAAkB,sBAK7B,CALWA,MAAkB,KAkB7B,SALWC,KAAe,oBAAfA,EAAe,gBAAfA,EAAe,kBAAfA,EAAe,YAK1B,CALWA,MAAe,KAiB1B,SAPWC,KAAa,gBAAbA,EAAa,gBAAbA,EAAa,gBAOxB,CAPWA,MAAa,KAcxB,SAJWC,KAAa,0BAAbA,EAAa,UAAbA,EAAa,gBAIxB,CAJWA,MAAa,M,g1BCpCZ,4BAA6B,GACvC,EAAK,aAAa,GAAG,GAAqB,KAEhC,oBAAoB,CAAC,EAAc,KAC9C,aAAQ,QAAS,CAAE,MAAO,CAAE,OAAM,UAAU,IAAK,CAAE,OAAM,YAE9C,aAAa,CAAC,EAAc,KAA8B,CACrE,KAAM,aACN,OACA,QAGW,UAAU,CACrB,EACA,KAA8B,CAE9B,KAAM,UACN,QACA,QAGW,mBAAmB,CAC9B,EACA,KAAyB,CAEzB,KAAM,mBACN,SACA,SAA8B,kBAAb,EACjB,UAAU,EACV,SAA8B,kBAAb,GAAwB,aAAQ,IAAY,gBAAW,KAG7D,cAAc,CACzB,EACA,EACA,EACA,KAA8B,CAE9B,KAAM,sBACN,aAAc,CACZ,CACE,KAAM,qBACN,IAAI,gBAAW,GACf,SAGJ,OACA,QAGW,sBAAsB,CACjC,EACA,EACA,KACG,iBAAY,EAAM,QAAS,EAAM,GAEzB,iBAAiB,CAC5B,EACA,EACA,KAA8B,CAE9B,KAAM,iBACN,SACA,UAAW,EACX,UAAU,EACV,QAGW,sBAAuB,IAAyB,CAC3D,KAAM,sBACN,eAGW,qBAAqB,CAChC,EACA,EACA,KAA8B,CAE9B,KAAM,0BACN,YAAY,EACZ,WAAW,EACX,SACA,KAAM,MAAM,QAAQ,IAAQ,oBAAe,GAAQ,EACnD,QAGW,qBAAqB,CAChC,EACA,EACA,KAA8B,CAE9B,KAAM,qBACN,GAAI,KACJ,OAAO,EACP,WAAW,EACX,SACA,KAAM,MAAM,QAAQ,IAAQ,oBAAe,GAAQ,EACnD,QAGW,iBAAkB,IAAoB,CACjD,KAAM,iBACN,SAGW,UAAW,IAAoB,CAC1C,KAAM,UACN,WAAY,SACZ,SAGW,kBAAkB,CAC7B,EACA,KAA8B,CAE9B,KAAM,kBACN,WACA,QAGW,WAAW,CAAC,EAAa,KAAoB,CACxD,KAAM,WACN,QAAQ,EACR,WAAW,EACX,UAAU,EACV,KAAK,gBAAW,GAChB,QACA,KAAM,SAGK,mBAAoB,IAAyB,CACxD,KAAM,mBACN,eAGW,yBAAyB,CACpC,EACA,EACA,KAEA,EAAK,KAAO,kBACZ,EAAO,GACF,OAAS,EACd,EAAK,UAAY,GAGN,+BAA+B,CAC1C,EACA,EACA,KAEA,EAAK,KAAO,wBACZ,EAAO,GACF,SAAW,IAChB,EAAK,KAAO,EACZ,EAAK,MAAQ,GAGF,8BAA8B,CAAC,EAAe,KACzD,EAAK,KAAO,uBACZ,EAAO,GACF,WAAa,GAGP,0BAA0B,CAAC,EAAe,KACrD,EAAK,KAAO,mBACZ,EAAO,GACF,SAAW,GAGL,2BAA2B,CACtC,EACA,EACA,KAEA,EAAK,KAAO,oBACZ,EAAO,GACF,OAAS,EACd,EAAK,SAAW,EAChB,EAAK,UAAW,GAGL,oBAAoB,CAC/B,EACA,EACA,EACA,KAA8B,CAE9B,KAAM,oBACN,WACA,OACA,QACA,QAGW,gCAAgC,CAC3C,EACA,EACA,EACA,KAEA,EAAK,KAAO,yBACZ,EAAO,GACF,KAAO,EACZ,EAAK,WAAa,EAClB,EAAK,UAAY,GAGN,wBAAwB,CACnC,EACA,EACA,EACA,KAA8B,CAE9B,KAAM,wBACN,OACA,aACA,YACA,QAGW,kBAAmB,IAAyB,CACvD,KAAM,kBACN,aAGW,uBAAuB,CAClC,EACA,KAAoB,CAEpB,KAAM,uBACN,SAAU,IACV,OACA,UAGW,mBAAmB,CAC9B,EACA,EACA,EACA,KAA8B,CAE9B,KAAM,mBACN,WACA,OACA,QACA,QAGW,kBAAkB,CAC7B,EACA,EACA,KAA8B,CAE9B,KAAM,kBACN,WACA,QAAQ,EACR,WACA,QAIW,YAAa,QACP,IAAV,GAAsB,gBAAW,cAAe,aAAQ,GAGpD,gCAAgC,CAC3C,EACA,EACA,EACA,KAA8B,CAE9B,KAAM,qBACN,KACA,SACA,OACA,QAGW,sBAAsB,CACjC,EACA,EACA,EACA,KAA8B,CAE9B,KAAM,sBACN,KACA,SACA,OACA,QAGW,kBAAkB,CAC7B,EACA,KAA8B,CAE9B,KAAM,kBACN,OACA,QAGW,0BAA0B,CACrC,EACA,EACA,KAA8B,CAE9B,KAAM,0BACN,WAA0B,mBAAd,EAAK,KACjB,WAAW,EACX,SACA,OACA,QAGW,sBAAsB,CACjC,EACA,KAA8B,CAE9B,KAAM,sBACN,KAAM,QACN,eACA,QAGW,qBAAqB,CAChC,EACA,EACA,KAA8B,CAE9B,KAAM,qBACN,KACA,OACA,QAGW,cAAc,CACzB,EACA,EACA,EACA,KAA8B,CAE9B,KAAM,cACN,OACA,aACA,YACA,QAGW,iBAAiB,CAC5B,EACA,EACA,KAA8B,CAE9B,KAAM,iBACN,OACA,OACA,S,gCCpWF,0sBAAO,MAAMC,EAAY,YACZC,EAA2B,2BAC3BC,EAAoB,oBAGpBC,EAAe,eACfC,EAAmB,mBACnBC,EAAY,YACZC,EAAgB,gBAChBC,EAAgC,gCAChCC,EAAY,YACZC,EAAqB,qBACrBC,EAAc,cACdC,EAAoB,oBACpBC,EAAa,aACbC,EAAiC,iCACjCC,EAAa,aACbC,EAAuB,uBACvBC,EAA2B,2BAEjC,IAAKC,EAOAC,GAFX,SALWD,KAAiB,gBAAjBA,EAAiB,sBAAjBA,EAAiB,kBAAjBA,EAAiB,wBAK5B,CALWA,MAAiB,KAa7B,SANYC,KAAY,UAAZA,EAAY,gBAAZA,EAAY,sBAMxB,CANYA,MAAY,KAqEjB,MAAMC,EAAsB,CACjC9W,MAAO,EACP+W,YAAa,EACbC,WAAW,GAGN,IAAKC,EAOAC,GAFX,SALWD,KAAQ,gBAARA,EAAQ,cAARA,EAAQ,sCAARA,EAAQ,8BAKnB,CALWA,MAAQ,KAYnB,SALWC,KAAS,YAATA,EAAS,oBAATA,EAAS,cAATA,EAAS,4BAKpB,CALWA,MAAS,M,+NCjHrB,eACA,SACA,QAEA,MAAsB,EAKpB,YAAmB,mBAJZ,UAAO,YAAU,KACjB,cAAW,gBAAc,MACzB,cAAW,oBAHpB,yBAYA,2CAAgD,EACvC,UACL,MAAM,EAA4B,OAAO,KAAK,+BAC3C,KAAI,GAAQ,IAAI,OAChB,KAAK,MACR,MAAO,cAAc,KAAK,yDAAyD,KAG9E,YACL,MAAO,4DAIX,kDAAuD,EAC9C,UACL,MAAO,cAAc,KAAK,qDAGrB,YACL,MAAO,6DAIX,8BAKE,YAAmB,yBAJZ,UAAO,YAAU,KACjB,cAAW,gBAAc,MACzB,cAAW,mBAIX,UACL,MAAO,uBAAuB,KAAK,mBAG9B,YACL,MAAO,kEAIX,4BAKE,YAAmB,2BAJZ,UAAO,YAAU,KACjB,cAAW,gBAAc,MACzB,cAAW,mBAIX,UAOL,MAAO,6BAJgB,KAAK,iBACzB,KAAI,GAAY,IAAI,OACpB,UACA,KAAK,WAIH,YACL,MAAO,0F,yPCzEX,eAUa,8BAAsD,CAMjE,EAAG,IACH,IAAK,IAQL,IAAK,cACL,IAAK,gBAcM,uCAAwC,IACnD,MAAM,EAAc,OAAO,QAAQ,+BAA6B,QAC9D,CACE,EAAiD,KAE/C,IADD,EAAe,GAAoC,EAEpD,OAAQ,GACN,EAAoB,GAAU,WAAW,EAAe,MAE3D,GAA6B,IAEhC,MAAO,KAAK,EAAY,QAYb,2DACX,GAEO,IAAI,KAGb,MAAM,EAAkB,GACe,OAA9B,eAAe,KAAK,GAYhB,mBAAoB,IAC/B,GAAI,EAAS,SAAS,MACpB,OAAO,IAAI,oCAAkC,GAE/C,IAAK,MAAM,KAAQ,EACjB,IAAI,EAAe,MAGf,KAAQ,+BAGZ,OAAO,IAAI,6BAA2B,GAExC,OAAO,MASI,aAAc,GAClB,EAAM,SAAS,M,0JCjFxB,SAAY,GACV,kBACA,cACA,oBAHF,CAAY,0BAAS,KAMrB,SAAY,GACV,oBACA,gBAFF,CAAY,kCAAa,KAgCzB,SAAY,GACV,qBADF,CAAY,sBAAO,KAInB,SAAY,GACV,kBADF,CAAY,sBAAO,KAkMN,kBAAkB,CAAC,SAAU,QAAS,SAAU,SAAU,Y,0QClQvE,eACM,EAAN,OAMM,EAAN,OAEA,SACA,SACA,SACA,SAEA,SAAgB,EAAQ,GACtB,QAAY,IAAR,GAA6B,OAAR,QAAmC,IAAnB,EAAI,WAA0B,CACrE,GAAI,EAAI,WACN,OAAO,EAAI,cAGb,MAAM,EAAiB,EAAQ,EAAI,KAKnC,OAHA,EAAI,YAAa,EACjB,EAAI,cAAgB,EAEb,EAEP,OAAO,EAgHX,SAAgB,EAAwB,EAAyB,GAC/D,MAAiB,MAAb,GACM,EACc,MAAb,GACD,EACc,WAAb,SACK,GAEN,EA0BZ,SAAgB,EAAyB,EAA0B,EAAW,GAC5E,OAAQ,GACN,IAAK,IACH,OAAO,EAAO,EAChB,IAAK,IACH,OAAO,EAAO,EAChB,IAAK,IACH,OAAO,EAAO,EAChB,IAAK,IACH,OAAO,EAAO,EAChB,IAAK,IACH,OAAO,EAAO,EAChB,IAAK,MACH,OAAO,IAAS,EAClB,IAAK,MACH,OAAO,IAAS,EAClB,IAAK,KACH,OAAO,GAAQ,EACjB,IAAK,IACH,OAAO,EAAO,EAChB,IAAK,IACH,OAAO,EAAO,EAChB,IAAK,KACH,OAAO,GAAQ,EACjB,QACE,QAxLN,YAiBA,0BAA+B,GAE7B,GAAyB,oBADzB,EAAY,EAAQ,IACiB,CACnC,MAAM,EAAe,sCAAI,EAAW,yBAAX,EAAW,uBAAK,KAAa,EAAK,IAAI,KAI/D,OAHA,iBAAY,EAAW,GACvB,EAAQ,OAAO,aAAe,IAAM,EAAU,WAC9C,EAAQ,SAAW,IAAM,EAAU,WAC5B,EACF,GAAI,aAAqB,cAAa,CAC3C,GAAI,EAAU,aAAc,CAC1B,MAAM,EAAe,sCAAI,EAAW,yBAAX,EAAW,uBAAK,EAAU,QAAQ,EAAK,IAAI,KAIpE,OAHA,iBAAY,EAAU,KAAM,GAC5B,EAAQ,OAAO,aAAe,IAAM,EAAU,WAC9C,EAAQ,SAAW,IAAM,EAAU,WAC5B,EAEP,OAAO,EAIX,OAAO,GAGT,4BAAiC,GAC/B,OAAO,IAAI,cAAY,GAAW,IAGpC,kCACE,EACA,EACA,GACc,2BAAX,EAAW,iCAAX,EAAW,kBAEd,MAAM,EAAQ,EAAO,eAAe,EAAO,kBAAkB,EAAM,GAAS,EAAM,CAChF,MAAO,CAAE,OAAM,UACf,IAAK,CAAE,OAAM,YAGf,GAAyB,oBAAd,EAA0B,CACnC,MAAM,EAAoB,OACY,IAAlC,EAAU,sBACZ,EAAY,EAAU,qBAExB,MAAM,EAAiB,EAAU,OAC3B,EAAiB,EAAK,OACtB,OAAyC,IAA5B,EAAU,cAC7B,GAAI,EAAa,EAAU,cAAgB,EAAiB,IAAmB,EAC7E,MAAM,IAAI,2BACR,EACA,EAAa,EAAU,cAAgB,EACvC,EACA,GAGJ,IAEE,OAAO,KADY,EAAK,IAAI,IAE5B,MAAO,GAEP,MAAM,aAAiB,sBAAsB,aAAiB,iBAGtD,EAFA,IAAI,iBAAe,EAAO,EAAM,UAKrC,MAAI,aAAqB,eAe9B,MAAM,IAAI,0BAAwB,EAAW,GAd7C,IAIE,OAHI,EAAU,eACZ,EAAO,EAAK,IAAI,IAEX,EAAU,QAAQ,GACzB,MAAO,GAEP,MAAM,aAAiB,sBAAsB,aAAiB,iBAGtD,EAFA,IAAI,iBAAe,EAAO,EAAM,QAU9C,qBAA0B,EAAgB,EAAc,GACtD,EAAY,EAAQ,GACpB,MAAM,EAAQ,EAAK,iBAAiB,EAAO,kBAAkB,EAAM,GAAS,GAC5E,QAAc,IAAV,EACF,OAAO,EAEP,MAAM,GAIVC,EAAQC,QAAR,SAAwB,EAAyB,EAAe,EAAc,GAC5E,EAAW,EAAQ,GACnB,MAAM,EAAQ,EAAK,qBACjB,EAAO,kBAAkB,EAAM,GAC/B,EACA,GAEF,QAAc,IAAV,EACF,OAAO,EAAwB,EAAU,GAEzC,MAAM,GAIV,4BAYA,oBACE,EACA,EACA,EACA,EACA,GAEA,EAAO,EAAQ,GACf,EAAQ,EAAQ,GAChB,MAAM,EAAQ,EAAK,sBACjB,EAAO,kBAAkB,EAAM,GAC/B,EACA,EACA,GAEF,QAAc,IAAV,EACF,OAAO,EAAyB,EAAU,EAAM,GAEhD,MAAM,GAIV,6BA6Ba,UAAU,CAAC,EAAU,EAAW,EAAY,EAAc,KACrE,MAAM,GAAQ,uBAAkB,EAAM,GAChC,EAAQ,EAAK,kBAAkB,EAAO,EAAK,GACjD,QAAc,IAAV,EACF,OAAQ,EAAI,GAAQ,EAEpB,MAAM,GAIG,UAAU,CAAC,EAAU,EAAW,EAAc,KACzD,MAAM,GAAQ,uBAAkB,EAAM,GAChC,EAAQ,EAAK,kBAAkB,EAAO,EAAK,GACjD,QAAc,IAAV,EAAqB,CACvB,QAAkB,IAAd,EAAI,IAAwB,EAAI,eAAe,GAGjD,OAAO,EAAI,GAFX,MAAM,IAAI,4BAA0B,EAAO,EAAK,GAKlD,MAAM,I,0MC9NV,eACM,EAAN,MAEMC,EAAM,kCACNC,EAAM,mCAEZ,MAAa,UAAkB,qBAK7B,YAAY,EAAsB,EAAqB,EAAyB,GAC9E,MAAM,GAD0B,YAAqB,gBAAyB,WAJzE,UAAO,YAAU,QACjB,cAAW,gBAAc,MAOzB,UACL,MAAO,YAAY,KAAK,WAAW,KAAK,aAAa,KAAK,OAGrD,YACL,OAAO,KAAK,WAdhB,cAmBA,MAAM,EAAU,GACJ,OAAN,EACK,OACE,MAAM,QAAQ,GAChB,eAEO,EAIZ,EAAY,GAA2B,WAAd,EAAO,GAKhC,EAAY,GAA2B,WAAd,EAAO,GAChC,EAAU,GAA2B,YAAd,EAAO,GAIvB,uBAAuB,CAAC,EAAe,EAA4B,IAC5D,MAAb,GAAiC,MAAb,GAAsB,EAAS,GAEhC,MAAb,GAAqB,EAAO,QAGrC,EAFO,IAAI,EAAU,EAAM,GAAI,UAAW,EAAO,IAF1C,IAAI,EAAU,EAAM,GAAI,SAAU,EAAO,IAQvC,wBAAwB,CACnC,EACA,EACA,EACA,KAEA,OAAQ,GACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACH,OAAK,EAAS,GAEF,EAAS,QAGnB,EAFO,IAAI,EAAU,EAAM,EAAK,SAAU,EAAO,IAF1C,IAAI,EAAU,EAAM,EAAK,SAAU,EAAO,IAMrD,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,MACL,IAAK,MACH,OAAI,EAAS,GACJ,EAAS,QAAS,EAAY,IAAI,EAAU,EAAM,EAAK,SAAU,EAAO,IACtE,EAAS,GACX,EAAS,QAAS,EAAY,IAAI,EAAU,EAAM,EAAK,SAAU,EAAO,IAExE,IAAI,EAAU,EAAM,EAAK,mBAAoB,EAAO,IAE/D,QACE,SAIO,mBAAmB,CAAC,EAAe,IACvC,EAAO,QAAQ,EAAY,IAAI,EAAU,EAAM,gBAAiB,UAAW,EAAO,IAG9E,oBAAoB,CAAC,EAAe,EAAY,IAtDhB,WAAd,EAuDhB,GACJ,EAAS,QAAQ,EAAY,IAAI,EAAU,EAAM,WAAY,SAAU,EAAO,IAvDxE,IAA2B,UAAd,EAAO,GAwDxBlT,CAAQmT,GA5DC,IAAa,EAAS,IAAM,IAAM,IAAM,GAAK,EAAI,GAAK,GAAK,EA6DtE,CAAa,QAChB,EACA,EAAS,GACT,IAAI,EAAU,EAAM,WAAY,cAAe,gBAC/C,IAAI,EAAU,EAAM,WAAY,cAAe,EAAO,IAEnD,IAAI,EAAU,EAAM,GAAI,kBAAmB,EAAO,IAIhD,eAAgB,QACa,IAAhC,EAAuB,M,kBCyDjC,IAAI,OAAO,mBAAoB,CAAC,UAAW,UAAW,SAAU,gBA/JhE,SAAe,EAAU,EAAS,GAChC,EAAQ,QAAS,EACjB,EAAQ,SAAW,aACnB,EAAQ,QACN,+lNAsJU,EAAS,cACjB,gBAAgB,EAAQ,QAAS,EAAQ,c,gCClK/C,oEAAO,MAAMC,EAA2B,2BAEjC,IAAKC,GAiCZ,SAjCYA,KAAe,wBAAfA,EAAe,oBAAfA,EAAe,+BAAfA,EAAe,yCAAfA,EAAe,iCAAfA,EAAe,+BAAfA,EAAe,qCAAfA,EAAe,iCAAfA,EAAe,kDAAfA,EAAe,+DAAfA,EAAe,gDAAfA,EAAe,6DAAfA,EAAe,8CAAfA,EAAe,kDAAfA,EAAe,kDAAfA,EAAe,+BAAfA,EAAe,cAAfA,EAAe,kBAAfA,EAAe,4BAAfA,EAAe,gBAAfA,EAAe,qCAAfA,EAAe,mCAAfA,EAAe,mCAAfA,EAAe,6BAAfA,EAAe,oCAAfA,EAAe,wBAAfA,EAAe,mCAAfA,EAAe,sBAAfA,EAAe,yBAAfA,EAAe,2BAiC3B,CAjCYA,MAAe,M,+GCN3B,eAEa,sBAAsB,CACjC,SAAU,GACV,Y,gXCMW,gBAAgB,CAC3B,EACA,KAEO,CACL,KAAM,UACN,QACA,KAAQ,OAAH,QAAG,IAAH,IAAwB,kBAAV,GAAqB,IAAI,KAAW,OAAO,KAIrD,mBAAoB,IACxB,CACL,KAAM,aACN,SAIS,uBAAuB,CAClC,EACA,KAEO,CACL,KAAM,iBACN,QAAQ,sBAAiB,GACzB,UAAW,IAMF,2BAA2B,SACtC,GAEyB,IADzB,yDAAiD,KAEjD,MAAO,CACL,KAAM,qBACN,KACA,KAAM,IAIG,4BAA4B,CACvC,EACA,KAEO,CACL,KAAM,sBACN,eACA,SAIS,wBACX,IAEO,CACL,KAAM,kBACN,aAIS,4BAA4B,CACvC,EACA,EACA,KAEO,CACL,KAAM,sBACN,YAAY,EACZ,WAAW,EACX,GAAI,CACF,KAAM,aACN,QAEF,SACA,KAAM,CACJ,KAAM,iBACN,UAOO,0BAA0B,CACrC,EACA,KAEO,CACL,KAAM,oBACN,aACA,WAIS,wBAAwB,CACnC,EACA,KAEO,CACL,KAAM,kBACN,QACA,aAIS,+BAAgC,IACpC,CACL,KAAM,yBACN,UAIS,iCACX,IAEO,CACL,KAAM,2BACN,W,iLC/GS,cAAe,GACnB,cAAe,EAGX,sBAAuB,GAC3B,CACL,oBACA,yBACA,2BACA,wBACA,SAAS,EAAK,MAGL,cACX,KAEQ,iBAAY,MAAU,yBAAoB,GAGpD,yBAA8B,GAG5B,MACgB,wBAAd,EAAK,MACS,wBAAd,EAAK,MACS,qBAAd,EAAK,MAITN,EAAQO,oBAAR,SAAoC,GAClC,MAAqB,sBAAd,EAAK,O,mIC7Bd,4BAAiC,EAAkB,GACjD,OAAI,EAAQ,QACH,EAAQ,QAER,EAAQ,SAIN,uBAAuB,QAAQ,QAAQ,CAAE,OAAQ,W,oDC3B9D,wZAAO,MAAM5+B,EAA4B,4BAC5BE,EAA0B,0BAC1BJ,EAAyB,yBACzBT,EAA2B,2BAC3BM,EAAwB,wBACxBF,EAAwB,wBACxBP,EAAqB,qBACrBkB,EAAoB,oBACpBE,EAAkB,kBAClBE,EAAe,eACfE,EAAc,cACdm+B,EAAiB,kB,iICX9B,cACA,SAmBA,kCACE,EACA,GAeQ,IAdR,yDAAmB,OACnB,yDAaM,GAGN,SAAS,EAAsB,EAAU,EAAS,GAGhD,MAAM,EAAM,EAAS,cACf,EAA2B,EAC/B,iCACA,yBACI,EAAqB,EAAS,0BAA0B,mBACxD,EAAkB,qDAElB,EAAU,EAAG,WAAa,IAAM,EAChC,EAAc,sBAAoB,SAAS,GA4BjD,SAAS,EAAY,GACnB,MAAM,EA3BR,SAA+B,GAC7B,GAAoB,OAAhB,EACF,MAAO,GAET,IAAI,EAAO,GACX,IAAK,MAAM,KAAQ,EACb,EAAY,GAAY,OAAM,IAChC,GAAQ,IAAM,GAGlB,OAAO,EAiBQ,CAAsB,GAdvC,SAAgC,GAC9B,GAA0B,OAAtB,EACF,MAAO,GAET,IAAI,EAAO,GAMX,OALA,EAAkB,SAAQ,IACpB,EAAK,OAAS,IAChB,GAAQ,IAAM,EAAK,YAGhB,EAIsC,CAAuB,GACpE,OAAO,EAAO,OAAO,GAGvB,MAAM,EAAyB,KAC7B,MAAM,EAAS,GAOf,OANI,GAAM,GACR,EAAO,KAAK,SAAU,QAAS,OAAQ,KAAM,SAAU,WAAY,YAEjE,GAAM,GACR,EAAO,KAAK,QAAS,MAAO,QAAS,WAAY,OAE5C,EAAO,KAAK,MAIf,EAAuB,SAAU,GAErC,MAAM,EAAgB,KAAK,oBACzB,CACE,cAAe,EAAY,SAE3B,4BAA6B,aAC7B,yBAA0B,OAE1B,QAAS,IAET,eAAgB,qBAEhB,mBAAoB,EAAY,QAEhC,oBACE,2NAMJ,cAMI,EACJ,yGASF,KAAK,OAAS,CACZ,SAAU,CACR,EAAyB,aAAa,aACtC,EAAS,YACT,CACE,MAAO,SACP,MAAO,SACP,KAAM,WAER,CACE,MAAO,SACP,MAAO,SACP,KAAM,YAER,CACE,MAAO,mBACP,MAAO,gDAET,CACE,MAAO,mBACP,MAAO,gDAET,CACE,MAAO,CACL,eACA,uBACA,mBACA,uBACA,uBACA,OACA,oBAEF,MACE,IAAM,EAAkB,0BAA4B,EAAkB,aACxE,KAAM,sBAER,CACE,MAAO,CACL,eACA,uBACA,uBACA,OACA,mBACA,OACA,eACA,OACA,gBAEF,MACE,IACA,EACA,UACA,EACA,wCACF,KAAM,sBAER,CACE,MAAO,CACL,uBACA,OACA,mBACA,OACA,eACA,OACA,gBAEF,MAAO,IAAM,EAAkB,wCAC/B,KAAM,sBAER,CACE,MAAO,CACL,eACA,uBACA,uBACA,OACA,mBACA,OACA,eACA,OACA,uBACA,OACA,gBAEF,MACE,IACA,EACA,UACA,EACA,oDACF,KAAM,sBAER,CACE,MAAO,CAAC,eAAgB,OAAQ,uBAAwB,OAAQ,gBAChE,MAAO,oBAAsB,EAAkB,eAC/C,KAAM,sBAER,CACE,MAAO,CACL,uBACA,OACA,uBACA,OACA,eACA,OACA,gBAEF,MAAO,IAAM,EAAkB,wCAC/B,KAAM,sBAER,CACE,MAAO,CAAC,OAAQ,OAAQ,eAAgB,OAAQ,gBAChD,MAAO,iCACP,KAAM,sBAER,CACE,MAAO,UACP,MAAO,sBAET,CACE,MAAO,UACP,MAAO,qBACP,KAAM,SAER,CACE,MAAO,CAAC,oBACR,MAAO,UAET,CACE,MAAO,CAAC,qBACR,MAAO,2EAET,CACE,MAAO,EACP,MAAO,GAET,CACE,MAAO,oBACP,MAAO,aACP,KAAM,YAER,CACE,MAAO,eACP,MAAO,MAET,CACE,MAAO,mBACP,MAAO,yCACP,KAAM,SAER,CACE,MAAO,uBACP,MAAO,UACP,KAAM,SAER,CACE,MAAO,eACP,MAAO,SACP,KAAM,SAER,CACE,MAAO,eACP,MAAO,UAET,CACE,MAAO,UACP,MAAO,WAGX,SAAU,CACR,CACE,MAAO,OACP,MAAO,QAET,CACE,MAAO,CACL,eACA,uBACA,uBACA,OACA,mBACA,OACA,eACA,OACA,uBACA,OACA,gBAEF,MACE,IACA,EACA,UACA,EACA,yDACF,KAAM,sBAER,CACE,MAAO,uBACP,MAAO,cAET,CACE,MAAO,oBACP,MACE,qvDAEJ,CACE,MAAO,wBACP,MACE,+lBAEJ,CACE,MAAO,mBACP,MACE,y2DAEJ,CACE,MAAO,aACP,MAAO,GAET,CACE,MAAO,GACP,MAAO,QACP,KAAM,aAGV,MAAO,CACL,EAAyB,aAAa,aACtC,EAAS,SACT,CACE,MAAO,gBACP,MAAO,MACP,KAAM,SAER,CACE,MAAO,OACP,MAAO,UACP,KAAM,SAER,CACE,MAAO,QACP,MAAO,GACP,KAAM,aAGV,MAAO,CACL,CACE,MAAO,0BACP,MAAO,6CAET,CACE,MAAO,gBACP,MAAO,cACP,KAAM,YAER,CACE,MAAO,UACP,MAAO,iDAET,CACE,MAAO,2BACP,MAAO,iDAET,CACE,MAAO,8BACP,MAAO,MAET,CACE,MAAO,2BACP,MAAO,QACP,KAAM,yBAER,CACE,MAAO,QACP,MAAO,IACP,KAAM,YAER,CACE,aAAc,kBAGlB,sBAAuB,CACrB,CACE,MAAO,oCACP,MAAO,6CAET,CACE,MAAO,2BACP,MAAO,IACP,KAAM,SAER,CACE,MAAO,2BACP,MAAO,KAET,CACE,MAAO,QACP,MAAO,IACP,KAAM,YAER,CACE,aAAc,kCAGlB,mBAAoB,CAClB,CACE,MAAO,qBACP,MAAO,GAET,CACE,MAAO,uBACP,MAAO,SAET,CACE,MAAO,uBACP,MAAO,KAET,CACE,MAAO,QACP,MAAO,GACP,KAAM,aAGV,SAAU,CACR,CACE,MAAO,2BACP,MAAO,GAET,CACE,MAAO,SACP,MAAO,QACP,gBAAgB,GAElB,CACE,MAAO,SACP,MAAO,MACP,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uBACA,OACA,gBAEFC,MACE,IACAV,EACA,UACAA,EACA,oDACFW,KAAM,sBAER,CACEF,MAAO,CAAC,eAAgB,OAAQ,uBAAwB,OAAQ,gBAChEC,MAAO,oBAAsBV,EAAkB,eAC/CW,KAAM,sBAER,CACEF,MAAO,CACL,uBACA,OACA,uBACA,OACA,eACA,OACA,gBAEFC,MAAO,IAAMV,EAAkB,wCAC/BW,KAAM,sBAER,CACEF,MAAO,CAAC,OAAQ,OAAQ,eAAgB,OAAQ,gBAChDC,MAAO,iCACPC,KAAM,sBAER,CACEF,MAAO,UACPC,MAAO,sBAET,CACED,MAAO,UACPC,MAAO,+EACPC,KAAM,SAER,CACEF,MAAO,CAAC,oBACRC,MAAO,UAET,CACED,MAAOP,EACPQ,MAAOV,GAET,CACES,MAAO,oBACPC,MAAO,aACPC,KAAM,YAER,CACEF,MAAO,eACPC,MAAO,MAET,CACED,MAAO,mBACPC,MAAO,yEACPC,KAAM,SAER,CACEF,MAAO,uBACPC,MAAO,UACPC,KAAM,SAER,CACEF,MAAO,eACPC,MAAO,SACPC,KAAM,SAER,CACEF,MAAO,eACPC,MAAO,UAET,CACED,MAAO,UACPC,MAAO,WAGXE,SAAU,CACR,CACEH,MAAO,OACPC,MAAO,QAET,CACED,MAAO,CACL,eACA,uBACA,uBACA,OACA,mBACA,OACA,eACA,OACA,uBACA,OACA,gBAEFC,MACE,IACAV,EACA,UACAA,EACA,yDACFW,KAAM,sBAER,CACEF,MAAO,uBACPC,MAAO,cAET,CACED,MAAO,oBACPC,MACE,qvDAEJ,CACED,MAAO,wBACPC,MACE,+lBAEJ,CACED,MAAO,mBACPC,MACE,y2DAEJ,CACED,MAAO,aACPC,MAAOV,GAET,CACEU,MAAO,GACPD,MAAO,QACPE,KAAM,aAGVrmC,MAAO,CACLwlC,EAAyBS,aAAa,aACtCC,EAAS,SACT,CACEC,MAAO,gBACPC,MAAO,MACPC,KAAM,SAER,CACEF,MAAO,OACPC,MAAO,UACPC,KAAM,SAER,CACEF,MAAO,QACPC,MAAO,GACPC,KAAM,aAGVD,MAAO,CACL,CACED,MAAO,0B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","file":"static/js/main.65e6da06.chunk.js","sourcesContent":["export const LOG_OUT = 'LOG_OUT';\n","export const CHANGE_DATE_ASSESSMENT = 'CHANGE_DATE_ASSESSMENT';\nexport const DELETE_ASSESSMENT = 'DELETE_ASSESSMENT';\nexport const PUBLISH_ASSESSMENT = 'PUBLISH_ASSESSMENT';\nexport const UPLOAD_ASSESSMENT = 'UPLOAD_ASSESSMENT';\n","export const PERSISTENCE_OPEN_PICKER = 'PERSISTENCE_OPEN_PICKER';\nexport const PERSISTENCE_SAVE_FILE_AS = 'PERSISTENCE_SAVE_FILE_AS';\nexport const PERSISTENCE_SAVE_FILE = 'PERSISTENCE_SAVE_FILE';\nexport const PERSISTENCE_INITIALISE = 'PERSISTENCE_INITIALISE';\n\nexport type PersistenceState = 'INACTIVE' | 'SAVED' | 'DIRTY';\n\nexport type PersistenceFile = {\n  id: string;\n  name: string;\n  lastSaved?: Date;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SetPropertyError = exports.GetInheritedPropertyError = exports.GetPropertyError = exports.ConstAssignment = exports.VariableRedeclaration = exports.InvalidNumberOfArguments = exports.UnassignedVariable = exports.UndefinedVariable = exports.CallingNonFunctionValue = exports.MaximumStackLimitExceeded = exports.ExceptionError = exports.InterruptedError = void 0;\n/* tslint:disable: max-classes-per-file */\n/* tslint:disable:max-line-length */\nconst astring_1 = require(\"astring\");\nconst types_1 = require(\"../types\");\nconst stringify_1 = require(\"../utils/stringify\");\nconst runtimeSourceError_1 = require(\"./runtimeSourceError\");\nclass InterruptedError extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node) {\n        super(node);\n    }\n    explain() {\n        return 'Execution aborted by user.';\n    }\n    elaborate() {\n        return 'TODO';\n    }\n}\nexports.InterruptedError = InterruptedError;\nclass ExceptionError {\n    constructor(error, location) {\n        this.error = error;\n        this.location = location;\n        this.type = types_1.ErrorType.RUNTIME;\n        this.severity = types_1.ErrorSeverity.ERROR;\n    }\n    explain() {\n        return this.error.toString();\n    }\n    elaborate() {\n        return 'TODO';\n    }\n}\nexports.ExceptionError = ExceptionError;\nclass MaximumStackLimitExceeded extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node, calls) {\n        super(node);\n        this.calls = calls;\n        this.customGenerator = Object.assign(Object.assign({}, astring_1.baseGenerator), { CallExpression(node, state) {\n                state.write((0, astring_1.generate)(node.callee));\n                state.write('(');\n                const argsRepr = node.arguments.map((arg) => (0, stringify_1.stringify)(arg.value));\n                state.write(argsRepr.join(', '));\n                state.write(')');\n            } });\n    }\n    explain() {\n        const repr = (call) => (0, astring_1.generate)(call, { generator: this.customGenerator });\n        return ('Maximum call stack size exceeded\\n  ' + this.calls.map(call => repr(call) + '..').join('  '));\n    }\n    elaborate() {\n        return 'TODO';\n    }\n}\nexports.MaximumStackLimitExceeded = MaximumStackLimitExceeded;\nMaximumStackLimitExceeded.MAX_CALLS_TO_SHOW = 3;\nclass CallingNonFunctionValue extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(callee, node) {\n        super(node);\n        this.callee = callee;\n        this.node = node;\n    }\n    explain() {\n        return `Calling non-function value ${(0, stringify_1.stringify)(this.callee)}.`;\n    }\n    elaborate() {\n        const calleeVal = this.callee;\n        const calleeStr = (0, stringify_1.stringify)(calleeVal);\n        let argStr = '';\n        const callArgs = this.node.arguments;\n        argStr = callArgs.map(astring_1.generate).join(', ');\n        const elabStr = `Because ${calleeStr} is not a function, you cannot run ${calleeStr}(${argStr}).`;\n        const multStr = `If you were planning to perform multiplication by ${calleeStr}, you need to use the * operator.`;\n        if (Number.isFinite(calleeVal)) {\n            return `${elabStr} ${multStr}`;\n        }\n        else {\n            return elabStr;\n        }\n    }\n}\nexports.CallingNonFunctionValue = CallingNonFunctionValue;\nclass UndefinedVariable extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(name, node) {\n        super(node);\n        this.name = name;\n    }\n    explain() {\n        return `Name ${this.name} not declared.`;\n    }\n    elaborate() {\n        return `Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`;\n    }\n}\nexports.UndefinedVariable = UndefinedVariable;\nclass UnassignedVariable extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(name, node) {\n        super(node);\n        this.name = name;\n    }\n    explain() {\n        return `Name ${this.name} declared later in current scope but not yet assigned`;\n    }\n    elaborate() {\n        return `If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`;\n    }\n}\nexports.UnassignedVariable = UnassignedVariable;\nclass InvalidNumberOfArguments extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node, expected, got, hasVarArgs = false) {\n        super(node);\n        this.expected = expected;\n        this.got = got;\n        this.hasVarArgs = hasVarArgs;\n        this.calleeStr = (0, astring_1.generate)(node.callee);\n    }\n    explain() {\n        return `Expected ${this.expected} ${this.hasVarArgs ? 'or more ' : ''}arguments, but got ${this.got}.`;\n    }\n    elaborate() {\n        const calleeStr = this.calleeStr;\n        const pluralS = this.expected === 1 ? '' : 's';\n        return `Try calling function ${calleeStr} again, but with ${this.expected} argument${pluralS} instead. Remember that arguments are separated by a ',' (comma).`;\n    }\n}\nexports.InvalidNumberOfArguments = InvalidNumberOfArguments;\nclass VariableRedeclaration extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node, name, writable) {\n        super(node);\n        this.node = node;\n        this.name = name;\n        this.writable = writable;\n    }\n    explain() {\n        return `Redeclaring name ${this.name}.`;\n    }\n    elaborate() {\n        if (this.writable === true) {\n            const elabStr = `Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;\n            let initStr = '';\n            if (this.node.type === 'FunctionDeclaration') {\n                initStr =\n                    '(' + this.node.params.map(astring_1.generate).join(',') + ') => {...';\n            }\n            else if (this.node.type === 'VariableDeclaration') {\n                initStr = (0, astring_1.generate)(this.node.declarations[0].init);\n            }\n            return `${elabStr} As such, you can just do\\n\\n\\t${this.name} = ${initStr};\\n`;\n        }\n        else if (this.writable === false) {\n            return `You will need to declare another variable, as ${this.name} is read-only.`;\n        }\n        else {\n            return '';\n        }\n    }\n}\nexports.VariableRedeclaration = VariableRedeclaration;\nclass ConstAssignment extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node, name) {\n        super(node);\n        this.name = name;\n    }\n    explain() {\n        return `Cannot assign new value to constant ${this.name}.`;\n    }\n    elaborate() {\n        return `As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`;\n    }\n}\nexports.ConstAssignment = ConstAssignment;\nclass GetPropertyError extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node, obj, prop) {\n        super(node);\n        this.obj = obj;\n        this.prop = prop;\n    }\n    explain() {\n        return `Cannot read property ${this.prop} of ${(0, stringify_1.stringify)(this.obj)}.`;\n    }\n    elaborate() {\n        return 'TODO';\n    }\n}\nexports.GetPropertyError = GetPropertyError;\nclass GetInheritedPropertyError extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node, obj, prop) {\n        super(node);\n        this.obj = obj;\n        this.prop = prop;\n        this.type = types_1.ErrorType.RUNTIME;\n        this.severity = types_1.ErrorSeverity.ERROR;\n        this.location = node.loc;\n    }\n    explain() {\n        return `Cannot read inherited property ${this.prop} of ${(0, stringify_1.stringify)(this.obj)}.`;\n    }\n    elaborate() {\n        return 'TODO';\n    }\n}\nexports.GetInheritedPropertyError = GetInheritedPropertyError;\nclass SetPropertyError extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node, obj, prop) {\n        super(node);\n        this.obj = obj;\n        this.prop = prop;\n    }\n    explain() {\n        return `Cannot assign property ${this.prop} of ${(0, stringify_1.stringify)(this.obj)}.`;\n    }\n    elaborate() {\n        return 'TODO';\n    }\n}\nexports.SetPropertyError = SetPropertyError;\n//# sourceMappingURL=errors.js.map","export const FETCH_GROUP_GRADING_SUMMARY = 'FETCH_GROUP_GRADING_SUMMARY';\nexport const UPDATE_GROUP_GRADING_SUMMARY = 'UPDATE_GROUP_GRADING_SUMMARY';\n\nexport type DashboardState = {\n  gradingSummary: GradingSummary;\n};\n\n/**\n * As we are dynamically rendering the ag-grid table based on the number of assessment types in\n * the course, we cannot properly type the fields in GradingSummary.\n *\n * In short, cols contains the keys to each object in rows, and corresponds to the display order of ag-grid columns.\n */\nexport type GradingSummary = {\n  cols: string[];\n  rows: Object[];\n};\n","export const SAVE_CANVAS = 'SAVE_CANVAS';\n\nexport const assessmentRegExp = ':assessmentId(\\\\d+)?/:questionId(\\\\d+)?';\nexport const gradingRegExp = ':submissionId(\\\\d+)?/:questionId(\\\\d+)?';\n\nexport const CREATE_COURSE = 'CREATE_COURSE';\nexport const ADD_NEW_USERS_TO_COURSE = 'ADD_NEW_USERS_TO_COURSE';\n\nexport type AcademyState = {\n  readonly gameCanvas?: HTMLCanvasElement;\n};\n","import { Octokit } from '@octokit/rest';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\n\nimport { Grading, GradingOverview } from '../../../features/grading/GradingTypes';\nimport { Device, DeviceSession } from '../../../features/remoteExecution/RemoteExecutionTypes';\nimport {\n  Assessment,\n  AssessmentConfiguration,\n  AssessmentOverview\n} from '../../assessment/AssessmentTypes';\nimport { MissionRepoData } from '../../githubAssessments/GitHubMissionTypes';\nimport { Notification } from '../../notificationBadge/NotificationBadgeTypes';\nimport { GameState, Role, Story } from '../ApplicationTypes';\n\nexport const FETCH_AUTH = 'FETCH_AUTH';\nexport const FETCH_USER_AND_COURSE = 'FETCH_USER_AND_COURSE';\nexport const FETCH_COURSE_CONFIG = 'FETCH_COURSE_CONFIG';\nexport const FETCH_ASSESSMENT = 'FETCH_ASSESSMENT';\nexport const FETCH_ASSESSMENT_ADMIN = 'FETCH_ASSESSMENT_ADMIN';\nexport const FETCH_ASSESSMENT_OVERVIEWS = 'FETCH_ASSESSMENT_OVERVIEWS';\nexport const FETCH_ALL_USER_XP = 'FETCH_ALL_USER_XP';\nexport const FETCH_TOTAL_XP = 'FETCH_TOTAL_XP';\nexport const FETCH_TOTAL_XP_ADMIN = 'FETCH_TOTAL_XP_ADMIN';\nexport const FETCH_GRADING = 'FETCH_GRADING';\nexport const FETCH_GRADING_OVERVIEWS = 'FETCH_GRADING_OVERVIEWS';\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT_GOOGLE = 'LOGOUT_GOOGLE';\nexport const LOGIN_GITHUB = 'LOGIN_GITHUB';\nexport const LOGOUT_GITHUB = 'LOGOUT_GITHUB';\nexport const SET_TOKENS = 'SET_TOKENS';\nexport const SET_USER = 'SET_USER';\nexport const SET_COURSE_CONFIGURATION = 'SET_COURSE_CONFIGURATION';\nexport const SET_COURSE_REGISTRATION = 'SET_COURSE_REGISTRATION';\nexport const SET_ASSESSMENT_CONFIGURATIONS = 'SET_ASSESSMENT_CONFIGURATIONS';\nexport const SET_ADMIN_PANEL_COURSE_REGISTRATIONS = 'SET_ADMIN_PANEL_COURSE_REGISTRATIONS';\nexport const SET_GOOGLE_USER = 'SET_GOOGLE_USER';\nexport const SET_GITHUB_ASSESSMENT = 'SET_GITHUB_ASSESSMENT';\nexport const SET_GITHUB_OCTOKIT_OBJECT = 'SET_GITHUB_OCTOKIT_OBJECT';\nexport const SET_GITHUB_ACCESS_TOKEN = 'SET_GITHUB_ACCESS_TOKEN';\nexport const SUBMIT_ANSWER = 'SUBMIT_ANSWER';\nexport const SUBMIT_ASSESSMENT = 'SUBMIT_ASSESSMENT';\nexport const SUBMIT_GRADING = 'SUBMIT_GRADING';\nexport const SUBMIT_GRADING_AND_CONTINUE = 'SUBMIT_GRADING_AND_CONTINUE';\nexport const REAUTOGRADE_SUBMISSION = 'REAUTOGRADE_SUBMISSION';\nexport const REAUTOGRADE_ANSWER = 'REAUTOGRADE_ANSWER';\nexport const REMOVE_GITHUB_OCTOKIT_OBJECT_AND_ACCESS_TOKEN =\n  'REMOVE_GITHUB_OCTOKIT_OBJECT_AND_ACCESS_TOKEN';\nexport const UNSUBMIT_SUBMISSION = 'UNSUBMIT_SUBMISSION';\nexport const UPDATE_ASSESSMENT_OVERVIEWS = 'UPDATE_ASSESSMENT_OVERVIEWS';\nexport const UPDATE_TOTAL_XP = 'UPDATE_TOTAL_XP';\nexport const UPDATE_ALL_USER_XP = 'UPDATE_ALL_USER_XP';\nexport const UPDATE_ASSESSMENT = 'UPDATE_ASSESSMENT';\nexport const UPDATE_GRADING_OVERVIEWS = 'UPDATE_GRADING_OVERVIEWS';\nexport const UPDATE_GRADING = 'UPDATE_GRADING';\nexport const FETCH_NOTIFICATIONS = 'FETCH_NOTIFICATIONS';\nexport const ACKNOWLEDGE_NOTIFICATIONS = 'ACKNOWLEDGE_NOTIFICATIONS';\nexport const UPDATE_NOTIFICATIONS = 'UPDATE_NOTIFICATIONS';\nexport const UPDATE_LATEST_VIEWED_COURSE = 'UPDATE_LATEST_VIEWED_COURSE';\nexport const UPDATE_COURSE_CONFIG = 'UPDATE_COURSE_CONFIG';\nexport const FETCH_ASSESSMENT_CONFIGS = 'FETCH_ASSESSMENT_CONFIGS';\nexport const UPDATE_ASSESSMENT_CONFIGS = 'UPDATE_ASSESSMENT_CONFIGS';\nexport const DELETE_ASSESSMENT_CONFIG = 'DELETE_ASSESSMENT_CONFIG';\nexport const FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS = 'FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS';\nexport const UPDATE_USER_ROLE = 'UPDATE_USER_ROLE';\nexport const UPDATE_COURSE_RESEARCH_AGREEMENT = 'UPDATE_COURSE_RESEARCH_AGREEMENT';\nexport const DELETE_USER_COURSE_REGISTRATION = 'DELETE_USER_COURSE_REGISTRATION';\n\nexport const UPLOAD_KEYSTROKE_LOGS = 'UPLOAD_KEYSTROKE_LOGS';\nexport const UPLOAD_UNSENT_LOGS = 'UPLOAD_UNSENT_LOGS';\n\nexport type SessionState = {\n  // Tokens\n  readonly accessToken?: string;\n  readonly refreshToken?: string;\n\n  // User\n  readonly userId?: number;\n  readonly name?: string;\n  readonly courses: UserCourse[];\n\n  // Course Registration\n  readonly courseRegId?: number;\n  readonly role?: Role;\n  readonly group: string | null;\n  readonly gameState: GameState;\n  readonly courseId?: number;\n  readonly xp: number;\n  readonly allUserXp: string[][] | undefined;\n  readonly story: Story;\n\n  // Course Configuration\n  readonly courseName?: string;\n  readonly courseShortName?: string;\n  readonly viewable?: boolean;\n  readonly enableGame?: boolean;\n  readonly enableAchievements?: boolean;\n  readonly enableSourcecast?: boolean;\n  readonly sourceChapter?: number;\n  readonly sourceVariant?: Variant;\n  readonly moduleHelpText?: string;\n  readonly assetsPrefix?: string;\n\n  readonly assessmentConfigurations?: AssessmentConfiguration[];\n  readonly userCourseRegistrations?: AdminPanelCourseRegistration[];\n\n  // For research data collection\n  readonly agreedToResearch?: boolean | null;\n  readonly sessionId: number;\n\n  readonly assessmentOverviews?: AssessmentOverview[];\n  readonly assessments: Map<number, Assessment>;\n  readonly gradingOverviews?: GradingOverview[];\n  readonly gradings: Map<number, Grading>;\n  readonly notifications: Notification[];\n  readonly googleUser?: string;\n  readonly githubAssessment?: MissionRepoData;\n  readonly githubOctokitObject: { octokit: Octokit | undefined };\n  readonly githubAccessToken?: string;\n  readonly remoteExecutionDevices?: Device[];\n  readonly remoteExecutionSession?: DeviceSession;\n};\n\nexport type Tokens = {\n  accessToken: string;\n  refreshToken: string;\n};\n\nexport type UserCourse = {\n  courseId: number;\n  courseName: string;\n  courseShortName: string;\n  role: Role;\n  viewable: boolean;\n};\n\nexport type User = {\n  userId: number;\n  name: string;\n  courses: UserCourse[];\n};\n\nexport type CourseRegistration = {\n  courseRegId: number;\n  role: Role;\n  group: string | null;\n  gameState?: GameState;\n  courseId: number;\n  xp: number;\n  story?: Story;\n  agreedToResearch: boolean | null;\n};\n\nexport type CourseConfiguration = {\n  courseName: string;\n  courseShortName: string;\n  viewable: boolean;\n  enableGame: boolean;\n  enableAchievements: boolean;\n  enableSourcecast: boolean;\n  sourceChapter: Chapter;\n  sourceVariant: Variant;\n  moduleHelpText: string;\n  assetsPrefix: string;\n};\n\nexport type AdminPanelCourseRegistration = {\n  courseRegId: number;\n  courseId: number;\n  name?: string;\n  username: string;\n  role: Role;\n  group?: string;\n};\n\nexport type UpdateCourseConfiguration = Partial<CourseConfiguration>;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.lineTreeToString = exports.stringDagToSingleLine = exports.stringDagToLineTree = exports.valueToStringDag = exports.typeToString = exports.stringify = void 0;\nconst constants_1 = require(\"../constants\");\nconst operators_1 = require(\"./operators\");\nfunction isArrayLike(v) {\n    return (typeof v.replPrefix === 'string' &&\n        typeof v.replSuffix === 'string' &&\n        typeof v.replArrayContents === 'function');\n}\nconst stringify = (value, indent = 2, splitlineThreshold = 80) => {\n    value = (0, operators_1.forceIt)(value);\n    if (typeof indent === 'string') {\n        throw 'stringify with arbitrary indent string not supported';\n    }\n    let indentN = indent;\n    if (indent > 10) {\n        indentN = 10;\n    }\n    return lineTreeToString(stringDagToLineTree(valueToStringDag(value), indentN, splitlineThreshold));\n};\nexports.stringify = stringify;\nfunction typeToString(type) {\n    return niceTypeToString(type);\n}\nexports.typeToString = typeToString;\nfunction niceTypeToString(type, nameMap = { _next: 0 }) {\n    function curriedTypeToString(t) {\n        return niceTypeToString(t, nameMap);\n    }\n    switch (type.kind) {\n        case 'primitive':\n            return type.name;\n        case 'variable':\n            if (type.constraint && type.constraint !== 'none') {\n                return type.constraint;\n            }\n            if (!(type.name in nameMap)) {\n                // type name is not in map, so add it\n                nameMap[type.name] = 'T' + nameMap._next++;\n            }\n            return nameMap[type.name];\n        case 'list':\n            return `List<${curriedTypeToString(type.elementType)}>`;\n        case 'array':\n            return `Array<${curriedTypeToString(type.elementType)}>`;\n        case 'pair':\n            const headType = curriedTypeToString(type.headType);\n            // convert [T1 , List<T1>] back to List<T1>\n            if (type.tailType.kind === 'list' &&\n                headType === curriedTypeToString(type.tailType.elementType))\n                return `List<${headType}>`;\n            return `[${curriedTypeToString(type.headType)}, ${curriedTypeToString(type.tailType)}]`;\n        case 'function':\n            let parametersString = type.parameterTypes.map(curriedTypeToString).join(', ');\n            if (type.parameterTypes.length !== 1 || type.parameterTypes[0].kind === 'function') {\n                parametersString = `(${parametersString})`;\n            }\n            return `${parametersString} -> ${curriedTypeToString(type.returnType)}`;\n        default:\n            return 'Unable to infer type';\n    }\n}\nfunction valueToStringDag(value) {\n    const ancestors = new Map();\n    const memo = new Map();\n    function convertPair(value) {\n        const memoResult = memo.get(value);\n        if (memoResult !== undefined) {\n            return [memoResult, false];\n        }\n        ancestors.set(value, ancestors.size);\n        const elems = value;\n        const [headDag, headIsCircular] = convert(elems[0]);\n        const [tailDag, tailIsCircular] = convert(elems[1]);\n        const isCircular = headIsCircular || tailIsCircular;\n        ancestors.delete(value);\n        const result = {\n            type: 'pair',\n            head: headDag,\n            tail: tailDag,\n            length: headDag.length + tailDag.length + 4\n        };\n        if (!isCircular) {\n            memo.set(value, result);\n        }\n        return [result, isCircular];\n    }\n    function convertArrayLike(value, elems, prefix, suffix) {\n        const memoResult = memo.get(value);\n        if (memoResult !== undefined) {\n            return [memoResult, false];\n        }\n        ancestors.set(value, ancestors.size);\n        const converted = elems.map(convert);\n        let length = prefix.length + suffix.length + Math.max(0, converted.length - 1) * 2;\n        let isCircular = false;\n        for (let i = 0; i < converted.length; i++) {\n            if (converted[i] == null) {\n                // the `elems.map` above preserves the sparseness of the array\n                converted[i] = convert(undefined);\n            }\n            length += converted[i][0].length;\n            isCircular || (isCircular = converted[i][1]);\n        }\n        ancestors.delete(value);\n        const result = {\n            type: 'arraylike',\n            elems: converted.map(c => c[0]),\n            prefix: prefix,\n            suffix: suffix,\n            length: length\n        };\n        if (!isCircular) {\n            memo.set(value, result);\n        }\n        return [result, isCircular];\n    }\n    function convertObject(value) {\n        const memoResult = memo.get(value);\n        if (memoResult !== undefined) {\n            return [memoResult, false];\n        }\n        ancestors.set(value, ancestors.size);\n        const entries = Object.entries(value);\n        const converted = entries.map(kv => convert(kv[1]));\n        let length = 2 + Math.max(0, entries.length - 1) * 2 + entries.length * 2;\n        let isCircular = false;\n        const kvpairs = [];\n        for (let i = 0; i < converted.length; i++) {\n            length += entries[i][0].length;\n            length += converted[i].length;\n            isCircular || (isCircular = converted[i][1]);\n            kvpairs.push({\n                type: 'kvpair',\n                key: entries[i][0],\n                value: converted[i][0],\n                length: converted[i][0].length + entries[i][0].length\n            });\n        }\n        ancestors.delete(value);\n        const result = {\n            type: 'arraylike',\n            elems: kvpairs,\n            prefix: '{',\n            suffix: '}',\n            length: length\n        };\n        if (!isCircular) {\n            memo.set(value, result);\n        }\n        return [result, isCircular];\n    }\n    function convertRepr(repr) {\n        const lines = repr.split('\\n');\n        return lines.length === 1\n            ? [{ type: 'terminal', str: lines[0], length: lines[0].length }, false]\n            : [{ type: 'multiline', lines, length: Infinity }, false];\n    }\n    function convert(v) {\n        if (v === null) {\n            return [{ type: 'terminal', str: 'null', length: 4 }, false];\n        }\n        else if (v === undefined) {\n            return [{ type: 'terminal', str: 'undefined', length: 9 }, false];\n        }\n        else if (ancestors.has(v)) {\n            return [{ type: 'terminal', str: '...<circular>', length: 13 }, true];\n        }\n        else if (typeof v === 'string') {\n            const str = JSON.stringify(v);\n            return [{ type: 'terminal', str: str, length: str.length }, false];\n        }\n        else if (typeof v !== 'object') {\n            return convertRepr(v.toString());\n        }\n        else if (ancestors.size > constants_1.MAX_LIST_DISPLAY_LENGTH) {\n            return [{ type: 'terminal', str: '...<truncated>', length: 14 }, false];\n        }\n        else if (typeof v.toReplString === 'function') {\n            return convertRepr(v.toReplString());\n        }\n        else if (Array.isArray(v)) {\n            if (v.length === 2) {\n                return convertPair(v);\n            }\n            else {\n                return convertArrayLike(v, v, '[', ']');\n            }\n        }\n        else if (isArrayLike(v)) {\n            return convertArrayLike(v, v.replArrayContents(), v.replPrefix, v.replSuffix);\n        }\n        else {\n            // use prototype chain to check if it is literal object\n            return Object.getPrototypeOf(v) === Object.prototype\n                ? convertObject(v)\n                : convertRepr(v.toString());\n        }\n    }\n    return convert(value)[0];\n}\nexports.valueToStringDag = valueToStringDag;\nfunction stringDagToLineTree(dag, indent, splitlineThreshold) {\n    // precompute some useful strings\n    const indentSpacesMinusOne = ' '.repeat(Math.max(0, indent - 1));\n    const bracketAndIndentSpacesMinusOne = '[' + indentSpacesMinusOne;\n    const memo = new Map();\n    function format(dag) {\n        const memoResult = memo.get(dag);\n        if (memoResult !== undefined) {\n            return memoResult;\n        }\n        let result;\n        if (dag.type === 'terminal') {\n            result = { type: 'line', line: dag };\n        }\n        else if (dag.type === 'multiline') {\n            result = {\n                type: 'block',\n                prefixFirst: '',\n                prefixRest: '',\n                block: dag.lines.map(s => ({\n                    type: 'line',\n                    line: { type: 'terminal', str: s, length: s.length }\n                })),\n                suffixRest: '',\n                suffixLast: ''\n            };\n        }\n        else if (dag.type === 'pair') {\n            const headTree = format(dag.head);\n            const tailTree = format(dag.tail);\n            // - 2 is there for backward compatibility\n            if (dag.length - 2 > splitlineThreshold ||\n                headTree.type !== 'line' ||\n                tailTree.type !== 'line') {\n                result = {\n                    type: 'block',\n                    prefixFirst: bracketAndIndentSpacesMinusOne,\n                    prefixRest: '',\n                    block: [headTree, tailTree],\n                    suffixRest: ',',\n                    suffixLast: ']'\n                };\n            }\n            else {\n                result = {\n                    type: 'line',\n                    line: dag\n                };\n            }\n        }\n        else if (dag.type === 'arraylike') {\n            const elemTrees = dag.elems.map(format);\n            if (dag.length - dag.prefix.length - dag.suffix.length > splitlineThreshold ||\n                elemTrees.some(t => t.type !== 'line')) {\n                result = {\n                    type: 'block',\n                    prefixFirst: dag.prefix + ' '.repeat(Math.max(0, indent - dag.prefix.length)),\n                    prefixRest: ' '.repeat(Math.max(dag.prefix.length, indent)),\n                    block: elemTrees,\n                    suffixRest: ',',\n                    suffixLast: dag.suffix\n                };\n            }\n            else {\n                result = {\n                    type: 'line',\n                    line: dag\n                };\n            }\n        }\n        else if (dag.type === 'kvpair') {\n            const valueTree = format(dag.value);\n            if (dag.length > splitlineThreshold || valueTree.type !== 'line') {\n                result = {\n                    type: 'block',\n                    prefixFirst: '',\n                    prefixRest: '',\n                    block: [\n                        { type: 'line', line: { type: 'terminal', str: JSON.stringify(dag.key), length: 0 } },\n                        valueTree\n                    ],\n                    suffixRest: ':',\n                    suffixLast: ''\n                };\n            }\n            else {\n                result = {\n                    type: 'line',\n                    line: dag\n                };\n            }\n        }\n        else {\n            throw 'up';\n        }\n        memo.set(dag, result);\n        return result;\n    }\n    return format(dag);\n}\nexports.stringDagToLineTree = stringDagToLineTree;\nfunction stringDagToSingleLine(dag) {\n    function print(dag, total) {\n        if (dag.type === 'multiline') {\n            throw 'Tried to format multiline string as single line string';\n        }\n        else if (dag.type === 'terminal') {\n            total.push(dag.str);\n        }\n        else if (dag.type === 'pair') {\n            total.push('[');\n            print(dag.head, total);\n            total.push(', ');\n            print(dag.tail, total);\n            total.push(']');\n        }\n        else if (dag.type === 'kvpair') {\n            total.push(JSON.stringify(dag.key));\n            total.push(': ');\n            print(dag.value, total);\n        }\n        else if (dag.type === 'arraylike') {\n            total.push(dag.prefix);\n            if (dag.elems.length > 0) {\n                print(dag.elems[0], total);\n            }\n            for (let i = 1; i < dag.elems.length; i++) {\n                total.push(', ');\n                print(dag.elems[i], total);\n            }\n            total.push(dag.suffix);\n        }\n        return total;\n    }\n    return print(dag, []).join('');\n}\nexports.stringDagToSingleLine = stringDagToSingleLine;\nfunction lineTreeToString(tree) {\n    let total = '';\n    const stringDagToLineMemo = new Map();\n    const stringDagToMultilineMemo = new Map();\n    function print(tree, lineSep) {\n        const multilineMemoResult = stringDagToMultilineMemo.get(tree);\n        if (multilineMemoResult !== undefined) {\n            const startEnd = multilineMemoResult.get(lineSep.length);\n            if (startEnd !== undefined) {\n                total += total.substring(startEnd[0], startEnd[1]);\n                return;\n            }\n        }\n        const start = total.length;\n        if (tree.type === 'line') {\n            if (!stringDagToLineMemo.has(tree.line)) {\n                stringDagToLineMemo.set(tree.line, stringDagToSingleLine(tree.line));\n            }\n            total += stringDagToLineMemo.get(tree.line);\n        }\n        else if (tree.type === 'block') {\n            total += tree.prefixFirst;\n            const indentedLineSepFirst = lineSep + ' '.repeat(tree.prefixFirst.length);\n            const indentedLineSepRest = lineSep + tree.prefixRest;\n            print(tree.block[0], indentedLineSepFirst);\n            for (let i = 1; i < tree.block.length; i++) {\n                total += tree.suffixRest;\n                total += indentedLineSepRest;\n                print(tree.block[i], indentedLineSepRest);\n            }\n            total += tree.suffixLast;\n        }\n        const end = total.length;\n        if (multilineMemoResult === undefined) {\n            const newmap = new Map();\n            newmap.set(lineSep.length, [start, end]);\n            stringDagToMultilineMemo.set(tree, newmap);\n        }\n        else {\n            multilineMemoResult.set(lineSep.length, [start, end]);\n        }\n    }\n    print(tree, '\\n');\n    return total;\n}\nexports.lineTreeToString = lineTreeToString;\n//# sourceMappingURL=stringify.js.map","import { SourceError, Value } from 'Clang-slang/dist/types';\nimport { action } from 'typesafe-actions';\n\nimport { WorkspaceLocation } from '../../workspace/WorkspaceTypes';\nimport {\n  BEGIN_DEBUG_PAUSE,\n  BEGIN_INTERRUPT_EXECUTION,\n  DEBUG_RESET,\n  DEBUG_RESUME,\n  END_DEBUG_PAUSE,\n  END_INTERRUPT_EXECUTION,\n  EVAL_INTERPRETER_ERROR,\n  EVAL_INTERPRETER_SUCCESS,\n  EVAL_TESTCASE_FAILURE,\n  EVAL_TESTCASE_SUCCESS,\n  HANDLE_CONSOLE_LOG\n} from '../types/InterpreterTypes';\n\nexport const handleConsoleLog = (workspaceLocation: WorkspaceLocation, ...logString: string[]) =>\n  action(HANDLE_CONSOLE_LOG, { logString, workspaceLocation });\n\nexport const evalInterpreterSuccess = (value: Value, workspaceLocation: WorkspaceLocation) =>\n  action(EVAL_INTERPRETER_SUCCESS, { type: 'result', value, workspaceLocation });\n\nexport const evalTestcaseSuccess = (\n  value: Value,\n  workspaceLocation: WorkspaceLocation,\n  index: number\n) => action(EVAL_TESTCASE_SUCCESS, { type: 'result', value, workspaceLocation, index });\n\nexport const evalTestcaseFailure = (\n  value: Value,\n  workspaceLocation: WorkspaceLocation,\n  index: number\n) => action(EVAL_TESTCASE_FAILURE, { type: 'errors', value, workspaceLocation, index });\n\nexport const evalInterpreterError = (errors: SourceError[], workspaceLocation: WorkspaceLocation) =>\n  action(EVAL_INTERPRETER_ERROR, { type: 'errors', errors, workspaceLocation });\n\nexport const beginInterruptExecution = (workspaceLocation: WorkspaceLocation) =>\n  action(BEGIN_INTERRUPT_EXECUTION, { workspaceLocation });\n\nexport const endInterruptExecution = (workspaceLocation: WorkspaceLocation) =>\n  action(END_INTERRUPT_EXECUTION, { workspaceLocation });\n\nexport const beginDebuggerPause = (workspaceLocation: WorkspaceLocation) =>\n  action(BEGIN_DEBUG_PAUSE, { workspaceLocation });\n\nexport const endDebuggerPause = (workspaceLocation: WorkspaceLocation) =>\n  action(END_DEBUG_PAUSE, { workspaceLocation });\n\nexport const debuggerResume = (workspaceLocation: WorkspaceLocation) =>\n  action(DEBUG_RESUME, { workspaceLocation });\n\nexport const debuggerReset = (workspaceLocation: WorkspaceLocation) =>\n  action(DEBUG_RESET, { workspaceLocation });\n","import { Intent, IToastProps, Position, Toaster } from '@blueprintjs/core';\n\nconst notification = Toaster.create({\n  position: Position.TOP\n});\n\nexport const showSuccessMessage = (\n  message: string | JSX.Element,\n  timeout: number = 2000,\n  key?: string\n) =>\n  notification.show(\n    {\n      intent: Intent.SUCCESS,\n      message,\n      timeout\n    },\n    key\n  );\n\nexport const showWarningMessage = (\n  message: string | JSX.Element,\n  timeout: number = 2000,\n  key?: string\n) =>\n  notification.show(\n    {\n      intent: Intent.WARNING,\n      message,\n      timeout\n    },\n    key\n  );\n\nexport const showDangerMessage = (\n  message: string | JSX.Element,\n  timeout: number = 2000,\n  key?: string\n) =>\n  notification.show(\n    {\n      intent: Intent.DANGER,\n      message,\n      timeout\n    },\n    key\n  );\n\nexport const showMessage = (props: IToastProps, key?: string) => notification.show(props, key);\n\nexport const dismiss = (key: string) => notification.dismiss(key);\n","export const SET_EDITOR_SESSION_ID = 'SET_EDITOR_SESSION_ID';\nexport const SET_SHAREDB_CONNECTED = 'SET_SHAREDB_CONNECTED';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.TrailingCommaError = exports.MissingSemicolonError = exports.FatalSyntaxError = exports.DisallowedConstructError = void 0;\n/* tslint:disable:max-classes-per-file */\nconst antlr4ts_1 = require(\"antlr4ts\");\nconst ClangLexer_1 = require(\"../lang/ClangLexer\");\nconst ClangParser_1 = require(\"../lang/ClangParser\");\nconst types_1 = require(\"../types\");\nconst formatters_1 = require(\"../utils/formatters\");\nclass DisallowedConstructError {\n    constructor(node) {\n        this.node = node;\n        this.type = types_1.ErrorType.SYNTAX;\n        this.severity = types_1.ErrorSeverity.ERROR;\n        this.nodeType = this.formatNodeType(this.node.type);\n    }\n    get location() {\n        return this.node.loc;\n    }\n    explain() {\n        return `${this.nodeType} are not allowed`;\n    }\n    elaborate() {\n        return (0, formatters_1.stripIndent) `\n      You are trying to use ${this.nodeType}, which is not allowed (yet).\n    `;\n    }\n    /**\n     * Converts estree node.type into english\n     * e.g. ThisExpression -> 'this' expressions\n     *      Property -> Properties\n     *      EmptyStatement -> Empty Statements\n     */\n    formatNodeType(nodeType) {\n        switch (nodeType) {\n            case 'ThisExpression':\n                return \"'this' expressions\";\n            case 'Property':\n                return 'Properties';\n            default: {\n                const words = nodeType.split(/(?=[A-Z])/);\n                return words.map((word, i) => (i === 0 ? word : word.toLowerCase())).join(' ') + 's';\n            }\n        }\n    }\n}\nexports.DisallowedConstructError = DisallowedConstructError;\nclass FatalSyntaxError {\n    constructor(location, message) {\n        this.location = location;\n        this.message = message;\n        this.type = types_1.ErrorType.SYNTAX;\n        this.severity = types_1.ErrorSeverity.ERROR;\n    }\n    explain() {\n        return this.message;\n    }\n    elaborate() {\n        return 'There is a syntax error in your program';\n    }\n}\nexports.FatalSyntaxError = FatalSyntaxError;\nclass MissingSemicolonError {\n    constructor(location) {\n        this.location = location;\n        this.type = types_1.ErrorType.SYNTAX;\n        this.severity = types_1.ErrorSeverity.ERROR;\n    }\n    explain() {\n        return 'Missing semicolon at the end of statement';\n    }\n    elaborate() {\n        return 'Every statement must be terminated by a semicolon.';\n    }\n}\nexports.MissingSemicolonError = MissingSemicolonError;\nclass TrailingCommaError {\n    constructor(location) {\n        this.location = location;\n    }\n    explain() {\n        return 'Trailing comma';\n    }\n    elaborate() {\n        return 'Please remove the trailing comma';\n    }\n}\nexports.TrailingCommaError = TrailingCommaError;\nclass ExpressionGenerator {\n    visit(tree) {\n        return tree.accept(this);\n    }\n    visitChildren(node) {\n        const expressions = [];\n        for (let i = 0; i < node.childCount; i++) {\n            expressions.push(node.getChild(i).accept(this));\n        }\n        return {\n            type: 'SequenceExpression',\n            expressions\n        };\n    }\n    visitTerminal(node) {\n        return node.accept(this);\n    }\n    visitErrorNode(node) {\n        throw new FatalSyntaxError({\n            start: {\n                line: node.symbol.line,\n                column: node.symbol.charPositionInLine\n            },\n            end: {\n                line: node.symbol.line,\n                column: node.symbol.charPositionInLine + 1\n            }\n        }, `invalid syntax ${node.text}`);\n    }\n}\nfunction convertExpression(expression) {\n    const generator = new ExpressionGenerator();\n    return expression.accept(generator);\n}\nfunction convertSource(expression) {\n    return {\n        type: 'Program',\n        sourceType: 'script',\n        body: [\n            {\n                type: 'ExpressionStatement',\n                expression: convertExpression(expression)\n            }\n        ]\n    };\n}\nfunction parse(source, context) {\n    let program;\n    if (context.variant === 'Clang') {\n        const inputStream = antlr4ts_1.CharStreams.fromString(source);\n        const lexer = new ClangLexer_1.ClangLexer(inputStream);\n        const tokenStream = new antlr4ts_1.CommonTokenStream(lexer);\n        const parser = new ClangParser_1.ClangParser(tokenStream);\n        parser.buildParseTree = true;\n        try {\n            const tree = parser.expression();\n            program = convertSource(tree);\n        }\n        catch (error) {\n            if (error instanceof FatalSyntaxError) {\n                context.errors.push(error);\n            }\n            else {\n                throw error;\n            }\n        }\n        const hasErrors = context.errors.find(m => m.severity === types_1.ErrorSeverity.ERROR);\n        if (program && !hasErrors) {\n            return program;\n        }\n        else {\n            return undefined;\n        }\n    }\n    else {\n        return undefined;\n    }\n}\nexports.parse = parse;\n//# sourceMappingURL=parser.js.map","import { Context } from 'Clang-slang';\n\nimport { GitHubAssessmentWorkspaceState } from '../../features/githubAssessment/GitHubAssessmentTypes';\nimport { SourcecastWorkspaceState } from '../../features/sourceRecorder/sourcecast/SourcecastTypes';\nimport { SourcereelWorkspaceState } from '../../features/sourceRecorder/sourcereel/SourcereelTypes';\nimport { InterpreterOutput } from '../application/ApplicationTypes';\nimport { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport { AutogradingResult, Testcase } from '../assessment/AssessmentTypes';\nimport { HighlightedLines, Position } from '../editor/EditorTypes';\n\nexport const ADD_HTML_CONSOLE_ERROR = 'ADD_HTML_CONSOLE_ERROR';\nexport const BEGIN_CLEAR_CONTEXT = 'BEGIN_CLEAR_CONTEXT';\nexport const BROWSE_REPL_HISTORY_DOWN = 'BROWSE_REPL_HISTORY_DOWN';\nexport const BROWSE_REPL_HISTORY_UP = 'BROWSE_REPL_HISTORY_UP';\nexport const CHANGE_EXEC_TIME = 'CHANGE_EXEC_TIME';\nexport const CHANGE_EXTERNAL_LIBRARY = 'CHANGE_EXTERNAL_LIBRARY';\nexport const CHANGE_SIDE_CONTENT_HEIGHT = 'CHANGE_SIDE_CONTENT_HEIGHT';\nexport const CHANGE_STEP_LIMIT = 'CHANGE_STEP_LIMIT';\nexport const CHAPTER_SELECT = 'CHAPTER_SELECT';\nexport const CLEAR_REPL_INPUT = 'CLEAR_REPL_INPUT';\nexport const CLEAR_REPL_OUTPUT = 'CLEAR_REPL_OUTPUT';\nexport const CLEAR_REPL_OUTPUT_LAST = 'CLEAR_REPL_OUTPUT_LAST';\nexport const END_CLEAR_CONTEXT = 'END_CLEAR_CONTEXT';\nexport const EVAL_EDITOR = 'EVAL_EDITOR';\nexport const EVAL_REPL = 'EVAL_REPL';\nexport const PROMPT_AUTOCOMPLETE = 'PROMPT_AUTOCOMPLETE';\nexport const EVAL_SILENT = 'EVAL_SILENT';\nexport const EVAL_TESTCASE = 'EVAL_TESTCASE';\nexport const EVAL_EDITOR_AND_TESTCASES = 'EVAL_EDITOR_AND_TESTCASES';\nexport const MOVE_CURSOR = 'MOVE_CURSOR';\nexport const NAV_DECLARATION = 'NAV_DECLARATION';\nexport const PLAYGROUND_EXTERNAL_SELECT = 'PLAYGROUND_EXTERNAL_SELECT ';\nexport const RESET_TESTCASE = 'RESET_TESTCASE';\nexport const RESET_WORKSPACE = 'RESET_WORKSPACE';\nexport const SEND_REPL_INPUT_TO_OUTPUT = 'SEND_REPL_INPUT_TO_OUTPUT';\nexport const TOGGLE_EDITOR_AUTORUN = 'TOGGLE_EDITOR_AUTORUN';\nexport const TOGGLE_USING_SUBST = 'TOGGLE_USING_SUBST';\nexport const UPDATE_CURRENT_ASSESSMENT_ID = 'UPDATE_CURRENT_ASSESSMENT_ID';\nexport const UPDATE_CURRENT_SUBMISSION_ID = 'UPDATE_CURRENT_SUBMISSION_ID';\nexport const UPDATE_ACTIVE_EDITOR_TAB = 'UPDATE_ACTIVE_EDITOR_TAB';\nexport const UPDATE_EDITOR_VALUE = 'UPDATE_EDITOR_VALUE';\nexport const UPDATE_EDITOR_BREAKPOINTS = 'UPDATE_EDITOR_BREAKPOINTS';\nexport const UPDATE_HAS_UNSAVED_CHANGES = 'UPDATE_HAS_UNSAVED_CHANGES';\nexport const UPDATE_REPL_VALUE = 'UPDATE_REPL_VALUE';\nexport const UPDATE_WORKSPACE = 'UPDATE_WORKSPACE';\nexport const UPDATE_SUBLANGUAGE = 'UPDATE_SUBLANGUAGE';\nexport const CHANGE_SUBLANGUAGE = 'CHANGE_SUBLANGUAGE';\n\nexport type WorkspaceLocation = keyof WorkspaceManagerState;\n\ntype AssessmentWorkspaceAttr = {\n  readonly currentAssessment?: number;\n  readonly currentQuestion?: number;\n  readonly hasUnsavedChanges: boolean;\n};\ntype AssessmentWorkspaceState = AssessmentWorkspaceAttr & WorkspaceState;\n\ntype GradingWorkspaceAttr = {\n  readonly currentSubmission?: number;\n  readonly currentQuestion?: number;\n  readonly hasUnsavedChanges: boolean;\n};\ntype GradingWorkspaceState = GradingWorkspaceAttr & WorkspaceState;\n\ntype PlaygroundWorkspaceAttr = {\n  readonly usingSubst: boolean;\n};\nexport type PlaygroundWorkspaceState = PlaygroundWorkspaceAttr & WorkspaceState;\n\nexport type SicpWorkspaceState = PlaygroundWorkspaceState;\n\nexport type WorkspaceManagerState = {\n  readonly assessment: AssessmentWorkspaceState;\n  readonly grading: GradingWorkspaceState;\n  readonly playground: PlaygroundWorkspaceState;\n  readonly sourcecast: SourcecastWorkspaceState;\n  readonly sourcereel: SourcereelWorkspaceState;\n  readonly sicp: SicpWorkspaceState;\n  readonly githubAssessment: GitHubAssessmentWorkspaceState;\n};\n\nexport type EditorTabState = {\n  readonly value: string;\n  readonly prependValue: string;\n  readonly postpendValue: string;\n  readonly highlightedLines: HighlightedLines[];\n  readonly breakpoints: string[];\n  readonly newCursorPosition?: Position;\n};\n\nexport type WorkspaceState = {\n  readonly autogradingResults: AutogradingResult[];\n  readonly context: Context;\n  readonly activeEditorTabIndex: number | null;\n  readonly editorTabs: EditorTabState[];\n  readonly editorSessionId: string;\n  readonly editorTestcases: Testcase[];\n  readonly execTime: number;\n  readonly isRunning: boolean;\n  readonly isDebugging: boolean;\n  readonly enableDebugging: boolean;\n  readonly isEditorAutorun: boolean;\n  readonly isEditorReadonly: boolean;\n  readonly output: InterpreterOutput[];\n  readonly externalLibrary: ExternalLibraryName;\n  readonly replHistory: ReplHistory;\n  readonly replValue: string;\n  readonly sharedbConnected: boolean;\n  readonly sideContentHeight?: number;\n  readonly stepLimit: number;\n  readonly globals: Array<[string, any]>;\n  readonly debuggerContext: DebuggerContext;\n};\n\ntype ReplHistory = {\n  browseIndex: null | number; // [0, 49] if browsing, else null\n  records: string[];\n  originalValue: string;\n};\n\nexport type DebuggerContext = {\n  result: any;\n  lastDebuggerResult: any;\n  code: string;\n  context: Context;\n  workspaceLocation?: WorkspaceLocation;\n};\n","import { action } from 'typesafe-actions'; // EDITING\n\nimport { WorkspaceLocation } from '../workspace/WorkspaceTypes';\nimport { SET_EDITOR_SESSION_ID, SET_SHAREDB_CONNECTED } from './CollabEditingTypes';\n\nexport const setEditorSessionId = (workspaceLocation: WorkspaceLocation, editorSessionId: string) =>\n  action(SET_EDITOR_SESSION_ID, {\n    workspaceLocation,\n    editorSessionId\n  });\n\n/**\n * Sets ShareDB connection status.\n *\n * @param workspaceLocation the workspace to be reset\n * @param connected whether we are connected to ShareDB\n */\nexport const setSharedbConnected = (workspaceLocation: WorkspaceLocation, connected: boolean) =>\n  action(SET_SHAREDB_CONNECTED, { workspaceLocation, connected });\n","\"use strict\";\n/*\nacorn.Node differs from estree.Node, so we have this file to handle the `as any` type coercions.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.base = exports.findNodeAfter = exports.findNodeAround = exports.findNodeAt = exports.make = exports.fullAncestor = exports.full = exports.recursive = exports.ancestor = exports.simple = void 0;\nconst walkers = require(\"acorn-walk\");\nexports.simple = walkers.simple;\nexports.ancestor = walkers.ancestor;\nexports.recursive = walkers.recursive;\nexports.full = walkers.full;\nexports.fullAncestor = walkers.fullAncestor;\nexports.make = walkers.make;\nexports.findNodeAt = walkers.findNodeAt;\nexports.findNodeAround = walkers.findNodeAround;\nexports.findNodeAfter = walkers.findNodeAfter;\nexports.base = walkers.base;\n//# sourceMappingURL=walkers.js.map","import { Chapter, Language, SourceError, Variant } from 'Clang-slang/dist/types';\n\nimport { AcademyState } from '../../features/academy/AcademyTypes';\nimport { AchievementState } from '../../features/achievement/AchievementTypes';\nimport { DashboardState } from '../../features/dashboard/DashboardTypes';\nimport { Grading } from '../../features/grading/GradingTypes';\nimport { PlaygroundState } from '../../features/playground/PlaygroundTypes';\nimport { PlaybackStatus, RecordingStatus } from '../../features/sourceRecorder/SourceRecorderTypes';\nimport { Assessment } from '../assessment/AssessmentTypes';\nimport Constants from '../utils/Constants';\nimport { createContext } from '../utils/JsSlangHelper';\nimport {\n  DebuggerContext,\n  WorkspaceLocation,\n  WorkspaceManagerState,\n  WorkspaceState\n} from '../workspace/WorkspaceTypes';\nimport { ExternalLibraryName } from './types/ExternalTypes';\nimport { SessionState } from './types/SessionTypes';\n\nexport type OverallState = {\n  readonly academy: AcademyState;\n  readonly achievement: AchievementState;\n  readonly application: ApplicationState;\n  readonly playground: PlaygroundState;\n  readonly session: SessionState;\n  readonly workspaces: WorkspaceManagerState;\n  readonly dashboard: DashboardState;\n};\n\nexport type ApplicationState = {\n  readonly environment: ApplicationEnvironment;\n};\n\nexport type Story = {\n  story: string;\n  playStory: boolean;\n};\n\nexport type GameState = {\n  collectibles: { [id: string]: string };\n  completed_quests: string[];\n};\n\n/**\n * An output while the program is still being run in the interpreter. As a\n * result, there are no return values or SourceErrors yet. However, there could\n * have been calls to display (console.log) that need to be printed out.\n */\nexport type RunningOutput = {\n  type: 'running';\n  consoleLogs: string[];\n};\n\n/**\n * An output which reflects the program which the user had entered. Not a true\n * Output from the interpreter, but simply there to let he user know what had\n * been entered.\n */\nexport type CodeOutput = {\n  type: 'code';\n  value: string;\n};\n\n/**\n * An output which represents a program being run successfully, i.e. with a\n * return value at the end. A program can have either a return value, or errors,\n * but not both.\n */\nexport type ResultOutput = {\n  type: 'result';\n  value: any;\n  consoleLogs: string[];\n  runtime?: number;\n  isProgram?: boolean;\n};\n\n/**\n * An output which represents a program being run unsuccessfully, i.e. with\n * errors at the end. A program can have either a return value, or errors, but\n * not both.\n */\nexport type ErrorOutput = {\n  type: 'errors';\n  errors: SourceError[];\n  consoleLogs: string[];\n};\n\nexport type InterpreterOutput = RunningOutput | CodeOutput | ResultOutput | ErrorOutput;\n\nexport enum ApplicationEnvironment {\n  Development = 'development',\n  Production = 'production',\n  Test = 'test'\n}\n\nexport enum Role {\n  Student = 'student',\n  Staff = 'staff',\n  Admin = 'admin'\n}\n\n/**\n * Defines the languages available for use on Source Academy,\n * including Source sublanguages and other languages e.g. full JS.\n * For external libraries, see ExternalLibrariesTypes.ts\n */\nexport interface SALanguage extends Language {\n  displayName: string;\n}\n\nconst variantDisplay: Map<Variant, string> = new Map([[Variant.DEFAULT, 'Clang']]);\n\nexport const styliseSublanguage = (chapter: Chapter, variant: Variant = Variant.DEFAULT) => {\n  return `Source \\xa7${chapter}${\n    variantDisplay.has(variant) ? ` ${variantDisplay.get(variant)}` : ''\n  }`;\n};\n\nexport const sublanguages: Language[] = [{ chapter: Chapter.CLANG, variant: Variant.DEFAULT }];\n\nexport const sourceLanguages: SALanguage[] = sublanguages.map(sublang => {\n  return {\n    ...sublang,\n    displayName: styliseSublanguage(sublang.chapter, sublang.variant)\n  };\n});\n\nexport const defaultLanguages = sourceLanguages.filter(\n  sublang => sublang.variant === Variant.DEFAULT\n);\n\nexport const variantLanguages = sourceLanguages.filter(\n  sublang => sublang.variant !== Variant.DEFAULT\n);\n\nexport const isSourceLanguage = (chapter: Chapter) => [Chapter.CLANG].includes(chapter);\n\nconst currentEnvironment = (): ApplicationEnvironment => {\n  switch (process.env.NODE_ENV) {\n    case 'development':\n      return ApplicationEnvironment.Development;\n    case 'production':\n      return ApplicationEnvironment.Production;\n    default:\n      return ApplicationEnvironment.Test;\n  }\n};\n\nexport const defaultAcademy: AcademyState = {\n  gameCanvas: undefined\n};\n\nexport const defaultApplication: ApplicationState = {\n  environment: currentEnvironment()\n};\n\nexport const defaultDashboard: DashboardState = {\n  gradingSummary: {\n    cols: [],\n    rows: []\n  }\n};\n\nexport const defaultAchievement: AchievementState = {\n  achievements: [],\n  goals: [],\n  users: [],\n  assessmentOverviews: []\n};\n\nexport const defaultPlayground: PlaygroundState = {\n  githubSaveInfo: { repoName: '', filePath: '' }\n};\n\nexport const defaultEditorValue = '1+1';\n\n/**\n * Create a default IWorkspaceState for 'resetting' a workspace.\n * Takes in parameters to set the Clang-slang library and chapter.\n *\n * @param workspaceLocation the location of the workspace, used for context\n */\nexport const createDefaultWorkspace = (workspaceLocation: WorkspaceLocation): WorkspaceState => ({\n  autogradingResults: [],\n  context: createContext<WorkspaceLocation>([], workspaceLocation, Constants.defaultSourceVariant),\n  activeEditorTabIndex: 0,\n  editorTabs: [\n    {\n      value: ['playground', 'sourcecast', 'githubAssessments'].includes(workspaceLocation)\n        ? defaultEditorValue\n        : '',\n      prependValue: '',\n      postpendValue: '',\n      highlightedLines: [],\n      breakpoints: []\n    }\n  ],\n  editorSessionId: '',\n  isEditorReadonly: false,\n  editorTestcases: [],\n  externalLibrary: ExternalLibraryName.NONE,\n  execTime: 1000,\n  output: [],\n  replHistory: {\n    browseIndex: null,\n    records: [],\n    originalValue: ''\n  },\n  replValue: '',\n  sharedbConnected: false,\n  stepLimit: 1000,\n  globals: [],\n  isEditorAutorun: false,\n  isRunning: false,\n  isDebugging: false,\n  enableDebugging: true,\n  debuggerContext: {} as DebuggerContext\n});\n\nexport const defaultWorkspaceManager: WorkspaceManagerState = {\n  assessment: {\n    ...createDefaultWorkspace('assessment'),\n    currentAssessment: undefined,\n    currentQuestion: undefined,\n    hasUnsavedChanges: false\n  },\n  grading: {\n    ...createDefaultWorkspace('grading'),\n    currentSubmission: undefined,\n    currentQuestion: undefined,\n    hasUnsavedChanges: false\n  },\n  playground: {\n    ...createDefaultWorkspace('playground'),\n    usingSubst: false\n  },\n  sourcecast: {\n    ...createDefaultWorkspace('sourcecast'),\n    audioUrl: '',\n    codeDeltasToApply: null,\n    currentPlayerTime: 0,\n    description: null,\n    inputToApply: null,\n    playbackData: {\n      init: {\n        editorValue: '',\n        chapter: Chapter.CLANG,\n        externalLibrary: ExternalLibraryName.NONE\n      },\n      inputs: []\n    },\n    playbackDuration: 0,\n    playbackStatus: PlaybackStatus.paused,\n    sourcecastIndex: null,\n    title: null,\n    uid: null\n  },\n  sourcereel: {\n    ...createDefaultWorkspace('sourcereel'),\n    playbackData: {\n      init: {\n        editorValue: '',\n        chapter: Chapter.CLANG,\n        externalLibrary: ExternalLibraryName.NONE\n      },\n      inputs: []\n    },\n    recordingStatus: RecordingStatus.notStarted,\n    timeElapsedBeforePause: 0,\n    timeResumed: 0\n  },\n  sicp: {\n    ...createDefaultWorkspace('sicp'),\n    usingSubst: false\n  },\n  githubAssessment: {\n    ...createDefaultWorkspace('githubAssessment'),\n    hasUnsavedChanges: false\n  }\n};\n\nexport const defaultSession: SessionState = {\n  courses: [],\n  group: null,\n  gameState: {\n    completed_quests: [],\n    collectibles: {}\n  },\n  xp: 0,\n  allUserXp: undefined,\n  story: {\n    story: '',\n    playStory: false\n  },\n  assessments: new Map<number, Assessment>(),\n  assessmentOverviews: undefined,\n  agreedToResearch: undefined,\n  sessionId: Date.now(),\n  githubOctokitObject: { octokit: undefined },\n  gradingOverviews: undefined,\n  gradings: new Map<number, Grading>(),\n  notifications: []\n};\n\nexport const defaultState: OverallState = {\n  academy: defaultAcademy,\n  achievement: defaultAchievement,\n  application: defaultApplication,\n  dashboard: defaultDashboard,\n  playground: defaultPlayground,\n  session: defaultSession,\n  workspaces: defaultWorkspaceManager\n};\n","\"use strict\";\n// Variable determining chapter of Source is contained in this file.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ensureGlobalEnvironmentExist = exports.createEmptyContext = exports.createGlobalEnvironment = exports.EnvTreeNode = exports.EnvTree = exports.LazyBuiltIn = void 0;\nconst types_1 = require(\"./types\");\nclass LazyBuiltIn {\n    constructor(func, evaluateArgs) {\n        this.func = func;\n        this.evaluateArgs = evaluateArgs;\n    }\n}\nexports.LazyBuiltIn = LazyBuiltIn;\nclass EnvTree {\n    constructor() {\n        this._root = null;\n        this.map = new Map();\n    }\n    get root() {\n        return this._root;\n    }\n    insert(environment) {\n        const tailEnvironment = environment.tail;\n        if (tailEnvironment === null) {\n            if (this._root === null) {\n                this._root = new EnvTreeNode(environment, null);\n                this.map.set(environment, this._root);\n            }\n        }\n        else {\n            const parentNode = this.map.get(tailEnvironment);\n            if (parentNode) {\n                const childNode = new EnvTreeNode(environment, parentNode);\n                parentNode.addChild(childNode);\n                this.map.set(environment, childNode);\n            }\n        }\n    }\n    getTreeNode(environment) {\n        return this.map.get(environment);\n    }\n}\nexports.EnvTree = EnvTree;\nclass EnvTreeNode {\n    constructor(environment, parent) {\n        this.environment = environment;\n        this.parent = parent;\n        this._children = [];\n    }\n    get children() {\n        return this._children;\n    }\n    resetChildren(newChildren) {\n        this.clearChildren();\n        this.addChildren(newChildren);\n        newChildren.forEach(c => (c.parent = this));\n    }\n    clearChildren() {\n        this._children = [];\n    }\n    addChildren(newChildren) {\n        this._children.push(...newChildren);\n    }\n    addChild(newChild) {\n        this._children.push(newChild);\n        return newChild;\n    }\n}\nexports.EnvTreeNode = EnvTreeNode;\nconst createEmptyRuntime = () => ({\n    break: false,\n    debuggerOn: true,\n    isRunning: false,\n    environmentTree: new EnvTree(),\n    environments: [],\n    value: undefined,\n    nodes: []\n});\nconst createGlobalEnvironment = () => ({\n    tail: null,\n    name: 'global',\n    head: {},\n    id: '-1'\n});\nexports.createGlobalEnvironment = createGlobalEnvironment;\nconst createEmptyContext = (variant, externalSymbols, externalContext) => {\n    return {\n        externalSymbols,\n        errors: [],\n        externalContext,\n        runtime: createEmptyRuntime(),\n        numberOfOuterEnvironments: 1,\n        prelude: null,\n        executionMethod: 'auto',\n        variant,\n        moduleContexts: {},\n        unTypecheckedCode: [],\n        previousCode: []\n    };\n};\nexports.createEmptyContext = createEmptyContext;\nconst ensureGlobalEnvironmentExist = (context) => {\n    if (!context.runtime) {\n        context.runtime = createEmptyRuntime();\n    }\n    if (!context.runtime.environments) {\n        context.runtime.environments = [];\n    }\n    if (!context.runtime.environmentTree) {\n        context.runtime.environmentTree = new EnvTree();\n    }\n    if (context.runtime.environments.length === 0) {\n        const globalEnvironment = (0, exports.createGlobalEnvironment)();\n        context.runtime.environments.push(globalEnvironment);\n        context.runtime.environmentTree.insert(globalEnvironment);\n    }\n};\nexports.ensureGlobalEnvironmentExist = ensureGlobalEnvironmentExist;\nconst createContext = (variant = types_1.Variant.DEFAULT, externalSymbols = [], externalContext) => {\n    const context = (0, exports.createEmptyContext)(variant, externalSymbols, externalContext);\n    return context;\n};\nexports.default = createContext;\n//# sourceMappingURL=createContext.js.map","import { Chapter, Variant } from 'Clang-slang/dist/types';\nimport moment, { Moment } from 'moment';\n\nfunction isTrue(value?: string, defaultTo?: boolean): boolean {\n  return typeof value === 'undefined' && typeof defaultTo !== 'undefined'\n    ? defaultTo\n    : typeof value === 'string' && value.toUpperCase() === 'TRUE';\n}\n\nconst isTest = process.env.NODE_ENV === 'test';\n\nconst sourceAcademyVersion = process.env.REACT_APP_VERSION || 'local';\nconst sourceAcademyEnvironment = process.env.REACT_APP_ENVIRONMENT || 'dev';\nconst sourceAcademyDeploymentName = process.env.REACT_APP_DEPLOYMENT_NAME || 'Source Academy';\nconst showResearchPrompt = isTest || isTrue(process.env.REACT_APP_SHOW_RESEARCH_PROMPT);\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\nconst cadetLoggerUrl = isTest ? undefined : process.env.REACT_APP_CADET_LOGGER;\nconst cadetLoggerInterval = parseInt(process.env.REACT_APP_CADET_LOGGER_INTERVAL || '10000', 10);\nconst useBackend = !isTest && isTrue(process.env.REACT_APP_USE_BACKEND);\nconst defaultSourceChapter = Chapter.CLANG;\nconst defaultSourceVariant = Variant.DEFAULT;\nconst defaultQuestionId = 0;\nconst maxBrowseIndex = 50;\nconst mobileBreakpoint = 768;\nconst urlShortenerBase = process.env.REACT_APP_URL_SHORTENER_BASE;\nconst urlShortenerSignature = process.env.REACT_APP_URL_SHORTENER_SIGNATURE;\nconst moduleBackendUrl = process.env.REACT_APP_MODULE_BACKEND_URL || 'modules';\nconst sharedbBackendUrl = process.env.REACT_APP_SHAREDB_BACKEND_URL || '';\nconst playgroundOnly = true;\nconst enableGitHubAssessments = isTest || isTrue(process.env.REACT_APP_ENABLE_GITHUB_ASSESSMENTS);\nconst sentryDsn = process.env.REACT_APP_SENTRY_DSN;\nconst googleClientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\nconst googleApiKey = process.env.REACT_APP_GOOGLE_API_KEY;\nconst googleAppId = process.env.REACT_APP_GOOGLE_APP_ID;\nconst githubClientId = process.env.REACT_APP_GITHUB_CLIENT_ID || '';\nconst githubOAuthProxyUrl = process.env.REACT_APP_GITHUB_OAUTH_PROXY_URL || '';\nconst sicpBackendUrl =\n  process.env.REACT_APP_SICPJS_BACKEND_URL || 'https://sicp.sourceacademy.org/';\nconst workspaceSettingsLocalStorageKey = 'workspace-settings';\n\n// For achievements feature (CA - Continual Assessment)\n// TODO: remove dependency of the ca levels on the env file\nconst caFulfillmentLevel = isTest\n  ? 24\n  : parseInt(process.env.REACT_APP_CA_FULFILLMENT_LEVEL || '0');\n\nconst authProviders: Map<string, { name: string; endpoint: string; isDefault: boolean }> =\n  new Map();\n\nfor (let i = 1; ; ++i) {\n  const id = process.env[`REACT_APP_OAUTH2_PROVIDER${i}`];\n  if (!id) {\n    break;\n  }\n\n  const name = process.env[`REACT_APP_OAUTH2_PROVIDER${i}_NAME`] || 'Unnamed provider';\n  const endpoint = process.env[`REACT_APP_OAUTH2_PROVIDER${i}_ENDPOINT`] || '';\n\n  authProviders.set(id, { name, endpoint, isDefault: i === 1 });\n}\n\nconst disablePeriods: Array<{ start: Moment; end: Moment; reason?: string }> = [];\n\nif (!isTest) {\n  for (let i = 1; ; ++i) {\n    const startStr = process.env[`REACT_APP_DISABLE${i}_START`];\n    const endStr = process.env[`REACT_APP_DISABLE${i}_END`];\n    if (!startStr || !endStr) {\n      break;\n    }\n    const reason = process.env[`REACT_APP_DISABLE${i}_REASON`];\n    const start = moment(startStr);\n    const end = moment(endStr);\n    if (end.isBefore(start) || moment().isAfter(end)) {\n      continue;\n    }\n    disablePeriods.push({ start, end, reason });\n  }\n}\n\nexport enum Links {\n  githubIssues = 'https://github.com/source-academy/frontend/issues',\n  githubOrg = 'https://github.com/source-academy',\n  about = 'https://about.sourceacademy.org',\n\n  moduleDetails = 'https://www.comp.nus.edu.sg/~cs1101s',\n  luminus = 'https://luminus.nus.edu.sg/modules/41d42e9a-5880-43b5-8ee6-75f5a41355e3/announcements/active',\n  piazza = 'https://piazza.com/class/kas136yscf8605',\n\n  resourcesForEducators = 'https://about.sourceacademy.org/educator/README.html',\n  resourcesForLearners = 'https://about.sourceacademy.org/learner/README.html',\n\n  sourceAcademyAssets = 'https://source-academy-assets.s3-ap-southeast-1.amazonaws.com/',\n  sourceDocs = 'https://docs.sourceacademy.org/',\n  techSVC = 'mailto:techsvc@comp.nus.edu.sg',\n  techSVCNumber = '6516 2736',\n  textbook = 'https://sourceacademy.org/sicpjs/',\n  playground = 'https://sourceacademy.org/playground',\n  textbookChapter2_2 = 'https://sourceacademy.org/sicpjs/2.2',\n  textbookChapter3_2 = 'https://sourceacademy.org/sicpjs/3.2',\n  aceHotkeys = 'https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts',\n  sourceHotkeys = 'https://github.com/source-academy/frontend/wiki/Source-Academy-Keyboard-Shortcuts',\n\n  source_1 = 'https://docs.sourceacademy.org/source_1/',\n  source_1_Lazy = 'https://docs.sourceacademy.org/source_1_lazy/',\n  source_1_Wasm = 'https://docs.sourceacademy.org/source_1_wasm/',\n  source_2 = 'https://docs.sourceacademy.org/source_2/',\n  source_2_Lazy = 'https://docs.sourceacademy.org/source_2_lazy/',\n  source_3 = 'https://docs.sourceacademy.org/source_3/',\n  source_3_Concurrent = 'https://docs.sourceacademy.org/source_3_concurrent/',\n  source_3_Nondet = 'https://docs.sourceacademy.org/source_3_non-det/',\n  source_4 = 'https://docs.sourceacademy.org/source_4/',\n  source_4_Gpu = 'https://docs.sourceacademy.org/source_4_gpu/',\n  ecmaScript_2021 = 'https://262.ecma-international.org/12.0/'\n}\n\nconst Constants = {\n  sourceAcademyVersion,\n  sourceAcademyEnvironment,\n  sourceAcademyDeploymentName,\n  showResearchPrompt,\n  backendUrl,\n  cadetLoggerUrl,\n  useBackend,\n  defaultSourceChapter,\n  defaultSourceVariant,\n  defaultQuestionId,\n  maxBrowseIndex,\n  mobileBreakpoint,\n  urlShortenerBase,\n  urlShortenerSignature,\n  moduleBackendUrl,\n  authProviders,\n  playgroundOnly,\n  enableGitHubAssessments,\n  sentryDsn,\n  googleClientId,\n  googleApiKey,\n  googleAppId,\n  githubClientId,\n  githubOAuthProxyUrl,\n  sharedbBackendUrl,\n  disablePeriods,\n  cadetLoggerInterval,\n  sicpBackendUrl,\n  workspaceSettingsLocalStorageKey,\n  caFulfillmentLevel\n};\n\nexport default Constants;\n","import { UpdateCourseConfiguration } from 'src/commons/application/types/SessionTypes';\nimport { UsernameRoleGroup } from 'src/pages/academy/adminPanel/subcomponents/AddUserPanel';\nimport { action } from 'typesafe-actions';\n\nimport { ADD_NEW_USERS_TO_COURSE, CREATE_COURSE, SAVE_CANVAS } from './AcademyTypes';\n\nexport const saveCanvas = (canvas: HTMLCanvasElement) => action(SAVE_CANVAS, canvas);\n\nexport const createCourse = (courseConfig: UpdateCourseConfiguration) =>\n  action(CREATE_COURSE, courseConfig);\n\nexport const addNewUsersToCourse = (users: UsernameRoleGroup[], provider: string) =>\n  action(ADD_NEW_USERS_TO_COURSE, { users, provider });\n","import { action } from 'typesafe-actions'; // EDITED\n\nimport { LOG_OUT } from '../types/CommonsTypes';\n\nexport const logOut = () => action(LOG_OUT);\n","import { Octokit } from '@octokit/rest';\n\n/**\n * Returns an instance to Octokit created using the authentication token\n */\nexport function generateOctokitInstance(authToken: string) {\n  const octokit = new Octokit({\n    auth: authToken,\n    userAgent: 'Source Academy Playground',\n    baseUrl: 'https://api.github.com',\n    log: {\n      debug: () => {},\n      info: () => {},\n      warn: console.warn,\n      error: console.error\n    },\n    request: {\n      agent: undefined,\n      fetch: undefined,\n      timeout: 0\n    }\n  });\n\n  return octokit;\n}\n","import React from 'react';\nimport { RefObject } from 'react';\n\nimport { IVisible } from '../EnvVisualizerTypes';\n\n/**\n * class to implement the IVisible interface, used by both compact and non-compact components.\n */\nexport abstract class Visible implements IVisible {\n  protected _x: number = 0;\n  protected _y: number = 0;\n  protected _width: number = 0;\n  protected _height: number = 0;\n  protected _isDrawn: boolean = false;\n  x(): number {\n    return this._x;\n  }\n  y(): number {\n    return this._y;\n  }\n  width(): number {\n    return this._width;\n  }\n  height(): number {\n    return this._height;\n  }\n  isDrawn(): boolean {\n    return this._isDrawn;\n  }\n  reset(): void {\n    this._isDrawn = false;\n  }\n  ref: RefObject<any> = React.createRef();\n  abstract draw(key?: number): React.ReactNode;\n}\n","/** configs for dimensions */\nexport enum CompactConfig {\n  CanvasMinHeight = 300,\n  CanvasMinWidth = 300,\n  CanvasPaddingX = 30,\n  CanvasPaddingY = 30,\n\n  LevelPaddingX = 10,\n  LevelPaddingY = 10,\n\n  FrameMinWidth = 100,\n  FramePaddingX = 20,\n  FramePaddingY = 30,\n  FrameMarginX = 30,\n  FrameMarginY = 10,\n  FrameCornerRadius = 3,\n\n  FnRadius = 15,\n  FnInnerRadius = 3,\n  FnTooltipOpacity = 0.3,\n\n  DataMinWidth = 20,\n  DataUnitWidth = 40,\n  DataUnitHeight = 40,\n  DataCornerRadius = 3,\n  DataHitStrokeWidth = 5,\n\n  TextPaddingX = 10,\n  TextPaddingY = 30,\n  TextMargin = 5,\n  TextMinWidth = 30,\n  FontFamily = 'monospace, monospace',\n  FontSize = 15,\n  FontStyle = 'normal',\n  FontVariant = 'normal',\n\n  HoveredColor = '#32CD32',\n\n  ArrowHeadSize = 10,\n  ArrowStrokeWidth = 1,\n  ArrowHitStrokeWidth = 5,\n  ArrowHoveredStrokeWidth = 2,\n  ArrowCornerRadius = 40,\n\n  SA_WHITE = '#999999',\n  SA_BLUE = '#2c3e50',\n  PRINT_BACKGROUND = 'white',\n\n  ConstantColon = ':= ',\n  VariableColon = ': ',\n  Ellipsis = '…',\n\n  UnassignedData = '',\n  GlobalFrameDefaultText = ':::pre-declared names::',\n  GlobalEnvId = '-1'\n}\n\nexport const ShapeDefaultProps = {\n  preventDefault: false\n};\n","/** configs for dimensions */\nexport enum Config {\n  CanvasMinHeight = 300,\n  CanvasMinWidth = 300,\n  CanvasPaddingX = 30,\n  CanvasPaddingY = 30,\n\n  LevelPaddingX = 10,\n  LevelPaddingY = 10,\n\n  FrameMinWidth = 100,\n  FramePaddingX = 20,\n  FramePaddingY = 30,\n  FrameMarginX = 60,\n  FrameMarginY = 100,\n  FrameCornerRadius = 3,\n\n  FnRadius = 15,\n  FnInnerRadius = 3,\n  FnTooltipOpacity = 0.6,\n\n  DataMinWidth = 20,\n  DataUnitWidth = 40,\n  DataUnitPaddingY = 40,\n  DataUnitPaddingX = 50,\n  DataUnitHeight = 40,\n  DataCornerRadius = 3,\n  DataHitStrokeWidth = 5,\n  DataGroupMaxDist = 500,\n\n  TextPaddingX = 10,\n  TextPaddingY = 20,\n  TextMargin = 5,\n  TextMinWidth = 30,\n  FontFamily = 'monospace, monospace',\n  FontSize = 15,\n  FontStyle = 'normal',\n  FontVariant = 'normal',\n\n  HoveredColor = '#32CD32',\n\n  ArrowHeadSize = 10,\n  ArrowStrokeWidth = 1,\n  ArrowHitStrokeWidth = 5,\n  ArrowHoveredStrokeWidth = 2,\n  ArrowUnhoveredOpacity = 0.8,\n  ArrowCornerRadius = 10,\n  ArrowMinHeight = 100,\n  ArrowNumLanes = 5,\n  ArrowLaneInterval = 1, // lane for next arrow = previous lane + lane interval % num lanes.\n  FrameArrowStrokeWidth = 2,\n  FrameArrowHoveredStrokeWidth = 2.5,\n  MaxExportWidth = 20000,\n  MaxExportHeight = 12000,\n\n  SA_WHITE = '#999999',\n  SA_BLUE = '#2c3e50',\n  PRINT_BACKGROUND = 'white',\n\n  ConstantColon = ':= ',\n  VariableColon = ': ',\n  Ellipsis = '…',\n\n  UnassignedData = '',\n  GlobalFrameDefaultText = ':::pre-declared names::',\n  GlobalEnvId = '-1'\n}\n\nexport const ShapeDefaultProps = {\n  preventDefault: false\n};\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React from 'react';\nimport { Group, Label as KonvaLabel, Tag as KonvaTag, Text as KonvaText } from 'react-konva';\n\nimport EnvVisualizer from '../EnvVisualizer';\nimport { Config, ShapeDefaultProps } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Data, IHoverable } from '../EnvVisualizerTypes';\nimport { getTextWidth, setHoveredCursor, setUnhoveredCursor } from '../EnvVisualizerUtils';\nimport { Frame } from './Frame';\nimport { Visible } from './Visible';\n\nexport interface TextOptions {\n  maxWidth: number;\n  fontSize: number;\n  fontFamily: string;\n  fontStyle: string;\n  fontVariant: string;\n  isStringIdentifiable: boolean;\n}\n\nexport const defaultOptions: TextOptions = {\n  maxWidth: Number.MAX_VALUE, // maximum width this text should be\n  fontFamily: Config.FontFamily.toString(), // default is Arial\n  fontSize: Number(Config.FontSize), // in pixels. Default is 12\n  fontStyle: Config.FontStyle.toString(), // can be normal, bold, or italic. Default is normal\n  fontVariant: Config.FontVariant.toString(), // can be normal or small-caps. Default is normal\n  isStringIdentifiable: false // if true, contain strings within double quotation marks \"\". Default is false\n};\n\n/** this class encapsulates a string to be drawn onto the canvas */\nexport class Text extends Visible implements IHoverable {\n  readonly _hoveredWidth: number;\n\n  readonly partialStr: string; // truncated string representation of data\n  readonly fullStr: string; // full string representation of data\n\n  readonly options: TextOptions = defaultOptions;\n  readonly frame?: Frame;\n\n  constructor(\n    readonly data: Data,\n    x: number,\n    y: number,\n    /** additional options (for customization of text) */\n    options: Partial<TextOptions> = {},\n    frame?: Frame\n  ) {\n    super();\n    this._x = x;\n    this._y = y;\n    this.frame = frame;\n    this.options = { ...this.options, ...options };\n\n    const { fontSize, fontStyle, fontFamily, maxWidth, isStringIdentifiable } = this.options;\n\n    this.fullStr = this.partialStr = isStringIdentifiable\n      ? JSON.stringify(data) || String(data)\n      : String(data);\n    this._height = fontSize;\n\n    const widthOf = (s: string) => getTextWidth(s, `${fontStyle} ${fontSize}px ${fontFamily}`);\n    this._hoveredWidth = widthOf(this.partialStr);\n    if (this._hoveredWidth > maxWidth) {\n      let truncatedText = Config.Ellipsis.toString();\n      let i = 0;\n      while (widthOf(this.partialStr.substring(0, i) + Config.Ellipsis.toString()) < maxWidth) {\n        truncatedText = this.partialStr.substring(0, i++) + Config.Ellipsis.toString();\n      }\n      this._width = widthOf(truncatedText);\n      this.partialStr = truncatedText;\n    } else {\n      this._width = Math.max(Config.TextMinWidth, widthOf(this.partialStr));\n    }\n  }\n\n  hoveredWidth(): number {\n    return this._hoveredWidth;\n  }\n  updatePosition = (x: number, y: number) => {\n    this._x = x;\n    this._y = y;\n  };\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    setHoveredCursor(currentTarget);\n    this.ref.current.moveToTop();\n    this.ref.current.show();\n    currentTarget.getLayer()?.draw();\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    setUnhoveredCursor(currentTarget);\n    this.ref.current.hide();\n    currentTarget.getLayer()?.draw();\n  };\n\n  draw(): React.ReactNode {\n    const props = {\n      fontFamily: this.options.fontFamily,\n      fontSize: this.options.fontSize,\n      fontStyle: this.options.fontStyle,\n      fill: EnvVisualizer.getPrintableMode()\n        ? Config.SA_BLUE.toString()\n        : Config.SA_WHITE.toString()\n    };\n    return (\n      <Group key={Layout.key++} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <KonvaLabel x={this.x()} y={this.y()}>\n          <KonvaText {...ShapeDefaultProps} key={Layout.key++} text={this.partialStr} {...props} />\n        </KonvaLabel>\n        <KonvaLabel x={this.x()} y={this.y()} ref={this.ref} visible={false} listening={false}>\n          <KonvaTag\n            {...ShapeDefaultProps}\n            fill={EnvVisualizer.getPrintableMode() ? 'white' : 'black'}\n            opacity={0.5}\n            listening={false}\n          />\n          <KonvaText\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            text={this.fullStr}\n            {...props}\n            listening={false}\n          />\n        </KonvaLabel>\n      </Group>\n    );\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport { Arrow as KonvaArrow, Group as KonvaGroup, Path as KonvaPath } from 'react-konva';\n\nimport EnvVisualizer from '../../EnvVisualizer';\nimport { Config, ShapeDefaultProps } from '../../EnvVisualizerConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { IHoverable, IVisible, StepsArray } from '../../EnvVisualizerTypes';\nimport {\n  setHoveredCursor,\n  setHoveredStyle,\n  setUnhoveredCursor,\n  setUnhoveredStyle\n} from '../../EnvVisualizerUtils';\nimport { Frame } from '../Frame';\nimport { Text } from '../Text';\nimport { Visible } from '../Visible';\n\n/** this class encapsulates an arrow to be drawn between 2 points */\nexport class GenericArrow<Source extends IVisible, Target extends IVisible>\n  extends Visible\n  implements IHoverable\n{\n  points: number[] = [];\n  source: Source;\n  target: Target | undefined;\n\n  private _path: string = '';\n  private selected: boolean = false;\n  readonly unhovered_opacity: number = Config.ArrowUnhoveredOpacity;\n  readonly hovered_opacity: number = 1;\n\n  constructor(source: Source) {\n    super();\n    this.source = source;\n    this._x = source.x();\n    this._y = source.y();\n  }\n  path() {\n    return this._path;\n  }\n  to(target: Target): GenericArrow<Source, Target> {\n    this.target = target;\n    this._width = Math.abs(target.x() - this.source.x());\n    this._height = Math.abs(target.y() - this.source.y());\n    return this;\n  }\n  isSelected(): boolean {\n    return this.selected;\n  }\n  /**\n   * Calculates the steps that this arrows takes.\n   * The arrow is decomposed into numerous straight line segments, each of which we\n   * can consider as a step of dx in the x direction and of dy in the y direction.\n   * The line segment is thus defined by 2 points (x, y) and (x + dx, y + dy)\n   * where (x, y) is the ending coordinate of the previous line segment.\n   * This function returns an array of such steps, represented by an array of functions\n   *  [ (x, y) => [x + dx1, y + dy1], (x, y) => [x + dx2, y + dy2], ... ].\n   * From this, we can retrieve the points that make up the arrow as such:\n   * (from.x from.y), (from.x + dx1, from.y + dy1), (from.x + dx1 + dx2, from.y + dy1 + dy2), ..\n   *\n   * Note that the functions need not be of the form (x, y) => [x + dx, y + dy];\n   * (x, y) => [to.x, to.y] is valid as well, and is used to specify a step to the ending coordinates\n   *\n   * @return an array of steps represented by functions\n   */\n  protected calculateSteps(): StepsArray {\n    const to = this.target;\n    if (!to) return [];\n    return [() => [to.x(), to.y()]];\n  }\n  getStrokeWidth(): number {\n    return Number(Config.ArrowStrokeWidth);\n  }\n  onMouseEnter(e: KonvaEventObject<MouseEvent>) {\n    setHoveredCursor(e.target);\n    setHoveredStyle(e.currentTarget, {\n      strokeWidth: Number(Config.ArrowHoveredStrokeWidth)\n    });\n    this.ref.current.opacity = this.unhovered_opacity;\n  }\n  onClick({ currentTarget }: KonvaEventObject<MouseEvent>) {\n    this.selected = !this.selected;\n    if (!this.isSelected()) {\n      if (\n        !(this.source instanceof Text && this.source.frame?.isSelected()) &&\n        !(this.source instanceof Frame && this.source.isSelected())\n      ) {\n        setUnhoveredStyle(currentTarget, {\n          strokeWidth: this.getStrokeWidth()\n        });\n        this.ref.current.opacity = this.unhovered_opacity;\n      } else {\n        setHoveredStyle(currentTarget, {\n          strokeWidth: Number(Config.ArrowHoveredStrokeWidth) * this.unhovered_opacity\n        });\n        this.ref.current.opacity = this.hovered_opacity;\n      }\n    }\n  }\n  onMouseLeave(e: KonvaEventObject<MouseEvent>) {\n    setUnhoveredCursor(e.target);\n    if (!this.isSelected()) {\n      if (\n        (this.source instanceof Text && this.source.frame?.isSelected()) ||\n        (this.source instanceof Frame && this.source.isSelected())\n      ) {\n        setHoveredStyle(e.currentTarget, {\n          strokeWidth: Number(Config.ArrowHoveredStrokeWidth) * this.unhovered_opacity\n        });\n        this.ref.current.opacity = this.hovered_opacity;\n      } else {\n        setUnhoveredStyle(e.currentTarget, {\n          strokeWidth: this.getStrokeWidth()\n        });\n        this.ref.current.opacity = this.unhovered_opacity;\n      }\n    }\n  }\n  draw() {\n    const points = this.calculateSteps().reduce<Array<number>>(\n      (points, step) => [...points, ...step(points[points.length - 2], points[points.length - 1])],\n      [this.source.x(), this.source.y()]\n    );\n    points.splice(0, 2);\n\n    let path = '';\n    // starting point\n    path += `M ${points[0]} ${points[1]} `;\n    if (points.length === 4) {\n      // end the path if the line only has starting and ending coordinates\n      path += `L ${points[2]} ${points[3]} `;\n    } else {\n      let n = 0;\n      while (n < points.length - 4) {\n        const [xa, ya, xb, yb, xc, yc] = points.slice(n, n + 6);\n        const dx1 = (xb - xa) / 2;\n        const dx2 = (xc - xb) / 2;\n        const dy1 = (yb - ya) / 2;\n        const dy2 = (yc - yb) / 2;\n        const r1 = Math.sqrt(Math.pow(dx1, 2) + Math.pow(dy1, 2)) / 2;\n        const r2 = Math.sqrt(Math.pow(dx2, 2) + Math.pow(dy2, 2)) / 2;\n        const br = Math.min(Config.ArrowCornerRadius, r1, r2);\n        const x1 = xb - (br * dx1) / r1;\n        const y1 = yb - (br * dy1) / r1;\n        const x2 = xb + (br * dx2) / r2;\n        const y2 = yb + (br * dy2) / r2;\n\n        // draw quadratic curves over corners\n        path += `L ${x1} ${y1} Q ${xb} ${yb} ${x2} ${y2} `;\n        n += 2;\n      }\n    }\n    // end path\n    path += `L ${points[points.length - 2]} ${points[points.length - 1]} `;\n    this._path = path;\n    return (\n      <KonvaGroup\n        key={Layout.key++}\n        ref={this.ref}\n        onMouseEnter={e => this.onMouseEnter(e)}\n        onMouseLeave={e => this.onMouseLeave(e)}\n        onClick={e => this.onClick(e)}\n        opacity={this.unhovered_opacity}\n      >\n        <KonvaPath\n          {...ShapeDefaultProps}\n          stroke={\n            EnvVisualizer.getPrintableMode()\n              ? Config.SA_BLUE.toString()\n              : Config.SA_WHITE.toString()\n          }\n          strokeWidth={this.getStrokeWidth()}\n          hitStrokeWidth={Number(Config.ArrowHitStrokeWidth)}\n          data={path}\n          key={Layout.key++}\n        />\n        <KonvaArrow\n          {...ShapeDefaultProps}\n          points={points.slice(points.length - 4)}\n          fill={\n            EnvVisualizer.getPrintableMode()\n              ? Config.SA_BLUE.toString()\n              : Config.SA_WHITE.toString()\n          }\n          strokeEnabled={false}\n          pointerWidth={Number(Config.ArrowHeadSize)}\n          pointerLength={Number(Config.ArrowHeadSize)}\n          key={Layout.key++}\n        />\n      </KonvaGroup>\n    );\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\n\nimport { Config } from '../../EnvVisualizerConfig';\nimport { StepsArray } from '../../EnvVisualizerTypes';\nimport { setHoveredStyle, setUnhoveredStyle } from '../../EnvVisualizerUtils';\nimport { ArrowLane } from '../ArrowLane';\nimport { Frame } from '../Frame';\nimport { GenericArrow } from './GenericArrow';\n\n/** this class encapsulates an GenericArrow to be drawn between 2 points */\nexport class ArrowFromFrame extends GenericArrow<Frame, Frame> {\n  protected calculateSteps() {\n    const target = this.target;\n    if (!target) return [];\n\n    const steps: StepsArray = [(x, y) => [x + Config.FramePaddingX, y]];\n    const differentiateByParentFrame = true;\n    if (target instanceof Frame) {\n      // To differentiate frames pointing to different parent frames\n      if (differentiateByParentFrame) {\n        steps.push((x, y) => [\n          x,\n          ArrowLane.getHorizontalLaneAfterSource(target, y).getPosition(target)\n        ]);\n      } else {\n        steps.push((x, y) => [x, y - Config.FrameMarginY]);\n      }\n      steps.push((x, y) => [target.x() + Config.FramePaddingX, y]);\n    }\n\n    steps.push((x, y) => [target.x() + Config.FramePaddingX, target.y() + target.height()]);\n    return steps;\n  }\n\n  getStrokeWidth(): number {\n    return Number(Config.FrameArrowStrokeWidth);\n  }\n\n  onClick(e: KonvaEventObject<MouseEvent>) {\n    super.onClick(e);\n    setHoveredStyle(e.currentTarget, {\n      strokeWidth: Number(Config.FrameArrowHoveredStrokeWidth)\n    });\n  }\n\n  onMouseEnter(e: KonvaEventObject<MouseEvent>) {\n    super.onMouseEnter(e);\n    setHoveredStyle(e.currentTarget, {\n      strokeWidth: Number(Config.FrameArrowHoveredStrokeWidth)\n    });\n  }\n\n  onMouseLeave(e: KonvaEventObject<MouseEvent>) {\n    super.onMouseLeave(e);\n    if (this.isSelected() || (this.source as Frame).isSelected()) {\n      setHoveredStyle(e.currentTarget, {\n        strokeWidth: Number(Config.FrameArrowStrokeWidth)\n      });\n    } else {\n      setUnhoveredStyle(e.currentTarget, {\n        strokeWidth: Number(Config.FrameArrowStrokeWidth)\n      });\n    }\n  }\n}\n","import React, { RefObject } from 'react';\nimport { Rect } from 'react-konva';\n\nimport EnvVisualizer from '../EnvVisualizer';\nimport { Config, ShapeDefaultProps } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Data } from '../EnvVisualizerTypes';\nimport { ArrayValue } from './values/ArrayValue';\nimport { Visible } from './Visible';\n\n/** this classes encapsulates an empty array */\nexport class ArrayEmptyUnit extends Visible {\n  readonly value: null = null;\n\n  readonly data: Data = [];\n  ref: RefObject<any> = React.createRef();\n\n  constructor(readonly parent: ArrayValue) {\n    super();\n    this._x = this.parent.x();\n    this._y = this.parent.y();\n    this._height = this.parent.height();\n    this._width = this.parent.width();\n  }\n\n  updatePosition = () => {\n    this._x = this.parent.x();\n    this._y = this.parent.y();\n  };\n\n  draw(): React.ReactNode {\n    return (\n      <Rect\n        {...ShapeDefaultProps}\n        key={Layout.key++}\n        x={this.x()}\n        y={this.y()}\n        width={this.width()}\n        height={this.height()}\n        stroke={\n          EnvVisualizer.getPrintableMode() ? Config.SA_BLUE.toString() : Config.SA_WHITE.toString()\n        }\n        ref={this.ref}\n      />\n    );\n  }\n}\n","import { Config } from '../../EnvVisualizerConfig';\nimport { StepsArray } from '../../EnvVisualizerTypes';\nimport { ArrowLane } from '../ArrowLane';\nimport { Frame } from '../Frame';\nimport { FnValue } from '../values/FnValue';\nimport { GlobalFnValue } from '../values/GlobalFnValue';\nimport { GenericArrow } from './GenericArrow';\n\n/** this class encapsulates an GenericArrow to be drawn between 2 points */\nexport class ArrowFromFn extends GenericArrow<FnValue | GlobalFnValue, Frame> {\n  protected calculateSteps() {\n    const source = this.source;\n    const target = this.target;\n    if (!target) return [];\n\n    const steps: StepsArray = [(x, y) => [x + Config.FnRadius * 3, y]];\n\n    if (target.y() < source.y() && source.y() < target.y() + target.height()) {\n      steps.push((x, y) => [x, y - Config.FnRadius * 2]);\n      steps.push((x, y) => [target.x() + (source.x() < target.x() ? 0 : target.width()), y]);\n    } else {\n      steps.push((x, y) => [x, y - Config.FnRadius * 2]);\n      steps.push((x, y) => [\n        ArrowLane.getVerticalLaneBeforeTarget(source, x).getPosition(source),\n        y\n      ]);\n      steps.push((x, y) => [\n        x,\n        ArrowLane.getHorizontalLaneBeforeTarget(target, y).getPosition(target)\n      ]);\n      steps.push((x, y) => [target.x() + (target.x() < x ? target.width() : 0), y]);\n      steps.push((x, y) => [x, target.y() + (target.y() < source.y() ? target.height() : 0)]);\n    }\n\n    return steps;\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React from 'react';\n\nimport { Data, IHoverable, ReferenceType } from '../../EnvVisualizerTypes';\nimport { Visible } from '../Visible';\n\n/** the value of a `Binding` or an `ArrayUnit` */\nexport abstract class Value extends Visible implements IHoverable {\n  abstract onMouseEnter(e: KonvaEventObject<MouseEvent>): void;\n  abstract onMouseLeave(e: KonvaEventObject<MouseEvent>): void;\n\n  /** draw logic */\n  abstract draw(key?: number): React.ReactNode;\n  /** add reference (binding / array unit) to this value */\n  addReference(newReference: ReferenceType): void {\n    this.referencedBy.push(newReference);\n  }\n  abstract updatePosition(pos?: { x: number; y: number }): void;\n\n  /** references to this value */\n  abstract referencedBy: ReferenceType[];\n  /** the underlying data of this value */\n  abstract readonly data: Data;\n}\n","import { Environment } from 'Clang-slang/dist/types';\nimport { KonvaEventObject } from 'konva/lib/Node';\nimport React, { RefObject } from 'react';\nimport {\n  Circle,\n  Group,\n  Label as KonvaLabel,\n  Tag as KonvaTag,\n  Text as KonvaText\n} from 'react-konva';\n\nimport EnvVisualizer from '../../EnvVisualizer';\nimport { Config, ShapeDefaultProps } from '../../EnvVisualizerConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { EnvTreeNode, FnTypes, IHoverable, ReferenceType } from '../../EnvVisualizerTypes';\nimport {\n  getBodyText,\n  getNonEmptyEnv,\n  getParamsText,\n  getTextWidth,\n  setHoveredStyle,\n  setUnhoveredStyle\n} from '../../EnvVisualizerUtils';\nimport { ArrowFromFn } from '../arrows/ArrowFromFn';\nimport { GenericArrow } from '../arrows/GenericArrow';\nimport { Binding } from '../Binding';\nimport { Frame } from '../Frame';\nimport { GlobalFnValue } from './GlobalFnValue';\nimport { Value } from './Value';\n\n/** this class encapsulates a JS Slang function (not from the global frame) that\n *  contains extra props such as environment and fnName */\nexport class FnValue extends Value implements IHoverable {\n  centerX: number;\n  readonly tooltipWidth: number;\n  readonly exportTooltipWidth: number;\n  readonly radius: number = Config.FnRadius;\n  readonly innerRadius: number = Config.FnInnerRadius;\n\n  /** name of this function */\n  readonly fnName: string;\n  readonly paramsText: string;\n  readonly bodyText: string;\n  readonly exportBodyText: string;\n  readonly tooltip: string;\n  readonly exportTooltip: string;\n  private selected: boolean = false;\n  private _arrow: GenericArrow<FnValue | GlobalFnValue, Frame> | undefined;\n\n  /** the parent/enclosing environment of this fn value */\n  readonly enclosingEnvNode: EnvTreeNode;\n  readonly ref: RefObject<any> = React.createRef();\n  readonly labelRef: RefObject<any> = React.createRef();\n\n  constructor(\n    /** underlying JS Slang function (contains extra props) */\n    readonly data: FnTypes,\n    /** what this value is being referenced by */\n    readonly referencedBy: ReferenceType[]\n  ) {\n    super();\n    Layout.memoizeValue(this);\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.frame.x() + mainReference.frame.width() + Config.FrameMarginX / 4;\n      this._y = mainReference.y();\n      this.centerX = this._x + this.radius * 2;\n    } else {\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + Config.DataUnitWidth * 2;\n        this._y = mainReference.y() + Config.DataUnitHeight / 2 - this.radius;\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + Config.DataUnitHeight;\n      }\n      this.centerX = this._x + Config.DataUnitWidth / 2;\n      this._x = this.centerX - this.radius * 2;\n    }\n    this._y += this.radius;\n\n    this._width = this.radius * 4;\n    this._height = this.radius * 2;\n\n    this.enclosingEnvNode = Layout.environmentTree.getTreeNode(\n      getNonEmptyEnv(this.data.environment) as Environment\n    ) as EnvTreeNode;\n    this.fnName = this.data.functionName;\n\n    this.paramsText = `params: (${getParamsText(this.data)})`;\n    this.bodyText = `body: ${getBodyText(this.data)}`;\n    this.exportBodyText =\n      (this.bodyText.length > 23 ? this.bodyText.slice(0, 20) : this.bodyText)\n        .split('\\n')\n        .slice(0, 2)\n        .join('\\n') + ' ...';\n    this.tooltip = `${this.paramsText}\\n${this.bodyText}`;\n    this.exportTooltip = `${this.paramsText}\\n${this.exportBodyText}`;\n    this.tooltipWidth = Math.max(getTextWidth(this.paramsText), getTextWidth(this.bodyText));\n    this.exportTooltipWidth = Math.max(\n      getTextWidth(this.paramsText),\n      getTextWidth(this.exportBodyText)\n    );\n  }\n\n  isSelected(): boolean {\n    return this.selected;\n  }\n  arrow(): GenericArrow<FnValue | GlobalFnValue, Frame> | undefined {\n    return this._arrow;\n  }\n  updatePosition(): void {\n    const mainReference =\n      this.referencedBy.find(\n        x => x instanceof Binding && (x as Binding).frame.envTreeNode === this.enclosingEnvNode\n      ) || this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.frame.x() + mainReference.frame.width() + Config.FrameMarginX / 4;\n      this._y = mainReference.y();\n      this.centerX = this._x + this.radius * 2;\n    } else {\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + Config.DataUnitWidth * 2;\n        this._y = mainReference.y() + Config.DataUnitHeight / 2 - this.radius;\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + Config.DataUnitHeight;\n      }\n      this.centerX = this._x + Config.DataUnitWidth / 2;\n      this._x = this.centerX - this.radius * 2;\n    }\n    this._y += this.radius;\n  }\n  reset(): void {\n    super.reset();\n    this.referencedBy.length = 0;\n  }\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    this.labelRef.current.moveToTop();\n    this.labelRef.current.show();\n    setHoveredStyle(currentTarget);\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    if (!this.selected) {\n      this.labelRef.current.hide();\n      setUnhoveredStyle(currentTarget);\n    } else {\n      const container = currentTarget.getStage()?.container();\n      container && (container.style.cursor = 'default');\n    }\n  };\n  onClick = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    this.selected = !this.selected;\n    if (!this.selected) {\n      this.labelRef.current.hide();\n      setUnhoveredStyle(currentTarget);\n    } else {\n      this.labelRef.current.show();\n      setHoveredStyle(currentTarget);\n    }\n  };\n\n  draw(): React.ReactNode {\n    this._isDrawn = true;\n    this._arrow =\n      this.enclosingEnvNode.frame && new ArrowFromFn(this).to(this.enclosingEnvNode.frame);\n    return (\n      <React.Fragment key={Layout.key++}>\n        <Group\n          onMouseEnter={e => this.onMouseEnter(e)}\n          onMouseLeave={e => this.onMouseLeave(e)}\n          onClick={e => this.onClick(e)}\n          ref={this.ref}\n        >\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX - this.radius}\n            y={this.y()}\n            radius={this.radius}\n            stroke={\n              EnvVisualizer.getPrintableMode()\n                ? Config.SA_BLUE.toString()\n                : Config.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX - this.radius}\n            y={this.y()}\n            radius={this.innerRadius}\n            fill={\n              EnvVisualizer.getPrintableMode()\n                ? Config.SA_BLUE.toString()\n                : Config.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX + this.radius}\n            y={this.y()}\n            radius={this.radius}\n            stroke={\n              EnvVisualizer.getPrintableMode()\n                ? Config.SA_BLUE.toString()\n                : Config.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX + this.radius}\n            y={this.y()}\n            radius={this.innerRadius}\n            fill={\n              EnvVisualizer.getPrintableMode()\n                ? Config.SA_BLUE.toString()\n                : Config.SA_WHITE.toString()\n            }\n          />\n        </Group>\n        {EnvVisualizer.getPrintableMode() ? (\n          <KonvaLabel\n            x={this.x() + this.width() + Config.TextPaddingX * 2}\n            y={this.y() - Config.TextPaddingY}\n            visible={true}\n            ref={this.labelRef}\n          >\n            <KonvaTag stroke=\"black\" fill={'white'} opacity={Number(Config.FnTooltipOpacity)} />\n            <KonvaText\n              text={this.exportTooltip}\n              fontFamily={Config.FontFamily.toString()}\n              fontSize={Number(Config.FontSize)}\n              fontStyle={Config.FontStyle.toString()}\n              fill={Config.SA_BLUE.toString()}\n              padding={5}\n            />\n          </KonvaLabel>\n        ) : (\n          <KonvaLabel\n            x={this.x() + this.width() + Config.TextPaddingX * 2}\n            y={this.y() - Config.TextPaddingY}\n            visible={false}\n            ref={this.labelRef}\n          >\n            <KonvaTag stroke=\"black\" fill={'black'} opacity={Number(Config.FnTooltipOpacity)} />\n            <KonvaText\n              text={this.tooltip}\n              fontFamily={Config.FontFamily.toString()}\n              fontSize={Number(Config.FontSize)}\n              fontStyle={Config.FontStyle.toString()}\n              fill={Config.SA_WHITE.toString()}\n              padding={5}\n            />\n          </KonvaLabel>\n        )}\n        {this._arrow?.draw()}\n      </React.Fragment>\n    );\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React, { RefObject } from 'react';\nimport {\n  Circle,\n  Group,\n  Label as KonvaLabel,\n  Tag as KonvaTag,\n  Text as KonvaText\n} from 'react-konva';\n\nimport EnvVisualizer from '../../EnvVisualizer';\nimport { Config, ShapeDefaultProps } from '../../EnvVisualizerConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { ReferenceType } from '../../EnvVisualizerTypes';\nimport {\n  getBodyText,\n  getParamsText,\n  getTextWidth,\n  setHoveredStyle,\n  setUnhoveredStyle\n} from '../../EnvVisualizerUtils';\nimport { ArrowFromFn } from '../arrows/ArrowFromFn';\nimport { GenericArrow } from '../arrows/GenericArrow';\nimport { Binding } from '../Binding';\nimport { Frame } from '../Frame';\nimport { FnValue } from './FnValue';\nimport { Value } from './Value';\n\n/** this encapsulates a function from the global frame\n * (which has no extra props such as environment or fnName) */\nexport class GlobalFnValue extends Value {\n  centerX: number;\n  readonly tooltipWidth: number;\n  readonly exportTooltipWidth: number;\n  readonly radius: number = Config.FnRadius;\n  readonly innerRadius: number = Config.FnInnerRadius;\n  private _arrow: GenericArrow<FnValue | GlobalFnValue, Frame> | undefined;\n\n  readonly paramsText: string;\n  readonly bodyText: string;\n  readonly exportBodyText: string;\n  readonly tooltip: string;\n  readonly exportTooltip: string;\n  private selected: boolean = false;\n\n  readonly ref: RefObject<any> = React.createRef();\n  readonly labelRef: RefObject<any> = React.createRef();\n\n  constructor(\n    /** underlying function */\n    readonly data: () => any,\n    /** what this value is being referenced by */\n    readonly referencedBy: ReferenceType[]\n  ) {\n    super();\n    Layout.memoizeValue(this);\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.frame.x() + mainReference.frame.width() + Config.FrameMarginX / 4;\n      this._y = mainReference.y();\n      this.centerX = this._x + this.radius * 2;\n    } else {\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + Config.DataUnitWidth * 2;\n        this._y = mainReference.y() + Config.DataUnitHeight / 2 - this.radius;\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + Config.DataUnitHeight;\n      }\n      this.centerX = this._x + Config.DataUnitWidth / 2;\n      this._x = this.centerX - this.radius * 2;\n    }\n    this._y += this.radius;\n\n    this._width = this.radius * 4;\n    this._height = this.radius * 2;\n\n    this.paramsText = `params: ${getParamsText(this.data)}`;\n    this.bodyText = `body: ${getBodyText(this.data)}`;\n    this.exportBodyText =\n      (this.bodyText.length > 23 ? this.bodyText.slice(0, 20) : this.bodyText)\n        .split('\\n')\n        .slice(0, 2)\n        .join('\\n') + ' ...';\n    this.tooltip = `${this.paramsText}\\n${this.bodyText}`;\n    this.exportTooltip = `${this.paramsText}\\n${this.exportBodyText}`;\n    this.tooltipWidth =\n      Math.max(getTextWidth(this.paramsText), getTextWidth(this.bodyText)) + Config.TextPaddingX;\n    this.exportTooltipWidth = Math.max(\n      getTextWidth(this.paramsText),\n      getTextWidth(this.exportBodyText)\n    );\n  }\n\n  isSelected(): boolean {\n    return this.selected;\n  }\n  arrow(): GenericArrow<FnValue | GlobalFnValue, Frame> | undefined {\n    return this._arrow;\n  }\n\n  updatePosition(): void {\n    const mainReference = this.referencedBy.find(x => x instanceof Binding) || this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.frame.x() + mainReference.frame.width() + Config.FrameMarginX / 4;\n      this._y = mainReference.y();\n      this.centerX = this._x + this.radius * 2;\n    } else {\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + Config.DataUnitWidth * 2;\n        this._y = mainReference.y() + Config.DataUnitHeight / 2 - this.radius;\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + Config.DataUnitHeight;\n      }\n      this.centerX = this._x + Config.DataUnitWidth / 2;\n      this._x = this.centerX - this.radius * 2;\n    }\n    this._y += this.radius;\n  }\n\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    this.labelRef.current.show();\n    setHoveredStyle(currentTarget);\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    if (!this.selected) {\n      this.labelRef.current.hide();\n      setUnhoveredStyle(currentTarget);\n    } else {\n      const container = currentTarget.getStage()?.container();\n      container && (container.style.cursor = 'default');\n    }\n  };\n  onClick = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    this.selected = !this.selected;\n    if (!this.selected) {\n      this.labelRef.current.hide();\n      setUnhoveredStyle(currentTarget);\n    } else {\n      this.labelRef.current.show();\n      setHoveredStyle(currentTarget);\n    }\n  };\n\n  draw(): React.ReactNode {\n    this._isDrawn = true;\n    this._arrow =\n      Layout.globalEnvNode.frame && new ArrowFromFn(this).to(Layout.globalEnvNode.frame);\n    return (\n      <React.Fragment key={Layout.key++}>\n        <Group\n          onMouseEnter={e => this.onMouseEnter(e)}\n          onMouseLeave={e => this.onMouseLeave(e)}\n          onClick={e => this.onClick(e)}\n          ref={this.ref}\n        >\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX - this.radius}\n            y={this.y()}\n            radius={this.radius}\n            stroke={\n              EnvVisualizer.getPrintableMode()\n                ? Config.SA_BLUE.toString()\n                : Config.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX - this.radius}\n            y={this.y()}\n            radius={this.innerRadius}\n            fill={\n              EnvVisualizer.getPrintableMode()\n                ? Config.SA_BLUE.toString()\n                : Config.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX + this.radius}\n            y={this.y()}\n            radius={this.radius}\n            stroke={\n              EnvVisualizer.getPrintableMode()\n                ? Config.SA_BLUE.toString()\n                : Config.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX + this.radius}\n            y={this.y()}\n            radius={this.innerRadius}\n            fill={\n              EnvVisualizer.getPrintableMode()\n                ? Config.SA_BLUE.toString()\n                : Config.SA_WHITE.toString()\n            }\n          />\n        </Group>\n        {EnvVisualizer.getPrintableMode() ? (\n          <KonvaLabel\n            x={this.x() + this.width() + Config.TextPaddingX * 2}\n            y={this.y() - Config.TextPaddingY}\n            visible={true}\n            ref={this.labelRef}\n          >\n            <KonvaTag stroke=\"black\" fill={'white'} opacity={Number(Config.FnTooltipOpacity)} />\n            <KonvaText\n              text={this.exportTooltip}\n              fontFamily={Config.FontFamily.toString()}\n              fontSize={Number(Config.FontSize)}\n              fontStyle={Config.FontStyle.toString()}\n              fill={Config.SA_BLUE.toString()}\n              padding={5}\n            />\n          </KonvaLabel>\n        ) : (\n          <KonvaLabel\n            x={this.x() + this.width() + Config.TextPaddingX * 2}\n            y={this.y() - Config.TextPaddingY}\n            visible={false}\n            ref={this.labelRef}\n          >\n            <KonvaTag stroke=\"black\" fill={'black'} opacity={Number(Config.FnTooltipOpacity)} />\n            <KonvaText\n              text={this.tooltip}\n              fontFamily={Config.FontFamily.toString()}\n              fontSize={Number(Config.FontSize)}\n              fontStyle={Config.FontStyle.toString()}\n              fill={Config.SA_WHITE.toString()}\n              padding={5}\n            />\n          </KonvaLabel>\n        )}\n        {this._arrow?.draw()}\n      </React.Fragment>\n    );\n  }\n}\n","import { Config } from '../../EnvVisualizerConfig';\nimport { IVisible, StepsArray } from '../../EnvVisualizerTypes';\nimport { ArrayUnit } from '../ArrayUnit';\nimport { ArrowLane } from '../ArrowLane';\nimport { ArrayValue } from '../values/ArrayValue';\nimport { FnValue } from '../values/FnValue';\nimport { GlobalFnValue } from '../values/GlobalFnValue';\nimport { Value } from '../values/Value';\nimport { GenericArrow } from './GenericArrow';\n\n/** this class encapsulates an GenericArrow to be drawn between 2 points */\nexport class ArrowFromArrayUnit extends GenericArrow<ArrayUnit, Value> {\n  private static emergeFromTopOrBottom(steps: StepsArray, from: ArrayUnit, to: IVisible) {\n    // Move up if target above source or to the right with same vertical position.\n    // Moves up slightly more if target is to the right.\n    steps.push((x, y) => [\n      x,\n      y +\n        (to.y() > from.y() || (to.y() === from.y() && to.x() <= from.x()) ? 0.9 : -0.9) *\n          Config.DataUnitHeight\n    ]);\n  }\n  protected calculateSteps() {\n    const source = this.source as ArrayUnit;\n    const target = this.target;\n    if (!target) return [];\n\n    const steps: StepsArray = [\n      (x, y) => [x + Config.DataUnitWidth / 2, y + Config.DataUnitHeight / 2]\n    ];\n    if (target instanceof FnValue || target instanceof GlobalFnValue) {\n      if (Math.abs(target.y() - source.y()) < Config.DataUnitHeight * 2) {\n        ArrowFromArrayUnit.emergeFromTopOrBottom(steps, source, target);\n\n        steps.push(() => [target.centerX + Config.FnRadius * 2 + Config.FnRadius, target.y()]);\n        steps.push((x, y) => [x - Config.FnRadius, y]);\n      } else {\n        steps.push(() => [target.centerX + Config.FnRadius * 2, target.y()]);\n      }\n    } else if (target instanceof ArrayValue) {\n      if (source.parent === target) {\n        steps.push((x, y) => [x, y - (Config.DataUnitHeight * 3) / 4]);\n        steps.push((x, y) => [x + Config.DataUnitHeight / 3, y]);\n        steps.push((x, y) => [x, y + Config.DataUnitHeight / 4]);\n      } else if (\n        source.isLastUnit &&\n        target.x() - source.x() <= Config.DataUnitWidth * 3 &&\n        target.x() > source.x() &&\n        target.level === source.parent.level\n      ) {\n        // pointing to next element in list.\n        steps.push(() => [target.x(), target.y() + Config.DataUnitHeight / 2]);\n      } else {\n        ArrowFromArrayUnit.emergeFromTopOrBottom(steps, source, target);\n\n        const potentialVerticalLaneX = ArrowLane.getVerticalLaneAfterSource(\n          target,\n          source.x()\n        ).getPosition(target);\n        // move to vertical lane only if lane exists between source and target\n        if ((potentialVerticalLaneX - source.x()) * (potentialVerticalLaneX - target.x()) < 0) {\n          steps.push((x, y) => [potentialVerticalLaneX, y]);\n        }\n        // move to horizontal lane only if lane exists between source and target\n        const potentialHorizontalLaneY = ArrowLane.getHorizontalLaneBeforeTarget(\n          target,\n          source.y()\n        ).getPosition(target);\n        if ((potentialHorizontalLaneY - source.y()) * (potentialHorizontalLaneY - target.y()) < 0) {\n          steps.push((x, y) => {\n            return (potentialHorizontalLaneY - y) * (potentialHorizontalLaneY - target.y()) > 0\n              ? [x, y]\n              : [x, ArrowLane.getHorizontalLaneBeforeTarget(target, y).getPosition(target)];\n          });\n        }\n\n        // Move to x position closer to array on horizontal lane\n        steps.push((x, y) => {\n          let newX: number;\n          let yDiff = target.y() + Config.DataUnitHeight / 2 - y;\n          const newY =\n            target.y() + Config.DataUnitHeight / 2 - (Math.sign(yDiff) * Config.DataUnitHeight) / 2;\n          yDiff = newY - y;\n          if (x < target.x() - Config.DataUnitWidth) {\n            // move right up to the point diagonally to the left of the start of the array.\n            newX = Math.max(x + Config.DataUnitWidth, target.x() - Math.abs(yDiff));\n          } else if (\n            x >=\n            target.x() + target.units.length * Config.DataUnitWidth + Config.DataUnitWidth\n          ) {\n            // move left up to the point diagonally to the right of the end of the array.\n            newX = target.x() + target.units.length * Config.DataUnitWidth;\n            newX = Math.min(x - Config.DataUnitWidth, newX + Math.abs(yDiff));\n          } else {\n            // if current point of arrow is somewhere above / below array, move halfway to corner of some arrayunit.\n            if (x < target.x()) {\n              newX = target.x();\n            } else if (\n              x >=\n              target.x() + target.units.length * Config.DataUnitWidth + Config.DataUnitWidth\n            ) {\n              newX = target.x() + target.units.length * Config.DataUnitWidth + Config.DataUnitWidth;\n            } else {\n              const index = Math.floor((x - target.x()) / Config.DataUnitWidth);\n              newX = target.x() + Config.DataUnitWidth * index;\n            }\n            return [(x + newX) / 2, (y + newY) / 2];\n          }\n          return [newX, y];\n        });\n        // Move to corner of some arrayunit.\n        steps.push((x, y) => {\n          const index = Math.floor((x - target.x()) / Config.DataUnitWidth);\n          const yDiff = target.y() + Config.DataUnitHeight / 2 - y;\n          const newY =\n            target.y() + Config.DataUnitHeight / 2 - (Math.sign(yDiff) * Config.DataUnitHeight) / 2;\n          if (x < target.x()) {\n            return [target.x(), newY];\n          } else if (x >= target.x() + target.units.length * Config.DataUnitWidth) {\n            return [target.x() + target.units.length * Config.DataUnitWidth, newY];\n          } else {\n            return [target.x() + Config.DataUnitWidth * index, newY];\n          }\n        });\n      }\n    } else {\n      // this shouldn't happen.\n      steps.push(() => [target.x(), target.y()]);\n    }\n    return steps;\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React, { RefObject } from 'react';\nimport { Shape } from 'react-konva';\n\nimport { ShapeDefaultProps } from '../../EnvVisualizerConfig';\n\ninterface Props {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  cornerRadius: { upperLeft: number; lowerLeft: number; upperRight: number; lowerRight: number };\n  stroke: string;\n  fillEnabled: boolean;\n  hitStrokeWidth: number;\n  forwardRef: RefObject<any>;\n  onMouseEnter?: ({ currentTarget }: KonvaEventObject<MouseEvent>) => void;\n  onMouseLeave?: ({ currentTarget }: KonvaEventObject<MouseEvent>) => void;\n  onClick?: ({ currentTarget }: KonvaEventObject<MouseEvent>) => void;\n}\n\n/**\n * Represents Rectangle with rounded corners, for boundary of arrays (compact and non-compact).\n */\nexport const RoundedRect: React.FC<Props> = ({\n  x,\n  y,\n  width,\n  height,\n  cornerRadius,\n  forwardRef,\n  ...props\n}) => {\n  return (\n    <Shape\n      sceneFunc={(context, shape) => {\n        const { upperLeft, lowerLeft, upperRight, lowerRight } = cornerRadius;\n        context.beginPath();\n        context.moveTo(x + upperLeft, y);\n        context.lineTo(x + width - upperRight, y);\n        context.quadraticCurveTo(x + width, y, x + width, y + upperRight);\n        context.lineTo(x + width, y + height - lowerRight);\n        context.quadraticCurveTo(x + width, y + height, x + width - lowerRight, y + height);\n        context.lineTo(x + lowerLeft, y + height);\n        context.quadraticCurveTo(x, y + height, x, y + height - lowerLeft);\n        context.lineTo(x, y + upperLeft);\n        context.quadraticCurveTo(x, y, x + upperLeft, y);\n        context.closePath();\n        // (!) Konva specific method, it is very important\n        context.fillStrokeShape(shape);\n      }}\n      {...ShapeDefaultProps}\n      ref={forwardRef}\n      {...props}\n    />\n  );\n};\n","import React from 'react';\nimport { Line as KonvaLine } from 'react-konva';\n\nimport EnvVisualizer from '../EnvVisualizer';\nimport { Config, ShapeDefaultProps } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { ReferenceType } from '../EnvVisualizerTypes';\nimport { Visible } from './Visible';\n\n/** this classes encapsulates a null value in Source pairs or arrays */\nexport class ArrayNullUnit extends Visible {\n  arrayUnit: ReferenceType;\n  referencedBy: ReferenceType[];\n\n  constructor(referencedBy: ReferenceType[]) {\n    super();\n    this.referencedBy = referencedBy;\n    this.arrayUnit = referencedBy[0];\n    this._x = this.arrayUnit.x();\n    this._y = this.arrayUnit.y();\n    this._height = this.arrayUnit.height();\n    this._width = this.arrayUnit.width();\n  }\n\n  updatePosition = () => {\n    this._x = this.arrayUnit.x();\n    this._y = this.arrayUnit.y();\n  };\n\n  draw(): React.ReactNode {\n    return (\n      <KonvaLine\n        {...ShapeDefaultProps}\n        key={Layout.key++}\n        points={[this.x(), this.y() + this.height(), this.x() + this.width(), this.y()]}\n        stroke={\n          EnvVisualizer.getPrintableMode() ? Config.SA_BLUE.toString() : Config.SA_WHITE.toString()\n        }\n        hitStrokeWidth={Number(Config.DataHitStrokeWidth)}\n        ref={this.ref}\n        listening={false}\n      />\n    );\n  }\n}\n","import React from 'react';\n\nimport { Config } from '../../EnvVisualizerConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { PrimitiveTypes, ReferenceType } from '../../EnvVisualizerTypes';\nimport { getTextWidth, isNull } from '../../EnvVisualizerUtils';\nimport { ArrayNullUnit } from '../ArrayNullUnit';\nimport { Binding } from '../Binding';\nimport { Text } from '../Text';\nimport { Value } from './Value';\n\n/** this classes encapsulates a primitive value in Source: number, string or null */\nexport class PrimitiveValue extends Value {\n  /** the text to be rendered */\n  readonly text: Text | ArrayNullUnit;\n\n  constructor(\n    /** data */\n    readonly data: PrimitiveTypes,\n    /** what this value is being referenced by */\n    readonly referencedBy: ReferenceType[]\n  ) {\n    super();\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.x() + getTextWidth(mainReference.keyString) + Config.TextPaddingX;\n      this._y = mainReference.y();\n      this.text = new Text(this.data, this._x, this._y, { isStringIdentifiable: true });\n    } else {\n      const maxWidth = mainReference.width();\n      const textWidth = Math.min(getTextWidth(String(this.data)), maxWidth);\n      this._x = mainReference.x() + (mainReference.width() - textWidth) / 2;\n      this._y = mainReference.y() + (mainReference.height() - Config.FontSize) / 2;\n      this.text = isNull(this.data)\n        ? new ArrayNullUnit([mainReference])\n        : new Text(this.data, this.x(), this.y(), {\n            maxWidth: maxWidth,\n            isStringIdentifiable: true\n          });\n    }\n\n    this._width = this.text.width();\n    this._height = this.text.height();\n  }\n\n  reset(): void {\n    super.reset();\n    this.referencedBy.length = 0;\n  }\n  updatePosition = () => {\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.x() + getTextWidth(mainReference.keyString) + Config.TextPaddingX;\n      this._y = mainReference.y();\n    } else {\n      const maxWidth = mainReference.width();\n      const textWidth = Math.min(getTextWidth(String(this.data)), maxWidth);\n      this._x = mainReference.x() + (mainReference.width() - textWidth) / 2;\n      this._y = mainReference.y() + (mainReference.height() - Config.FontSize) / 2;\n    }\n    this.text instanceof Text\n      ? this.text.updatePosition(this.x(), this.y())\n      : this.text.updatePosition();\n  };\n  onMouseEnter(): void {}\n  onMouseLeave(): void {}\n\n  draw(): React.ReactNode {\n    this._isDrawn = true;\n    return <React.Fragment key={Layout.key++}>{this.text.draw()}</React.Fragment>;\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React from 'react';\n\nimport EnvVisualizer from '../EnvVisualizer';\nimport { Config } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Data } from '../EnvVisualizerTypes';\nimport { setHoveredStyle, setUnhoveredStyle } from '../EnvVisualizerUtils';\nimport { ArrowFromArrayUnit } from './arrows/ArrowFromArrayUnit';\nimport { GenericArrow } from './arrows/GenericArrow';\nimport { RoundedRect } from './shapes/RoundedRect';\nimport { ArrayValue } from './values/ArrayValue';\nimport { FnValue } from './values/FnValue';\nimport { GlobalFnValue } from './values/GlobalFnValue';\nimport { PrimitiveValue } from './values/PrimitiveValue';\nimport { Value } from './values/Value';\nimport { Visible } from './Visible';\n\n/** this class encapsulates a single unit (box) of array to be rendered.\n *  this unit is part of an ArrayValue */\nexport class ArrayUnit extends Visible {\n  readonly value: Value;\n\n  /** check if this is the first unit in the array */\n  readonly isFirstUnit: boolean;\n  /** check if this is the last unit in the array */\n  readonly isLastUnit: boolean;\n  /** check if this unit is the main reference of the value */\n  readonly isMainReference: boolean;\n  /** check if the value is already drawn */\n\n  parent: ArrayValue;\n  arrow: GenericArrow<ArrayUnit, Value> | undefined = undefined;\n\n  constructor(\n    /** index of this unit in its parent */\n    readonly idx: number,\n    /** the value this unit contains*/\n    readonly data: Data,\n    /** parent of this unit */\n    parent: ArrayValue\n  ) {\n    super();\n    this.parent = parent;\n    this._x = this.parent.x() + this.idx * Config.DataUnitWidth;\n    this._y = this.parent.y();\n    this._height = Config.DataUnitHeight;\n    this._width = Config.DataUnitWidth;\n    this.isFirstUnit = this.idx === 0;\n    this.isLastUnit = this.idx === this.parent.data.length - 1;\n    this.value = Layout.createValue(this.data, this);\n    this.isMainReference = this.value.referencedBy.length > 1;\n  }\n\n  updatePosition = () => {\n    this._x = this.parent.x() + this.idx * Config.DataUnitWidth;\n    this._y = this.parent.y();\n    this.value instanceof PrimitiveValue && this.value.updatePosition();\n  };\n\n  onMouseEnter = () => {\n    this.parent.units.forEach(u => {\n      setHoveredStyle(u.ref.current);\n    });\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (!this.parent.isSelected()) {\n      this.parent.units.forEach(u => {\n        setUnhoveredStyle(u.ref.current);\n      });\n    } else {\n      const container = currentTarget.getStage()?.container();\n      container && (container.style.cursor = 'default');\n    }\n  };\n\n  onClick = () => {\n    this.parent.onClick();\n  };\n\n  draw(): React.ReactNode {\n    if (this._isDrawn) return null;\n    this._isDrawn = true;\n\n    const cornerRadius = {\n      upperLeft: 0,\n      lowerLeft: 0,\n      upperRight: 0,\n      lowerRight: 0\n    };\n\n    if (this.isFirstUnit)\n      cornerRadius.upperLeft = cornerRadius.lowerLeft = Number(Config.DataCornerRadius);\n    if (this.isLastUnit)\n      cornerRadius.upperRight = cornerRadius.lowerRight = Number(Config.DataCornerRadius);\n    if (!(this.value instanceof PrimitiveValue)) {\n      this.arrow = new ArrowFromArrayUnit(this).to(this.value);\n      this.parent.addArrow(this.arrow);\n      if (this.value instanceof ArrayValue) {\n        this.value.addArrow(this.arrow);\n      }\n    }\n\n    return (\n      <React.Fragment key={Layout.key++}>\n        <RoundedRect\n          key={Layout.key++}\n          x={this.x()}\n          y={this.y()}\n          width={this.width()}\n          height={this.height()}\n          stroke={\n            EnvVisualizer.getPrintableMode()\n              ? Config.SA_BLUE.toString()\n              : Config.SA_WHITE.toString()\n          }\n          hitStrokeWidth={Number(Config.DataHitStrokeWidth)}\n          fillEnabled={false}\n          forwardRef={this.ref}\n          cornerRadius={cornerRadius}\n          onClick={this.onClick}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n        />\n        {!(this.value instanceof FnValue || this.value instanceof GlobalFnValue) &&\n          this.value.draw()}\n        {this.arrow && this.arrow.draw()}\n      </React.Fragment>\n    );\n  }\n}\n","import React, { RefObject } from 'react';\nimport { Group, Rect } from 'react-konva';\n\nimport { Config } from '../../EnvVisualizerConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { Data, ReferenceType } from '../../EnvVisualizerTypes';\nimport { setUnhoveredStyle } from '../../EnvVisualizerUtils';\nimport { ArrayEmptyUnit } from '../ArrayEmptyUnit';\nimport { ArrayLevel } from '../ArrayLevel';\nimport { ArrayUnit } from '../ArrayUnit';\nimport { ArrowFromText } from '../arrows/ArrowFromText';\nimport { GenericArrow } from '../arrows/GenericArrow';\nimport { Binding } from '../Binding';\nimport { Text } from '../Text';\nimport { Value } from './Value';\n\n/** this class encapsulates an array value in source,\n *  defined as a JS array with not 2 elements */\nexport class ArrayValue extends Value {\n  /** array of units this array is made of */\n  units: ArrayUnit[] = [];\n  private emptyUnit: ArrayEmptyUnit | undefined = undefined;\n  level: ArrayLevel | undefined;\n  private _arrows: (GenericArrow<Text, ArrayValue> | GenericArrow<ArrayUnit, Value>)[] = [];\n  private selected: boolean = false;\n  ref: RefObject<any> = React.createRef();\n  parentArray: ArrayValue | undefined = undefined;\n  arrayLevelY: number = -1;\n\n  constructor(\n    /** underlying values this array contains */\n    readonly data: Data[],\n    /** what this value is being referenced by */\n    readonly referencedBy: ReferenceType[]\n  ) {\n    super();\n    Layout.memoizeValue(this);\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.frame.x() + mainReference.frame.width() + Config.FrameMarginX;\n      this._y = mainReference.y();\n    } else {\n      this.parentArray = mainReference.parent;\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + Config.DataUnitWidth * 2;\n        this._y = mainReference.y();\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + Config.DataUnitHeight;\n      }\n    }\n\n    this._width = this.data.length * Config.DataUnitWidth + Config.DataMinWidth;\n    this._height = Config.DataUnitHeight;\n\n    // initialize array units from the last index\n    for (let i = this.data.length - 1; i >= 0; i--) {\n      const unit = new ArrayUnit(i, this.data[i], this);\n      this.units = [unit, ...this.units];\n    }\n  }\n  onMouseEnter(): void {}\n  onMouseLeave(): void {}\n  isSelected(): boolean {\n    return this.selected;\n  }\n  arrows(): (GenericArrow<Text, ArrayValue> | GenericArrow<ArrayUnit, Value>)[] {\n    return this._arrows;\n  }\n  reset(): void {\n    super.reset();\n    this.units.map(x => x.reset());\n    this.referencedBy.length = 0;\n    this._arrows = [];\n  }\n\n  onClick = () => {\n    this.selected = !this.selected;\n    if (!this.selected) {\n      this.units.forEach(u => {\n        setUnhoveredStyle(u.ref.current);\n      });\n      this.emptyUnit && setUnhoveredStyle(this.emptyUnit.ref.current);\n    }\n  };\n\n  setLevel(arrLevel: ArrayLevel, level: number): void {\n    this.level = arrLevel;\n    this.arrayLevelY = level;\n  }\n\n  updatePosition(pos: { x: number; y: number } = { x: -1, y: -1 }): void {\n    this._x = pos.x > 0 ? pos.x : this._x;\n    this._y = pos.y > 0 ? pos.y : this._y;\n    this.units.forEach(unit => {\n      unit.updatePosition();\n    });\n  }\n\n  addArrow = (arrow: GenericArrow<Text, ArrayValue> | GenericArrow<ArrayUnit, Value>) => {\n    this._arrows.push(arrow);\n  };\n\n  draw(): React.ReactNode {\n    if (this.isDrawn()) {\n      return null;\n    }\n    this._isDrawn = true;\n    this._arrows = (this.referencedBy.filter(x => x instanceof Binding) as Binding[]).map(x => {\n      const arrow: GenericArrow<Text, ArrayValue> = new ArrowFromText<ArrayValue>(x.key).to(this);\n      x.frame.trackObjects(this);\n      x.frame.trackObjects(arrow);\n      return arrow;\n    }) as GenericArrow<Text, ArrayValue>[];\n    if (this.units.length === 0) {\n      this.emptyUnit = new ArrayEmptyUnit(this);\n    }\n    return (\n      <Group key={Layout.key++} ref={this.ref}>\n        {this._arrows.map(arrow => arrow.draw())}\n        {this.units.length > 0 && this.units.map(unit => unit.draw())}\n        {this.emptyUnit && this.emptyUnit.draw()}\n        <Rect width={this.width()} height={this.height()} />\n      </Group>\n    );\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React from 'react';\nimport { Group, Rect } from 'react-konva';\n\nimport EnvVisualizer from '../EnvVisualizer';\nimport { Config, ShapeDefaultProps } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Env, EnvTreeNode, IHoverable } from '../EnvVisualizerTypes';\nimport {\n  getNonEmptyEnv,\n  getTextWidth,\n  isDummyKey,\n  isPrimitiveData,\n  isUnassigned,\n  setHoveredCursor,\n  setHoveredStyle,\n  setUnhoveredCursor,\n  setUnhoveredStyle\n} from '../EnvVisualizerUtils';\nimport { ArrowFromFrame } from './arrows/ArrowFromFrame';\nimport { GenericArrow } from './arrows/GenericArrow';\nimport { Binding } from './Binding';\nimport { Level } from './Level';\nimport { Text } from './Text';\nimport { ArrayValue } from './values/ArrayValue';\nimport { Visible } from './Visible';\n\nconst frameNames = new Map([\n  ['global', 'Global'],\n  ['programEnvironment', 'Program'],\n  ['forLoopEnvironment', 'Body of for-loop'],\n  ['forBlockEnvironment', 'Control variable of for-loop'],\n  ['blockEnvironment', 'Block'],\n  ['functionBodyEnvironment', 'Function Body']\n]);\n\n/** this class encapsulates a frame of key-value bindings to be drawn on canvas */\nexport class Frame extends Visible implements IHoverable {\n  /** total height = frame height + frame title height */\n  totalHeight: number;\n  /** width of this frame + max width of the bound values */\n  totalWidth: number;\n  totalHoveredWidth: number;\n\n  /** the bindings this frame contains */\n  readonly bindings: Binding[] = [];\n  /** name of this frame to display */\n  readonly name: Text;\n  /** the level in which this frame resides */\n  level: Level | undefined;\n  /** environment associated with this frame */\n  environment: Env;\n  /** the parent/enclosing frame of this frame (the frame above it) */\n  readonly parentFrame: Frame | undefined;\n  static maxXCoord: number = -1;\n  static maxX: number = Config.CanvasPaddingX.valueOf();\n  static cumWidths: number[] = [Config.CanvasPaddingX.valueOf()];\n  static heights: number[] = [Config.CanvasPaddingY.valueOf()];\n  offsetY: number;\n  /** set of values to highlight when frame is over. */\n  private values: Visible[] = [];\n  private selected: boolean = false;\n\n  constructor(\n    /** environment tree node that contains this frame */\n    readonly envTreeNode: EnvTreeNode,\n    /** the frame to the left of this frame, on the same level. used for calculating this frame's position */\n    readonly xCoord: number,\n    readonly yCoord: number\n  ) {\n    super();\n    this._width = Config.FrameMinWidth;\n    this.level = envTreeNode.level as Level;\n    this.environment = envTreeNode.environment;\n    this.parentFrame = envTreeNode.parent?.frame;\n    this.xCoord = xCoord;\n    this.yCoord = yCoord;\n    Frame.maxXCoord = Math.max(xCoord, Frame.maxXCoord);\n    this._x = xCoord === 0 ? Config.CanvasPaddingX : Frame.cumWidths[xCoord];\n\n    this.name = new Text(\n      frameNames.get(this.environment.name) || this.environment.name,\n      this.x(),\n      this.level.y(),\n      { maxWidth: this.width() }\n    );\n    this.offsetY = this.name.height() + Config.TextPaddingY / 3;\n    this._y = this.level.y() + this.offsetY;\n    this._width = Config.FramePaddingX * 2;\n    this.totalWidth = this.width();\n    this.totalHoveredWidth = this.totalWidth;\n    this._height = Config.FramePaddingY * 2;\n    this.totalHeight = this.height() + this.name.height() + Config.TextPaddingY / 2;\n    this.update(envTreeNode);\n  }\n\n  /**\n   * Find the frame x-coordinate given a x-position.\n   * @param x absolute position\n   * @returns Largest x-coordinate smaller than or equal to a given x position.\n   */\n  static lastXCoordBelow(x: number) {\n    let l = Frame.cumWidths.length;\n    while (l--) {\n      if (Frame.cumWidths[l] <= x) {\n        return l;\n      }\n    }\n    return 0;\n  }\n\n  trackObjects(value: Visible): boolean {\n    const exists: boolean = this.values.includes(value);\n    !exists && this.values.push(value);\n    return !exists;\n  }\n\n  /**\n   * update absolute position of frame and its bindings.\n   * @param x Target x-position\n   * @param y Target y-position\n   */\n  updatePosition = (x: number, y: number) => {\n    this._x = x;\n    this._y = y + this.offsetY;\n    this.name.updatePosition(this.x(), y);\n    this.bindings.forEach(binding => {\n      binding.updatePosition(this.x(), y);\n    });\n  };\n\n  update = (envTreeNode: EnvTreeNode) => {\n    this.level = envTreeNode.level as Level;\n    this.environment = envTreeNode.environment;\n    this.offsetY = this.name.height() + Config.TextPaddingY / 3;\n    this._y = this.level.y() + this.offsetY;\n    // width of the frame = max width of the bindings in the frame + frame padding * 2\n    let maxBindingWidth = 0;\n    for (const [key, data] of Object.entries(this.environment.head)) {\n      const bindingWidth =\n        Math.max(Config.TextMinWidth, getTextWidth(key + Config.ConstantColon)) +\n        Config.TextPaddingX +\n        (isUnassigned(data)\n          ? Math.max(Config.TextMinWidth, getTextWidth(Config.UnassignedData.toString()))\n          : isPrimitiveData(data)\n          ? Math.max(Config.TextMinWidth, getTextWidth(String(data)))\n          : 0);\n      maxBindingWidth = Math.max(maxBindingWidth, bindingWidth);\n    }\n    this._width = maxBindingWidth + Config.FramePaddingX * 2;\n    this.values = [];\n\n    // initializes bindings (keys + values)\n    let prevBinding: Binding | null = null;\n    let totalWidth = this._width;\n    let exportWidth = this._width;\n    this.totalHoveredWidth = Math.max(totalWidth, this.name.hoveredWidth());\n\n    const descriptors = Object.getOwnPropertyDescriptors(this.environment.head);\n    const entries = [];\n    const dummyEntries = [];\n    for (const entry of Object.entries(descriptors)) {\n      if (isDummyKey(entry[0])) {\n        const actualEnv = getNonEmptyEnv(entry[1].value.environment);\n        if (\n          this.environment.id === Config.GlobalEnvId ||\n          (actualEnv && actualEnv.id === this.environment.id)\n        ) {\n          dummyEntries.push(entry);\n        }\n      } else {\n        entries.push(entry);\n      }\n    }\n    entries.push(...dummyEntries);\n\n    for (const [key, data] of entries) {\n      const currBinding: Binding = new Binding(key, data.value, this, prevBinding, !data.writable);\n      if (\n        this.bindings.findIndex(\n          v =>\n            v.value === currBinding.value &&\n            (currBinding.isDummyBinding || v.keyString === currBinding.keyString)\n        ) === -1\n      ) {\n        this.bindings.push(currBinding);\n        prevBinding = currBinding;\n        totalWidth = Math.max(totalWidth, currBinding.width() + Config.FramePaddingX);\n        exportWidth = Math.max(exportWidth, currBinding.exportWidth() + Config.FramePaddingX);\n        this.totalHoveredWidth = Math.max(\n          this.totalHoveredWidth,\n          currBinding.hoveredWidth() + Config.FramePaddingX\n        );\n      }\n    }\n\n    if (EnvVisualizer.getPrintableMode()) {\n      this.totalWidth = exportWidth;\n    } else {\n      this.totalWidth = totalWidth;\n    }\n\n    // derive the height of the frame from the the position of the last binding\n    this._height = prevBinding\n      ? prevBinding.y() + prevBinding.height() + Config.FramePaddingY - this.y()\n      : Config.FramePaddingY * 2;\n    this.totalHeight = this.height() + this.name.height() + Config.TextPaddingY / 2;\n    const nextX =\n      Frame.cumWidths[this.xCoord] + this.totalWidth + Config.FrameMarginX + Config.FnRadius;\n    Frame.cumWidths[this.xCoord + 1] =\n      Frame.cumWidths[this.xCoord + 1] === undefined\n        ? nextX\n        : Math.max(Frame.cumWidths[this.xCoord + 1], nextX);\n    Frame.maxX = Math.max(\n      Frame.maxX,\n      Frame.cumWidths[this.xCoord] +\n        (EnvVisualizer.getPrintableMode() ? this.totalWidth : this.totalHoveredWidth),\n      Frame.cumWidths[Frame.cumWidths.length - 1]\n    );\n    Frame.heights[this.yCoord] = Math.max(Frame.heights[this.yCoord] || 0, this.totalHeight);\n  };\n\n  static reset = () => {\n    Frame.maxX = Config.CanvasPaddingX.valueOf();\n    Frame.maxXCoord = -1;\n    Frame.cumWidths = [Config.CanvasPaddingX.valueOf()];\n    Frame.heights = [Config.CanvasPaddingY.valueOf()];\n  };\n\n  isSelected = () => {\n    return this.selected;\n  };\n\n  onMouseEnter = () => {\n    setHoveredCursor(this.ref.current);\n    setHoveredStyle(this.ref.current);\n    this.bindings.forEach(x => {\n      const arrow = x.getArrow();\n      arrow && setHoveredStyle(arrow.ref.current);\n    });\n    this.values.forEach(x => {\n      x && setHoveredStyle(x.ref.current);\n    });\n  };\n\n  onMouseLeave = () => {\n    setUnhoveredCursor(this.ref.current);\n    if (!this.selected) {\n      setUnhoveredStyle(this.ref.current);\n      this.bindings.forEach(x => {\n        const arrow = x.getArrow();\n        arrow && !arrow.isSelected() && setUnhoveredStyle(arrow.ref.current);\n      });\n      this.values.forEach(x => {\n        if (!(x instanceof ArrayValue) || !x.isSelected()) {\n          x && setUnhoveredStyle(x.ref.current);\n        }\n      });\n    }\n  };\n\n  /**\n   * Highlights frame and\n   */\n  onClick = (e: KonvaEventObject<MouseEvent>) => {\n    this.selected = !this.selected;\n    if (!this.selected) {\n      setUnhoveredStyle(this.ref.current);\n      this.bindings.forEach(x => {\n        const arrow = x.getArrow();\n        arrow && !arrow.isSelected() && setUnhoveredStyle(arrow.ref.current);\n      });\n      this.values.forEach(x => {\n        if (!(x instanceof ArrayValue) || !x.isSelected()) {\n          x && setUnhoveredStyle(x.ref.current);\n        }\n      });\n    } else {\n      setHoveredStyle(this.ref.current);\n      this.bindings.forEach(x => {\n        const arrow = x.getArrow();\n        arrow && setHoveredStyle(arrow.ref.current);\n      });\n      this.values.forEach(x => {\n        x && setHoveredStyle(x.ref.current);\n      });\n    }\n  };\n\n  draw(): React.ReactNode {\n    let arrowToParentFrame: GenericArrow<Frame, Frame> | undefined = undefined;\n    if (this.parentFrame !== undefined) {\n      arrowToParentFrame = new ArrowFromFrame(this).to(this.parentFrame);\n      this.trackObjects(arrowToParentFrame);\n    }\n    return (\n      <Group key={Layout.key++} ref={this.ref}>\n        {arrowToParentFrame && arrowToParentFrame.draw()}\n        {this.bindings.map(binding => !(binding.data instanceof ArrayValue) && binding.draw())}\n        {this.name.draw()}\n        <Rect\n          {...ShapeDefaultProps}\n          x={this.x()}\n          y={this.y()}\n          width={this.width()}\n          height={this.height()}\n          stroke={\n            EnvVisualizer.getPrintableMode()\n              ? Config.SA_BLUE.toString()\n              : Config.SA_WHITE.toString()\n          }\n          cornerRadius={Number(Config.FrameCornerRadius)}\n          key={Layout.key++}\n          onClick={e => this.onClick(e)}\n          onMouseEnter={() => this.onMouseEnter()}\n          onMouseLeave={() => this.onMouseLeave()}\n        />\n      </Group>\n    );\n  }\n}\n","import React from 'react';\n\nimport { Visible } from './Visible';\n\n/** this class encapsulates a level of frames to be drawn with the same y values */\nexport abstract class Level extends Visible {\n  protected constructor(\n    /** the level of this */\n    readonly parentLevel: Level | null\n  ) {\n    super();\n  }\n\n  abstract setY(y: number): any;\n\n  abstract draw(): React.ReactNode;\n}\n","import React from 'react';\nimport { Group, Rect } from 'react-konva';\n\nimport { Config, ShapeDefaultProps } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { FrameLevel } from './FrameLevel';\nimport { Level } from './Level';\nimport { ArrayValue } from './values/ArrayValue';\nimport { Value } from './values/Value';\n\n/** this class encapsulates a level of arrays to be drawn between two frame levels */\nexport class ArrayLevel extends Level {\n  private _minX: number = Infinity;\n  private _count: number = 0;\n  position: [x: number, y: number][][] = [[]];\n\n  // Prevent new arrays from being placed above existing arrays in the array level\n  private _rowCount: number = 0;\n\n  /** all the frames in this level */\n  readonly arrays: ArrayValue[] = [];\n\n  constructor(\n    /** the level of this */\n    readonly parentLevel: FrameLevel\n  ) {\n    super(parentLevel);\n    this._x = Config.CanvasPaddingX;\n    this._y = 0;\n    this._width = 0;\n    this._rowCount = 0;\n  }\n\n  minX(): number {\n    return this._minX;\n  }\n  count(): number {\n    return this._count;\n  }\n  getNumLanes = (): number => {\n    return this._rowCount;\n  };\n\n  /**\n   * Inserts array into ArrayLevel. Handles overlaps\n   * @param array\n   * @param x desired x-position of array\n   */\n  addArray = (array: ArrayValue, x: number) => {\n    x = x || 0;\n    // set highest allowed y-position to highest existing y-position in group of arrays connected to array.\n\n    let level = array.parentArray?.arrayLevelY ?? 0;\n    let width = 0;\n    let tail: Value = array;\n    const visitedTail: Value[] = [];\n    while (tail instanceof ArrayValue) {\n      if (visitedTail.includes(tail)) {\n        break;\n      }\n      visitedTail.push(tail);\n      width += Config.DataUnitPaddingX + tail.units.length * Config.DataUnitWidth;\n      if (tail.units.length > 0 && tail.units[tail.units.length - 1].value instanceof ArrayValue) {\n        tail = tail.units[tail.units.length - 1].value;\n      }\n    }\n    // Determine the highest allowed y-position for new array\n    positions: for (const positions of this.position.slice(level)) {\n      for (const position of positions) {\n        // Prevent new arrays from being created above existing arrays in level\n        if (position[0] < x + width + Config.DataMinWidth && position[1] > x) {\n          level++;\n          continue positions;\n        }\n      }\n      break;\n    }\n    this._minX = Math.min(x, this._minX);\n    this._count++;\n    this._rowCount = Math.max(this._rowCount, level);\n    this.position[level] = this.position[level] || [];\n    this.position[level].push([x, x + array.width() + Config.DataUnitWidth / 2]);\n    this.position[level].sort((a, b) => a[0] - b[0]);\n    const arrayMargin = Config.DataUnitPaddingY;\n    const curY = this._y + level * Config.DataUnitHeight + (level + 1) * arrayMargin;\n    array.updatePosition({ x, y: curY });\n    array.setLevel(this, level);\n    this._height = Math.max(this._height, curY + arrayMargin);\n    this.arrays.push(array);\n    this._width = Math.max(this._width, x + array.width());\n  };\n\n  setY = (y: number) => {\n    this.arrays.forEach(array => {\n      return array.updatePosition({ x: array.x(), y: array.y() - this.y() + y });\n    });\n    this._y = y;\n  };\n\n  reset = () => {\n    this._minX = Infinity;\n    this._count = 0;\n  };\n\n  draw(): React.ReactNode {\n    return (\n      <Group key={Layout.key++} ref={this.ref}>\n        <Rect\n          {...ShapeDefaultProps}\n          x={this.x()}\n          y={this.y()}\n          width={this.width()}\n          height={this.height()}\n          key={Layout.key++}\n          listening={false}\n        />\n        {this.arrays.map(array => array.draw())}\n      </Group>\n    );\n  }\n}\n","import React from 'react';\nimport { Group, Rect } from 'react-konva';\n\nimport { Config, ShapeDefaultProps } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { EnvTreeNode } from '../EnvVisualizerTypes';\nimport { ArrayLevel } from './ArrayLevel';\nimport { Frame } from './Frame';\nimport { Level } from './Level';\n\n/** this class encapsulates a level of frames to be drawn with the same y values */\nexport class FrameLevel extends Level {\n  static maxXcoord: number = 0;\n  static maxYcoord: number = 0;\n  lastXcoord: number;\n  readonly yCoord: number;\n\n  /** all the frames in this level */\n  readonly frames: Frame[] = [];\n\n  constructor(\n    /** the level of this */\n    readonly parentLevel: ArrayLevel | null\n  ) {\n    super(parentLevel);\n    this._x = Config.CanvasPaddingX;\n    this._y = 0;\n    this._width = 0;\n    this.lastXcoord = -1;\n    this.yCoord = FrameLevel.maxYcoord++;\n  }\n\n  height(): number {\n    return Frame.heights[this.yCoord] + Config.FrameMarginY;\n  }\n\n  /**\n   * Insert the next frame into this FrameLevel.\n   * If node.xCoord is specified and is valid (right of existing frames on level), uses it.\n   * else, places the frame to the right of the last frame on level.\n   * (calculate xCoord of frames, and addFrames in order from left to right and top to bottom.)\n   * @param node\n   */\n  addFrame = (node: EnvTreeNode) => {\n    // use the node's xCoord if its set and to right of last frame in level, else use put at right of last frame in level.\n    const coordinate = Math.max(node.xCoord ?? 0, FrameLevel.maxXcoord, this.lastXcoord + 1);\n    this.lastXcoord = coordinate;\n    FrameLevel.maxXcoord = Math.max(FrameLevel.maxXcoord, coordinate);\n    node.level = this;\n    if (this.frames[coordinate] !== undefined) {\n      this.frames[coordinate].update(node);\n    } else {\n      this.frames[coordinate] = new Frame(node, coordinate, this.yCoord);\n      node.frame = this.frames[coordinate];\n    }\n    this._width = Frame.maxX;\n  };\n\n  /**\n   * set y-position of frame level, and updates y-position of all frames in level\n   * @param y target y-coordinate\n   */\n  setY = (y: number) => {\n    this._y = y;\n    this.frames.forEach(frame => {\n      frame.updatePosition(frame.x(), y);\n    });\n  };\n\n  static reset = () => {\n    FrameLevel.maxXcoord = 0;\n    FrameLevel.maxYcoord = 0;\n  };\n\n  draw(): React.ReactNode {\n    return (\n      <Group key={Layout.key++} ref={this.ref}>\n        <Rect\n          {...ShapeDefaultProps}\n          x={this.x()}\n          y={this.y()}\n          width={this.width()}\n          height={this.height()}\n          key={Layout.key++}\n          listening={false}\n        />\n        {this.frames.reverse().map(frame => frame.draw())}\n      </Group>\n    );\n  }\n}\n","import React from 'react';\nimport { Group, Rect } from 'react-konva';\n\nimport { Config, ShapeDefaultProps } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { EnvTreeNode } from '../EnvVisualizerTypes';\nimport { getNextChildren } from '../EnvVisualizerUtils';\nimport { ArrayLevel } from './ArrayLevel';\nimport { ArrayUnit } from './ArrayUnit';\nimport { ArrowLane } from './ArrowLane';\nimport { Binding } from './Binding';\nimport { Frame } from './Frame';\nimport { FrameLevel } from './FrameLevel';\nimport { Level } from './Level';\nimport { ArrayValue } from './values/ArrayValue';\nimport { Visible } from './Visible';\n\n/**\n * Grid class encapsulates a grid of frames to be drawn.\n * Grid contains alternating layers of ArrayLevel and FrameLevel.\n */\nexport class Grid extends Visible {\n  /** list of all levels */\n  frameLevels: FrameLevel[];\n  arrayLevels: ArrayLevel[];\n  levels: Level[];\n  widths: number[];\n  static cumHeights: number[];\n\n  constructor(\n    /** the environment tree nodes */\n    readonly envTreeNodes: EnvTreeNode[][]\n  ) {\n    super();\n    this._x = 0;\n    this._y = 0;\n    this.frameLevels = [];\n    this.arrayLevels = [];\n    this.levels = [];\n    this.widths = [];\n    Grid.cumHeights = [];\n    this._height = 0;\n    this._width = 0;\n    this.update(envTreeNodes);\n  }\n\n  destroy = () => {\n    this.frameLevels.forEach(l => l.ref.current.destroyChildren());\n  };\n\n  /**\n   * Processes updates to Layout.environmentTree.\n   * @param envTreeNodes an array of different arrays of EnvTreeNodes corresponding to a single level.\n   */\n  update(envTreeNodes: EnvTreeNode[][]) {\n    Frame.reset();\n    FrameLevel.reset();\n    ArrowLane.reset();\n    this.arrayLevels.forEach(x => x.reset());\n    this.frameLevels = [];\n    this.arrayLevels = [];\n    this.levels = [];\n    const nodes: Array<[number, EnvTreeNode]> = envTreeNodes.reduce((result, nodes, i) => {\n      if (i === 0) {\n        this.frameLevels[i] = new FrameLevel(null);\n        this.arrayLevels[i] = new ArrayLevel(this.frameLevels[i]);\n      } else {\n        this.frameLevels[i] = new FrameLevel(this.arrayLevels[i - 1]);\n        this.arrayLevels[i] = new ArrayLevel(this.frameLevels[i]);\n      }\n      this.levels.push(this.frameLevels[i]);\n      this.levels.push(this.arrayLevels[i]);\n      return [...result, ...nodes.map<[number, EnvTreeNode]>(node => [i, node])];\n    }, new Array<[number, EnvTreeNode]>());\n\n    nodes.sort((a, b) => parseInt(a[1].environment.id) - parseInt(b[1].environment.id));\n    this.widths = [];\n    Grid.cumHeights = [];\n    // Compute the x coordinate of each frame by the max of 1 + the last xcoord of all frames before that frame on the same level\n    // and the xcoord of its immediate parent\n    const grid: (EnvTreeNode | undefined)[][] = [];\n    nodes.forEach(node => {\n      // children frame not to left of parent.\n      grid[node[0]] = grid[node[0]] ?? [];\n      node[1].xCoord = Math.max(\n        grid[node[0]].length - 1 + 1,\n        (node[1] as EnvTreeNode).parent?.xCoord ?? 0\n      );\n      grid[node[0]][node[1].xCoord] = node[1];\n      if (node[1].parent) {\n        let currentNode = node[1];\n        let level = node[0];\n        let updatedParent = true;\n        // if current frame is the first child of its parent frame and none of the frames to the left of the current frame\n        // is pointing to any frame to the right of the parent frame, shift the parent frame above the current frame\n        // (and move all frames to its right.) This will not violate the rule that all frames mustn't be at the left of its parent frame\n        // since the parent frame will not be at the right of the current frame, and any children frame of frames to the right of the parent frame\n        // will be created to right of those frames.\n        while (updatedParent) {\n          const parentNode = currentNode.parent;\n          if (\n            parentNode.xCoord &&\n            parentNode.children.flatMap(x => getNextChildren(x as EnvTreeNode))[0] === currentNode\n          ) {\n            if (currentNode.xCoord === undefined || parentNode.xCoord === undefined) {\n              updatedParent = false;\n            } else {\n              const diff: number = currentNode.xCoord - parentNode.xCoord;\n              const oldParentCoord = parentNode.xCoord;\n              if (\n                diff > 0 &&\n                grid[level]\n                  .slice(oldParentCoord, currentNode.xCoord)\n                  .every(\n                    x =>\n                      x === undefined ||\n                      parseInt(x.parent.environment.id ?? 0) < parseInt(parentNode.environment.id)\n                  )\n              ) {\n                grid[level - 1].slice(oldParentCoord).forEach(x => {\n                  if (x !== undefined) {\n                    x.xCoord = x.xCoord ? x.xCoord + diff : x.xCoord;\n                  }\n                });\n                grid[level - 1] = [\n                  ...grid[level - 1].slice(0, oldParentCoord),\n                  ...Array(diff).fill(undefined),\n                  ...grid[level - 1].slice(oldParentCoord)\n                ];\n                level = level - 1;\n                currentNode = parentNode;\n              } else {\n                updatedParent = false;\n              }\n            }\n          } else {\n            updatedParent = false;\n          }\n        }\n      }\n    });\n    // ordered by increasing y coord (since frame guaranteed to be to the right of its parent, and all frames are sorted by frame id)\n    // followed by increasing xCoord\n    nodes.sort((a, b) => (a[1].xCoord ?? 0) - (b[1].xCoord ?? 0));\n    nodes.forEach(node => this.frameLevels[node[0]].addFrame(node[1]));\n\n    Layout.values.forEach((v, d, m) => {\n      if (v instanceof ArrayValue) {\n        let bindings = v.referencedBy.filter(r => r instanceof Binding) as Binding[];\n        let p: ArrayUnit = v.referencedBy.find(x => x instanceof ArrayUnit) as ArrayUnit;\n        const belongsToFrame = v.referencedBy[0] instanceof Binding;\n        while (bindings.length === 0) {\n          bindings = p.parent.referencedBy.filter(r => r instanceof Binding) as Binding[];\n          p = p.parent.referencedBy.find(x => x instanceof ArrayUnit) as ArrayUnit;\n        }\n\n        if (belongsToFrame) {\n          const y = (v.referencedBy[0] as Binding).frame.yCoord;\n          // array close to first declaration, aligned to the frame to its right for clarity.\n          const x =\n            Frame.cumWidths[(v.referencedBy[0] as Binding).frame.xCoord + 1] +\n            0.8 * Config.FrameMarginX;\n          // Alternative approach to move array closer to horizontal mean of bindings\n          // https://github.com/source-academy/frontend/blob/dcd34c1cb792b96123d9163d2e31c960bedf123d/src/features/envVisualizer/components/Grid.tsx#L109\n          this.arrayLevels[Math.floor(y)].addArray(v, x);\n        } else if (v.referencedBy[0] instanceof ArrayUnit) {\n          const y = v.referencedBy[0].parent.level?.parentLevel?.yCoord ?? 0;\n          const x =\n            v.referencedBy[0].x() +\n            (v.referencedBy[0] instanceof ArrayUnit && v.referencedBy[0].isLastUnit\n              ? Config.DataUnitWidth + Config.DataUnitPaddingX\n              : 0);\n          this.arrayLevels[Math.floor(y)].addArray(v, x);\n        }\n      }\n    });\n    // Put the array levels and frame levels at same vertical position.\n    // Requires all array's x-position to be at the right of all frames and its fn values.\n    Grid.cumHeights = this.levels.reduce(\n      (res, b, i) => {\n        let height;\n        if (i % 2 === 0) {\n          const arrayLevel = this.arrayLevels[Math.floor(i / 2)] as ArrayLevel;\n          height =\n            Frame.cumWidths[(b as FrameLevel).lastXcoord + 1] <= arrayLevel.minX()\n              ? 0\n              : Frame.heights[Math.floor(i / 2)] +\n                (Frame.heights[Math.floor(i / 2)] > 0\n                  ? Config.FrameMarginY / 2\n                  : Config.FrameMarginY / 2);\n        } else {\n          const frameLevel = this.frameLevels[Math.floor(i / 2)] as FrameLevel;\n          height =\n            Frame.heights[Math.floor(i / 2)] +\n            (Frame.heights[Math.floor(i / 2)] > 0 ? Config.FrameMarginY : 0);\n          if ((b as ArrayLevel).count() > 0) {\n            if (Frame.cumWidths[frameLevel.lastXcoord + 1] <= (b as ArrayLevel).minX()) {\n              height = Math.max(\n                height,\n                this.arrayLevels[Math.floor((i - 1) / 2)].height() +\n                  (this.arrayLevels[Math.floor((i - 1) / 2)].height() > 0\n                    ? Config.FrameMarginY\n                    : Config.FrameMarginY / 2)\n              );\n            } else {\n              height = this.arrayLevels[Math.floor((i - 1) / 2)].height() + Config.FrameMarginY;\n            }\n          }\n        }\n        return [...res, res[res.length - 1] + height];\n      },\n      [Config.CanvasPaddingY.valueOf()]\n    );\n    this.levels.forEach((level, i) => {\n      level.setY(Grid.cumHeights[i]);\n    });\n\n    // get the cumulative height of all the array and frame levels\n    this._height = Grid.cumHeights[Grid.cumHeights.length - 1];\n    // get the maximum width of all the array and frame levels\n    this._width =\n      Math.max(\n        this.frameLevels.reduce<number>((a, b) => Math.max(a, b.width()), 0),\n        this.arrayLevels.reduce<number>((a, b) => Math.max(a, b.width()), 0)\n      ) + Config.FrameMarginX;\n  }\n\n  /**\n   * Find the Grid y-coordinate given a x-position.\n   * @param y absolute position\n   * @returns Largest x-coordinate smaller than or equal to a given x position.\n   */\n  static lastYCoordBelow(y: number) {\n    let l = Grid.cumHeights.length;\n    while (l--) {\n      if (Grid.cumHeights[l] <= y) {\n        return l;\n      }\n    }\n    return 0;\n  }\n\n  draw(): React.ReactNode {\n    return (\n      <Group key={Layout.key++}>\n        <Rect\n          {...ShapeDefaultProps}\n          x={this.x()}\n          y={this.y()}\n          width={this.width()}\n          height={this.height()}\n          key={Layout.key++}\n          listening={false}\n        />\n        {this.arrayLevels.reverse().map(level => level.draw())}\n        {this.frameLevels.reverse().map(level => level.draw())}\n      </Group>\n    );\n  }\n}\n","import { Config } from '../EnvVisualizerConfig';\nimport { Data, IVisible } from '../EnvVisualizerTypes';\nimport { Frame } from './Frame';\nimport { Grid } from './Grid';\nimport { Value } from './values/Value';\n\n/** this class tracks the target objects for each lane. */\nexport class ArrowLane {\n  readonly id: number;\n  static verticalLanes: ArrowLane[] = [];\n  static horizontalLanes: ArrowLane[] = [];\n  static arrayLevelLanes: ArrowLane[] = [];\n  public objects: (Data | IVisible)[] = [];\n  public frames: Frame[] = [];\n  readonly isVertical: boolean = true;\n\n  constructor(coord: number, isVertical: boolean) {\n    this.id = coord;\n    this.isVertical = isVertical;\n  }\n\n  static reset = () => {\n    ArrowLane.verticalLanes = [];\n    ArrowLane.horizontalLanes = [];\n    ArrowLane.arrayLevelLanes = [];\n  };\n\n  static getVerticalLaneBeforeTarget = (target: IVisible, currentX: number): ArrowLane => {\n    // get the lane between currentX and target right before the target\n    let xCoord = Frame.lastXCoordBelow(target.x()) + (currentX > target.x() ? 0 : 1);\n    const x = Frame.cumWidths[xCoord];\n    if (target.x() > x && currentX > x) {\n      xCoord++;\n    }\n    if (ArrowLane.verticalLanes[xCoord] === undefined) {\n      ArrowLane.verticalLanes[xCoord] = new ArrowLane(xCoord, true);\n    }\n    return ArrowLane.verticalLanes[xCoord];\n  };\n\n  static getVerticalLaneAfterSource = (target: IVisible, currentX: number): ArrowLane => {\n    // get the lane between currentX and target right after currentX\n    let xCoord = Frame.lastXCoordBelow(currentX) + (currentX > target.x() ? 0 : 1);\n    const x = Frame.cumWidths[xCoord];\n    if (target.x() > x && currentX > x) {\n      xCoord++;\n    }\n    if (ArrowLane.verticalLanes[xCoord] === undefined) {\n      ArrowLane.verticalLanes[xCoord] = new ArrowLane(xCoord, true);\n    }\n    return ArrowLane.verticalLanes[xCoord];\n  };\n\n  static getHorizontalLaneBeforeTarget = (target: IVisible, currentY: number): ArrowLane => {\n    // get the horizontal lane between currentY and target right before target\n    const yCoord = Grid.lastYCoordBelow(target.y()) + (currentY > target.y() ? 1 : 0);\n    if (ArrowLane.horizontalLanes[yCoord] === undefined) {\n      ArrowLane.horizontalLanes[yCoord] = new ArrowLane(yCoord, false);\n    }\n    return ArrowLane.horizontalLanes[yCoord];\n  };\n\n  static getHorizontalLaneAfterSource = (target: IVisible, currentY: number): ArrowLane => {\n    // get the horizontal lane between currentY and target right after currentY\n    const yCoord = Grid.lastYCoordBelow(currentY) + (currentY > target.y() ? 0 : 1);\n    if (ArrowLane.horizontalLanes[yCoord] === undefined) {\n      ArrowLane.horizontalLanes[yCoord] = new ArrowLane(yCoord, false);\n    }\n    return ArrowLane.horizontalLanes[yCoord];\n  };\n\n  getPosition = (target: Value | IVisible): number => {\n    // this method of calculating the position of arrows can be improved,\n    // currently just tries to fit arrows into the padding of the frame/array levels, might be better\n    // to place the arrow lanes between the levels, so we can reduce the padding between levels.\n    // place frame arrows on bottom half of horizontal lanes\n    if (target instanceof Frame) {\n      let index = this.frames.indexOf(target);\n      if (index === -1) {\n        index = this.frames.push(target) - 1;\n      }\n      const lane: number = (index * Config.ArrowLaneInterval) % Config.ArrowNumLanes;\n      return (\n        Grid.cumHeights[this.id] -\n        Config.FrameMarginY * 0.45 -\n        (lane / Config.ArrowNumLanes) * Config.FrameMarginY * 0.35\n      );\n    } else {\n      let index = this.objects.indexOf(target instanceof Value ? target.data : target);\n      if (index === -1) {\n        index = this.objects.push(target instanceof Value ? target.data : target) - 1;\n      }\n      const lane: number = (index * Config.ArrowLaneInterval) % Config.ArrowNumLanes;\n      if (this.isVertical) {\n        return (\n          Frame.cumWidths[this.id] -\n          Config.FrameMarginX * 0.9 +\n          Config.FnRadius +\n          (lane / (Config.ArrowNumLanes + 1)) * Config.FrameMarginX * 0.7\n        );\n      } else {\n        if (this.id % 2 === 0) {\n          // arrow between array level (above) and above horizontal frame arows (below)\n          return (\n            Grid.cumHeights[this.id] -\n            Config.FrameMarginY * 0.1 -\n            (lane / Config.ArrowNumLanes) * Config.FrameMarginY * 0.35\n          );\n        } else {\n          // arrows below frame level and above array level\n          return (\n            Grid.cumHeights[this.id] -\n            Config.FrameMarginY * 0.1 -\n            (lane / Config.ArrowNumLanes) * Config.FrameMarginY * 0.35\n          );\n        }\n      }\n    }\n  };\n}\n","import { Config } from '../../EnvVisualizerConfig';\nimport { StepsArray } from '../../EnvVisualizerTypes';\nimport { ArrowLane } from '../ArrowLane';\nimport { Frame } from '../Frame';\nimport { Grid } from '../Grid';\nimport { Text } from '../Text';\nimport { ArrayValue } from '../values/ArrayValue';\nimport { FnValue } from '../values/FnValue';\nimport { GlobalFnValue } from '../values/GlobalFnValue';\nimport { Value } from '../values/Value';\nimport { GenericArrow } from './GenericArrow';\n\n/** this class encapsulates an GenericArrow to be drawn between 2 points */\nexport class ArrowFromText<V extends Value> extends GenericArrow<Text, V> {\n  protected calculateSteps() {\n    const source = this.source;\n    const target = this.target;\n    if (!target) return [];\n\n    const steps: StepsArray = [(x, y) => [x + source.width(), y + source.height() / 2]];\n    if (target instanceof ArrayValue) {\n      steps.push((x, y) => [x + Config.TextMargin + Config.TextPaddingX, y]); // Spacing to right of text in frame\n      steps.push((x, y) => {\n        const newX = ArrowLane.getVerticalLaneAfterSource(target, x).getPosition(target);\n        return newX < x\n          ? [x, y - Math.sign(source.y() - target.y()) * (source.height() + Config.TextMargin)]\n          : [x, y];\n      }); // if the potential vertical lane is to the left, loop above or below text to allow GenericArrow to move left.\n      steps.push((x, y) => [\n        ArrowLane.getVerticalLaneAfterSource(target, x).getPosition(target),\n        y\n      ]);\n      // move to horizontal lane only if lane exists between source and target\n      const potentialHorizontalLaneY = ArrowLane.getHorizontalLaneBeforeTarget(\n        target,\n        source.y()\n      ).getPosition(target);\n      if ((potentialHorizontalLaneY - source.y()) * (potentialHorizontalLaneY - target.y()) < 0) {\n        steps.push((x, y) => {\n          const newY = ArrowLane.getHorizontalLaneBeforeTarget(target, y).getPosition(target);\n          return (newY - y) * (newY - target.y()) > 0\n            ? [x, y]\n            : [x, ArrowLane.getHorizontalLaneBeforeTarget(target, y).getPosition(target)];\n        });\n      }\n\n      // Move to x position closer to array on horizontal lane\n      steps.push((x, y) => {\n        let newX: number;\n        let yDiff = target.y() + Config.DataUnitHeight / 2 - y;\n        yDiff = Math.abs(yDiff - (Math.sign(yDiff) * Config.DataUnitHeight) / 2);\n        if (x < target.x()) {\n          newX = Math.max(x + Config.DataUnitWidth, target.x() - yDiff);\n        } else if (x >= target.x() + target.units.length * Config.DataUnitWidth) {\n          newX = target.x() + target.units.length * Config.DataUnitWidth;\n          newX = Math.min(x - Config.DataUnitWidth, newX + yDiff);\n        } else {\n          // if current point of arrow is somewhere above / below array, move halfway to corner of some arrayunit.\n          const index = Math.floor((x - target.x()) / Config.DataUnitWidth);\n          newX = target.x() + Config.DataUnitWidth * index;\n          return [(x + newX) / 2, (y + target.y()) / 2];\n        }\n        return [newX, y];\n      });\n      // Move to array pointing to corner of some arrayunit\n      steps.push((x, y) => {\n        const index = Math.floor((x - target.x()) / Config.DataUnitWidth);\n        const yDiff = source.y() - (target.y() + Config.DataUnitHeight / 2);\n        const newY =\n          target.y() +\n          Config.DataUnitHeight / 2 +\n          ((Math.abs(yDiff) < Config.DataUnitHeight ? 0 : Math.sign(yDiff)) *\n            Config.DataUnitHeight) /\n            2;\n        if (x < target.x()) {\n          return [target.x(), newY];\n        } else if (x >= target.x() + target.units.length * Config.DataUnitWidth) {\n          return [target.x() + target.units.length * Config.DataUnitWidth, newY];\n        } else {\n          return [target.x() + Config.DataUnitWidth * index, newY];\n        }\n      });\n    } else if (target instanceof FnValue || target instanceof GlobalFnValue) {\n      if (target.x() < source.x()) {\n        // move target the left of current frame above the binding.\n        steps.push((x, y) => [x + Config.TextMargin, y]);\n        steps.push((x, y) => [x, y - Math.sign(source.y() - target.y()) * source.height()]);\n        if (\n          Grid.lastYCoordBelow(target.y()) === Grid.lastYCoordBelow(source.y()) &&\n          Frame.lastXCoordBelow(source.x()) === Frame.lastXCoordBelow(target.x()) + 1\n        ) {\n          // Move directly target object\n          steps.push((x, y) => [target.centerX + Config.FnRadius * 3, y]);\n          steps.push((x, y) => [x, target.y()]);\n          steps.push((x, y) => [x - Config.FnRadius, y]);\n        } else {\n          // vertical lane, horizontal lane, vertical lane,\n          steps.push((x, y) => [\n            ArrowLane.getVerticalLaneAfterSource(target, x).getPosition(target),\n            y\n          ]);\n          steps.push((x, y) => [\n            x,\n            ArrowLane.getHorizontalLaneBeforeTarget(target, y).getPosition(target)\n          ]);\n          steps.push((x, y) => [\n            ArrowLane.getVerticalLaneBeforeTarget(target, x).getPosition(target),\n            y\n          ]);\n          steps.push((x, y) => [x, target.y()]);\n          steps.push((x, y) => [target.centerX + Config.FnRadius * 2, y]);\n        }\n      } else {\n        if (\n          Grid.lastYCoordBelow(target.y()) === Grid.lastYCoordBelow(source.y()) &&\n          Frame.lastXCoordBelow(source.x()) === Frame.lastXCoordBelow(target.x())\n        ) {\n          steps.push((x, y) => [target.x(), y]);\n          steps.push((x, y) => [x, target.y()]);\n        } else {\n          steps.push((x, y) => [\n            ArrowLane.getVerticalLaneAfterSource(target, x).getPosition(target),\n            y\n          ]);\n          steps.push((x, y) => [\n            x,\n            ArrowLane.getHorizontalLaneBeforeTarget(target, y).getPosition(target)\n          ]);\n          steps.push((x, y) => [\n            ArrowLane.getVerticalLaneBeforeTarget(target, x).getPosition(target),\n            y\n          ]);\n          steps.push((x, y) => [x, target.y()]);\n          steps.push((x, y) => [target.centerX + Config.FnRadius * 2, y]);\n        }\n      }\n    } else {\n      steps.push((x, y) => [x, target.y()]);\n      steps.push((x, y) => [target.x(), y]);\n    }\n    return steps;\n  }\n}\n","import React from 'react';\n\nimport { Config } from '../../EnvVisualizerConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { ReferenceType, UnassignedData } from '../../EnvVisualizerTypes';\nimport { getTextWidth } from '../../EnvVisualizerUtils';\nimport { Binding } from '../Binding';\nimport { Text } from '../Text';\nimport { Value } from './Value';\n\n/** this class encapsulates an unassigned value in Source, internally represented as a symbol */\nexport class UnassignedValue extends Value {\n  readonly data: UnassignedData = Symbol();\n  readonly text: Text;\n\n  constructor(readonly referencedBy: ReferenceType[]) {\n    super();\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.x() + getTextWidth(mainReference.keyString) + Config.TextPaddingX;\n      this._y = mainReference.y();\n      this.text = new Text(Config.UnassignedData.toString(), this._x, this._y, {\n        isStringIdentifiable: false\n      });\n    } else {\n      const maxWidth = mainReference.width();\n      const textWidth = Math.min(getTextWidth(String(this.data)), maxWidth);\n      this._x = mainReference.x() + (mainReference.width() - textWidth) / 2;\n      this._y = mainReference.y() + (mainReference.height() - Config.FontSize) / 2;\n      this.text = new Text(Config.UnassignedData.toString(), this._x, this._y, {\n        maxWidth: maxWidth,\n        isStringIdentifiable: false\n      });\n    }\n\n    this._width = this.text.width();\n    this._height = this.text.height();\n  }\n\n  reset(): void {\n    super.reset();\n    this.referencedBy.length = 0;\n  }\n  updatePosition(): void {\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.x() + getTextWidth(mainReference.keyString) + Config.TextPaddingX;\n      this._y = mainReference.y();\n    } else {\n      const maxWidth = mainReference.width();\n      const textWidth = Math.min(getTextWidth(String(this.data)), maxWidth);\n      this._x = mainReference.x() + (mainReference.width() - textWidth) / 2;\n      this._y = mainReference.y() + (mainReference.height() - Config.FontSize) / 2;\n    }\n    this.text.updatePosition(this._x, this._y);\n  }\n  onMouseEnter(): void {}\n  onMouseLeave(): void {}\n\n  draw(): React.ReactNode {\n    this._isDrawn = true;\n    return <React.Fragment key={Layout.key++}>{this.text.draw()}</React.Fragment>;\n  }\n}\n","import React from 'react';\n\nimport EnvVisualizer from '../EnvVisualizer';\nimport { Config } from '../EnvVisualizerConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Data } from '../EnvVisualizerTypes';\nimport { isDummyKey, isMainReference } from '../EnvVisualizerUtils';\nimport { ArrowFromText } from './arrows/ArrowFromText';\nimport { GenericArrow } from './arrows/GenericArrow';\nimport { Frame } from './Frame';\nimport { Text } from './Text';\nimport { ArrayValue } from './values/ArrayValue';\nimport { FnValue } from './values/FnValue';\nimport { GlobalFnValue } from './values/GlobalFnValue';\nimport { PrimitiveValue } from './values/PrimitiveValue';\nimport { UnassignedValue } from './values/UnassignedValue';\nimport { Value } from './values/Value';\nimport { Visible } from './Visible';\n\n/** a `binding` is a key-value pair in a frame */\nexport class Binding extends Visible {\n  readonly offsetY: number;\n  /** The maximum width of binding when hovered or clicked (takes tooltip into consideration) */\n  readonly _hoveredWidth: number;\n  readonly isMainReference: boolean;\n\n  /** value associated with this binding */\n  readonly value: Value;\n  /** key of this binding */\n  readonly key: Text;\n  /**\n   * `true` if this is a dummy binding\n   * i.e. the value is anonymous\n   */\n  readonly isDummyBinding: boolean = false;\n  keyYOffset: number;\n  private arrow: GenericArrow<Text, Value> | undefined = undefined;\n  public getArrow = (): GenericArrow<Text, Value> | undefined => {\n    return this.arrow;\n  };\n\n  constructor(\n    /** the key of this binding */\n    readonly keyString: string,\n    /** the value of this binding */\n    readonly data: Data,\n    /** frame this binding is in */\n    readonly frame: Frame,\n    /** previous binding (the binding above it) */\n    readonly prevBinding: Binding | null,\n    readonly isConstant: boolean = false\n  ) {\n    super();\n    this.isDummyBinding = isDummyKey(this.keyString);\n\n    // derive the coordinates from the binding above it\n    if (this.prevBinding) {\n      this._x = this.prevBinding.x();\n      this.offsetY = this.prevBinding.offsetY + this.prevBinding.height() + Config.TextPaddingY;\n    } else {\n      this._x = this.frame.x() + Config.FramePaddingX;\n      this.offsetY = this.frame.y() + Config.FramePaddingY;\n    }\n    this._y = this.offsetY;\n\n    this.keyString += isConstant ? Config.ConstantColon : Config.VariableColon;\n    this.value = Layout.createValue(data, this);\n    this.isMainReference = isMainReference(this.value, this);\n    if (this.isMainReference) {\n      // Moves the function object next to the correct frame\n      this.value.updatePosition();\n    }\n    this.keyYOffset =\n      (this.value instanceof FnValue || this.value instanceof GlobalFnValue) && this.isMainReference\n        ? (this.value.height() - Config.FontSize) / 2\n        : 0;\n    this.key = new Text(this.keyString, this.x(), this.offsetY + this.keyYOffset, {}, frame);\n\n    // derive the width from the right bound of the value (either no extra space or width of function object.)\n    this._width =\n      !(this.value instanceof ArrayValue) && this.isMainReference\n        ? this.value.x() + this.value.width() - this.x()\n        : this.key.width();\n    this._hoveredWidth =\n      this._width +\n      (this.value instanceof FnValue || this.value instanceof GlobalFnValue\n        ? this.value.tooltipWidth\n        : 0);\n    this._height = Math.max(\n      this.key.height(),\n      (this.value instanceof FnValue || this.value instanceof GlobalFnValue) && this.isMainReference\n        ? this.value.height()\n        : 0\n    );\n\n    if (this.isDummyBinding && !this.isMainReference) {\n      if (this.prevBinding) {\n        this.offsetY = this.prevBinding.offsetY;\n        this._width = this.prevBinding.width();\n        this._height = this.prevBinding.height();\n      }\n    }\n    this._y = this.offsetY;\n  }\n  hoveredWidth(): number {\n    return EnvVisualizer.getPrintableMode()\n      ? this._hoveredWidth\n      : this._width +\n          (this.value instanceof FnValue || this.value instanceof GlobalFnValue\n            ? this.value.tooltipWidth\n            : 0);\n  }\n  exportWidth(): number {\n    return (\n      this._width +\n      (this.value instanceof FnValue || this.value instanceof GlobalFnValue\n        ? this.value.exportTooltipWidth\n        : 0)\n    );\n  }\n  /**\n   * update absolute position of binding and its value.\n   * @param x Target x-position\n   * @param y Target y-position\n   */\n  updatePosition = (x: number, y: number) => {\n    this._x = x + Config.FramePaddingX;\n    this._y = y + this.offsetY;\n    this.key.updatePosition(this.x(), this.y() + this.keyYOffset);\n    if (isMainReference(this.value, this)) {\n      this.value.updatePosition();\n    }\n  };\n\n  draw(): React.ReactNode {\n    if (\n      !(\n        this.isDummyBinding || // value is unreferenced in dummy binding\n        this.value instanceof PrimitiveValue ||\n        this.value instanceof UnassignedValue ||\n        this.value instanceof ArrayValue\n      )\n    ) {\n      this.arrow = new ArrowFromText(this.key).to(this.value);\n    }\n    return (\n      <React.Fragment key={Layout.key++}>\n        {this.isDummyBinding\n          ? null // omit the key since value is anonymous\n          : this.key.draw()}\n        {this.arrow && this.arrow.draw()}\n        {!(this.value instanceof ArrayValue) && this.isMainReference ? this.value.draw() : null}\n      </React.Fragment>\n    );\n  }\n}\n","import { Environment } from 'Clang-slang/dist/types';\nimport { Group } from 'konva/lib/Group';\nimport { Node } from 'konva/lib/Node';\nimport { Shape } from 'konva/lib/Shape';\nimport { cloneDeep } from 'lodash';\n\nimport { Value as CompactValue } from './compactComponents/values/Value';\nimport { Binding } from './components/Binding';\nimport { FnValue } from './components/values/FnValue';\nimport { GlobalFnValue } from './components/values/GlobalFnValue';\nimport { Value } from './components/values/Value';\nimport EnvVisualizer from './EnvVisualizer';\nimport { Config } from './EnvVisualizerConfig';\nimport {\n  CompactReferenceType,\n  Data,\n  EmptyObject,\n  Env,\n  EnvTree,\n  EnvTreeNode,\n  FnTypes,\n  PrimitiveTypes,\n  ReferenceType\n} from './EnvVisualizerTypes';\n\n// TODO: can make use of lodash\n/** Returns `true` if `x` is an object */\nexport function isObject(x: any): x is object {\n  return x === Object(x);\n}\n\n/** Returns `true` if `object` is empty */\nexport function isEmptyObject(object: Object): object is EmptyObject {\n  return Object.keys(object).length === 0;\n}\n\n/** Returns `true` if `object` is `Environment` */\nexport function isEnvironment(object: Object): object is Environment {\n  return 'head' in object && 'tail' in object && 'name' in object;\n}\n\n/** Returns `true` if `object` is `EnvTreeNode` */\nexport function isEnvTreeNode(object: Object): object is EnvTreeNode {\n  return 'parent' in object && 'children' in object;\n}\n\n/** Returns `true` if `object` is `EnvTree` */\nexport function isEnvTree(object: Object): object is EnvTree {\n  return 'root' in object;\n}\n\n/** Returns `true` if `env` is empty (that is, head of env is an empty object) */\nexport function isEmptyEnvironment(env: Env): env is Env & { head: EmptyObject } {\n  return env === null || isEmptyObject(env.head);\n}\n\n/** Returns `true` if `data` is a Javascript array */\nexport function isArray(data: Data): data is Data[] {\n  return Array.isArray(data);\n}\n\n/** Returns `true` if `x` is a Javascript function */\nexport function isFunction(x: any): x is () => any {\n  return x && {}.toString.call(x) === '[object Function]';\n}\n\n/** Returns `true` if `data` is a JS Slang function */\nexport function isFn(data: Data): data is FnTypes {\n  return isFunction(data) && 'environment' in data && 'functionName' in data;\n}\n\n/** Returns `true` if `x` is a JS Slang function in the global frame */\nexport function isGlobalFn(x: any): x is () => any {\n  return isFunction(x) && !isFn(x);\n}\n\n/** Returns `true` if `data` is null */\nexport function isNull(data: Data): data is null {\n  return data === null;\n}\n\n/** Returns `true` if `data` is undefined */\nexport function isUndefined(data: Data): data is undefined {\n  return data === undefined;\n}\n\n/** Returns `true` if `data` is a string */\nexport function isString(data: Data): data is string {\n  return typeof data === 'string';\n}\n\n/** Returns `true` if `data` is a number */\nexport function isNumber(data: Data): data is number {\n  return typeof data === 'number';\n}\n\n/** Returns `true` if `data` is a symbol */\nexport function isUnassigned(data: Data): data is symbol {\n  return typeof data === 'symbol';\n}\n\n/** Returns `true` if `data` is a boolean */\nexport function isBoolean(data: Data): data is boolean {\n  return typeof data === 'boolean';\n}\n\n/** Returns `true` if `data` is a primitive, defined as a null | data | number */\nexport function isPrimitiveData(data: Data): data is PrimitiveTypes {\n  return isUndefined(data) || isNull(data) || isString(data) || isNumber(data) || isBoolean(data);\n}\n\n/** Returns `true` if `reference` is the main reference of `value` */\nexport function isMainReference(value: Value, reference: ReferenceType) {\n  if (value instanceof FnValue) {\n    // chooses the frame of the enclosing environment, not necessarily the first in referencedBy.\n    return (\n      reference instanceof Binding &&\n      value.enclosingEnvNode === (reference as Binding).frame.envTreeNode &&\n      value.referencedBy.findIndex(x => x instanceof Binding && x === reference) !== -1\n    );\n  } else if (value instanceof GlobalFnValue) {\n    return value.referencedBy.find(x => x instanceof Binding) === reference;\n  } else {\n    return value.referencedBy[0] === reference;\n  }\n}\n\n/** Returns `true` if `reference` is the main reference of `value` */\nexport function isCompactMainReference(value: CompactValue, reference: CompactReferenceType) {\n  return value.referencedBy[0] === reference;\n}\n\n/** checks if `value` is a `number` */\n/** Returns `true` if `value` is a `number` */\nexport function isNumeric(value: string) {\n  return /^-?\\d+$/.test(value);\n}\n\n/**\n * Returns `true` if `key` is a dummy key.\n * dummy key is an integral unique id.\n */\nexport function isDummyKey(key: string) {\n  return isNumeric(key);\n}\n\n/**\n * Uses canvas.measureText to compute and return the width of the given text of given font in pixels.\n *\n * @param {string} text The text to be rendered.\n * @param {string} font The css font descriptor that text is to be rendered with (e.g. \"bold 14px verdana\").\n */\nexport function getTextWidth(\n  text: string,\n  font: string = `${Config.FontStyle} ${Config.FontSize}px ${Config.FontFamily}`\n): number {\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n\n  if (!context || !text) {\n    return 0;\n  }\n\n  context.font = font;\n  const longestLine = text\n    .split('\\n')\n    .reduce<string>(\n      (accText, currValue) =>\n        context.measureText(accText).width > context.measureText(currValue).width\n          ? accText\n          : currValue,\n      ''\n    );\n  const metrics = context.measureText(longestLine);\n  return metrics.width;\n}\n\n/** Returns the parameter string of the given function */\nexport function getParamsText(data: () => any): string {\n  if (isFn(data)) {\n    return data.node.params.map((node: any) => node.name).join(',');\n  } else {\n    const fnString = data.toString();\n    return fnString.substring(fnString.indexOf('('), fnString.indexOf('{')).trim();\n  }\n}\n\n/** Returns the body string of the given function */\nexport function getBodyText(data: () => any): string {\n  const fnString = data.toString();\n  if (isFn(data)) {\n    let body =\n      data.node.type === 'FunctionDeclaration' || fnString.substring(0, 8) === 'function'\n        ? fnString.substring(fnString.indexOf('{'))\n        : fnString.substring(fnString.indexOf('=') + 3);\n\n    if (body[0] !== '{') body = '{\\n  return ' + body + ';\\n}';\n    return body;\n  } else {\n    return fnString.substring(fnString.indexOf('{'));\n  }\n}\n\nexport function setHoveredCursor(target: Node | Group) {\n  const container = target.getStage()?.container();\n  container && (container.style.cursor = 'pointer');\n}\n\nexport function setUnhoveredCursor(target: Node | Group) {\n  const container = target.getStage()?.container();\n  container && (container.style.cursor = 'default');\n}\n\n/** Updates the styles of a Konva node and its children on hover, and then redraw the layer */\nexport function setHoveredStyle(target: Node | Group, hoveredAttrs: any = {}): void {\n  const nodes: (Group | Shape | Node)[] =\n    target instanceof Group ? Array.from(target.children || []) : [];\n  nodes.push(target);\n  nodes.forEach(node => {\n    node.setAttrs({\n      stroke: node.attrs.stroke ? Config.HoveredColor.toString() : node.attrs.stroke,\n      fill: node.attrs.fill ? Config.HoveredColor.toString() : node.attrs.fill,\n      ...hoveredAttrs\n    });\n  });\n}\n\n/** Updates the styles of a Konva node and its children on unhover, and then redraw the layer */\nexport function setUnhoveredStyle(target: Node | Group, unhoveredAttrs: any = {}): void {\n  const nodes: (Group | Shape | Node)[] =\n    target instanceof Group ? Array.from(target.children || []) : [];\n  nodes.push(target);\n\n  nodes.forEach(node => {\n    node.setAttrs({\n      stroke: node.attrs.stroke\n        ? EnvVisualizer.getPrintableMode()\n          ? Config.SA_BLUE.toString()\n          : Config.SA_WHITE.toString()\n        : node.attrs.stroke,\n      fill: node.attrs.fill\n        ? EnvVisualizer.getPrintableMode()\n          ? Config.SA_BLUE.toString()\n          : Config.SA_WHITE.toString()\n        : node.attrs.fill,\n      ...unhoveredAttrs\n    });\n  });\n}\n\n/** Extracts the non-empty tail environment from the given environment */\nexport function getNonEmptyEnv(environment: Env): Env {\n  if (environment === null) {\n    return null;\n  } else if (isEmptyEnvironment(environment)) {\n    return getNonEmptyEnv(environment.tail);\n  } else {\n    return environment;\n  }\n}\n\n/**\n * Finds the underlying `Environment` objects and copies property descriptors\n * from source frames to destination frames. Property descriptors are important for us\n * to distinguish between constants and variables.\n */\nexport function copyOwnPropertyDescriptors(source: any, destination: any) {\n  if (isFunction(source) || isPrimitiveData(source)) {\n    return;\n  }\n  if (isEnvTree(source) && isEnvTree(destination)) {\n    copyOwnPropertyDescriptors(source.root, destination.root);\n  } else if (isEnvTreeNode(source) && isEnvTreeNode(destination)) {\n    // recurse only on children and environment\n    copyOwnPropertyDescriptors(source.children, destination.children);\n    copyOwnPropertyDescriptors(source.environment, destination.environment);\n  } else if (isArray(source) && isArray(destination)) {\n    // recurse on array items\n    source.forEach((item, i) => copyOwnPropertyDescriptors(item, destination[i]));\n  } else if (isEnvironment(source) && isEnvironment(destination)) {\n    // copy descriptors from source frame to destination frame\n    Object.defineProperties(destination.head, Object.getOwnPropertyDescriptors(source.head));\n    // recurse on tail\n    copyOwnPropertyDescriptors(source.tail, destination.tail);\n  }\n}\n\n/**\n * Creates a deep clone of `EnvTree`\n *\n * TODO: move this function to EnvTree class\n * so we can invoke like so: environmentTree.deepCopy()\n */\nexport function deepCopyTree(value: EnvTree): EnvTree {\n  const clone = cloneDeep(value);\n  copyOwnPropertyDescriptors(value, clone);\n  return clone;\n}\n\nexport function getNextChildren(c: EnvTreeNode): EnvTreeNode[] {\n  if (isEmptyEnvironment(c.environment)) {\n    const nextChildren: EnvTreeNode[] = [];\n    c.children.forEach(gc => {\n      nextChildren.push(...getNextChildren(gc as EnvTreeNode));\n    });\n    return nextChildren;\n  } else {\n    return [c];\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport { Arrow as KonvaArrow, Group as KonvaGroup, Path as KonvaPath } from 'react-konva';\n\nimport { Visible } from '../../components/Visible';\nimport EnvVisualizer from '../../EnvVisualizer';\nimport { CompactConfig, ShapeDefaultProps } from '../../EnvVisualizerCompactConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { IVisible, StepsArray } from '../../EnvVisualizerTypes';\nimport { setHoveredStyle, setUnhoveredStyle } from '../../EnvVisualizerUtils';\n\n/** this class encapsulates an arrow to be drawn between 2 points */\nexport class GenericArrow<Source extends IVisible, Target extends IVisible> extends Visible {\n  private _path: string = '';\n  points: number[] = [];\n  source: Source;\n  target: Target | undefined;\n\n  constructor(from: Source) {\n    super();\n    this.source = from;\n    this.target = undefined;\n    this._x = from.x();\n    this._y = from.y();\n  }\n  path(): string {\n    return this._path;\n  }\n\n  to(to: Target): GenericArrow<Source, Target> {\n    this.target = to;\n    this._width = Math.abs(to.x() - this.source.x());\n    this._height = Math.abs(to.y() - this.source.y());\n    return this;\n  }\n\n  /**\n   * Calculates the steps that this arrows takes.\n   * The arrow is decomposed into numerous straight line segments, each of which we\n   * can consider as a step of dx in the x direction and of dy in the y direction.\n   * The line segment is thus defined by 2 points (x, y) and (x + dx, y + dy)\n   * where (x, y) is the ending coordinate of the previous line segment.\n   * This function returns an array of such steps, represented by an array of functions\n   *  [ (x, y) => [x + dx1, y + dy1], (x, y) => [x + dx2, y + dy2], ... ].\n   * From this, we can retrieve the points that make up the arrow as such:\n   * (from.x from.y), (from.x + dx1, from.y + dy1), (from.x + dx1 + dx2, from.y + dy1 + dy2), ..\n   *\n   * Note that the functions need not be of the form (x, y) => [x + dx, y + dy];\n   * (x, y) => [to.x, to.y] is valid as well, and is used to specify a step to the ending coordinates\n   *\n   * @return an array of steps represented by functions\n   */\n  protected calculateSteps(): StepsArray {\n    const to = this.target;\n    if (!to) return [];\n    return [() => [to.x(), to.y()]];\n  }\n\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    setHoveredStyle(currentTarget, {\n      strokeWidth: Number(CompactConfig.ArrowHoveredStrokeWidth)\n    });\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    setUnhoveredStyle(currentTarget, {\n      strokeWidth: Number(CompactConfig.ArrowStrokeWidth)\n    });\n  };\n  onClick() {}\n\n  draw() {\n    const points = this.calculateSteps().reduce<Array<number>>(\n      (points, step) => [...points, ...step(points[points.length - 2], points[points.length - 1])],\n      [this.source.x(), this.source.y()]\n    );\n    points.splice(0, 2);\n\n    // starting point\n    this._path += `M ${points[0]} ${points[1]} `;\n    if (points.length === 4) {\n      // end the path if the line only has starting and ending coordinates\n      this._path += `L ${points[2]} ${points[3]} `;\n    } else {\n      let n = 0;\n      while (n < points.length - 4) {\n        const [xa, ya, xb, yb, xc, yc] = points.slice(n, n + 6);\n        const dx1 = xb - xa;\n        const dx2 = xc - xb;\n        const dy1 = yb - ya;\n        const dy2 = yc - yb;\n        const br = Math.min(\n          CompactConfig.ArrowCornerRadius,\n          Math.max(Math.abs(dx1), Math.abs(dy1)) / 2,\n          Math.max(Math.abs(dx2), Math.abs(dy2)) / 2\n        );\n        const x1 = xb - br * Math.sign(dx1);\n        const y1 = yb - br * Math.sign(dy1);\n        const x2 = xb + br * Math.sign(dx2);\n        const y2 = yb + br * Math.sign(dy2);\n\n        // draw quadratic curves over corners\n        this._path += `L ${x1} ${y1} Q ${xb} ${yb} ${x2} ${y2}`;\n        n += 2;\n      }\n    }\n    // end path\n    this._path += `L ${points[points.length - 2]} ${points[points.length - 1]} `;\n    return (\n      <KonvaGroup\n        key={Layout.key++}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n      >\n        <KonvaPath\n          {...ShapeDefaultProps}\n          stroke={\n            EnvVisualizer.getPrintableMode()\n              ? CompactConfig.SA_BLUE.toString()\n              : CompactConfig.SA_WHITE.toString()\n          }\n          strokeWidth={Number(CompactConfig.ArrowStrokeWidth)}\n          hitStrokeWidth={Number(CompactConfig.ArrowHitStrokeWidth)}\n          data={this.path()}\n          key={Layout.key++}\n        />\n        <KonvaArrow\n          {...ShapeDefaultProps}\n          points={points.slice(points.length - 4)}\n          fill={\n            EnvVisualizer.getPrintableMode()\n              ? CompactConfig.SA_BLUE.toString()\n              : CompactConfig.SA_WHITE.toString()\n          }\n          strokeEnabled={false}\n          pointerWidth={Number(CompactConfig.ArrowHeadSize)}\n          key={Layout.key++}\n        />\n      </KonvaGroup>\n    );\n  }\n}\n","import { CompactConfig } from '../../EnvVisualizerCompactConfig';\nimport { StepsArray } from '../../EnvVisualizerTypes';\nimport { Frame } from '../Frame';\nimport { GenericArrow } from './GenericArrow';\n\n/** this class encapsulates an GenericArrow to be drawn between 2 points */\nexport class ArrowFromFrame extends GenericArrow<Frame, Frame> {\n  protected calculateSteps() {\n    const to = this.target;\n    if (!to) return [];\n\n    const steps: StepsArray = [(x, y) => [x + CompactConfig.FramePaddingX, y]];\n\n    if (to instanceof Frame) {\n      steps.push((x, y) => [x, y - CompactConfig.FrameMarginY]);\n      steps.push((x, y) => [to.x() + CompactConfig.FramePaddingX, y]);\n    }\n\n    steps.push((x, y) => [to.x() + CompactConfig.FramePaddingX, to.y() + to.height()]);\n    return steps;\n  }\n}\n","import React from 'react';\nimport { Rect } from 'react-konva';\n\nimport { Visible } from '../components/Visible';\nimport EnvVisualizer from '../EnvVisualizer';\nimport { CompactConfig, ShapeDefaultProps } from '../EnvVisualizerCompactConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Data } from '../EnvVisualizerTypes';\nimport { ArrayValue } from './values/ArrayValue';\n\n/** this classes encapsulates an empty array */\nexport class ArrayEmptyUnit extends Visible {\n  readonly value: null = null;\n\n  readonly data: Data = [];\n\n  constructor(readonly parent: ArrayValue) {\n    super();\n    this._x = this.parent.x();\n    this._y = this.parent.y();\n    this._height = this.parent.height();\n    this._width = this.parent.width();\n  }\n  x(): number {\n    return this._x;\n  }\n  y(): number {\n    return this._y;\n  }\n  height(): number {\n    return this._height;\n  }\n  width(): number {\n    return this._width;\n  }\n  updatePosition = () => {\n    this._x = this.parent.x();\n    this._y = this.parent.y();\n  };\n  reset(): void {}\n\n  draw(): React.ReactNode {\n    return (\n      <Rect\n        {...ShapeDefaultProps}\n        key={Layout.key++}\n        x={this.x()}\n        y={this.y()}\n        width={this.width()}\n        height={this.height()}\n        stroke={\n          EnvVisualizer.getPrintableMode()\n            ? CompactConfig.SA_BLUE.toString()\n            : CompactConfig.SA_WHITE.toString()\n        }\n        ref={this.ref}\n      />\n    );\n  }\n}\n","import { CompactConfig } from '../../EnvVisualizerCompactConfig';\nimport { StepsArray } from '../../EnvVisualizerTypes';\nimport { Frame } from '../Frame';\nimport { FnValue } from '../values/FnValue';\nimport { GlobalFnValue } from '../values/GlobalFnValue';\nimport { GenericArrow } from './GenericArrow';\n\n/** this class encapsulates an GenericArrow to be drawn between 2 points */\nexport class ArrowFromFn extends GenericArrow<FnValue | GlobalFnValue, Frame> {\n  protected calculateSteps() {\n    const from = this.source;\n    const to = this.target;\n    if (!to) return [];\n\n    const steps: StepsArray = [(x, y) => [x + CompactConfig.FnRadius * 3, y]];\n\n    if (to.y() < from.y() && from.y() < to.y() + to.height()) {\n      steps.push((x, y) => [x, y - CompactConfig.FnRadius * 2]);\n      steps.push((x, y) => [to.x() + (from.x() < to.x() ? 0 : to.width()), y]);\n    } else {\n      steps.push(() => [to.x() + to.width() / 2, to.y() + (to.y() < from.y() ? to.height() : 0)]);\n    }\n\n    return steps;\n  }\n}\n","import React from 'react';\n\nimport { Visible } from '../../components/Visible';\nimport { CompactReferenceType, Data } from '../../EnvVisualizerTypes';\n\n/** the value of a `Binding` or an `ArrayUnit` */\nexport abstract class Value extends Visible {\n  /** draw logic */\n  abstract draw(): React.ReactNode;\n  /** add reference (binding / array unit) to this value */\n  addReference(newReference: CompactReferenceType): void {\n    this.referencedBy.push(newReference);\n  }\n  abstract updatePosition(pos?: { x: number; y: number }): void;\n\n  /** references to this value */\n  public referencedBy: CompactReferenceType[] = [];\n  /** the underlying data of this value */\n  abstract readonly data: Data;\n}\n","import { Environment } from 'Clang-slang/dist/types';\nimport { KonvaEventObject } from 'konva/lib/Node';\nimport React, { RefObject } from 'react';\nimport {\n  Circle,\n  Group,\n  Label as KonvaLabel,\n  Tag as KonvaTag,\n  Text as KonvaText\n} from 'react-konva';\n\nimport EnvVisualizer from '../../EnvVisualizer';\nimport { CompactConfig, ShapeDefaultProps } from '../../EnvVisualizerCompactConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { CompactReferenceType, EnvTreeNode, FnTypes, IHoverable } from '../../EnvVisualizerTypes';\nimport {\n  getBodyText,\n  getNonEmptyEnv,\n  getParamsText,\n  getTextWidth,\n  setHoveredStyle,\n  setUnhoveredStyle\n} from '../../EnvVisualizerUtils';\nimport { ArrowFromFn } from '../arrows/ArrowFromFn';\nimport { Binding } from '../Binding';\nimport { Value } from './Value';\n\n/** this class encapsulates a JS Slang function (not from the global frame) that\n *  contains extra props such as environment and fnName */\nexport class FnValue extends Value implements IHoverable {\n  /** name of this function */\n  readonly radius: number = CompactConfig.FnRadius;\n  readonly innerRadius: number = CompactConfig.FnInnerRadius;\n  readonly tooltipWidth: number;\n  readonly centerX: number;\n\n  readonly fnName: string;\n  readonly paramsText: string;\n  readonly bodyText: string;\n  readonly exportBodyText: string;\n  readonly tooltip: string;\n  readonly exportTooltip: string;\n  readonly exportTooltipWidth: number;\n  private _arrow: ArrowFromFn | undefined;\n\n  /** the parent/enclosing environment of this fn value */\n  readonly enclosingEnvNode: EnvTreeNode;\n  readonly labelRef: RefObject<any> = React.createRef();\n\n  constructor(\n    /** underlying JS Slang function (contains extra props) */\n    readonly data: FnTypes,\n    /** what this value is being referenced by */\n    readonly referencedBy: CompactReferenceType[]\n  ) {\n    super();\n    Layout.memoizeCompactValue(this);\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x =\n        mainReference.frame.x() + mainReference.frame.width() + CompactConfig.FrameMarginX / 4;\n      this._y = mainReference.y();\n      this.centerX = this._x + this.radius * 2;\n    } else {\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + CompactConfig.DataUnitWidth * 2;\n        this._y = mainReference.y() + CompactConfig.DataUnitHeight / 2 - this.radius;\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + CompactConfig.DataUnitHeight;\n      }\n      this.centerX = this._x + CompactConfig.DataUnitWidth / 2;\n      this._x = this.centerX - this.radius * 2;\n    }\n    this._y += this.radius;\n\n    this._width = this.radius * 4;\n    this._height = this.radius * 2;\n\n    this.enclosingEnvNode = Layout.environmentTree.getTreeNode(\n      getNonEmptyEnv(this.data.environment) as Environment\n    ) as EnvTreeNode;\n    this.fnName = this.data.functionName;\n\n    this.paramsText = `params: (${getParamsText(this.data)})`;\n    this.bodyText = `body: ${getBodyText(this.data)}`;\n    this.exportBodyText =\n      (this.bodyText.length > 23 ? this.bodyText.slice(0, 20) : this.bodyText)\n        .split('\\n')\n        .slice(0, 2)\n        .join('\\n') + ' ...';\n    this.tooltip = `${this.paramsText}\\n${this.bodyText}`;\n    this.exportTooltip = `${this.paramsText}\\n${this.exportBodyText}`;\n    this.tooltipWidth = Math.max(getTextWidth(this.paramsText), getTextWidth(this.bodyText));\n    this.exportTooltipWidth = Math.max(\n      getTextWidth(this.paramsText),\n      getTextWidth(this.exportBodyText)\n    );\n  }\n\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    this.ref.current.moveToTop();\n    this.labelRef.current.show();\n    setHoveredStyle(currentTarget);\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    this.labelRef.current.hide();\n    setUnhoveredStyle(currentTarget);\n  };\n  updatePosition(): void {}\n  draw(): React.ReactNode {\n    this._arrow =\n      this.enclosingEnvNode.compactFrame &&\n      (new ArrowFromFn(this).to(this.enclosingEnvNode.compactFrame) as ArrowFromFn);\n    return (\n      <React.Fragment key={Layout.key++}>\n        <Group\n          onMouseEnter={e => this.onMouseEnter(e)}\n          onMouseLeave={e => this.onMouseLeave(e)}\n          ref={this.ref}\n        >\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX - this.radius}\n            y={this.y()}\n            radius={this.radius}\n            stroke={\n              EnvVisualizer.getPrintableMode()\n                ? CompactConfig.SA_BLUE.toString()\n                : CompactConfig.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX - this.radius}\n            y={this.y()}\n            radius={this.innerRadius}\n            fill={\n              EnvVisualizer.getPrintableMode()\n                ? CompactConfig.SA_BLUE.toString()\n                : CompactConfig.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX + this.radius}\n            y={this.y()}\n            radius={this.radius}\n            stroke={\n              EnvVisualizer.getPrintableMode()\n                ? CompactConfig.SA_BLUE.toString()\n                : CompactConfig.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX + this.radius}\n            y={this.y()}\n            radius={this.innerRadius}\n            fill={\n              EnvVisualizer.getPrintableMode()\n                ? CompactConfig.SA_BLUE.toString()\n                : CompactConfig.SA_WHITE.toString()\n            }\n          />\n        </Group>\n        {EnvVisualizer.getPrintableMode() ? (\n          <KonvaLabel\n            x={this.x() + this.width() + CompactConfig.TextPaddingX * 2}\n            y={this.y() - CompactConfig.TextPaddingY}\n            visible={true}\n            ref={this.labelRef}\n          >\n            <KonvaTag\n              stroke=\"black\"\n              fill={'white'}\n              opacity={Number(CompactConfig.FnTooltipOpacity)}\n            />\n            <KonvaText\n              text={this.exportTooltip}\n              fontFamily={CompactConfig.FontFamily.toString()}\n              fontSize={Number(CompactConfig.FontSize)}\n              fontStyle={CompactConfig.FontStyle.toString()}\n              fill={CompactConfig.SA_BLUE.toString()}\n              padding={5}\n            />\n          </KonvaLabel>\n        ) : (\n          <KonvaLabel\n            x={this.x() + this.width() + CompactConfig.TextPaddingX * 2}\n            y={this.y() - CompactConfig.TextPaddingY}\n            visible={false}\n            ref={this.labelRef}\n          >\n            <KonvaTag\n              stroke=\"black\"\n              fill={'black'}\n              opacity={Number(CompactConfig.FnTooltipOpacity)}\n            />\n            <KonvaText\n              text={this.tooltip}\n              fontFamily={CompactConfig.FontFamily.toString()}\n              fontSize={Number(CompactConfig.FontSize)}\n              fontStyle={CompactConfig.FontStyle.toString()}\n              fill={CompactConfig.SA_WHITE.toString()}\n              padding={5}\n            />\n          </KonvaLabel>\n        )}\n        {this._arrow?.draw()}\n      </React.Fragment>\n    );\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React, { RefObject } from 'react';\nimport {\n  Circle,\n  Group,\n  Label as KonvaLabel,\n  Tag as KonvaTag,\n  Text as KonvaText\n} from 'react-konva';\n\nimport EnvVisualizer from '../../EnvVisualizer';\nimport { CompactConfig, ShapeDefaultProps } from '../../EnvVisualizerCompactConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { CompactReferenceType, IHoverable } from '../../EnvVisualizerTypes';\nimport {\n  getBodyText,\n  getParamsText,\n  getTextWidth,\n  setHoveredStyle,\n  setUnhoveredStyle\n} from '../../EnvVisualizerUtils';\nimport { ArrowFromFn } from '../arrows/ArrowFromFn';\nimport { Binding } from '../Binding';\nimport { Value } from './Value';\n\n/** this encapsulates a function from the global frame\n * (which has no extra props such as environment or fnName) */\nexport class GlobalFnValue extends Value implements IHoverable {\n  centerX: number;\n  readonly tooltipWidth: number;\n  readonly exportTooltipWidth: number;\n  readonly radius: number = CompactConfig.FnRadius;\n  readonly innerRadius: number = CompactConfig.FnInnerRadius;\n  private _arrow: ArrowFromFn | undefined;\n\n  readonly paramsText: string;\n  readonly bodyText: string;\n  readonly exportBodyText: string;\n  readonly tooltip: string;\n  readonly exportTooltip: string;\n  private selected: boolean = false;\n\n  readonly labelRef: RefObject<any> = React.createRef();\n\n  constructor(\n    /** underlying function */\n    readonly data: () => any,\n    /** what this value is being referenced by */\n    readonly referencedBy: CompactReferenceType[]\n  ) {\n    super();\n    Layout.memoizeCompactValue(this);\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x =\n        mainReference.frame.x() + mainReference.frame.width() + CompactConfig.FrameMarginX / 4;\n      this._y = mainReference.y();\n      this.centerX = this._x + this.radius * 2;\n    } else {\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + CompactConfig.DataUnitWidth * 2;\n        this._y = mainReference.y() + CompactConfig.DataUnitHeight / 2 - this.radius;\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + CompactConfig.DataUnitHeight;\n      }\n      this.centerX = this._x + CompactConfig.DataUnitWidth / 2;\n      this._x = this.centerX - this.radius * 2;\n    }\n    this._y += this.radius;\n\n    this._width = this.radius * 4;\n    this._height = this.radius * 2;\n\n    this.paramsText = `params: ${getParamsText(this.data)}`;\n    this.bodyText = `body: ${getBodyText(this.data)}`;\n    this.exportBodyText =\n      (this.bodyText.length > 23 ? this.bodyText.slice(0, 20) : this.bodyText)\n        .split('\\n')\n        .slice(0, 2)\n        .join('\\n') + ' ...';\n    this.tooltip = `${this.paramsText}\\n${this.bodyText}`;\n    this.exportTooltip = `${this.paramsText}\\n${this.exportBodyText}`;\n    this.tooltipWidth =\n      Math.max(getTextWidth(this.paramsText), getTextWidth(this.bodyText)) +\n      CompactConfig.TextPaddingX;\n    this.exportTooltipWidth = Math.max(\n      getTextWidth(this.paramsText),\n      getTextWidth(this.exportBodyText)\n    );\n  }\n  isSelected(): boolean {\n    return this.selected;\n  }\n  arrow(): ArrowFromFn | undefined {\n    return this._arrow;\n  }\n\n  updatePosition(): void {\n    const mainReference = this.referencedBy.find(x => x instanceof Binding) || this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x =\n        mainReference.frame.x() + mainReference.frame.width() + CompactConfig.FrameMarginX / 4;\n      this._y = mainReference.y();\n      this.centerX = this._x + this.radius * 2;\n    } else {\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + CompactConfig.DataUnitWidth * 2;\n        this._y = mainReference.y() + CompactConfig.DataUnitHeight / 2 - this.radius;\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + CompactConfig.DataUnitHeight;\n      }\n      this.centerX = this._x + CompactConfig.DataUnitWidth / 2;\n      this._x = this.centerX - this.radius * 2;\n    }\n    this._y += this.radius;\n  }\n\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    this.labelRef.current.show();\n    setHoveredStyle(currentTarget);\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    if (!this.selected) {\n      this.labelRef.current.hide();\n      setUnhoveredStyle(currentTarget);\n    } else {\n      const container = currentTarget.getStage()?.container();\n      container && (container.style.cursor = 'default');\n    }\n  };\n  onClick = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    if (EnvVisualizer.getPrintableMode()) return;\n    this.selected = !this.selected;\n    if (!this.selected) {\n      this.labelRef.current.hide();\n      setUnhoveredStyle(currentTarget);\n    } else {\n      this.labelRef.current.show();\n      setHoveredStyle(currentTarget);\n    }\n  };\n\n  draw(): React.ReactNode {\n    this._isDrawn = true;\n    this._arrow =\n      Layout.globalEnvNode.compactFrame &&\n      (new ArrowFromFn(this).to(Layout.globalEnvNode.compactFrame) as ArrowFromFn);\n    return (\n      <React.Fragment key={Layout.key++}>\n        <Group\n          onMouseEnter={e => this.onMouseEnter(e)}\n          onMouseLeave={e => this.onMouseLeave(e)}\n          onClick={e => this.onClick(e)}\n          ref={this.ref}\n        >\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX - this.radius}\n            y={this.y()}\n            radius={this.radius}\n            stroke={\n              EnvVisualizer.getPrintableMode()\n                ? CompactConfig.SA_BLUE.toString()\n                : CompactConfig.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX - this.radius}\n            y={this.y()}\n            radius={this.innerRadius}\n            fill={\n              EnvVisualizer.getPrintableMode()\n                ? CompactConfig.SA_BLUE.toString()\n                : CompactConfig.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX + this.radius}\n            y={this.y()}\n            radius={this.radius}\n            stroke={\n              EnvVisualizer.getPrintableMode()\n                ? CompactConfig.SA_BLUE.toString()\n                : CompactConfig.SA_WHITE.toString()\n            }\n          />\n          <Circle\n            {...ShapeDefaultProps}\n            key={Layout.key++}\n            x={this.centerX + this.radius}\n            y={this.y()}\n            radius={this.innerRadius}\n            fill={\n              EnvVisualizer.getPrintableMode()\n                ? CompactConfig.SA_BLUE.toString()\n                : CompactConfig.SA_WHITE.toString()\n            }\n          />\n        </Group>\n        {EnvVisualizer.getPrintableMode() ? (\n          <KonvaLabel\n            x={this.x() + this.width() + CompactConfig.TextPaddingX * 2}\n            y={this.y() - CompactConfig.TextPaddingY}\n            visible={true}\n            ref={this.labelRef}\n          >\n            <KonvaTag\n              stroke=\"black\"\n              fill={'white'}\n              opacity={Number(CompactConfig.FnTooltipOpacity)}\n            />\n            <KonvaText\n              text={this.exportTooltip}\n              fontFamily={CompactConfig.FontFamily.toString()}\n              fontSize={Number(CompactConfig.FontSize)}\n              fontStyle={CompactConfig.FontStyle.toString()}\n              fill={CompactConfig.SA_BLUE.toString()}\n              padding={5}\n            />\n          </KonvaLabel>\n        ) : (\n          <KonvaLabel\n            x={this.x() + this.width() + CompactConfig.TextPaddingX * 2}\n            y={this.y() - CompactConfig.TextPaddingY}\n            visible={false}\n            ref={this.labelRef}\n          >\n            <KonvaTag\n              stroke=\"black\"\n              fill={'black'}\n              opacity={Number(CompactConfig.FnTooltipOpacity)}\n            />\n            <KonvaText\n              text={this.tooltip}\n              fontFamily={CompactConfig.FontFamily.toString()}\n              fontSize={Number(CompactConfig.FontSize)}\n              fontStyle={CompactConfig.FontStyle.toString()}\n              fill={CompactConfig.SA_WHITE.toString()}\n              padding={5}\n            />\n          </KonvaLabel>\n        )}\n        {Layout.globalEnvNode.compactFrame &&\n          new ArrowFromFn(this).to(Layout.globalEnvNode.compactFrame).draw()}\n      </React.Fragment>\n    );\n  }\n}\n","import { CompactConfig } from '../../EnvVisualizerCompactConfig';\nimport { StepsArray } from '../../EnvVisualizerTypes';\nimport { ArrayUnit } from '../ArrayUnit';\nimport { ArrayValue } from '../values/ArrayValue';\nimport { FnValue } from '../values/FnValue';\nimport { GlobalFnValue } from '../values/GlobalFnValue';\nimport { Value } from '../values/Value';\nimport { GenericArrow } from './GenericArrow';\n\n/** this class encapsulates an GenericArrow to be drawn between 2 points */\nexport class ArrowFromArrayUnit extends GenericArrow<ArrayUnit, Value> {\n  protected calculateSteps() {\n    const from = this.source;\n    const to = this.target;\n    if (!to) return [];\n\n    const steps: StepsArray = [\n      (x, y) => [x + CompactConfig.DataUnitWidth / 2, y + CompactConfig.DataUnitHeight / 2]\n    ];\n\n    if (to instanceof FnValue || to instanceof GlobalFnValue) {\n      steps.push(() => [from.x() < to.x() ? to.x() : to.centerX, to.y()]);\n    } else if (to instanceof ArrayValue) {\n      if (from.y() === to.y()) {\n        if (Math.abs(from.x() - to.x()) > CompactConfig.DataUnitWidth * 2) {\n          steps.push((x, y) => [x, y - CompactConfig.DataUnitHeight]);\n          steps.push(() => [\n            to.x() + CompactConfig.DataUnitWidth / 2,\n            to.y() - CompactConfig.DataUnitHeight / 2\n          ]);\n          steps.push((x, y) => [x, y + CompactConfig.DataUnitHeight / 2]);\n        } else {\n          steps.push(() => [to.x(), to.y() + CompactConfig.DataUnitHeight / 2]);\n        }\n      } else {\n        steps.push(() => [\n          to.x() + CompactConfig.DataUnitWidth / 2,\n          to.y() + (from.y() > to.y() ? CompactConfig.DataUnitHeight : 0)\n        ]);\n      }\n    }\n\n    return steps;\n  }\n}\n","import React from 'react';\nimport { Line as KonvaLine } from 'react-konva';\n\nimport { Visible } from '../components/Visible';\nimport EnvVisualizer from '../EnvVisualizer';\nimport { CompactConfig, ShapeDefaultProps } from '../EnvVisualizerCompactConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { CompactReferenceType, ReferenceType } from '../EnvVisualizerTypes';\n\n/** this classes encapsulates a null value in Source pairs or arrays */\nexport class ArrayNullUnit extends Visible {\n  arrayUnit: CompactReferenceType | ReferenceType;\n  referencedBy: (CompactReferenceType | ReferenceType)[];\n\n  constructor(referencedBy: (CompactReferenceType | ReferenceType)[]) {\n    super();\n    this.referencedBy = referencedBy;\n    this.arrayUnit = referencedBy[0];\n    this._x = this.arrayUnit.x();\n    this._y = this.arrayUnit.y();\n    this._height = this.arrayUnit.height();\n    this._width = this.arrayUnit.width();\n  }\n\n  updatePosition = () => {};\n\n  draw(): React.ReactNode {\n    return (\n      <KonvaLine\n        {...ShapeDefaultProps}\n        key={Layout.key++}\n        points={[this.x(), this.y() + this.height(), this.x() + this.width(), this.y()]}\n        stroke={\n          EnvVisualizer.getPrintableMode()\n            ? CompactConfig.SA_BLUE.toString()\n            : CompactConfig.SA_WHITE.toString()\n        }\n        hitStrokeWidth={Number(CompactConfig.DataHitStrokeWidth)}\n        ref={this.ref}\n        listening={false}\n      />\n    );\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React from 'react';\nimport { Label as KonvaLabel, Tag as KonvaTag, Text as KonvaText } from 'react-konva';\n\nimport { Visible } from '../components/Visible';\nimport { CompactConfig, ShapeDefaultProps } from '../EnvVisualizerCompactConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Data, IHoverable } from '../EnvVisualizerTypes';\nimport { getTextWidth } from '../EnvVisualizerUtils';\n\nexport interface TextOptions {\n  maxWidth: number;\n  fontSize: number;\n  fontFamily: string;\n  fontStyle: string;\n  fontVariant: string;\n  isStringIdentifiable: boolean;\n}\n\nexport const defaultOptions: TextOptions = {\n  maxWidth: Number.MAX_VALUE, // maximum width this text should be\n  fontFamily: CompactConfig.FontFamily.toString(), // default is Arial\n  fontSize: Number(CompactConfig.FontSize), // in pixels. Default is 12\n  fontStyle: CompactConfig.FontStyle.toString(), // can be normal, bold, or italic. Default is normal\n  fontVariant: CompactConfig.FontVariant.toString(), // can be normal or small-caps. Default is normal\n  isStringIdentifiable: false // if true, contain strings within double quotation marks \"\". Default is false\n};\n\n/** this class encapsulates a string to be drawn onto the canvas */\nexport class Text extends Visible implements IHoverable {\n  readonly _height: number;\n  readonly _width: number;\n\n  readonly partialStr: string; // truncated string representation of data\n  readonly fullStr: string; // full string representation of data\n\n  readonly options: TextOptions = defaultOptions;\n\n  constructor(\n    readonly data: Data,\n    readonly _x: number,\n    readonly _y: number,\n    /** additional options (for customization of text) */\n    options: Partial<TextOptions> = {}\n  ) {\n    super();\n    this.options = { ...this.options, ...options };\n\n    const { fontSize, fontStyle, fontFamily, maxWidth, isStringIdentifiable } = this.options;\n\n    this.fullStr = this.partialStr = isStringIdentifiable\n      ? JSON.stringify(data) || String(data)\n      : String(data);\n    this._height = fontSize;\n\n    const widthOf = (s: string) => getTextWidth(s, `${fontStyle} ${fontSize}px ${fontFamily}`);\n    if (widthOf(this.partialStr) > maxWidth) {\n      let truncatedText = CompactConfig.Ellipsis.toString();\n      let i = 0;\n      while (\n        widthOf(this.partialStr.substring(0, i) + CompactConfig.Ellipsis.toString()) < maxWidth\n      ) {\n        truncatedText = this.partialStr.substring(0, i++) + CompactConfig.Ellipsis.toString();\n      }\n      this._width = widthOf(truncatedText);\n      this.partialStr = truncatedText;\n    } else {\n      this._width = Math.max(CompactConfig.TextMinWidth, widthOf(this.partialStr));\n    }\n  }\n\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    const container = currentTarget.getStage()?.container();\n    container && (container.style.cursor = 'pointer');\n    this.ref.current.moveToTop();\n    this.ref.current.show();\n    currentTarget.getLayer()?.draw();\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    const container = currentTarget.getStage()?.container();\n    container && (container.style.cursor = 'default');\n    this.ref.current.hide();\n    currentTarget.getLayer()?.draw();\n  };\n\n  draw(): React.ReactNode {\n    const props = {\n      fontFamily: this.options.fontFamily,\n      fontSize: this.options.fontSize,\n      fontStyle: this.options.fontStyle,\n      fill: CompactConfig.SA_WHITE.toString()\n    };\n    return (\n      <React.Fragment key={Layout.key++}>\n        <KonvaLabel\n          x={this.x()}\n          y={this.y()}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n        >\n          <KonvaText {...ShapeDefaultProps} key={Layout.key++} text={this.partialStr} {...props} />\n        </KonvaLabel>\n        <KonvaLabel\n          x={this.x()}\n          y={this.y()}\n          ref={this.ref}\n          visible={false}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n        >\n          <KonvaTag {...ShapeDefaultProps} fill={'black'} opacity={0.5} />\n          <KonvaText {...ShapeDefaultProps} key={Layout.key++} text={this.fullStr} {...props} />\n        </KonvaLabel>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react';\n\nimport { CompactConfig } from '../../EnvVisualizerCompactConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { CompactReferenceType, PrimitiveTypes } from '../../EnvVisualizerTypes';\nimport { getTextWidth, isNull } from '../../EnvVisualizerUtils';\nimport { ArrayNullUnit } from '../ArrayNullUnit';\nimport { Binding } from '../Binding';\nimport { Text } from '../Text';\nimport { Value } from './Value';\n\n/** this classes encapsulates a primitive value in Source: number, string or null */\nexport class PrimitiveValue extends Value {\n  /** the text to be rendered */\n  readonly text: Text | ArrayNullUnit;\n\n  constructor(\n    /** data */\n    readonly data: PrimitiveTypes,\n    /** what this value is being referenced by */\n    readonly referencedBy: CompactReferenceType[]\n  ) {\n    super();\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x =\n        mainReference.x() + getTextWidth(mainReference.keyString) + CompactConfig.TextPaddingX;\n      this._y = mainReference.y();\n      this.text = new Text(this.data, this.x(), this.y(), { isStringIdentifiable: true });\n    } else {\n      const maxWidth = mainReference.width();\n      const textWidth = Math.min(getTextWidth(String(this.data)), maxWidth);\n      this._x = mainReference.x() + (mainReference.width() - textWidth) / 2;\n      this._y = mainReference.y() + (mainReference.height() - CompactConfig.FontSize) / 2;\n      this.text = isNull(this.data)\n        ? new ArrayNullUnit([mainReference])\n        : new Text(this.data, this.x(), this.y(), {\n            maxWidth: maxWidth,\n            isStringIdentifiable: true\n          });\n    }\n\n    this._width = this.text.width();\n    this._height = this.text.height();\n  }\n  updatePosition(): void {}\n  draw(): React.ReactNode {\n    return <React.Fragment key={Layout.key++}>{this.text.draw()}</React.Fragment>;\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React from 'react';\n\nimport { RoundedRect } from '../components/shapes/RoundedRect';\nimport { Visible } from '../components/Visible';\nimport EnvVisualizer from '../EnvVisualizer';\nimport { CompactConfig } from '../EnvVisualizerCompactConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Data } from '../EnvVisualizerTypes';\nimport { setHoveredStyle, setUnhoveredStyle } from '../EnvVisualizerUtils';\nimport { Arrow } from './arrows/Arrow';\nimport { ArrowFromArrayUnit } from './arrows/ArrowFromArrayUnit';\nimport { ArrayValue } from './values/ArrayValue';\nimport { PrimitiveValue } from './values/PrimitiveValue';\nimport { Value } from './values/Value';\n\n/** this class encapsulates a single unit (box) of array to be rendered.\n *  this unit is part of an ArrayValue */\nexport class ArrayUnit extends Visible {\n  readonly value: Value;\n\n  /** check if this is the first unit in the array */\n  readonly isFirstUnit: boolean;\n  /** check if this is the last unit in the array */\n  readonly isLastUnit: boolean;\n  /** check if this unit is the main reference of the value */\n  readonly isMainReference: boolean;\n  parent: ArrayValue;\n  arrow: Arrow | undefined = undefined;\n\n  constructor(\n    /** index of this unit in its parent */\n    readonly idx: number,\n    /** the value this unit contains*/\n    readonly data: Data,\n    /** parent of this unit */\n    parent: ArrayValue\n  ) {\n    super();\n    this.parent = parent;\n    this._x = this.parent.x() + this.idx * CompactConfig.DataUnitWidth;\n    this._y = this.parent.y();\n    this._height = CompactConfig.DataUnitHeight;\n    this._width = CompactConfig.DataUnitWidth;\n    this.isFirstUnit = this.idx === 0;\n    this.isLastUnit = this.idx === this.parent.data.length - 1;\n    this.value = Layout.createCompactValue(this.data, this);\n    this.isMainReference = this.value.referencedBy.length > 1;\n  }\n\n  updatePosition = () => {};\n\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    setHoveredStyle(currentTarget);\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    setUnhoveredStyle(currentTarget);\n  };\n\n  draw(): React.ReactNode {\n    if (this.isDrawn()) return null;\n    this._isDrawn = true;\n\n    const cornerRadius = {\n      upperLeft: 0,\n      lowerLeft: 0,\n      upperRight: 0,\n      lowerRight: 0\n    };\n\n    if (this.isFirstUnit)\n      cornerRadius.upperLeft = cornerRadius.lowerLeft = Number(CompactConfig.DataCornerRadius);\n    if (this.isLastUnit)\n      cornerRadius.upperRight = cornerRadius.lowerRight = Number(CompactConfig.DataCornerRadius);\n\n    return (\n      <React.Fragment key={Layout.key++}>\n        <RoundedRect\n          key={Layout.key++}\n          x={this.x()}\n          y={this.y()}\n          width={this.width()}\n          height={this.height()}\n          stroke={\n            EnvVisualizer.getPrintableMode()\n              ? CompactConfig.SA_BLUE.toString()\n              : CompactConfig.SA_WHITE.toString()\n          }\n          hitStrokeWidth={Number(CompactConfig.DataHitStrokeWidth)}\n          fillEnabled={false}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          cornerRadius={cornerRadius}\n          forwardRef={this.ref}\n        />\n        {this.value.draw()}\n        {this.value instanceof PrimitiveValue || new ArrowFromArrayUnit(this).to(this.value).draw()}\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react';\n\nimport { CompactConfig } from '../../EnvVisualizerCompactConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { CompactReferenceType, Data } from '../../EnvVisualizerTypes';\nimport { ArrayEmptyUnit } from '../ArrayEmptyUnit';\nimport { ArrayUnit } from '../ArrayUnit';\nimport { Binding } from '../Binding';\nimport { PrimitiveValue } from './PrimitiveValue';\nimport { Value } from './Value';\n\n/** this class encapsulates an array value in source,\n *  defined as a JS array with not 2 elements */\nexport class ArrayValue extends Value {\n  /** array of units this array is made of */\n  units: ArrayUnit[] = [];\n\n  constructor(\n    /** underlying values this array contains */\n    readonly data: Data[],\n    /** what this value is being referenced by */\n    readonly referencedBy: CompactReferenceType[]\n  ) {\n    super();\n    Layout.memoizeCompactValue(this);\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x = mainReference.frame.x() + mainReference.frame.width() + CompactConfig.FrameMarginX;\n      this._y = mainReference.y();\n    } else {\n      if (mainReference.isLastUnit) {\n        this._x = mainReference.x() + CompactConfig.DataUnitWidth * 2;\n        this._y = mainReference.y();\n      } else {\n        this._x = mainReference.x();\n        this._y = mainReference.y() + mainReference.parent.height() + CompactConfig.DataUnitHeight;\n      }\n    }\n\n    this._width = this.data.length * CompactConfig.DataUnitWidth + CompactConfig.DataMinWidth;\n    this._height = CompactConfig.DataUnitHeight;\n\n    // initialize array units from the last index\n    for (let i = this.data.length - 1; i >= 0; i--) {\n      const unit = new ArrayUnit(i, this.data[i], this);\n\n      // update the dimensions, so that children array values can derive their coordinates\n      // from these intermediate dimensions\n\n      // update the width\n      this._width = Math.max(\n        this.width(),\n        unit.value.width() +\n          (!(unit.value instanceof PrimitiveValue) && i === this.data.length - 1\n            ? (i + 1) * CompactConfig.DataUnitWidth + CompactConfig.DataUnitWidth\n            : i * CompactConfig.DataUnitWidth)\n      );\n\n      // update the height\n      this._height = Math.max(\n        this._height,\n        unit.value instanceof PrimitiveValue || unit.isMainReference\n          ? CompactConfig.DataUnitHeight\n          : unit.value.y() + unit.value.height() - unit.y()\n      );\n\n      this.units = [unit, ...this.units];\n    }\n  }\n  reset(): void {\n    super.reset();\n    this.units.map(x => x.reset());\n    this.referencedBy.length = 0;\n  }\n  updatePosition(): void {}\n\n  draw(): React.ReactNode {\n    if (this.isDrawn()) return null;\n    this._isDrawn = true;\n    return (\n      <React.Fragment key={Layout.key++}>\n        {this.units.length > 0\n          ? this.units.map(unit => unit.draw())\n          : new ArrayEmptyUnit(this).draw()}\n      </React.Fragment>\n    );\n  }\n}\n","import { CompactConfig } from '../../EnvVisualizerCompactConfig';\nimport { StepsArray } from '../../EnvVisualizerTypes';\nimport { Text } from '../Text';\nimport { ArrayValue } from '../values/ArrayValue';\nimport { Value } from '../values/Value';\nimport { GenericArrow } from './GenericArrow';\n\n/** this class encapsulates an GenericArrow to be drawn between 2 points */\nexport class ArrowFromText extends GenericArrow<Text, Value> {\n  protected calculateSteps() {\n    const from = this.source;\n    const to = this.target;\n    if (!to) return [];\n\n    const steps: StepsArray = [(x, y) => [x + from.width(), y + from.height() / 2]];\n\n    if (to.x() < from.x()) {\n      if (to instanceof ArrayValue) {\n        steps.push((x, y) => [x + CompactConfig.TextMargin, y]);\n        steps.push((x, y) => [x, to.y() - CompactConfig.DataUnitHeight / 3]);\n        steps.push((x, y) => [to.x() + CompactConfig.DataUnitWidth / 2, y]);\n        steps.push((x, y) => [x, to.y()]);\n      } else {\n        steps.push((x, y) => [x + CompactConfig.TextMargin, y]);\n        steps.push((x, y) => [x, y - from.height() / 2 - CompactConfig.TextMargin]);\n        steps.push((x, y) => [to.x() + to.width() + CompactConfig.ArrowHeadSize, y]);\n        steps.push((x, y) => [x, to.y()]);\n        steps.push((x, y) => [x - CompactConfig.ArrowHeadSize, y]);\n      }\n    } else {\n      steps.push((x, y) => [\n        to.x(),\n        to.y() + (to instanceof ArrayValue ? CompactConfig.DataUnitHeight / 2 : 0)\n      ]);\n    }\n\n    return steps;\n  }\n}\n","import React from 'react';\n\nimport { CompactConfig } from '../../EnvVisualizerCompactConfig';\nimport { Layout } from '../../EnvVisualizerLayout';\nimport { CompactReferenceType, UnassignedData } from '../../EnvVisualizerTypes';\nimport { getTextWidth } from '../../EnvVisualizerUtils';\nimport { Binding } from '../Binding';\nimport { Text } from '../Text';\nimport { Value } from './Value';\n\n/** this class encapsulates an unassigned value in Source, internally represented as a symbol */\nexport class UnassignedValue extends Value {\n  readonly data: UnassignedData = Symbol();\n  readonly text: Text;\n\n  constructor(readonly referencedBy: CompactReferenceType[]) {\n    super();\n\n    // derive the coordinates from the main reference (binding / array unit)\n    const mainReference = this.referencedBy[0];\n    if (mainReference instanceof Binding) {\n      this._x =\n        mainReference.x() + getTextWidth(mainReference.keyString) + CompactConfig.TextPaddingX;\n      this._y = mainReference.y();\n      this.text = new Text(CompactConfig.UnassignedData.toString(), this._x, this._y, {\n        isStringIdentifiable: false\n      });\n    } else {\n      const maxWidth = mainReference.width();\n      const textWidth = Math.min(getTextWidth(String(this.data)), maxWidth);\n      this._x = mainReference.x() + (mainReference.width() - textWidth) / 2;\n      this._y = mainReference.y() + (mainReference.height() - CompactConfig.FontSize) / 2;\n      this.text = new Text(CompactConfig.UnassignedData.toString(), this._x, this._y, {\n        maxWidth: maxWidth,\n        isStringIdentifiable: false\n      });\n    }\n\n    this._width = this.text.width();\n    this._height = this.text.height();\n  }\n\n  reset(): void {\n    super.reset();\n    this.referencedBy.length = 0;\n  }\n  updatePosition(): void {}\n\n  draw(): React.ReactNode {\n    this._isDrawn = true;\n    return <React.Fragment key={Layout.key++}>{this.text.draw()}</React.Fragment>;\n  }\n}\n","import React from 'react';\n\nimport { Visible } from '../components/Visible';\nimport { CompactConfig } from '../EnvVisualizerCompactConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Data } from '../EnvVisualizerTypes';\nimport { isCompactMainReference, isDummyKey } from '../EnvVisualizerUtils';\nimport { ArrowFromText } from './arrows/ArrowFromText';\nimport { GenericArrow } from './arrows/GenericArrow';\nimport { Frame } from './Frame';\nimport { Text } from './Text';\nimport { ArrayValue } from './values/ArrayValue';\nimport { FnValue } from './values/FnValue';\nimport { GlobalFnValue } from './values/GlobalFnValue';\nimport { PrimitiveValue } from './values/PrimitiveValue';\nimport { UnassignedValue } from './values/UnassignedValue';\nimport { Value } from './values/Value';\n\n/** a `binding` is a key-value pair in a frame */\nexport class Binding extends Visible {\n  /** value associated with this binding */\n  readonly value: Value;\n  /** key of this binding */\n  readonly key: Text;\n  /**\n   * `true` if this is a dummy binding\n   * i.e. the value is anonymous\n   */\n  readonly isDummyBinding: boolean = false;\n  private arrow: GenericArrow<Text, Value> | undefined = undefined;\n  public getArrow = (): GenericArrow<Text, Value> | undefined => {\n    return this.arrow;\n  };\n\n  constructor(\n    /** the key of this binding */\n    readonly keyString: string,\n    /** the value of this binding */\n    readonly data: Data,\n    /** frame this binding is in */\n    readonly frame: Frame,\n    /** previous binding (the binding above it) */\n    readonly prevBinding: Binding | null,\n    readonly isConstant: boolean = false\n  ) {\n    super();\n    this.isDummyBinding = isDummyKey(this.keyString);\n\n    // derive the coordinates from the binding above it\n    if (this.prevBinding) {\n      this._x = this.prevBinding.x();\n      this._y = this.prevBinding.y() + this.prevBinding.height() + CompactConfig.TextPaddingY;\n    } else {\n      this._x = this.frame.x() + CompactConfig.FramePaddingX;\n      this._y = this.frame.y() + CompactConfig.FramePaddingY;\n    }\n\n    this.keyString += isConstant ? CompactConfig.ConstantColon : CompactConfig.VariableColon;\n    this.value = Layout.createCompactValue(data, this);\n\n    const keyYOffset =\n      this.value instanceof ArrayValue\n        ? (CompactConfig.DataUnitHeight - CompactConfig.FontSize) / 2\n        : (this.value.height() - CompactConfig.FontSize) / 2;\n\n    this.key = new Text(this.keyString, this.x(), this.y() + keyYOffset);\n\n    // derive the width from the right bound of the value\n    this._width = isCompactMainReference(this.value, this)\n      ? this.value.x() +\n        this.value.width() -\n        this.x() +\n        (this.value instanceof FnValue || this.value instanceof GlobalFnValue\n          ? this.value.tooltipWidth\n          : 0)\n      : this.key.width();\n\n    this._height = Math.max(this.key.height(), this.value.height());\n\n    if (this.isDummyBinding && !isCompactMainReference(this.value, this)) {\n      if (this.prevBinding) {\n        this._y = this.prevBinding.y();\n        this._width = this.prevBinding.width();\n        this._height = this.prevBinding.height();\n      }\n    }\n  }\n\n  draw(): React.ReactNode {\n    return (\n      <React.Fragment key={Layout.key++}>\n        {this.isDummyBinding\n          ? null // omit the key since value is anonymous\n          : this.key.draw()}\n        {this.isDummyBinding || // value is unreferenced in dummy binding\n        this.value instanceof PrimitiveValue ||\n        this.value instanceof UnassignedValue\n          ? null\n          : new ArrowFromText(this.key).to(this.value).draw()}\n        {isCompactMainReference(this.value, this) ? this.value.draw() : null}\n      </React.Fragment>\n    );\n  }\n}\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport React from 'react';\nimport { Group, Rect } from 'react-konva';\n\nimport { Visible } from '../components/Visible';\nimport EnvVisualizer from '../EnvVisualizer';\nimport { CompactConfig, ShapeDefaultProps } from '../EnvVisualizerCompactConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { Env, EnvTreeNode, IHoverable } from '../EnvVisualizerTypes';\nimport {\n  getNonEmptyEnv,\n  getTextWidth,\n  isDummyKey,\n  isPrimitiveData,\n  isUnassigned,\n  setHoveredStyle,\n  setUnhoveredStyle\n} from '../EnvVisualizerUtils';\nimport { ArrowFromFrame } from './arrows/ArrowFromFrame';\nimport { Binding } from './Binding';\nimport { Level } from './Level';\nimport { Text } from './Text';\n\nconst frameNames = new Map([\n  ['global', 'Global'],\n  ['programEnvironment', 'Program'],\n  ['forLoopEnvironment', 'Body of for-loop'],\n  ['forBlockEnvironment', 'Control variable of for-loop'],\n  ['blockEnvironment', 'Block'],\n  ['functionBodyEnvironment', 'Function Body']\n]);\n\n/** this class encapsulates a frame of key-value bindings to be drawn on canvas */\nexport class Frame extends Visible implements IHoverable {\n  /** total height = frame height + frame title height */\n  readonly totalHeight: number;\n  /** width of this frame + max width of the bound values */\n  readonly totalWidth: number;\n\n  /** the bindings this frame contains */\n  readonly bindings: Binding[] = [];\n  /** name of this frame to display */\n  readonly name: Text;\n  /** the level in which this frame resides */\n  readonly level: Level | undefined;\n  /** environment associated with this frame */\n  readonly environment: Env;\n  /** the parent/enclosing frame of this frame (the frame above it) */\n  readonly parentFrame: Frame | undefined;\n\n  constructor(\n    /** environment tree node that contains this frame */\n    readonly envTreeNode: EnvTreeNode,\n    /** the frame to the left of this frame, on the same level. used for calculating this frame's position */\n    readonly leftSiblingFrame: Frame | null\n  ) {\n    super();\n    this._width = CompactConfig.FrameMinWidth;\n    this.level = envTreeNode.compactLevel as Level;\n    this.environment = envTreeNode.environment;\n    this.parentFrame = envTreeNode.parent?.compactFrame;\n    this._x = this.level.x();\n    // derive the x coordinate from the left sibling frame\n    this.leftSiblingFrame &&\n      (this._x +=\n        this.leftSiblingFrame.x() + this.leftSiblingFrame.totalWidth + CompactConfig.FrameMarginX);\n\n    this.name = new Text(\n      frameNames.get(this.environment.name) || this.environment.name,\n      this.x(),\n      this.level.y(),\n      { maxWidth: this.width() }\n    );\n    this._y = this.level.y() + this.name.height() + CompactConfig.TextPaddingY / 2;\n\n    // width of the frame = max width of the bindings in the frame + frame padding * 2 (the left and right padding)\n    let maxBindingWidth = 0;\n    for (const [key, data] of Object.entries(this.environment.head)) {\n      const bindingWidth =\n        Math.max(CompactConfig.TextMinWidth, getTextWidth(key + CompactConfig.ConstantColon)) +\n        CompactConfig.TextPaddingX +\n        (isUnassigned(data)\n          ? Math.max(\n              CompactConfig.TextMinWidth,\n              getTextWidth(CompactConfig.UnassignedData.toString())\n            )\n          : isPrimitiveData(data)\n          ? Math.max(CompactConfig.TextMinWidth, getTextWidth(String(data)))\n          : 0);\n      maxBindingWidth = Math.max(maxBindingWidth, bindingWidth);\n    }\n    this._width = maxBindingWidth + CompactConfig.FramePaddingX * 2;\n\n    // initializes bindings (keys + values)\n    let prevBinding: Binding | null = null;\n    let totalWidth = this._width;\n\n    const descriptors = Object.getOwnPropertyDescriptors(this.environment.head);\n    const entries = [];\n    const dummyEntries = [];\n    for (const entry of Object.entries(descriptors)) {\n      if (isDummyKey(entry[0])) {\n        const actualEnv = getNonEmptyEnv(entry[1].value.environment);\n        if (\n          this.environment.id === CompactConfig.GlobalEnvId ||\n          (actualEnv && actualEnv.id === this.environment.id)\n        ) {\n          dummyEntries.push(entry);\n        }\n      } else {\n        entries.push(entry);\n      }\n    }\n    entries.push(...dummyEntries);\n\n    for (const [key, data] of entries) {\n      const currBinding: Binding = new Binding(key, data.value, this, prevBinding, !data.writable);\n      this.bindings.push(currBinding);\n      prevBinding = currBinding;\n      totalWidth = Math.max(totalWidth, currBinding.width() + CompactConfig.FramePaddingX);\n    }\n    this.totalWidth = totalWidth;\n\n    // derive the height of the frame from the the position of the last binding\n    this._height = prevBinding\n      ? prevBinding.y() + prevBinding.height() + CompactConfig.FramePaddingY - this.y()\n      : CompactConfig.FramePaddingY * 2;\n\n    this.totalHeight = this.height() + this.name.height() + CompactConfig.TextPaddingY / 2;\n  }\n\n  onMouseEnter = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    setHoveredStyle(currentTarget);\n  };\n\n  onMouseLeave = ({ currentTarget }: KonvaEventObject<MouseEvent>) => {\n    setUnhoveredStyle(currentTarget);\n  };\n\n  draw(): React.ReactNode {\n    return (\n      <Group key={Layout.key++}>\n        {this.name.draw()}\n        <Rect\n          {...ShapeDefaultProps}\n          x={this.x()}\n          y={this.y()}\n          width={this.width()}\n          height={this.height()}\n          stroke={\n            EnvVisualizer.getPrintableMode()\n              ? CompactConfig.SA_BLUE.toString()\n              : CompactConfig.SA_WHITE.toString()\n          }\n          cornerRadius={Number(CompactConfig.FrameCornerRadius)}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          key={Layout.key++}\n        />\n        {this.bindings.map(binding => binding.draw())}\n        {this.parentFrame && new ArrowFromFrame(this).to(this.parentFrame).draw()}\n      </Group>\n    );\n  }\n}\n","import React from 'react';\nimport { Group, Rect } from 'react-konva';\n\nimport { Visible } from '../components/Visible';\nimport { CompactConfig, ShapeDefaultProps } from '../EnvVisualizerCompactConfig';\nimport { Layout } from '../EnvVisualizerLayout';\nimport { EnvTreeNode } from '../EnvVisualizerTypes';\nimport { Frame } from './Frame';\n\n/** this class encapsulates a level of frames to be drawn with the same y values */\nexport class Level extends Visible {\n  /** all the frames in this level */\n  readonly frames: Frame[] = [];\n\n  constructor(\n    /** the level of this */\n    readonly parentLevel: Level | null,\n    /** the environment tree nodes contained in this level */\n    readonly envTreeNodes: EnvTreeNode[]\n  ) {\n    super();\n    this._x = CompactConfig.CanvasPaddingX;\n    this._y = CompactConfig.CanvasPaddingY;\n    this.parentLevel && (this._y += this.parentLevel.height() + this.parentLevel.y());\n    let prevFrame: Frame | null = null;\n    envTreeNodes.forEach(e => {\n      e.compactLevel = this;\n      const newFrame = new Frame(e, prevFrame);\n      e.compactFrame = newFrame;\n      this.frames.push(newFrame);\n      prevFrame = newFrame;\n    });\n\n    // get the max height of all the frames in this level\n    this._height = this.frames.reduce<number>(\n      (maxHeight, frame) => Math.max(maxHeight, frame.totalHeight),\n      0\n    );\n    const lastFrame = this.frames[this.frames.length - 1];\n    // derive the width of this level from the last frame\n    this._width = lastFrame.x() + lastFrame.totalWidth - this.x() + CompactConfig.LevelPaddingX;\n  }\n\n  destroy() {\n    this.ref.current.destroyChildren();\n  }\n\n  draw(): React.ReactNode {\n    return (\n      <Group key={Layout.key++} ref={this.ref}>\n        <Rect\n          {...ShapeDefaultProps}\n          x={this.x()}\n          y={this.y()}\n          width={this.width()}\n          height={this.height()}\n          key={Layout.key++}\n          listening={false}\n        />\n        {this.frames.map(frame => frame.draw())}\n      </Group>\n    );\n  }\n}\n","import { Button, ButtonGroup, Checkbox } from '@blueprintjs/core';\nimport { Frame } from 'Clang-slang/dist/types';\nimport React, { RefObject } from 'react';\nimport { Layer, Rect, Stage } from 'react-konva';\n\nimport { Level as CompactLevel } from './compactComponents/Level';\nimport { ArrayValue as CompactArrayValue } from './compactComponents/values/ArrayValue';\nimport { FnValue as CompactFnValue } from './compactComponents/values/FnValue';\nimport { GlobalFnValue as CompactGlobalFnValue } from './compactComponents/values/GlobalFnValue';\nimport { PrimitiveValue as CompactPrimitiveValue } from './compactComponents/values/PrimitiveValue';\nimport { UnassignedValue as CompactUnassignedValue } from './compactComponents/values/UnassignedValue';\nimport { Value as CompactValue } from './compactComponents/values/Value';\nimport { Grid } from './components/Grid';\nimport { ArrayValue } from './components/values/ArrayValue';\nimport { FnValue } from './components/values/FnValue';\nimport { GlobalFnValue } from './components/values/GlobalFnValue';\nimport { PrimitiveValue } from './components/values/PrimitiveValue';\nimport { UnassignedValue } from './components/values/UnassignedValue';\nimport { Value } from './components/values/Value';\nimport EnvVisualizer from './EnvVisualizer';\nimport { Config, ShapeDefaultProps } from './EnvVisualizerConfig';\nimport {\n  CompactReferenceType,\n  Data,\n  EnvTree,\n  EnvTreeNode,\n  ReferenceType\n} from './EnvVisualizerTypes';\nimport {\n  deepCopyTree,\n  getNextChildren,\n  isArray,\n  isDummyKey,\n  isFn,\n  isFunction,\n  isGlobalFn,\n  isPrimitiveData,\n  isUnassigned\n} from './EnvVisualizerUtils';\n\n/** this class encapsulates the logic for calculating the layout */\nexport class Layout {\n  /** the height of the stage */\n  static nonCompactHeight: number;\n  /** the width of the non-compact stage */\n  static nonCompactWidth: number;\n  /** the width of the compact stage */\n  static compactWidth: number;\n  /** the height of the compact stage */\n  static compactHeight: number;\n  /** the visible height of the stage */\n  static visibleHeight: number = window.innerHeight;\n  /** the visible width of the stage */\n  static visibleWidth: number = window.innerWidth;\n  /** total height of stage */\n  static stageHeight: number = window.innerHeight;\n  /** total width of stage */\n  static stageWidth: number = window.innerWidth;\n  /** the unique key assigned to each node */\n  static key: number = 0;\n\n  /** the environment tree */\n  static environmentTree: EnvTree;\n  /** the global environment */\n  static globalEnvNode: EnvTreeNode;\n  /** grid of frames */\n  static grid: Grid;\n  static compactLevels: CompactLevel[] = [];\n\n  /** memoized values */\n  static values = new Map<Data, Value>();\n  static compactValues = new Map<Data, CompactValue>();\n  /** memoized layout */\n  static prevLayout: React.ReactNode;\n  static currentDark: React.ReactNode;\n  static currentLight: React.ReactNode;\n  static currentCompactDark: React.ReactNode;\n  static currentCompactLight: React.ReactNode;\n  static stageRef: RefObject<any> = React.createRef();\n  // buffer for faster rendering of diagram when scrolling\n  static invisiblePaddingVertical: number = 300;\n  static invisiblePaddingHorizontal: number = 300;\n  static scrollContainerRef: RefObject<any> = React.createRef();\n\n  static updateDimensions(width: number, height: number) {\n    // update the size of the scroll container and stage given the width and height of the sidebar content.\n    Layout.visibleWidth = width;\n    Layout.visibleHeight = height;\n    if (\n      Layout.stageRef.current !== null &&\n      (Math.min(Layout.width(), window.innerWidth) > Layout.stageWidth ||\n        Math.min(Layout.height(), window.innerHeight) > Layout.stageHeight)\n    ) {\n      Layout.currentLight = undefined;\n      Layout.currentDark = undefined;\n      Layout.currentCompactLight = undefined;\n      Layout.currentCompactDark = undefined;\n      Layout.stageWidth = Math.min(Layout.width(), window.innerWidth);\n      Layout.stageHeight = Math.min(Layout.height(), window.innerHeight);\n      Layout.stageRef.current.width(Layout.stageWidth);\n      Layout.stageRef.current.height(Layout.stageHeight);\n      EnvVisualizer.redraw();\n    }\n    if (Layout.stageHeight > Layout.visibleHeight) {\n    }\n    Layout.invisiblePaddingVertical =\n      Layout.stageHeight > Layout.visibleHeight\n        ? (Layout.stageHeight - Layout.visibleHeight) / 2\n        : 0;\n    Layout.invisiblePaddingHorizontal =\n      Layout.stageWidth > Layout.visibleWidth ? (Layout.stageWidth - Layout.visibleWidth) / 2 : 0;\n\n    const container: HTMLElement | null = this.scrollContainerRef.current as HTMLDivElement;\n    if (container) {\n      container.style.width = `${Layout.visibleWidth}px`;\n      container.style.height = `${Layout.visibleHeight}px`;\n    }\n  }\n\n  /** processes the runtime context from JS Slang */\n  static setContext(envTree: EnvTree): void {\n    Layout.currentLight = undefined;\n    Layout.currentDark = undefined;\n    Layout.currentCompactLight = undefined;\n    Layout.currentCompactDark = undefined;\n    // clear/initialize data and value arrays\n    Layout.values.forEach((v, d) => {\n      v.reset();\n    });\n    Layout.values.clear();\n    Layout.compactValues.forEach((v, d) => {\n      v.reset();\n    });\n    Layout.compactValues.clear();\n    Layout.key = 0;\n    // deep copy so we don't mutate the context\n    Layout.environmentTree = deepCopyTree(envTree);\n    Layout.globalEnvNode = Layout.environmentTree.root;\n\n    // remove program environment and merge bindings into global env\n    Layout.removeProgramEnv();\n    // remove global functions that are not referenced in the program\n    Layout.removeUnreferencedGlobalFns();\n    // initialize levels and frames\n    Layout.initializeGrid();\n\n    // calculate height and width by considering lowest and widest level\n    if (EnvVisualizer.getCompactLayout()) {\n      const lastLevel = Layout.compactLevels[Layout.compactLevels.length - 1];\n      Layout.compactHeight = Math.max(\n        Config.CanvasMinHeight,\n        lastLevel.y() + lastLevel.height() + Config.CanvasPaddingY\n      );\n\n      Layout.compactWidth = Math.max(\n        Config.CanvasMinWidth,\n        Layout.compactLevels.reduce<number>(\n          (maxWidth, level) => Math.max(maxWidth, level.width()),\n          0\n        ) +\n          Config.CanvasPaddingX * 2\n      );\n    } else {\n      Layout.nonCompactHeight = Math.max(\n        Config.CanvasMinHeight,\n        this.grid.height() + Config.CanvasPaddingY\n      );\n      Layout.nonCompactWidth = Math.max(\n        Config.CanvasMinWidth,\n        this.grid.width() + Config.CanvasPaddingX * 2\n      );\n    }\n  }\n\n  /** remove program environment containing predefined functions */\n  private static removeProgramEnv() {\n    if (!Layout.globalEnvNode.children) return;\n\n    const programEnvNode = Layout.globalEnvNode.children[0];\n    const globalEnvNode = Layout.globalEnvNode;\n\n    // merge programEnvNode bindings into globalEnvNode\n    globalEnvNode.environment.head = {\n      ...programEnvNode.environment.head,\n      ...globalEnvNode.environment.head\n    };\n\n    // update globalEnvNode children\n    if (programEnvNode.children) {\n      globalEnvNode.resetChildren(programEnvNode.children);\n    }\n\n    // go through new bindings and update functions to be global functions\n    // by removing extra props such as functionName\n    for (const value of Object.values(globalEnvNode.environment.head)) {\n      if (isFn(value)) {\n        delete (value as { functionName?: string }).functionName;\n      }\n    }\n  }\n\n  /** remove any global functions not referenced elsewhere in the program */\n  private static removeUnreferencedGlobalFns(): void {\n    const referencedGlobalFns = new Set<() => any>();\n    const visitedData = new Set<Data[]>();\n    const findGlobalFnReferences = (envNode: EnvTreeNode): void => {\n      for (const data of Object.values(envNode.environment.head)) {\n        if (isGlobalFn(data)) {\n          referencedGlobalFns.add(data);\n        } else if (isArray(data)) {\n          findGlobalFnReferencesInData(data);\n        }\n      }\n      if (envNode.children) {\n        envNode.children.forEach(findGlobalFnReferences);\n      }\n    };\n\n    const findGlobalFnReferencesInData = (data: Data[]): void => {\n      data.forEach(d => {\n        if (isGlobalFn(d)) {\n          referencedGlobalFns.add(d);\n        } else if (isArray(d) && !visitedData.has(d)) {\n          visitedData.add(d);\n          findGlobalFnReferencesInData(d);\n        }\n      });\n    };\n\n    if (Layout.globalEnvNode.children) {\n      Layout.globalEnvNode.children.forEach(findGlobalFnReferences);\n    }\n\n    const newFrame: Frame = {};\n    for (const [key, data] of Object.entries(Layout.globalEnvNode.environment.head)) {\n      if (referencedGlobalFns.has(data) || isDummyKey(key)) {\n        newFrame[key] = data;\n      }\n    }\n\n    Layout.globalEnvNode.environment.head = {\n      [Config.GlobalFrameDefaultText]: Symbol(),\n      ...newFrame\n    };\n  }\n\n  public static width(): number {\n    return EnvVisualizer.getCompactLayout() ? Layout.compactWidth : Layout.nonCompactWidth;\n  }\n\n  public static height(): number {\n    return EnvVisualizer.getCompactLayout() ? Layout.compactHeight : Layout.nonCompactHeight;\n  }\n\n  /** initializes grid */\n  private static initializeGrid(): void {\n    if (EnvVisualizer.getCompactLayout()) {\n      this.compactLevels = [];\n      let frontier: EnvTreeNode[] = [Layout.globalEnvNode];\n      let prevLevel: CompactLevel | null = null;\n      let currLevel: CompactLevel;\n\n      while (frontier.length > 0) {\n        currLevel = new CompactLevel(prevLevel, frontier);\n        this.compactLevels.push(currLevel);\n        const nextFrontier: EnvTreeNode[] = [];\n\n        frontier.forEach(e => {\n          e.children.forEach(c => {\n            const nextChildren = getNextChildren(c as EnvTreeNode);\n            nextChildren.forEach(c => (c.parent = e));\n            nextFrontier.push(...nextChildren);\n          });\n        });\n\n        prevLevel = currLevel;\n        frontier = nextFrontier;\n      }\n    } else {\n      const frontiers: EnvTreeNode[][] = [];\n      let frontier = [Layout.globalEnvNode];\n\n      while (frontier.length > 0) {\n        frontiers.push(frontier);\n\n        const nextFrontier: EnvTreeNode[] = [];\n\n        frontier.forEach(e => {\n          e.children.forEach(c => {\n            const nextChildren = getNextChildren(c as EnvTreeNode);\n            nextChildren.forEach(c => (c.parent = e));\n            nextFrontier.push(...nextChildren);\n          });\n        });\n\n        frontier = nextFrontier;\n      }\n      if (this.grid === undefined) {\n        this.grid = new Grid(frontiers);\n      } else {\n        this.grid.update(frontiers);\n      }\n    }\n  }\n\n  /** memoize `Value` (used to detect circular references in non-primitive `Value`) */\n  static memoizeValue(value: Value): void {\n    Layout.values.set(value.data, value);\n  }\n\n  /** create an instance of the corresponding `Value` if it doesn't already exists,\n   *  else, return the existing value */\n  static createValue(data: Data, reference: ReferenceType): Value {\n    if (isUnassigned(data)) {\n      return new UnassignedValue([reference]);\n    } else if (isPrimitiveData(data)) {\n      return new PrimitiveValue(data, [reference]);\n    } else {\n      // try to find if this value is already created\n      const existingValue = Layout.values.get(data);\n      if (existingValue) {\n        existingValue.addReference(reference);\n        return existingValue;\n      }\n\n      // else create a new one\n      let newValue: Value = new PrimitiveValue(null, [reference]);\n      if (isArray(data)) {\n        newValue = new ArrayValue(data, [reference]);\n      } else if (isFunction(data)) {\n        if (isFn(data)) {\n          // normal JS Slang function\n          newValue = new FnValue(data, [reference]);\n        } else {\n          // function from the global env (has no extra props such as env, fnName)\n          newValue = new GlobalFnValue(data, [reference]);\n        }\n      }\n\n      return newValue;\n    }\n  }\n\n  /** memoize `Value` (used to detect circular references in non-primitive `Value`) */\n  static memoizeCompactValue(value: CompactValue): void {\n    Layout.compactValues.set(value.data, value);\n  }\n\n  /** create an instance of the corresponding `Value` if it doesn't already exists,\n   *  else, return the existing value */\n  static createCompactValue(data: Data, reference: CompactReferenceType): CompactValue {\n    if (isUnassigned(data)) {\n      return new CompactUnassignedValue([reference]);\n    } else if (isPrimitiveData(data)) {\n      return new CompactPrimitiveValue(data, [reference]);\n    } else {\n      // try to find if this value is already created\n      const existingValue = Layout.compactValues.get(data);\n      if (existingValue) {\n        existingValue.addReference(reference);\n        return existingValue;\n      }\n\n      // else create a new one\n      let newValue: CompactValue = new CompactPrimitiveValue(null, [reference]);\n      if (isArray(data)) {\n        newValue = new CompactArrayValue(data, [reference]);\n      } else if (isFunction(data)) {\n        if (isFn(data)) {\n          // normal JS Slang function\n          newValue = new CompactFnValue(data, [reference]);\n        } else {\n          // function from the global env (has no extra props such as env, fnName)\n          newValue = new CompactGlobalFnValue(data, [reference]);\n        }\n      }\n\n      return newValue;\n    }\n  }\n\n  /**\n   * Scrolls diagram to top left, and saves the diagram as multiple images of width < MaxExportWidth.\n   */\n  static exportImage = () => {\n    const container: HTMLElement | null = this.scrollContainerRef.current as HTMLDivElement;\n    container.scrollTo({ left: 0, top: 0 });\n    Layout.handleScrollPosition(0, 0);\n    const height = Layout.height();\n    const width = Layout.width();\n    const horizontalImages = Math.ceil(width / Config.MaxExportWidth);\n    const verticalImages = Math.ceil(height / Config.MaxExportHeight);\n    const download_images = () => {\n      const download_next = (n: number) => {\n        if (n >= horizontalImages * verticalImages) {\n          return;\n        }\n        const x = n % horizontalImages;\n        const y = Math.floor(n / horizontalImages);\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = this.stageRef.current.toDataURL({\n          x: x * Config.MaxExportWidth + Layout.invisiblePaddingHorizontal,\n          y: y * Config.MaxExportHeight + Layout.invisiblePaddingVertical,\n          width: Math.min(width - x * Config.MaxExportWidth, Config.MaxExportWidth),\n          height: Math.min(height - y * Config.MaxExportHeight, Config.MaxExportHeight),\n          mimeType: 'image/jpeg'\n        });\n\n        a.download = `diagram_${x}_${y}.jpg`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        setTimeout(function () {\n          download_next(n + 1);\n        }, 1000);\n      };\n      // Initiate the first download.\n      download_next(0);\n    };\n    download_images();\n  };\n\n  /** Calculate the test to be displayed for button to save the images.*/\n  private static saveButtonText(): String {\n    return `Save ${\n      Layout.width() > Config.MaxExportWidth || Layout.height() > Config.MaxExportHeight\n        ? Math.ceil(Layout.width() / Config.MaxExportWidth) *\n            Math.ceil(Layout.height() / Config.MaxExportHeight) +\n          ' images'\n        : 'image'\n    }`;\n  }\n\n  /**\n   * Calculates the required transformation for the stage given the scroll-container div scroll position.\n   * @param x x position of the scroll container\n   * @param y y position of the scroll container\n   */\n  private static handleScrollPosition(x: number, y: number) {\n    const dx = x - Layout.invisiblePaddingHorizontal;\n    const dy = y - Layout.invisiblePaddingVertical;\n    this.stageRef.current.container().style.transform = 'translate(' + dx + 'px, ' + dy + 'px)';\n    this.stageRef.current.x(-dx);\n    this.stageRef.current.y(-dy);\n  }\n\n  static draw(): React.ReactNode {\n    if (Layout.key !== 0) {\n      return Layout.prevLayout;\n    } else {\n      const layout = (\n        <div className={'sa-env-visualizer'}>\n          <div\n            id=\"scroll-container\"\n            ref={Layout.scrollContainerRef}\n            onScroll={e =>\n              Layout.handleScrollPosition(e.currentTarget.scrollLeft, e.currentTarget.scrollTop)\n            }\n            style={{\n              width: Layout.visibleWidth,\n              height: Layout.visibleHeight,\n              overflow: 'auto',\n              margin: '10px'\n            }}\n          >\n            <div\n              id=\"large-container\"\n              style={{\n                width: Layout.width(),\n                height: Layout.height(),\n                overflow: 'hidden',\n                backgroundColor: EnvVisualizer.getPrintableMode()\n                  ? Config.PRINT_BACKGROUND.toString()\n                  : Config.SA_BLUE.toString()\n              }}\n            >\n              <div style={{ right: 40, position: 'absolute', display: 'flex', alignSelf: 'right' }}>\n                <ButtonGroup vertical>\n                  <Button\n                    large={true}\n                    outlined={true}\n                    style={{\n                      backgroundColor: EnvVisualizer.getPrintableMode()\n                        ? Config.PRINT_BACKGROUND.toString()\n                        : Config.SA_BLUE.toString(),\n                      opacity: 0.8,\n                      borderColor: EnvVisualizer.getPrintableMode()\n                        ? Config.SA_BLUE.toString()\n                        : Config.PRINT_BACKGROUND.toString()\n                    }}\n                    onMouseUp={() => {\n                      EnvVisualizer.toggleCompactLayout();\n                      EnvVisualizer.redraw();\n                    }}\n                  >\n                    <Checkbox\n                      checked={!EnvVisualizer.getCompactLayout()}\n                      label=\"Experimental\"\n                      style={{\n                        marginBottom: '0px',\n                        color: EnvVisualizer.getPrintableMode()\n                          ? Config.SA_BLUE.toString()\n                          : Config.PRINT_BACKGROUND.toString()\n                      }}\n                    />\n                  </Button>\n                  <Button\n                    large={true}\n                    outlined={true}\n                    style={{\n                      backgroundColor: EnvVisualizer.getPrintableMode()\n                        ? Config.PRINT_BACKGROUND.toString()\n                        : Config.SA_BLUE.toString(),\n                      opacity: 0.8,\n                      borderColor: EnvVisualizer.getPrintableMode()\n                        ? Config.SA_BLUE.toString()\n                        : Config.PRINT_BACKGROUND.toString()\n                    }}\n                    onMouseUp={() => {\n                      EnvVisualizer.togglePrintableMode();\n                      EnvVisualizer.redraw();\n                    }}\n                  >\n                    <Checkbox\n                      checked={EnvVisualizer.getPrintableMode()}\n                      label=\"Printable\"\n                      style={{\n                        marginBottom: '0px',\n                        color: EnvVisualizer.getPrintableMode()\n                          ? Config.SA_BLUE.toString()\n                          : Config.PRINT_BACKGROUND.toString()\n                      }}\n                    />\n                  </Button>\n                  <Button\n                    outlined={true}\n                    text={Layout.saveButtonText()}\n                    large={true}\n                    onClick={this.exportImage}\n                    style={{\n                      color: EnvVisualizer.getPrintableMode()\n                        ? Config.SA_BLUE.toString()\n                        : Config.PRINT_BACKGROUND.toString(),\n                      backgroundColor: EnvVisualizer.getPrintableMode()\n                        ? Config.PRINT_BACKGROUND.toString()\n                        : Config.SA_BLUE.toString(),\n                      opacity: 0.8,\n                      borderColor: EnvVisualizer.getPrintableMode()\n                        ? Config.SA_BLUE.toString()\n                        : Config.PRINT_BACKGROUND.toString()\n                    }}\n                  />\n                </ButtonGroup>\n              </div>\n              <Stage width={Layout.stageWidth} height={Layout.stageHeight} ref={this.stageRef}>\n                <Layer>\n                  <Rect\n                    {...ShapeDefaultProps}\n                    x={0}\n                    y={0}\n                    width={Layout.width()}\n                    height={Layout.height()}\n                    fill={\n                      EnvVisualizer.getPrintableMode()\n                        ? Config.PRINT_BACKGROUND.toString()\n                        : Config.SA_BLUE.toString()\n                    }\n                    key={Layout.key++}\n                    listening={false}\n                  />\n                  {!EnvVisualizer.getCompactLayout() && Layout.grid.draw()}\n                  {EnvVisualizer.getCompactLayout() &&\n                    Layout.compactLevels.map(level => level.draw())}\n                </Layer>\n              </Stage>\n            </div>\n          </div>\n        </div>\n      );\n      Layout.prevLayout = layout;\n      if (EnvVisualizer.getCompactLayout()) {\n        if (EnvVisualizer.getPrintableMode()) {\n          Layout.currentCompactLight = layout;\n        } else {\n          Layout.currentCompactDark = layout;\n        }\n      } else {\n        if (EnvVisualizer.getPrintableMode()) {\n          Layout.currentLight = layout;\n        } else {\n          Layout.currentDark = layout;\n        }\n      }\n\n      return layout;\n    }\n  }\n}\n","import { Context } from 'Clang-slang';\nimport React from 'react';\n\nimport { Layout } from './EnvVisualizerLayout';\nimport { EnvTree } from './EnvVisualizerTypes';\nimport { deepCopyTree } from './EnvVisualizerUtils';\n\ntype SetVis = (vis: React.ReactNode) => void;\n\n/** Environment Visualizer is exposed from this class */\nexport default class EnvVisualizer {\n  /** callback function to update the visualization state in the SideContentEnvVis component */\n  private static setVis: SetVis;\n  private static printableMode: boolean = false;\n  private static compactLayout: boolean = true;\n  private static environmentTree: EnvTree;\n  public static togglePrintableMode(): void {\n    EnvVisualizer.printableMode = !EnvVisualizer.printableMode;\n  }\n  public static toggleCompactLayout(): void {\n    EnvVisualizer.compactLayout = !EnvVisualizer.compactLayout;\n  }\n  public static getPrintableMode(): boolean {\n    return EnvVisualizer.printableMode;\n  }\n  public static getCompactLayout(): boolean {\n    return EnvVisualizer.compactLayout;\n  }\n\n  /** SideContentEnvVis initializes this onMount with the callback function */\n  static init(setVis: SetVis, width: number, height: number) {\n    Layout.visibleHeight = height;\n    Layout.visibleWidth = width;\n    this.setVis = setVis;\n  }\n\n  static clear() {\n    Layout.values.clear();\n    Layout.compactValues.clear();\n  }\n\n  /** updates the visualization state in the SideContentEnvVis component based on\n   * the JS Slang context passed in */\n  static drawEnv(context: Context) {\n    // store environmentTree at last breakpoint.\n    EnvVisualizer.environmentTree = deepCopyTree(context.runtime.environmentTree as EnvTree);\n    if (!this.setVis) throw new Error('env visualizer not initialized');\n\n    Layout.setContext(context.runtime.environmentTree as EnvTree);\n    this.setVis(Layout.draw());\n    Layout.updateDimensions(Layout.visibleWidth, Layout.visibleHeight);\n\n    // icon to blink\n    const icon = document.getElementById('env_visualizer-icon');\n    icon && icon.classList.add('side-content-tab-alert');\n  }\n\n  static redraw() {\n    if (this.environmentTree) {\n      // checks if the required diagram exists, and updates the dom node using setVis\n      if (\n        EnvVisualizer.getCompactLayout() &&\n        EnvVisualizer.getPrintableMode() &&\n        Layout.currentCompactLight !== undefined\n      ) {\n        this.setVis(Layout.currentCompactLight);\n      } else if (\n        EnvVisualizer.getCompactLayout() &&\n        !EnvVisualizer.getPrintableMode() &&\n        Layout.currentCompactDark !== undefined\n      ) {\n        this.setVis(Layout.currentCompactDark);\n      } else if (\n        !EnvVisualizer.getCompactLayout() &&\n        EnvVisualizer.getPrintableMode() &&\n        Layout.currentLight !== undefined\n      ) {\n        this.setVis(Layout.currentLight);\n      } else if (\n        !EnvVisualizer.getCompactLayout() &&\n        !EnvVisualizer.getPrintableMode() &&\n        Layout.currentDark !== undefined\n      ) {\n        this.setVis(Layout.currentDark);\n      } else {\n        Layout.setContext(EnvVisualizer.environmentTree);\n        this.setVis(Layout.draw());\n      }\n      Layout.updateDimensions(Layout.visibleWidth, Layout.visibleHeight);\n    }\n  }\n\n  static updateDimensions(width: number, height: number) {\n    if (Layout.stageRef != null && width !== null && height !== null) {\n      Layout.updateDimensions(width, height);\n    }\n  }\n}\n","/**\n * Represents the config used to draw the drawings.\n */\nexport const Config = {\n  StrokeWidth: 2,\n  Stroke: 'white',\n  Fill: 'white',\n\n  BoxWidth: 45,\n  BoxMinWidth: 15, // Set to half of BoxHeight for empty arrays following EnvVisualizerConfig\n  BoxHeight: 30,\n  BoxSpacingX: 50,\n  BoxSpacingY: 60,\n\n  DistanceX: 45 / 2, // Half of box width\n  DistanceY: 60,\n  CircleRadiusLarge: 15,\n  CircleRadiusSmall: 4,\n\n  ArrowPointerOffsetHorizontal: 13, // Pixels to offset the arrow head by\n  ArrowPointerOffsetVertical: -5, // Pixels to offset the arrow head by\n  ArrowPointerSize: 5,\n  ArrowMarginTop: 15,\n  ArrowMarginBottom: 15,\n  ArrowMarginHorizontal: 15,\n\n  MaxTextLength: 20\n};\n","// list.js: Supporting lists in the Scheme style, using pairs made\n//          up of two-element JavaScript array (vector)\n\n// Author: Martin Henz\n\n// Note: this library is used in the externalLibs of the frontend.\n// It is distinct from the LISTS library of Source §2, which contains\n// primitive and predeclared functions from Chapter 2 of SICP JS.\n\n// 'use strict'\n// array test works differently for Rhino and\n// the Firefox environment (especially Web Console)\nexport function array_test(x) {\n  if (Array.isArray === undefined) {\n    return x instanceof Array;\n  } else {\n    return Array.isArray(x);\n  }\n}\n\n// pair constructs a pair using a two-element array\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function pair(x, xs) {\n  return [x, xs];\n}\n\n// is_pair returns true iff arg is a two-element array\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function is_pair(x) {\n  return array_test(x) && x.length === 2;\n}\n\n// head returns the first component of the given pair,\n// throws an exception if the argument is not a pair\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function head(xs) {\n  if (is_pair(xs)) {\n    return xs[0];\n  } else {\n    throw new Error('head(xs) expects a pair as argument xs, but encountered ' + xs);\n  }\n}\n\n// tail returns the second component of the given pair\n// throws an exception if the argument is not a pair\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function tail(xs) {\n  if (is_pair(xs)) {\n    return xs[1];\n  } else {\n    throw new Error('tail(xs) expects a pair as argument xs, but encountered ' + xs);\n  }\n}\n\n// is_null returns true if arg is exactly null\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function is_null(xs) {\n  return xs === null;\n}\n\n// is_list recurses down the list and checks that it ends with the empty list []\n// does not throw Value exceptions\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function is_list(xs) {\n  for (; ; xs = tail(xs)) {\n    if (is_null(xs)) {\n      return true;\n    } else if (!is_pair(xs)) {\n      return false;\n    }\n  }\n}\n\n// list makes a list out of its arguments\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function list() {\n  let the_list = null;\n  for (let i = arguments.length - 1; i >= 0; i--) {\n    the_list = pair(arguments[i], the_list);\n  }\n  return the_list;\n}\n\n// list_to_vector returns vector that contains the elements of the argument list\n// in the given order.\n// list_to_vector throws an exception if the argument is not a list\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function list_to_vector(lst) {\n  const vector = [];\n  while (!is_null(lst)) {\n    vector.push(head(lst));\n    lst = tail(lst);\n  }\n  return vector;\n}\n\n// vector_to_list returns a list that contains the elements of the argument vector\n// in the given order.\n// vector_to_list throws an exception if the argument is not a vector\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function vector_to_list(vector) {\n  let result = null;\n  for (let i = vector.length - 1; i >= 0; i = i - 1) {\n    result = pair(vector[i], result);\n  }\n  return result;\n}\n\n// returns the length of a given argument list\n// throws an exception if the argument is not a list\nexport function length(xs) {\n  let i = 0;\n  while (!is_null(xs)) {\n    i += 1;\n    xs = tail(xs);\n  }\n  return i;\n}\n\n// map applies first arg f to the elements of the second argument,\n// assumed to be a list.\n// f is applied element-by-element:\n// map(f,[1,[2,[]]]) results in [f(1),[f(2),[]]]\n// map throws an exception if the second argument is not a list,\n// and if the second argument is a non-empty list and the first\n// argument is not a function.\n// tslint:disable-next-line:ban-types\nexport function map(f, xs) {\n  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));\n}\n\n// build_list takes a non-negative integer n as first argument,\n// and a function fun as second argument.\n// build_list returns a list of n elements, that results from\n// applying fun to the numbers from 0 to n-1.\n// tslint:disable-next-line:ban-types\nexport function build_list(n, fun) {\n  if (typeof n !== 'number' || n < 0 || Math.floor(n) !== n) {\n    throw new Error(\n      'build_list(n, fun) expects a positive integer as argument n, but encountered ' + n\n    );\n  }\n\n  // tslint:disable-next-line:ban-types\n  function build(i, alreadyBuilt) {\n    if (i < 0) {\n      return alreadyBuilt;\n    } else {\n      return build(i - 1, pair(fun(i), alreadyBuilt));\n    }\n  }\n\n  return build(n - 1, null);\n}\n\n// for_each applies first arg fun to the elements of the list passed as\n// second argument. fun is applied element-by-element:\n// for_each(fun,[1,[2,[]]]) results in the calls fun(1) and fun(2).\n// for_each returns true.\n// for_each throws an exception if the second argument is not a list,\n// and if the second argument is a non-empty list and the\n// first argument is not a function.\n// tslint:disable-next-line:ban-types\nexport function for_each(fun, xs) {\n  if (!is_list(xs)) {\n    throw new Error('for_each expects a list as argument xs, but encountered ' + xs);\n  }\n  for (; !is_null(xs); xs = tail(xs)) {\n    fun(head(xs));\n  }\n  return true;\n}\n\n// reverse reverses the argument list\n// reverse throws an exception if the argument is not a list.\nexport function reverse(xs) {\n  if (!is_list(xs)) {\n    throw new Error('reverse(xs) expects a list as argument xs, but encountered ' + xs);\n  }\n  let result = null;\n  for (; !is_null(xs); xs = tail(xs)) {\n    result = pair(head(xs), result);\n  }\n  return result;\n}\n\n// append first argument list and second argument list.\n// In the result, the [] at the end of the first argument list\n// is replaced by the second argument list\n// append throws an exception if the first argument is not a list\nexport function append(xs, ys) {\n  if (is_null(xs)) {\n    return ys;\n  } else {\n    return pair(head(xs), append(tail(xs), ys));\n  }\n}\n\n// member looks for a given first-argument element in a given\n// second argument list. It returns the first postfix sublist\n// that starts with the given element. It returns [] if the\n// element does not occur in the list\nexport function member(v, xs) {\n  for (; !is_null(xs); xs = tail(xs)) {\n    if (head(xs) === v) {\n      return xs;\n    }\n  }\n  return null;\n}\n\n// removes the first occurrence of a given first-argument element\n// in a given second-argument list. Returns the original list\n// if there is no occurrence.\nexport function remove(v, xs) {\n  if (is_null(xs)) {\n    return null;\n  } else {\n    if (v === head(xs)) {\n      return tail(xs);\n    } else {\n      return pair(head(xs), remove(v, tail(xs)));\n    }\n  }\n}\n\n// Similar to remove. But removes all instances of v instead of just the first\nexport function remove_all(v, xs) {\n  if (is_null(xs)) {\n    return null;\n  } else {\n    if (v === head(xs)) {\n      return remove_all(v, tail(xs));\n    } else {\n      return pair(head(xs), remove_all(v, tail(xs)));\n    }\n  }\n}\n\n// for backwards-compatibility\n// equal computes the structural equality\n// over its arguments\nexport function equal(item1, item2) {\n  if (is_pair(item1) && is_pair(item2)) {\n    return equal(head(item1), head(item2)) && equal(tail(item1), tail(item2));\n  } else {\n    return item1 === item2;\n  }\n}\n\n// assoc treats the second argument as an association,\n// a list of (index,value) pairs.\n// assoc returns the first (index,value) pair whose\n// index equal (using structural equality) to the given\n// first argument v. Returns false if there is no such\n// pair\nexport function assoc(v, xs) {\n  if (is_null(xs)) {\n    return false;\n  } else if (equal(v, head(head(xs)))) {\n    return head(xs);\n  } else {\n    return assoc(v, tail(xs));\n  }\n}\n\n// filter returns the sublist of elements of given list xs\n// for which the given predicate function returns true.\n// tslint:disable-next-line:ban-types\nexport function filter(pred, xs) {\n  if (is_null(xs)) {\n    return xs;\n  } else {\n    if (pred(head(xs))) {\n      return pair(head(xs), filter(pred, tail(xs)));\n    } else {\n      return filter(pred, tail(xs));\n    }\n  }\n}\n\n// enumerates numbers starting from start,\n// using a step size of 1, until the number\n// exceeds end.\nexport function enum_list(start, end) {\n  if (typeof start !== 'number') {\n    throw new Error(\n      'enum_list(start, end) expects a number as argument start, but encountered ' + start\n    );\n  }\n  if (typeof end !== 'number') {\n    throw new Error(\n      'enum_list(start, end) expects a number as argument start, but encountered ' + end\n    );\n  }\n  if (start > end) {\n    return null;\n  } else {\n    return pair(start, enum_list(start + 1, end));\n  }\n}\n\n// Returns the item in list lst at index n (the first item is at position 0)\nexport function list_ref(xs, n) {\n  if (typeof n !== 'number' || n < 0 || Math.floor(n) !== n) {\n    throw new Error(\n      'list_ref(xs, n) expects a positive integer as argument n, but encountered ' + n\n    );\n  }\n  for (; n > 0; --n) {\n    xs = tail(xs);\n  }\n  return head(xs);\n}\n\n// accumulate applies given operation op to elements of a list\n// in a right-to-left order, first apply op to the last element\n// and an initial element, resulting in r1, then to the\n// second-last element and r1, resulting in r2, etc, and finally\n// to the first element and r_n-1, where n is the length of the\n// list.\n// accumulate(op,zero,list(1,2,3)) results in\n// op(1, op(2, op(3, zero)))\nexport function accumulate(op, initial, sequence) {\n  if (is_null(sequence)) {\n    return initial;\n  } else {\n    return op(head(sequence), accumulate(op, initial, tail(sequence)));\n  }\n}\n\n// set_head(xs,x) changes the head of given pair xs to be x,\n// throws an exception if the argument is not a pair\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function set_head(xs, x) {\n  if (is_pair(xs)) {\n    xs[0] = x;\n    return undefined;\n  } else {\n    throw new Error('set_head(xs,x) expects a pair as argument xs, but encountered ' + xs);\n  }\n}\n\n// set_tail(xs,x) changes the tail of given pair xs to be x,\n// throws an exception if the argument is not a pair\n// LOW-LEVEL FUNCTION, NOT SOURCE\nexport function set_tail(xs, x) {\n  if (is_pair(xs)) {\n    xs[1] = x;\n    return undefined;\n  } else {\n    throw new Error('set_tail(xs,x) expects a pair as argument xs, but encountered ' + xs);\n  }\n}\n","import { Config } from './Config';\nimport { Data, EmptyList, List, Pair } from './dataVisualizerTypes';\nimport { is_list, is_pair } from './list';\n\n/**\n *  Returns data in text form, fitted into the box.\n *  If not possible to fit data, return undefined. A number will be assigned and logged in the console.\n */\nexport function toText(data: Data, full: boolean = false): string | undefined {\n  if (full) {\n    return '' + data;\n  } else {\n    const type = typeof data;\n    if ((type === 'function' || type === 'object') && data !== null) {\n      return undefined;\n    } else if (type === 'string') {\n      const dataString = data + '';\n      const str = dataString.substring(0, Config.MaxTextLength);\n      return `\"${str}${dataString.length > Config.MaxTextLength ? '...' : ''}\"`;\n    } else {\n      return `${data}`;\n    }\n  }\n}\n\nexport function isArray(data: Data): data is Array<Data> {\n  return Array.isArray(data);\n}\n\nexport function isFunction(data: Data): data is Function {\n  return typeof data === 'function';\n}\n\nexport function isPair(data: Data): data is Pair {\n  return is_pair(data);\n}\n\nexport function isList(data: Data): data is List {\n  return is_list(data);\n}\n\nexport function isEmptyList(data: Data): data is EmptyList {\n  return data === null;\n}\n\nexport { head, tail } from './list';\n","import React from 'react';\nimport { Arrow } from 'react-konva';\n\nimport { Config } from '../Config';\n\ntype ArrowConfig = { from: { x: number; y: number }; to: { x: number; y: number } };\n\n/**\n * Represents an arrow used to connect a parent node and a child node.\n *\n * Used with ArrayDrawable and FunctionDrawable.\n */\nexport class ArrowDrawable extends React.PureComponent<ArrowConfig> {\n  render() {\n    return (\n      <Arrow\n        key={this.props + ''}\n        points={[\n          this.props.from.x,\n          this.props.from.y,\n          this.props.to.x + Config.ArrowPointerOffsetHorizontal,\n          this.props.to.y + Config.ArrowPointerOffsetVertical\n        ]}\n        pointerWidth={Config.ArrowPointerSize}\n        pointerLength={Config.ArrowPointerSize}\n        fill={Config.Fill}\n        stroke={Config.Stroke}\n        strokeWidth={Config.StrokeWidth}\n        preventDefault={false}\n      ></Arrow>\n    );\n  }\n}\n","import { PureComponent } from 'react';\nimport { Arrow } from 'react-konva';\n\nimport { Config } from '../Config';\n\ntype ArrowConfig = { from: { x: number; y: number }; to: { x: number; y: number } };\n\n/**\n * Represents an arrow used to connect a parent node and a child node that has been drawn before,\n * that is positioned to the top left of the parent node.\n *\n */\nexport class BackwardArrowDrawable extends PureComponent<ArrowConfig> {\n  /**\n   *  Connects a box to a previously known box, the arrow path is more complicated.\n   *\n   *  After coming out of the starting box, it moves to the left,\n   *  Then goes to the correct y-value and turns to reach the top of the end box.\n   *  It then directly points to the end box. All turnings are 90 degress.\n   *\n   *        │\n   *  ▲     │\n   *  └─────┘\n   */\n  render() {\n    // The starting coordinate is the centre of the starting box\n    // The ending coordinate is along the top edge of the ending box, and Config.ArrowSpaceHorizontal pixels from the left edge\n    const bottomY = this.props.from.y + Config.BoxHeight / 2 + Config.ArrowMarginBottom;\n\n    // The x coordinate of the left most part of the backward arrow\n    const leftX = this.props.to.x - Config.ArrowMarginHorizontal;\n\n    // The y coordinate of the top most part of the backward arrow\n    const topY = this.props.to.y - Config.ArrowMarginTop;\n\n    const path = [\n      this.props.from.x,\n      this.props.from.y,\n      this.props.from.x,\n      bottomY,\n      leftX,\n      bottomY,\n      leftX,\n      topY,\n      this.props.to.x + Config.ArrowPointerOffsetHorizontal,\n      topY,\n      this.props.to.x + Config.ArrowPointerOffsetHorizontal,\n      this.props.to.y + Config.ArrowPointerOffsetVertical\n    ];\n    return (\n      <Arrow\n        points={path}\n        pointerLength={Config.ArrowPointerSize}\n        pointerWidth={Config.ArrowPointerSize}\n        fill={Config.Fill}\n        stroke={Config.Stroke}\n        strokeWidth={Config.StrokeWidth}\n        preventDefault={false}\n      ></Arrow>\n    );\n  }\n}\n","export class TreeNode {\n  public children: TreeNode[] | null;\n\n  constructor() {\n    this.children = null;\n  }\n}\n","import { TreeNode } from './BaseTreeNode';\nimport { DrawableTreeNode } from './DrawableTreeNode';\n\n/**\n * Represents a node that is already parsed earlier in the tree.\n */\nexport class AlreadyParsedTreeNode extends TreeNode {\n  public actualNode: DrawableTreeNode;\n\n  constructor(actualNode: DrawableTreeNode) {\n    super();\n    this.actualNode = actualNode;\n  }\n}\n","import { Data } from '../dataVisualizerTypes';\nimport { TreeNode } from './BaseTreeNode';\n\n/**\n * Represents node corresponding to a data object (neither pair nor function).\n */\nexport class DataTreeNode extends TreeNode {\n  public readonly data: Data;\n\n  constructor(data: Data) {\n    super();\n    this.data = data;\n  }\n}\n","import { TreeNode } from './BaseTreeNode';\n\n/**\n * Represents a node whose drawable should be cached.\n *\n * Concrete implementations: ArrayTreeNode, FunctionTreeNode\n */\nexport abstract class DrawableTreeNode extends TreeNode {\n  protected _drawable?: JSX.Element;\n  public drawableX?: number;\n  public drawableY?: number;\n\n  get drawable() {\n    return this._drawable;\n  }\n\n  /**\n   * Creates a Konva object representing the drawable. Should be called only once.\n   * Subsequent references of the drawable to be obtained using the drawable getter.\n   *\n   * @param x The x position of the drawable.\n   * @param y The y position of the drawable.\n   * @param parentX The x position of the parent.\n   * @param parentY The y position of the parent.\n   */\n  abstract createDrawable(x: number, y: number, parentX: number, parentY: number): JSX.Element;\n}\n","import React from 'react';\nimport { Line } from 'react-konva';\n\nimport { Config } from '../Config';\n\ntype NullProps = {\n  x: number;\n  y: number;\n};\n\n/**\n *  Represents the diagonal line drawn over the tail of a pair\n *  when the tail is an empty box.\n *\n *  Used in conjunction with ArrayDrawable.\n */\nexport class NullDrawable extends React.PureComponent<NullProps> {\n  render() {\n    return (\n      <Line\n        x={this.props.x}\n        y={this.props.y}\n        points={[0, Config.BoxHeight, Config.BoxWidth, 0]}\n        strokeWidth={Config.StrokeWidth - 1}\n        stroke={Config.Stroke}\n        preventDefault={false}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport { Group, Line, Rect, Text } from 'react-konva';\n\nimport { Config } from '../Config';\nimport DataVisualizer from '../dataVisualizer';\nimport { isEmptyList, isList, toText } from '../dataVisualizerUtils';\nimport { DataTreeNode, TreeNode } from '../tree/TreeNode';\nimport { NullDrawable } from './NullDrawable';\n\ntype ArrayProps = {\n  nodes: TreeNode[];\n  x: number;\n  y: number;\n};\n\n/**\n *  Represents an array in a tree.\n */\nexport class ArrayDrawable extends React.PureComponent<ArrayProps> {\n  render() {\n    const createChildText = (node: DataTreeNode, index: number) => {\n      const nodeValue = node.data;\n      if (!isList(nodeValue)) {\n        const textValue: string | undefined = toText(nodeValue);\n        const textToDisplay = textValue ?? '*' + DataVisualizer.displaySpecialContent(node);\n        return (\n          <Text\n            key={'' + nodeValue + index}\n            text={textToDisplay}\n            align={'center'}\n            width={Config.BoxWidth}\n            x={Config.BoxWidth * index}\n            y={Math.floor((Config.BoxHeight - 1.2 * 12) / 2)}\n            fontStyle={textValue === undefined ? 'italic' : 'normal'}\n            fill={'white'}\n            preventDefault={false}\n          />\n        );\n      } else if (isEmptyList(nodeValue)) {\n        const props = {\n          x: index * Config.BoxWidth,\n          y: 0\n        };\n        return <NullDrawable key={index} {...props} />;\n      } else {\n        return null;\n      }\n    };\n\n    return (\n      <Group x={this.props.x} y={this.props.y}>\n        {/* Outer rectangle */}\n        <Rect\n          width={Math.max(Config.BoxWidth * this.props.nodes.length, Config.BoxMinWidth)}\n          height={Config.BoxHeight}\n          strokeWidth={Config.StrokeWidth}\n          stroke={Config.Stroke}\n          fill={'#17181A'}\n          preventDefault={false}\n        />\n        {/* Vertical lines in the box */}\n        {this.props.nodes.length > 1 &&\n          Array.from(Array(this.props.nodes.length - 1), (e, i) => {\n            return (\n              <Line\n                key={'line' + i}\n                points={[Config.BoxWidth * (i + 1), 0, Config.BoxWidth * (i + 1), Config.BoxHeight]}\n                strokeWidth={Config.StrokeWidth}\n                stroke={Config.Stroke}\n                preventDefault={false}\n              />\n            );\n          })}\n        {this.props.nodes.map(\n          (child, index) => child instanceof DataTreeNode && createChildText(child, index)\n        )}\n      </Group>\n    );\n  }\n}\n","import React from 'react';\nimport { Circle, Group } from 'react-konva';\n\nimport { Config } from '../Config';\n\ntype FunctionProps = {\n  x: number;\n  y: number;\n};\n\n/**\n * Represents a function object drawn using two circles.\n */\nexport class FunctionDrawable extends React.PureComponent<FunctionProps> {\n  render() {\n    return (\n      <Group {...this.props}>\n        {/* Left circle */}\n        <Circle\n          radius={Config.CircleRadiusLarge}\n          strokeWidth={Config.StrokeWidth}\n          stroke={Config.Stroke}\n          x={Config.CircleRadiusLarge}\n          y={Config.CircleRadiusLarge}\n          preventDefault={false}\n        />\n\n        {/* Right circle */}\n        <Circle\n          radius={Config.CircleRadiusLarge}\n          strokeWidth={Config.StrokeWidth}\n          stroke={Config.Stroke}\n          x={Config.CircleRadiusLarge * 3 + Config.StrokeWidth}\n          y={Config.CircleRadiusLarge}\n          preventDefault={false}\n        />\n\n        {/* Left dot */}\n        <Circle\n          radius={Config.CircleRadiusSmall}\n          strokeWidth={Config.StrokeWidth}\n          stroke={Config.Fill}\n          fill={Config.Fill}\n          x={Config.CircleRadiusLarge}\n          y={Config.CircleRadiusLarge}\n          preventDefault={false}\n        />\n\n        {/* Right dot */}\n        <Circle\n          radius={Config.CircleRadiusSmall}\n          strokeWidth={Config.StrokeWidth}\n          stroke={Config.Stroke}\n          fill={Config.Fill}\n          x={Config.CircleRadiusLarge * 3 + Config.StrokeWidth}\n          y={Config.CircleRadiusLarge}\n          preventDefault={false}\n        />\n      </Group>\n    );\n  }\n}\n","import { Group } from 'react-konva';\n\nimport { Config } from '../Config';\nimport { ArrowDrawable, FunctionDrawable } from '../drawable/Drawable';\nimport { DrawableTreeNode } from './DrawableTreeNode';\n\n/**\n * Represents a node corresponding to a Source (and Javascript) function.\n */\nexport class FunctionTreeNode extends DrawableTreeNode {\n  createDrawable(x: number, y: number, parentX: number, parentY: number): JSX.Element {\n    this._drawable = (\n      <Group key={x + ', ' + y}>\n        <FunctionDrawable {...{ x, y }}></FunctionDrawable>\n        {(parentX !== x || parentY !== y) && (\n          <ArrowDrawable\n            {...{\n              from: {\n                x: parentX + Config.BoxWidth / 2,\n                y: parentY + Config.BoxHeight / 2\n              },\n              to: {\n                x,\n                y\n              }\n            }}\n          ></ArrowDrawable>\n        )}\n      </Group>\n    );\n\n    this.drawableX = x;\n    this.drawableY = y;\n\n    return this._drawable;\n  }\n}\n","import { Group } from 'react-konva';\n\nimport { Config } from '../Config';\nimport { ArrayDrawable, ArrowDrawable } from '../drawable/Drawable';\nimport { DrawableTreeNode } from './DrawableTreeNode';\n\n/**\n * Represents a node corresponding to a Source pair or array.\n */\nexport class ArrayTreeNode extends DrawableTreeNode {\n  createDrawable(x: number, y: number, parentX: number, parentY: number): JSX.Element {\n    const arrayProps = { nodes: this.children ?? [], x, y };\n    const arrayDrawable = <ArrayDrawable {...arrayProps}></ArrayDrawable>;\n\n    this._drawable = (\n      <Group key={x + ', ' + y}>\n        {arrayDrawable}\n        {(parentX !== x || parentY !== y) && (\n          <ArrowDrawable\n            {...{\n              from: {\n                x: parentX + Config.BoxWidth / 2,\n                y: parentY + Config.BoxHeight / 2\n              },\n              to: {\n                x,\n                y\n              }\n            }}\n          ></ArrowDrawable>\n        )}\n      </Group>\n    );\n    this.drawableX = x;\n    this.drawableY = y;\n    return this._drawable;\n  }\n}\n","import Konva from 'konva';\nimport { Layer, Text } from 'react-konva';\n\nimport { Config } from '../Config';\nimport { Data, Pair } from '../dataVisualizerTypes';\nimport { isArray, isFunction, toText } from '../dataVisualizerUtils';\nimport { ArrowDrawable } from '../drawable/ArrowDrawable';\nimport { BackwardArrowDrawable } from '../drawable/BackwardArrowDrawable';\nimport { AlreadyParsedTreeNode } from './AlreadyParsedTreeNode';\nimport {\n  ArrayTreeNode,\n  DataTreeNode,\n  DrawableTreeNode,\n  FunctionTreeNode,\n  TreeNode\n} from './TreeNode';\n\n/**\n *  A tree object built based on the given Data, Function or Array of\n *  data/functions/arrays.\n */\nexport class Tree {\n  private _rootNode: TreeNode;\n  private nodes: DrawableTreeNode[];\n\n  /**\n   * Constructs a tree given a root node and a list of nodes.\n   * @param rootNode The root node of the tree.\n   * @param nodes The memoized nodes of the tree in list form.\n   */\n  constructor(rootNode: TreeNode, nodes: DrawableTreeNode[]) {\n    this._rootNode = rootNode;\n    this.nodes = nodes;\n  }\n\n  /**\n   * The root node of the tree.\n   */\n  get rootNode(): TreeNode {\n    return this._rootNode;\n  }\n\n  /**\n   * Returns the memoized node of the given id.\n   * @param id The id of the node.\n   */\n  getNodeById(id: number): DrawableTreeNode {\n    return this.nodes[id];\n  }\n\n  static fromSourceStructure(tree: Data): Tree {\n    let nodeCount = 0;\n\n    function constructNode(structure: Data): TreeNode {\n      const alreadyDrawnNode = visitedStructures.get(structure);\n      if (alreadyDrawnNode !== undefined) {\n        return new AlreadyParsedTreeNode(alreadyDrawnNode);\n      }\n      return isArray(structure)\n        ? constructTree(structure)\n        : isFunction(structure)\n        ? constructFunction(structure)\n        : constructData(structure);\n    }\n\n    /**\n     * Returns a node representing the given tree as a pair.\n     * Also memoizes the pair object, for the case where the\n     * pair appears multiple times in the data structure.\n     * @param tree The Source tree to construct a node for.\n     */\n    function constructTree(tree: Array<Data>) {\n      const node = new ArrayTreeNode();\n\n      visitedStructures.set(tree, node);\n      treeNodes[nodeCount] = node;\n      nodeCount++;\n\n      // Done like that instead of in constructor to prevent infinite recursion\n      node.children = tree.map(constructNode);\n\n      return node;\n    }\n\n    /**\n     * Returns a node representing the given function.\n     * Also memoizes the function object, for the case where the\n     * function appears multiple times in the data structure.\n     * @param func The function to construct a node for.\n     */\n    function constructFunction(func: Function) {\n      const node = new FunctionTreeNode();\n\n      // memoise current function\n      visitedStructures.set(func, node);\n      treeNodes[nodeCount] = node;\n      nodeCount++;\n\n      return node;\n    }\n\n    /**\n     * Returns a node representing the given data.\n     * Anything except functions and pairs are considered data, including empty lists.\n     * @param data The data to construct a node for.\n     */\n    function constructData(data: Data) {\n      return new DataTreeNode(data);\n    }\n\n    const visitedStructures: Map<Function | Pair | Array<Data>, DrawableTreeNode> = new Map(); // detects cycles\n    const treeNodes: DrawableTreeNode[] = [];\n    const rootNode = constructNode(tree);\n\n    return new Tree(rootNode, treeNodes);\n  }\n\n  draw(): TreeDrawer {\n    return new TreeDrawer(this);\n  }\n}\n\n/**\n *  Drawer function of a tree\n */\nclass TreeDrawer {\n  private tree: Tree;\n\n  private drawables: JSX.Element[];\n  private nodeWidths: Map<TreeNode, number>;\n  public width: number = 0;\n  public height: number = 0;\n\n  // Used to account for backward arrow\n  private minX = 0;\n  private minY = 0;\n\n  constructor(tree: Tree) {\n    this.tree = tree;\n    this.drawables = [];\n    this.nodeWidths = new Map();\n  }\n\n  /**\n   *  Draws a tree at x, y, by calling drawNode on the root at x, y.\n   */\n  draw(x: number, y: number): JSX.Element {\n    if (this.tree.rootNode instanceof DataTreeNode) {\n      const text = toText(this.tree.rootNode.data);\n      const textConfig = {\n        text: text,\n        align: 'center',\n        fontStyle: 'normal',\n        fontSize: 20,\n        fill: Config.Stroke\n      };\n      const konvaText = new Konva.Text(textConfig);\n      this.width = konvaText.width();\n      this.height = konvaText.height();\n      return (\n        <Layer>\n          <Text {...textConfig} />\n        </Layer>\n      );\n    } else {\n      this.drawNode(this.tree.rootNode, x, y, x, y);\n      this.width = this.getNodeWidth(this.tree.rootNode) - this.minX;\n      this.height = this.getNodeHeight(this.tree.rootNode) - this.minY + Config.StrokeWidth;\n      return (\n        <Layer key={x + ', ' + y} offsetX={this.minX} offsetY={this.minY}>\n          {this.drawables}\n        </Layer>\n      );\n    }\n  }\n\n  /**\n   *  Draws the box for the pair representing the tree, then recursively draws its children.\n   *  A slash is drawn for empty lists.\n   *\n   *  If a child node has been drawn previously, an arrow is drawn pointing to the children,\n   *  instead of drawing the child node again.\n   * @param node The node to draw.\n   * @param x The x position to draw at.\n   * @param y The y position to draw at.\n   * @param parentX The x position of the parent. If there is no parent, it is the same as x.\n   * @param parentY The y position of the parent. If there is no parent, it is the same as y.\n   */\n  drawNode(node: TreeNode, x: number, y: number, parentX: number, parentY: number) {\n    if (node instanceof AlreadyParsedTreeNode) {\n      // if its child is part of a cycle and it's been drawn, link back to that node instead\n      const drawnNode = node.actualNode;\n      const arrowProps = {\n        from: {\n          x: parentX + Config.BoxWidth / 2,\n          y: parentY + Config.BoxHeight / 2\n        },\n        to: {\n          x: drawnNode.drawableX!,\n          y: drawnNode.drawableY!\n        }\n      };\n\n      const isBackwardArrow = arrowProps.from.y >= arrowProps.to.y;\n\n      let arrow: JSX.Element;\n\n      if (isBackwardArrow) {\n        // Update the minX and minY, in case overflow to the top or left happens\n        this.minX = Math.min(\n          this.minX,\n          drawnNode.drawableX! - Config.ArrowMarginHorizontal - Config.StrokeWidth / 2\n        );\n        this.minY = Math.min(\n          this.minY,\n          drawnNode.drawableY! - Config.ArrowMarginTop - Config.StrokeWidth / 2\n        );\n        arrow = (\n          <BackwardArrowDrawable key={'Arrow (back)' + parentX + x + parentY + y} {...arrowProps} />\n        );\n      } else {\n        arrow = <ArrowDrawable key={'Arrow' + parentX + x + parentY + y} {...arrowProps} />;\n      }\n      this.drawables.push(arrow);\n    }\n\n    if (!(node instanceof DrawableTreeNode)) return;\n\n    // draws the content\n    if (node instanceof FunctionTreeNode) {\n      const drawable = node.createDrawable(x, y, parentX, parentY);\n      this.drawables.push(drawable);\n    } else if (node instanceof ArrayTreeNode) {\n      const drawable = node.createDrawable(x, y, parentX, parentY);\n      this.drawables.push(drawable);\n\n      // if it has children, draw them\n      // const width = this.getNodeWidth(node);\n      let leftX = x;\n      node.children?.forEach((childNode, index) => {\n        const childY = childNode instanceof AlreadyParsedTreeNode ? y : y + Config.DistanceY;\n        this.drawNode(childNode, leftX, childY, x + Config.BoxWidth * index, y);\n        const childNodeWidth = this.getNodeWidth(childNode);\n        leftX += childNodeWidth ? childNodeWidth + Config.DistanceX : 0;\n      });\n    }\n  }\n\n  /**\n   * Returns the width taken up by the node in pixels.\n   * @param node The node to calculate the width of.\n   */\n  getNodeWidth(node: TreeNode): number {\n    if (node instanceof DataTreeNode || node instanceof AlreadyParsedTreeNode) {\n      return 0;\n    } else if (node instanceof FunctionTreeNode) {\n      return Config.CircleRadiusLarge * 4 + 2 * Config.StrokeWidth;\n    } else if (node instanceof ArrayTreeNode) {\n      if (this.nodeWidths.has(node)) {\n        return this.nodeWidths.get(node) ?? 0;\n      } else if (node.children != null) {\n        const childrenWidths = node.children\n          .map(node => this.getNodeWidth(node))\n          .filter(x => x > 0);\n        const childrenWidth =\n          childrenWidths.length > 0 ? childrenWidths.reduce((x, y) => x + y + Config.DistanceX) : 0;\n        const nodeWidth = Math.max(\n          node.children.length * Config.BoxWidth + Config.StrokeWidth,\n          childrenWidth,\n          Config.BoxMinWidth + Config.StrokeWidth\n        );\n        this.nodeWidths.set(node, nodeWidth);\n        return nodeWidth;\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  }\n\n  /**\n   * Returns the height taken up by the node in pixels.\n   * @param node The node to calculate the width of.\n   */\n  getNodeHeight(node: TreeNode): number {\n    if (node instanceof DataTreeNode) {\n      return 0;\n    } else if (node instanceof FunctionTreeNode) {\n      return Config.BoxHeight;\n    } else if (node instanceof AlreadyParsedTreeNode) {\n      return Config.ArrowMarginBottom;\n    } else if (node instanceof ArrayTreeNode) {\n      // Height of array node is BoxHeight + StrokeWidth / 2 + max(childrenHeights)\n      return (\n        (node.children ?? [])\n          .map(child => {\n            const childHeight = this.getNodeHeight(child);\n            return childHeight + (child instanceof DrawableTreeNode ? Config.DistanceY / 2 : 0);\n          })\n          .filter(height => height > 0)\n          .reduce((x, y) => Math.max(x, y), 0) + Config.BoxHeight\n      );\n    } else {\n      return 0;\n    }\n  }\n}\n","import { Stage } from 'react-konva';\n\nimport { Config } from './Config';\nimport { Data, Step } from './dataVisualizerTypes';\nimport { Tree } from './tree/Tree';\nimport { DataTreeNode } from './tree/TreeNode';\n\n/**\n * The data visualizer class.\n * Exposes three function: init, drawData, and clear.\n *\n * init is used by SideContentDataVisualizer as a hook.\n * drawData is the draw_data function in source.\n * clear is used by WorkspaceSaga to reset the visualizer after every \"Run\" button press\n */\nexport default class DataVisualizer {\n  private static empty(step: Step[]) {}\n  private static setSteps: (step: Step[]) => void = DataVisualizer.empty;\n  private static _instance = new DataVisualizer();\n\n  private steps: Step[] = [];\n  private nodeLabel = 0;\n  private nodeToLabelMap: Map<DataTreeNode, number> = new Map();\n\n  private constructor() {}\n\n  public static init(setSteps: (step: Step[]) => void): void {\n    DataVisualizer.setSteps = setSteps;\n  }\n\n  public static drawData(structures: Data[]): void {\n    if (!DataVisualizer.setSteps) {\n      throw new Error('Data visualizer not initialized');\n    }\n    DataVisualizer._instance.addStep(structures);\n    DataVisualizer.setSteps(DataVisualizer._instance.steps);\n  }\n\n  public static clear(): void {\n    DataVisualizer._instance = new DataVisualizer();\n    DataVisualizer.setSteps(DataVisualizer._instance.steps);\n  }\n\n  public static displaySpecialContent(dataNode: DataTreeNode): number {\n    return DataVisualizer._instance.displaySpecialContent(dataNode);\n  }\n\n  private displaySpecialContent(dataNode: DataTreeNode): number {\n    if (this.nodeToLabelMap.has(dataNode)) {\n      return this.nodeToLabelMap.get(dataNode) ?? 0;\n    } else {\n      console.log('*' + this.nodeLabel + ': ' + dataNode.data);\n      this.nodeToLabelMap.set(dataNode, this.nodeLabel);\n      return this.nodeLabel++;\n    }\n  }\n\n  private addStep(structures: Data[]) {\n    const step = structures.map(this.createDrawing);\n    this.steps.push(step);\n  }\n\n  /**\n   *  For student use. Draws a structure by converting it into a tree object, attempts to draw on the canvas,\n   *  Then shift it to the left end.\n   */\n  private createDrawing(xs: Data): JSX.Element {\n    const treeDrawer = Tree.fromSourceStructure(xs).draw();\n\n    // To account for overflow to the left side due to a backward arrow\n    // const leftMargin = Config.ArrowMarginHorizontal + Config.StrokeWidth;\n    const leftMargin = Config.StrokeWidth / 2;\n\n    // To account for overflow to the top due to a backward arrow\n    const topMargin = Config.StrokeWidth / 2;\n\n    const layer = treeDrawer.draw(leftMargin, topMargin);\n    return (\n      <Stage key={xs} width={treeDrawer.width + leftMargin} height={treeDrawer.height + topMargin}>\n        {layer}\n      </Stage>\n    );\n  }\n}\n","import { stringify } from 'Clang-slang/dist/utils/stringify';\n\ntype DisplayBufferCallback = (log: string) => void;\n\ntype ConsoleOverloadMethod<T> = (bufferCallback: DisplayBufferCallback) => (args: T) => void;\n\n// TODO add other overloads\n// - e.g. \"warn\"/\"debug\"/\"time\"/\"timeEnd\"\ninterface ConsoleOverload {\n  log: ConsoleOverloadMethod<any[]>;\n}\n\nexport const consoleOverloads: ConsoleOverload = {\n  log:\n    (bufferCallback: DisplayBufferCallback) =>\n    (...args: any[]) => {\n      bufferCallback(args.map(log => (typeof log === 'string' ? log : stringify(log))).join(' '));\n    }\n};\n","import { WorkspaceLocation } from '../workspace/WorkspaceTypes';\nimport { consoleOverloads } from './ConsoleOverload';\n\nclass BufferService {\n  private buffer: string[];\n  private workspaceLocation: WorkspaceLocation | undefined;\n\n  constructor() {\n    this.buffer = [];\n  }\n\n  public dump(): string[] {\n    const bufferCopy = [...this.buffer];\n    this.resetBuffer();\n    return bufferCopy;\n  }\n\n  public push(log: string, workspaceLocation: WorkspaceLocation): void {\n    this.handleWorkspaceChange(workspaceLocation);\n    this.buffer.push(log);\n  }\n\n  public attachConsole(workspaceLocation: WorkspaceLocation): () => void {\n    const bufferCallback = (log: string) => this.push(log, workspaceLocation);\n    const defaultConsole = {};\n    Object.entries(consoleOverloads).forEach(([method, overload]) => {\n      defaultConsole[method] = console[method];\n      console[method] = overload(bufferCallback);\n    });\n\n    return () => {\n      Object.entries(consoleOverloads).forEach(([method]) => {\n        console[method] = defaultConsole[method];\n      });\n    };\n  }\n\n  private handleWorkspaceChange(newWorkspace: WorkspaceLocation): void {\n    if (!this.hasWorkspace() || newWorkspace !== this.workspaceLocation) {\n      this.workspaceLocation = newWorkspace;\n      this.resetBuffer();\n    }\n  }\n\n  private hasWorkspace(): boolean {\n    return Boolean(this.workspaceLocation);\n  }\n\n  private resetBuffer(): void {\n    this.buffer = [];\n  }\n}\n\n// Singleton\nconst DisplayBufferService: BufferService = new BufferService();\nexport default DisplayBufferService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ACORN_PARSE_OPTIONS = exports.sourceLanguages = exports.JSSLANG_PROPERTIES = exports.UNKNOWN_LOCATION = exports.MAX_LIST_DISPLAY_LENGTH = exports.MODULE_CONTEXTS_ID = exports.MODULE_PARAMS_ID = exports.NATIVE_STORAGE_ID = exports.GLOBAL = exports.TRY_AGAIN = exports.CUT = void 0;\nconst types_1 = require(\"./types\");\nexports.CUT = 'cut'; // cut operator for Source 4.3\nexports.TRY_AGAIN = 'retry'; // command for Source 4.3\nexports.GLOBAL = typeof window === 'undefined' ? global : window;\nexports.NATIVE_STORAGE_ID = 'nativeStorage';\nexports.MODULE_PARAMS_ID = 'moduleParams';\nexports.MODULE_CONTEXTS_ID = 'moduleContexts';\nexports.MAX_LIST_DISPLAY_LENGTH = 100;\nexports.UNKNOWN_LOCATION = {\n    start: {\n        line: -1,\n        column: -1\n    },\n    end: {\n        line: -1,\n        column: -1\n    }\n};\nexports.JSSLANG_PROPERTIES = {\n    maxExecTime: 1000,\n    factorToIncreaseBy: 10\n};\nexports.sourceLanguages = [{ chapter: types_1.Chapter.CLANG, variant: types_1.Variant.DEFAULT }];\nexports.ACORN_PARSE_OPTIONS = { ecmaVersion: 2015 };\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RuntimeSourceError = void 0;\nconst constants_1 = require(\"../constants\");\nconst types_1 = require(\"../types\");\nclass RuntimeSourceError {\n    constructor(node) {\n        this.type = types_1.ErrorType.RUNTIME;\n        this.severity = types_1.ErrorSeverity.ERROR;\n        this.location = node ? node.loc : constants_1.UNKNOWN_LOCATION;\n    }\n    explain() {\n        return '';\n    }\n    elaborate() {\n        return this.explain();\n    }\n}\nexports.RuntimeSourceError = RuntimeSourceError;\n//# sourceMappingURL=runtimeSourceError.js.map","import { SourceError, Variant } from 'Clang-slang/dist/types';\n\nimport { ExternalLibrary, ExternalLibraryName } from '../application/types/ExternalTypes';\n\nexport const FETCH_ASSESSMENT_OVERVIEWS = 'FETCH_ASSESSMENT_OVERVIEWS';\nexport const SUBMIT_ASSESSMENT = 'SUBMIT_ASSESSMENT';\n\nexport enum AssessmentStatuses {\n  attempting = 'attempting',\n  attempted = 'attempted',\n  not_attempted = 'not_attempted',\n  submitted = 'submitted'\n}\nexport type AssessmentStatus = keyof typeof AssessmentStatuses;\n\nexport type AssessmentWorkspaceParams = {\n  assessmentId?: string;\n  questionId?: string;\n};\n\nexport enum GradingStatuses {\n  excluded = 'excluded',\n  graded = 'graded',\n  grading = 'grading',\n  none = 'none'\n}\nexport type GradingStatus = keyof typeof GradingStatuses;\n\nexport type AssessmentType = string;\n\nexport enum TestcaseTypes {\n  // These are rendered in full by the Mission Autograder\n  public = 'public',\n  // These are rendered with a placeholder by the Autograder\n  opaque = 'opaque',\n  // These should only exist in the grading workspace for submissions\n  secret = 'secret'\n}\nexport type TestcaseType = keyof typeof TestcaseTypes;\n\nexport enum QuestionTypes {\n  programming = 'programming',\n  mcq = 'mcq',\n  voting = 'voting'\n}\nexport type QuestionType = keyof typeof QuestionTypes;\n\n/*\nW* Used to display information regarding an assessment in the UI.\n*\n * @property closeAt an ISO 8601 compliant date string specifiying when\n *   the assessment closes\n * @property openAt an ISO 8601 compliant date string specifiying when\n *   the assessment opens\n */\nexport type AssessmentOverview = {\n  type: AssessmentType;\n  isManuallyGraded: boolean;\n  closeAt: string;\n  coverImage: string;\n  fileName?: string; // For mission control\n  gradingStatus: GradingStatus;\n  id: number;\n  isPublished?: boolean;\n  maxXp: number;\n  number?: string; // For mission control\n  openAt: string;\n  private?: boolean;\n  reading?: string; // For mission control\n  shortSummary: string;\n  status: AssessmentStatus;\n  story: string | null;\n  title: string;\n  xp: number;\n};\n\n/*\n * Used when an assessment is being actively attempted/graded.\n */\nexport type Assessment = {\n  type: AssessmentType;\n  globalDeployment?: Library; // For mission control\n  graderDeployment?: Library; // For mission control\n  id: number;\n  longSummary: string;\n  missionPDF: string;\n  title: string;\n  questions: Question[];\n};\n\nexport type AssessmentConfiguration = {\n  assessmentConfigId: number;\n  type: AssessmentType;\n  isManuallyGraded: boolean;\n  displayInDashboard: boolean;\n  hoursBeforeEarlyXpDecay: number;\n  earlySubmissionXp: number;\n};\n\nexport interface IProgrammingQuestion extends BaseQuestion {\n  answer: string | null;\n  autogradingResults: AutogradingResult[];\n  graderTemplate?: string;\n  prepend: string;\n  postpend: string;\n  solutionTemplate: string;\n  testcases: Testcase[];\n  testcasesPrivate?: Testcase[]; // For mission control\n  type: 'programming';\n}\n\nexport interface IMCQQuestion extends BaseQuestion {\n  answer: number | null;\n  choices: MCQChoice[];\n  solution?: number;\n  type: 'mcq';\n}\n\nexport interface IContestVotingQuestion extends BaseQuestion {\n  answer: ContestEntry[];\n  prepend: string;\n  postpend: string;\n  contestEntries: ContestEntry[];\n  contestLeaderboard: ContestEntry[];\n  type: 'voting';\n}\n\nexport type BaseQuestion = {\n  answer: string | number | ContestEntry[] | null;\n  comments?: string;\n  content: string;\n  editorValue?: string;\n  gradedAt?: string;\n  grader?: {\n    name: string;\n    id: number;\n  };\n  graderLibrary?: Library; // For mission control\n  id: number;\n  library: Library;\n  maxXp: number;\n  type: QuestionType;\n  xp: number;\n  blocking?: boolean; // Determines whether the learner can progress to the next question without passing local testcases\n  // TODO: The blocking field is made optional now as the Question type is being shared with GitHub Assessments, which has not implemented\n  // the question-level blocking feature. Is to be made compulsory after this is implemented in GitHub Assessments\n};\n\nexport type Question = IProgrammingQuestion | IMCQQuestion | IContestVotingQuestion;\n\nexport type Library = {\n  variant?: Variant;\n  execTimeMs?: number;\n  external: ExternalLibrary;\n  globals: Array<{\n    0: string;\n    1: any;\n    2?: string; // For mission control\n  }>;\n  moduleParams?: any;\n};\n\nexport type Testcase = {\n  answer: string; // the correct answer to the testcase\n  errors?: SourceError[]; // errors raised by interpreter during execution\n  program: string; // the program to be appended to the student's code\n  result?: any; // the result from the execution of the testcase\n  score: number;\n  type: TestcaseType;\n};\n\nexport type ContestEntry = {\n  submission_id: number;\n  answer: ContestEntryCodeAnswer; //contest entry program to be input into editor\n  score?: number;\n  final_score?: number;\n  student_name?: string;\n};\n\nexport type ContestEntryCodeAnswer = {\n  code: string;\n};\n\nexport type MCQChoice = {\n  content: string;\n  hint: string | null;\n};\n\nexport type AutogradingResult = {\n  resultType: string;\n  expected?: string; // the correct answer for the testcase\n  actual?: string; // the received answer from the student's code\n  errors?: AutogradingError[];\n};\n\nexport type AutogradingError = {\n  errorType: string;\n  line?: number;\n  location?: string;\n  errorLine?: string;\n  errorExplanation?: string;\n  errorMessage?: string;\n};\n\nexport const emptyLibrary = (): Library => {\n  return {\n    external: {\n      name: 'NONE' as ExternalLibraryName,\n      symbols: []\n    },\n    globals: []\n  };\n};\n\nexport const normalLibrary = (): Library => {\n  return {\n    external: {\n      name: 'NONE' as ExternalLibraryName,\n      symbols: []\n    },\n    globals: []\n  };\n};\n\nexport const overviewTemplate = (): AssessmentOverview => {\n  return {\n    type: 'Missions',\n    isManuallyGraded: true,\n    closeAt: '2100-12-01T00:00+08',\n    coverImage: 'https://fakeimg.pl/300/',\n    id: -1,\n    maxXp: 0,\n    openAt: '2000-01-01T00:00+08',\n    title: 'Insert title here',\n    reading: '',\n    shortSummary: 'Insert short summary here',\n    status: AssessmentStatuses.not_attempted,\n    story: 'mission',\n    xp: 0,\n    gradingStatus: 'none'\n  };\n};\n\nexport const programmingTemplate = (): IProgrammingQuestion => {\n  return {\n    autogradingResults: [],\n    answer: '// [Marking Scheme]\\n// 1 mark for correct answer',\n    content: 'Enter content here',\n    id: 0,\n    library: emptyLibrary(),\n    graderLibrary: emptyLibrary(),\n    prepend: '',\n    solutionTemplate: '//This is a mock solution template',\n    postpend: '',\n    testcases: [],\n    testcasesPrivate: [],\n    type: 'programming',\n    xp: 0,\n    maxXp: 0,\n    blocking: false\n  };\n};\n\nexport const testcaseTemplate = (): Testcase => {\n  return {\n    type: TestcaseTypes.public,\n    answer: '',\n    score: 0,\n    program: ''\n  };\n};\n\nexport const mcqTemplate = (): IMCQQuestion => {\n  return {\n    answer: 3,\n    content: 'This is a mock MCQ question',\n    choices: [\n      {\n        content: 'A',\n        hint: null\n      },\n      {\n        content: 'B',\n        hint: null\n      },\n      {\n        content: 'C',\n        hint: null\n      },\n      {\n        content: 'D',\n        hint: null\n      }\n    ],\n    id: 2,\n    library: emptyLibrary(),\n    graderLibrary: emptyLibrary(),\n    type: 'mcq',\n    solution: 0,\n    xp: 0,\n    maxXp: 0,\n    blocking: false\n  };\n};\n\nexport const assessmentTemplate = (): Assessment => {\n  return {\n    type: 'Missions',\n    globalDeployment: normalLibrary(),\n    graderDeployment: emptyLibrary(),\n    id: -1,\n    longSummary: 'Insert mission briefing here',\n    missionPDF: 'www.google.com',\n    questions: [programmingTemplate()],\n    title: 'Insert title here'\n  };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.whileStatement = exports.ifStatement = exports.variableDeclarator = exports.variableDeclaration = exports.arrowFunctionExpression = exports.blockExpression = exports.functionDeclaration = exports.functionDeclarationExpression = exports.primitive = exports.unaryExpression = exports.binaryExpression = exports.assignmentExpression = exports.arrayExpression = exports.conditionalExpression = exports.mutateToConditionalExpression = exports.logicalExpression = exports.mutateToMemberExpression = exports.mutateToReturnStatement = exports.mutateToExpressionStatement = exports.mutateToAssignmentExpression = exports.mutateToCallExpression = exports.objectExpression = exports.property = exports.returnStatement = exports.program = exports.blockStatement = exports.functionExpression = exports.blockArrowFunction = exports.expressionStatement = exports.callExpression = exports.constantDeclaration = exports.declaration = exports.memberExpression = exports.literal = exports.identifier = exports.locationDummyNode = exports.getVariableDecarationName = void 0;\nconst getVariableDecarationName = (decl) => decl.declarations[0].id.name;\nexports.getVariableDecarationName = getVariableDecarationName;\nconst locationDummyNode = (line, column) => (0, exports.literal)('Dummy', { start: { line, column }, end: { line, column } });\nexports.locationDummyNode = locationDummyNode;\nconst identifier = (name, loc) => ({\n    type: 'Identifier',\n    name,\n    loc\n});\nexports.identifier = identifier;\nconst literal = (value, loc) => ({\n    type: 'Literal',\n    value,\n    loc\n});\nexports.literal = literal;\nconst memberExpression = (object, property) => ({\n    type: 'MemberExpression',\n    object,\n    computed: typeof property === 'number',\n    optional: false,\n    property: typeof property === 'number' ? (0, exports.literal)(property) : (0, exports.identifier)(property)\n});\nexports.memberExpression = memberExpression;\nconst declaration = (name, kind, init, loc) => ({\n    type: 'VariableDeclaration',\n    declarations: [\n        {\n            type: 'VariableDeclarator',\n            id: (0, exports.identifier)(name),\n            init\n        }\n    ],\n    kind,\n    loc\n});\nexports.declaration = declaration;\nconst constantDeclaration = (name, init, loc) => (0, exports.declaration)(name, 'const', init, loc);\nexports.constantDeclaration = constantDeclaration;\nconst callExpression = (callee, args, loc) => ({\n    type: 'CallExpression',\n    callee,\n    arguments: args,\n    optional: false,\n    loc\n});\nexports.callExpression = callExpression;\nconst expressionStatement = (expression) => ({\n    type: 'ExpressionStatement',\n    expression\n});\nexports.expressionStatement = expressionStatement;\nconst blockArrowFunction = (params, body, loc) => ({\n    type: 'ArrowFunctionExpression',\n    expression: false,\n    generator: false,\n    params,\n    body: Array.isArray(body) ? (0, exports.blockStatement)(body) : body,\n    loc\n});\nexports.blockArrowFunction = blockArrowFunction;\nconst functionExpression = (params, body, loc) => ({\n    type: 'FunctionExpression',\n    id: null,\n    async: false,\n    generator: false,\n    params,\n    body: Array.isArray(body) ? (0, exports.blockStatement)(body) : body,\n    loc\n});\nexports.functionExpression = functionExpression;\nconst blockStatement = (body) => ({\n    type: 'BlockStatement',\n    body\n});\nexports.blockStatement = blockStatement;\nconst program = (body) => ({\n    type: 'Program',\n    sourceType: 'module',\n    body\n});\nexports.program = program;\nconst returnStatement = (argument, loc) => ({\n    type: 'ReturnStatement',\n    argument,\n    loc\n});\nexports.returnStatement = returnStatement;\nconst property = (key, value) => ({\n    type: 'Property',\n    method: false,\n    shorthand: false,\n    computed: false,\n    key: (0, exports.identifier)(key),\n    value,\n    kind: 'init'\n});\nexports.property = property;\nconst objectExpression = (properties) => ({\n    type: 'ObjectExpression',\n    properties\n});\nexports.objectExpression = objectExpression;\nconst mutateToCallExpression = (node, callee, args) => {\n    node.type = 'CallExpression';\n    node = node;\n    node.callee = callee;\n    node.arguments = args;\n};\nexports.mutateToCallExpression = mutateToCallExpression;\nconst mutateToAssignmentExpression = (node, left, right) => {\n    node.type = 'AssignmentExpression';\n    node = node;\n    node.operator = '=';\n    node.left = left;\n    node.right = right;\n};\nexports.mutateToAssignmentExpression = mutateToAssignmentExpression;\nconst mutateToExpressionStatement = (node, expr) => {\n    node.type = 'ExpressionStatement';\n    node = node;\n    node.expression = expr;\n};\nexports.mutateToExpressionStatement = mutateToExpressionStatement;\nconst mutateToReturnStatement = (node, expr) => {\n    node.type = 'ReturnStatement';\n    node = node;\n    node.argument = expr;\n};\nexports.mutateToReturnStatement = mutateToReturnStatement;\nconst mutateToMemberExpression = (node, obj, prop) => {\n    node.type = 'MemberExpression';\n    node = node;\n    node.object = obj;\n    node.property = prop;\n    node.computed = false;\n};\nexports.mutateToMemberExpression = mutateToMemberExpression;\nconst logicalExpression = (operator, left, right, loc) => ({\n    type: 'LogicalExpression',\n    operator,\n    left,\n    right,\n    loc\n});\nexports.logicalExpression = logicalExpression;\nconst mutateToConditionalExpression = (node, test, consequent, alternate) => {\n    node.type = 'ConditionalExpression';\n    node = node;\n    node.test = test;\n    node.consequent = consequent;\n    node.alternate = alternate;\n};\nexports.mutateToConditionalExpression = mutateToConditionalExpression;\nconst conditionalExpression = (test, consequent, alternate, loc) => ({\n    type: 'ConditionalExpression',\n    test,\n    consequent,\n    alternate,\n    loc\n});\nexports.conditionalExpression = conditionalExpression;\nconst arrayExpression = (elements) => ({\n    type: 'ArrayExpression',\n    elements\n});\nexports.arrayExpression = arrayExpression;\nconst assignmentExpression = (left, right) => ({\n    type: 'AssignmentExpression',\n    operator: '=',\n    left,\n    right\n});\nexports.assignmentExpression = assignmentExpression;\nconst binaryExpression = (operator, left, right, loc) => ({\n    type: 'BinaryExpression',\n    operator,\n    left,\n    right,\n    loc\n});\nexports.binaryExpression = binaryExpression;\nconst unaryExpression = (operator, argument, loc) => ({\n    type: 'UnaryExpression',\n    operator,\n    prefix: true,\n    argument,\n    loc\n});\nexports.unaryExpression = unaryExpression;\n// primitive: undefined is a possible value\nconst primitive = (value) => {\n    return value === undefined ? (0, exports.identifier)('undefined') : (0, exports.literal)(value);\n};\nexports.primitive = primitive;\nconst functionDeclarationExpression = (id, params, body, loc) => ({\n    type: 'FunctionExpression',\n    id,\n    params,\n    body,\n    loc\n});\nexports.functionDeclarationExpression = functionDeclarationExpression;\nconst functionDeclaration = (id, params, body, loc) => ({\n    type: 'FunctionDeclaration',\n    id,\n    params,\n    body,\n    loc\n});\nexports.functionDeclaration = functionDeclaration;\nconst blockExpression = (body, loc) => ({\n    type: 'BlockExpression',\n    body,\n    loc\n});\nexports.blockExpression = blockExpression;\nconst arrowFunctionExpression = (params, body, loc) => ({\n    type: 'ArrowFunctionExpression',\n    expression: body.type !== 'BlockStatement',\n    generator: false,\n    params,\n    body,\n    loc\n});\nexports.arrowFunctionExpression = arrowFunctionExpression;\nconst variableDeclaration = (declarations, loc) => ({\n    type: 'VariableDeclaration',\n    kind: 'const',\n    declarations,\n    loc\n});\nexports.variableDeclaration = variableDeclaration;\nconst variableDeclarator = (id, init, loc) => ({\n    type: 'VariableDeclarator',\n    id,\n    init,\n    loc\n});\nexports.variableDeclarator = variableDeclarator;\nconst ifStatement = (test, consequent, alternate, loc) => ({\n    type: 'IfStatement',\n    test,\n    consequent,\n    alternate,\n    loc\n});\nexports.ifStatement = ifStatement;\nconst whileStatement = (body, test, loc) => ({\n    type: 'WhileStatement',\n    test,\n    body,\n    loc\n});\nexports.whileStatement = whileStatement;\n//# sourceMappingURL=astCreator.js.map","import { AssessmentOverview } from 'src/commons/assessment/AssessmentTypes';\n\nimport { BooleanExpression } from './ExpressionTypes';\n\nexport const ADD_EVENT = 'ADD_EVENT';\nexport const BULK_UPDATE_ACHIEVEMENTS = 'BULK_UPDATE_ACHIEVEMENTS';\nexport const BULK_UPDATE_GOALS = 'BULK_UPDATE_GOALS';\nexport const EDIT_ACHIEVEMENT = 'EDIT_ACHIEVEMENT';\nexport const EDIT_GOAL = 'EDIT_GOAL';\nexport const HANDLE_EVENT = 'HANDLE_EVENT';\nexport const GET_ACHIEVEMENTS = 'GET_ACHIEVEMENTS';\nexport const GET_GOALS = 'GET_GOALS';\nexport const GET_OWN_GOALS = 'GET_OWN_GOALS';\nexport const GET_USER_ASSESSMENT_OVERVIEWS = 'GET_USER_ASSESSMENT_OVERVIEWS';\nexport const GET_USERS = 'GET_USERS';\nexport const REMOVE_ACHIEVEMENT = 'REMOVE_ACHIEVEMENT';\nexport const REMOVE_GOAL = 'REMOVE_GOAL';\nexport const SAVE_ACHIEVEMENTS = 'SAVE_ACHIEVEMENTS';\nexport const SAVE_GOALS = 'SAVE_GOALS';\nexport const SAVE_USER_ASSESSMENT_OVERVIEWS = 'SAVE_USER_ASSESSMENT_OVERVIEWS';\nexport const SAVE_USERS = 'SAVE_USERS';\nexport const UPDATE_GOAL_PROGRESS = 'UPDATE_GOAL_PROGRESS';\nexport const UPDATE_OWN_GOAL_PROGRESS = 'UPDATE_OWN_GOAL_PROGRESS';\n\nexport enum AchievementStatus {\n  ACTIVE = 'ACTIVE', // deadline not over and not completed\n  COMPLETED = 'COMPLETED', // completed, regardless of deadline\n  EXPIRED = 'EXPIRED', // deadline over and not completed\n  UNRELEASED = 'UNRELEASED' // release date not reached yet\n}\n\nexport enum FilterStatus {\n  ALL = 'ALL', // show all achievements\n  ACTIVE = 'ACTIVE', // show active achievements only\n  COMPLETED = 'COMPLETED' // show completed achievements only\n}\n\n/**\n * Information of an achievement item\n *\n * @param {string} uuid unique uuid of the achievement item\n * @param {string} title title of the achievement\n * @param {number} xp the xp gained when completing the achievement\n * @param {boolean} isVariableXp the xp gained from the achievement is the sum of its goal counts\n * @param {Date} deadline Optional, the deadline of the achievement\n * @param {Date} release Optional, the release date of the achievement\n * @param {boolean} isTask if true, the achievement is rendered as an achievement task\n * @param {number} position ordering of the achievement task, 0 for non-task\n * @param {string[]} prerequisiteUuids an array of prerequisite uuids\n * @param {string[]} goalUuids an array of goal uuids\n * @param {string} cardBackground background image URL of the achievement card\n * @param {AchievementView} view the achievement view\n */\nexport type AchievementItem = {\n  uuid: string;\n  title: string;\n  xp: number;\n  isVariableXp: boolean;\n  deadline?: Date;\n  release?: Date;\n  isTask: boolean;\n  position: number;\n  prerequisiteUuids: string[];\n  goalUuids: string[];\n  cardBackground: string;\n  view: AchievementView;\n};\n\nexport type AchievementGoal = GoalDefinition & GoalProgress;\n\n/**\n * Information of an achievement goal definition\n *\n * @param {string} uuid unique uuid of the goal\n * @param {string} text goal description\n * @param {string[]} achievementUuids an array of achievement uuids that use this goal\n * @param {GoalMeta} meta contains meta data relevant to the goal type\n */\nexport type GoalDefinition = {\n  uuid: string;\n  text: string;\n  achievementUuids: string[];\n  meta: GoalMeta;\n};\n\n/**\n * Information of an achievement goal progress\n *\n * @param {string} uuid unique uuid of the goal\n * @param {number} xp student's current XP of the goal\n * @param {number} maxXp maximum attainable XP of the goal (computed by server)\n * @param {boolean} completed student's completion status of the goal\n */\nexport type GoalProgress = {\n  uuid: string;\n  count: number;\n  targetCount: number;\n  completed: boolean;\n};\n\nexport const defaultGoalProgress = {\n  count: 0,\n  targetCount: 1,\n  completed: false\n};\n\nexport enum GoalType {\n  MANUAL = 'Manual',\n  EVENT = 'Event',\n  ASSESSMENT = 'Assessment (unsupported)',\n  BINARY = 'Binary (unsupported)'\n}\n\nexport enum EventType {\n  NONE = 'None', // This is just for the purposes of a default value\n  RUN_CODE = 'Run Code',\n  ERROR = 'Error',\n  RUN_TESTCASE = 'Run Testcase'\n}\n\nexport type GoalMeta = AssessmentMeta | BinaryMeta | ManualMeta | EventMeta;\n\nexport type AssessmentMeta = {\n  type: GoalType.ASSESSMENT;\n  assessmentNumber: number;\n  requiredCompletionFrac: number; // between [0..1]\n};\n\nexport type BinaryMeta = {\n  type: GoalType.BINARY;\n  condition: BooleanExpression;\n  targetCount: number;\n};\n\nexport type ManualMeta = {\n  type: GoalType.MANUAL;\n  targetCount: number;\n};\n\nexport type EventMeta = {\n  type: GoalType.EVENT;\n  eventNames: EventType[];\n  targetCount: number;\n  release?: Date;\n  deadline?: Date;\n  observeFrom?: Date;\n  observeTo?: Date;\n};\n\n/**\n * Information of an achievement view\n *\n * @param {string} coverImage cover image URL\n * @param {string} description fixed text that displays under title\n * @param {string} completionText text that displays after student completes the achievement\n */\nexport type AchievementView = {\n  coverImage: string;\n  description: string;\n  completionText: string;\n};\n\nexport type AchievementUser = {\n  name?: string;\n  username: string;\n  courseRegId: number;\n  group: string;\n};\n\nexport type AchievementState = {\n  achievements: AchievementItem[];\n  goals: AchievementGoal[];\n  users: AchievementUser[];\n  assessmentOverviews: AssessmentOverview[];\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CircularImportError = exports.CannotFindModuleError = exports.ConsecutiveSlashesInFilePathError = exports.IllegalCharInFilePathError = exports.InvalidFilePathError = void 0;\nconst constants_1 = require(\"../constants\");\nconst filePaths_1 = require(\"../localImports/filePaths\");\nconst types_1 = require(\"../types\");\nclass InvalidFilePathError {\n    constructor(filePath) {\n        this.filePath = filePath;\n        this.type = types_1.ErrorType.TYPE;\n        this.severity = types_1.ErrorSeverity.ERROR;\n        this.location = constants_1.UNKNOWN_LOCATION;\n    }\n}\nexports.InvalidFilePathError = InvalidFilePathError;\nclass IllegalCharInFilePathError extends InvalidFilePathError {\n    explain() {\n        const validNonAlphanumericChars = Object.keys(filePaths_1.nonAlphanumericCharEncoding)\n            .map(char => `'${char}'`)\n            .join(', ');\n        return `File path '${this.filePath}' must only contain alphanumeric chars and/or ${validNonAlphanumericChars}.`;\n    }\n    elaborate() {\n        return 'Rename the offending file path to only use valid chars.';\n    }\n}\nexports.IllegalCharInFilePathError = IllegalCharInFilePathError;\nclass ConsecutiveSlashesInFilePathError extends InvalidFilePathError {\n    explain() {\n        return `File path '${this.filePath}' cannot contain consecutive slashes '//'.`;\n    }\n    elaborate() {\n        return 'Remove consecutive slashes from the offending file path.';\n    }\n}\nexports.ConsecutiveSlashesInFilePathError = ConsecutiveSlashesInFilePathError;\nclass CannotFindModuleError {\n    constructor(moduleFilePath) {\n        this.moduleFilePath = moduleFilePath;\n        this.type = types_1.ErrorType.TYPE;\n        this.severity = types_1.ErrorSeverity.ERROR;\n        this.location = constants_1.UNKNOWN_LOCATION;\n    }\n    explain() {\n        return `Cannot find module '${this.moduleFilePath}'.`;\n    }\n    elaborate() {\n        return 'Check that the module file path resolves to an existing file.';\n    }\n}\nexports.CannotFindModuleError = CannotFindModuleError;\nclass CircularImportError {\n    constructor(filePathsInCycle) {\n        this.filePathsInCycle = filePathsInCycle;\n        this.type = types_1.ErrorType.TYPE;\n        this.severity = types_1.ErrorSeverity.ERROR;\n        this.location = constants_1.UNKNOWN_LOCATION;\n    }\n    explain() {\n        // We need to reverse the file paths in the cycle so that the\n        // semantics of \"'/a.js' -> '/b.js'\" is \"'/a.js' imports '/b.js'\".\n        const formattedCycle = this.filePathsInCycle\n            .map(filePath => `'${filePath}'`)\n            .reverse()\n            .join(' -> ');\n        return `Circular import detected: ${formattedCycle}.`;\n    }\n    elaborate() {\n        return 'Break the circular import cycle by removing imports from any of the offending files.';\n    }\n}\nexports.CircularImportError = CircularImportError;\n//# sourceMappingURL=localImportErrors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFilePath = exports.validateFilePath = exports.transformFunctionNameToInvokedFunctionResultVariableName = exports.transformFilePathToValidFunctionName = exports.nonAlphanumericCharEncoding = void 0;\nconst localImportErrors_1 = require(\"../errors/localImportErrors\");\n/**\n * Maps non-alphanumeric characters that are legal in file paths\n * to strings which are legal in function names.\n */\nexports.nonAlphanumericCharEncoding = {\n    // While the underscore character is legal in both file paths\n    // and function names, it is the only character to be legal\n    // in both that is not an alphanumeric character. For simplicity,\n    // we handle it the same way as the other non-alphanumeric\n    // characters.\n    _: '_',\n    '/': '$',\n    // The following encodings work because we disallow file paths\n    // with consecutive slash characters (//). Note that when using\n    // the 'replace' or 'replaceAll' functions, the dollar sign ($)\n    // takes on a special meaning. As such, to insert a dollar sign,\n    // we need to write '$$'. See\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_string_as_the_replacement\n    // for more information.\n    '.': '$$$$dot$$$$',\n    '-': '$$$$dash$$$$' // '$$dash$$'\n};\n/**\n * Transforms the given file path to a valid function name. The\n * characters in a valid function name must be either an\n * alphanumeric character, the underscore (_), or the dollar ($).\n *\n * In addition, the returned function name has underscores appended\n * on both ends to make it even less likely that the function name\n * will collide with a user-inputted name.\n *\n * @param filePath The file path to transform.\n */\nconst transformFilePathToValidFunctionName = (filePath) => {\n    const encodeChars = Object.entries(exports.nonAlphanumericCharEncoding).reduce((accumulatedFunction, [charToReplace, replacementString]) => {\n        return (filePath) => accumulatedFunction(filePath).replaceAll(charToReplace, replacementString);\n    }, (filePath) => filePath);\n    return `__${encodeChars(filePath)}__`;\n};\nexports.transformFilePathToValidFunctionName = transformFilePathToValidFunctionName;\n/**\n * Transforms the given function name to the expected name that\n * the variable holding the result of invoking the function should\n * have. The main consideration of this transformation is that\n * the resulting name should not conflict with any of the names\n * that can be generated by `transformFilePathToValidFunctionName`.\n *\n * @param functionName The function name to transform.\n */\nconst transformFunctionNameToInvokedFunctionResultVariableName = (functionName) => {\n    return `_${functionName}_`;\n};\nexports.transformFunctionNameToInvokedFunctionResultVariableName = transformFunctionNameToInvokedFunctionResultVariableName;\nconst isAlphanumeric = (char) => {\n    return /[a-zA-Z0-9]/i.exec(char) !== null;\n};\n/**\n * Validates the given file path, returning an `InvalidFilePathError`\n * if the file path is invalid & `null` otherwise. A file path is\n * valid if it only contains alphanumeric characters and the characters\n * defined in `charEncoding`, and does not contain consecutive slash\n * characters (//).\n *\n * @param filePath The file path to check.\n */\nconst validateFilePath = (filePath) => {\n    if (filePath.includes('//')) {\n        return new localImportErrors_1.ConsecutiveSlashesInFilePathError(filePath);\n    }\n    for (const char of filePath) {\n        if (isAlphanumeric(char)) {\n            continue;\n        }\n        if (char in exports.nonAlphanumericCharEncoding) {\n            continue;\n        }\n        return new localImportErrors_1.IllegalCharInFilePathError(filePath);\n    }\n    return null;\n};\nexports.validateFilePath = validateFilePath;\n/**\n * Returns whether a string is a file path. We define a file\n * path to be any string containing the '/' character.\n *\n * @param value The value of the string.\n */\nconst isFilePath = (value) => {\n    return value.includes('/');\n};\nexports.isFilePath = isFilePath;\n//# sourceMappingURL=filePaths.js.map","\"use strict\";\n/*\n    This file contains definitions of some interfaces and classes that are used in Source (such as\n    error-related classes).\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.disallowedTypes = exports.Variant = exports.Chapter = exports.ErrorSeverity = exports.ErrorType = void 0;\nvar ErrorType;\n(function (ErrorType) {\n    ErrorType[\"SYNTAX\"] = \"Syntax\";\n    ErrorType[\"TYPE\"] = \"Type\";\n    ErrorType[\"RUNTIME\"] = \"Runtime\";\n})(ErrorType = exports.ErrorType || (exports.ErrorType = {}));\nvar ErrorSeverity;\n(function (ErrorSeverity) {\n    ErrorSeverity[\"WARNING\"] = \"Warning\";\n    ErrorSeverity[\"ERROR\"] = \"Error\";\n})(ErrorSeverity = exports.ErrorSeverity || (exports.ErrorSeverity = {}));\nvar Chapter;\n(function (Chapter) {\n    Chapter[Chapter[\"CLANG\"] = 1] = \"CLANG\";\n})(Chapter = exports.Chapter || (exports.Chapter = {}));\nvar Variant;\n(function (Variant) {\n    Variant[\"DEFAULT\"] = \"Clang\";\n})(Variant = exports.Variant || (exports.Variant = {}));\nexports.disallowedTypes = ['bigint', 'never', 'object', 'symbol', 'unknown'];\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProp = exports.setProp = exports.evaluateBinaryExpression = exports.binaryOp = exports.evaluateUnaryExpression = exports.unaryOp = exports.boolOrErr = exports.callIfFuncAndRightArgs = exports.makeLazyFunction = exports.wrapLazyCallee = exports.forceIt = void 0;\nconst createContext_1 = require(\"../createContext\");\nconst errors_1 = require(\"../errors/errors\");\nconst runtimeSourceError_1 = require(\"../errors/runtimeSourceError\");\nconst astCreator_1 = require(\"./astCreator\");\nconst create = require(\"./astCreator\");\nconst makeWrapper_1 = require(\"./makeWrapper\");\nconst rttc = require(\"./rttc\");\nfunction forceIt(val) {\n    if (val !== undefined && val !== null && val.isMemoized !== undefined) {\n        if (val.isMemoized) {\n            return val.memoizedValue;\n        }\n        const evaluatedValue = forceIt(val.f());\n        val.isMemoized = true;\n        val.memoizedValue = evaluatedValue;\n        return evaluatedValue;\n    }\n    else {\n        return val;\n    }\n}\nexports.forceIt = forceIt;\nfunction wrapLazyCallee(candidate) {\n    candidate = forceIt(candidate);\n    if (typeof candidate === 'function') {\n        const wrapped = (...args) => candidate(...args.map(forceIt));\n        (0, makeWrapper_1.makeWrapper)(candidate, wrapped);\n        wrapped[Symbol.toStringTag] = () => candidate.toString();\n        wrapped.toString = () => candidate.toString();\n        return wrapped;\n    }\n    else if (candidate instanceof createContext_1.LazyBuiltIn) {\n        if (candidate.evaluateArgs) {\n            const wrapped = (...args) => candidate.func(...args.map(forceIt));\n            (0, makeWrapper_1.makeWrapper)(candidate.func, wrapped);\n            wrapped[Symbol.toStringTag] = () => candidate.toString();\n            wrapped.toString = () => candidate.toString();\n            return wrapped;\n        }\n        else {\n            return candidate;\n        }\n    }\n    // doesn't look like a function, not our business to error now\n    return candidate;\n}\nexports.wrapLazyCallee = wrapLazyCallee;\nfunction makeLazyFunction(candidate) {\n    return new createContext_1.LazyBuiltIn(candidate, false);\n}\nexports.makeLazyFunction = makeLazyFunction;\nfunction callIfFuncAndRightArgs(candidate, line, column, ...args) {\n    const dummy = create.callExpression(create.locationDummyNode(line, column), args, {\n        start: { line, column },\n        end: { line, column }\n    });\n    if (typeof candidate === 'function') {\n        const originalCandidate = candidate;\n        if (candidate.transformedFunction !== undefined) {\n            candidate = candidate.transformedFunction;\n        }\n        const expectedLength = candidate.length;\n        const receivedLength = args.length;\n        const hasVarArgs = candidate.minArgsNeeded !== undefined;\n        if (hasVarArgs ? candidate.minArgsNeeded > receivedLength : expectedLength !== receivedLength) {\n            throw new errors_1.InvalidNumberOfArguments(dummy, hasVarArgs ? candidate.minArgsNeeded : expectedLength, receivedLength, hasVarArgs);\n        }\n        try {\n            const forcedArgs = args.map(forceIt);\n            return originalCandidate(...forcedArgs);\n        }\n        catch (error) {\n            // if we already handled the error, simply pass it on\n            if (!(error instanceof runtimeSourceError_1.RuntimeSourceError || error instanceof errors_1.ExceptionError)) {\n                throw new errors_1.ExceptionError(error, dummy.loc);\n            }\n            else {\n                throw error;\n            }\n        }\n    }\n    else if (candidate instanceof createContext_1.LazyBuiltIn) {\n        try {\n            if (candidate.evaluateArgs) {\n                args = args.map(forceIt);\n            }\n            return candidate.func(...args);\n        }\n        catch (error) {\n            // if we already handled the error, simply pass it on\n            if (!(error instanceof runtimeSourceError_1.RuntimeSourceError || error instanceof errors_1.ExceptionError)) {\n                throw new errors_1.ExceptionError(error, dummy.loc);\n            }\n            else {\n                throw error;\n            }\n        }\n    }\n    else {\n        throw new errors_1.CallingNonFunctionValue(candidate, dummy);\n    }\n}\nexports.callIfFuncAndRightArgs = callIfFuncAndRightArgs;\nfunction boolOrErr(candidate, line, column) {\n    candidate = forceIt(candidate);\n    const error = rttc.checkIfStatement(create.locationDummyNode(line, column), candidate);\n    if (error === undefined) {\n        return candidate;\n    }\n    else {\n        throw error;\n    }\n}\nexports.boolOrErr = boolOrErr;\nfunction unaryOp(operator, argument, line, column) {\n    argument = forceIt(argument);\n    const error = rttc.checkUnaryExpression(create.locationDummyNode(line, column), operator, argument);\n    if (error === undefined) {\n        return evaluateUnaryExpression(operator, argument);\n    }\n    else {\n        throw error;\n    }\n}\nexports.unaryOp = unaryOp;\nfunction evaluateUnaryExpression(operator, value) {\n    if (operator === '!') {\n        return !value;\n    }\n    else if (operator === '-') {\n        return -value;\n    }\n    else if (operator === 'typeof') {\n        return typeof value;\n    }\n    else {\n        return +value;\n    }\n}\nexports.evaluateUnaryExpression = evaluateUnaryExpression;\nfunction binaryOp(operator, left, right, line, column) {\n    left = forceIt(left);\n    right = forceIt(right);\n    const error = rttc.checkBinaryExpression(create.locationDummyNode(line, column), operator, left, right);\n    if (error === undefined) {\n        return evaluateBinaryExpression(operator, left, right);\n    }\n    else {\n        throw error;\n    }\n}\nexports.binaryOp = binaryOp;\nfunction evaluateBinaryExpression(operator, left, right) {\n    switch (operator) {\n        case '+':\n            return left + right;\n        case '-':\n            return left - right;\n        case '*':\n            return left * right;\n        case '/':\n            return left / right;\n        case '%':\n            return left % right;\n        case '===':\n            return left === right;\n        case '!==':\n            return left !== right;\n        case '<=':\n            return left <= right;\n        case '<':\n            return left < right;\n        case '>':\n            return left > right;\n        case '>=':\n            return left >= right;\n        default:\n            return undefined;\n    }\n}\nexports.evaluateBinaryExpression = evaluateBinaryExpression;\nconst setProp = (obj, prop, value, line, column) => {\n    const dummy = (0, astCreator_1.locationDummyNode)(line, column);\n    const error = rttc.checkMemberAccess(dummy, obj, prop);\n    if (error === undefined) {\n        return (obj[prop] = value);\n    }\n    else {\n        throw error;\n    }\n};\nexports.setProp = setProp;\nconst getProp = (obj, prop, line, column) => {\n    const dummy = (0, astCreator_1.locationDummyNode)(line, column);\n    const error = rttc.checkMemberAccess(dummy, obj, prop);\n    if (error === undefined) {\n        if (obj[prop] !== undefined && !obj.hasOwnProperty(prop)) {\n            throw new errors_1.GetInheritedPropertyError(dummy, obj, prop);\n        }\n        else {\n            return obj[prop];\n        }\n    }\n    else {\n        throw error;\n    }\n};\nexports.getProp = getProp;\n//# sourceMappingURL=operators.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isIdentifier = exports.checkMemberAccess = exports.checkIfStatement = exports.checkBinaryExpression = exports.checkUnaryExpression = exports.TypeError = void 0;\nconst runtimeSourceError_1 = require(\"../errors/runtimeSourceError\");\nconst types_1 = require(\"../types\");\nconst LHS = ' on left hand side of operation';\nconst RHS = ' on right hand side of operation';\nclass TypeError extends runtimeSourceError_1.RuntimeSourceError {\n    constructor(node, side, expected, got) {\n        super(node);\n        this.side = side;\n        this.expected = expected;\n        this.got = got;\n        this.type = types_1.ErrorType.RUNTIME;\n        this.severity = types_1.ErrorSeverity.ERROR;\n    }\n    explain() {\n        return `Expected ${this.expected}${this.side}, got ${this.got}.`;\n    }\n    elaborate() {\n        return this.explain();\n    }\n}\nexports.TypeError = TypeError;\n// We need to define our own typeof in order for null/array to display properly in error messages\nconst typeOf = (v) => {\n    if (v === null) {\n        return 'null';\n    }\n    else if (Array.isArray(v)) {\n        return 'array';\n    }\n    else {\n        return typeof v;\n    }\n};\nconst isNumber = (v) => typeOf(v) === 'number';\n// See section 4 of https://2ality.com/2012/12/arrays.html\n// v >>> 0 === v checks that v is a valid unsigned 32-bit int\n// tslint:disable-next-line:no-bitwise\nconst isArrayIndex = (v) => isNumber(v) && v >>> 0 === v && v < 2 ** 32 - 1;\nconst isString = (v) => typeOf(v) === 'string';\nconst isBool = (v) => typeOf(v) === 'boolean';\nconst isObject = (v) => typeOf(v) === 'object';\nconst isArray = (v) => typeOf(v) === 'array';\nconst checkUnaryExpression = (node, operator, value) => {\n    if ((operator === '+' || operator === '-') && !isNumber(value)) {\n        return new TypeError(node, '', 'number', typeOf(value));\n    }\n    else if (operator === '!' && !isBool(value)) {\n        return new TypeError(node, '', 'boolean', typeOf(value));\n    }\n    else {\n        return undefined;\n    }\n};\nexports.checkUnaryExpression = checkUnaryExpression;\nconst checkBinaryExpression = (node, operator, left, right) => {\n    switch (operator) {\n        case '-':\n        case '*':\n        case '/':\n        case '%':\n            if (!isNumber(left)) {\n                return new TypeError(node, LHS, 'number', typeOf(left));\n            }\n            else if (!isNumber(right)) {\n                return new TypeError(node, RHS, 'number', typeOf(right));\n            }\n            else {\n                return;\n            }\n        case '+':\n        case '<':\n        case '<=':\n        case '>':\n        case '>=':\n        case '!==':\n        case '===':\n            if (isNumber(left)) {\n                return isNumber(right) ? undefined : new TypeError(node, RHS, 'number', typeOf(right));\n            }\n            else if (isString(left)) {\n                return isString(right) ? undefined : new TypeError(node, RHS, 'string', typeOf(right));\n            }\n            else {\n                return new TypeError(node, LHS, 'string or number', typeOf(left));\n            }\n        default:\n            return;\n    }\n};\nexports.checkBinaryExpression = checkBinaryExpression;\nconst checkIfStatement = (node, test) => {\n    return isBool(test) ? undefined : new TypeError(node, ' as condition', 'boolean', typeOf(test));\n};\nexports.checkIfStatement = checkIfStatement;\nconst checkMemberAccess = (node, obj, prop) => {\n    if (isObject(obj)) {\n        return isString(prop) ? undefined : new TypeError(node, ' as prop', 'string', typeOf(prop));\n    }\n    else if (isArray(obj)) {\n        return isArrayIndex(prop)\n            ? undefined\n            : isNumber(prop)\n                ? new TypeError(node, ' as prop', 'array index', 'other number')\n                : new TypeError(node, ' as prop', 'array index', typeOf(prop));\n    }\n    else {\n        return new TypeError(node, '', 'object or array', typeOf(obj));\n    }\n};\nexports.checkMemberAccess = checkMemberAccess;\nconst isIdentifier = (node) => {\n    return node.name !== undefined;\n};\nexports.isIdentifier = isIdentifier;\n//# sourceMappingURL=rttc.js.map","/**\n * Source Theme for Ace Editor\n * (Modified from cobalt theme in default brace package)\n *\n * Changes includes:\n * 1)\n * Use background highlighting for bracket matching to make it more prominent.\n * Reference: https://github.com/source-academy/cadet-frontend/pull/767\n */\n// @ts-ignore\nfunction theme(acequire, exports, _module) {\n    exports.isDark = true;\n    exports.cssClass = 'ace-source';\n    exports.cssText =\n        '.ace-source .ace_gutter {\\\n                        background: #011e3a;\\\n                        color: rgb(128,145,160)\\\n                        }\\\n                        .ace-source .ace_print-margin {\\\n                        width: 1px;\\\n                        background: #555555\\\n                        }\\\n                        .ace-source {\\\n                        background-color: #002240;\\\n                        color: #FFFFFF\\\n                        }\\\n                        .ace-source .ace_cursor {\\\n                        color: #FFFFFF\\\n                        }\\\n                        .ace-source .ace_marker-layer .ace_selection {\\\n                        background: rgba(179, 101, 57, 0.75)\\\n                        }\\\n                        .ace-source.ace_multiselect .ace_selection.ace_start {\\\n                        box-shadow: 0 0 3px 0px #002240;\\\n                        }\\\n                        .ace-source .ace_marker-layer .ace_step {\\\n                        background: rgb(127, 111, 19)\\\n                        }\\\n                        .ace-source .ace_marker-layer .ace_bracket {\\\n                        background: #090;\\\n                        }\\\n                        .ace-terminal-theme .ace_marker-layer .ace_bracket-start {\\\n                        background: #090;\\\n                        }\\\n                        .ace-terminal-theme .ace_marker-layer .ace_bracket-unmatched {\\\n                        margin: -1px 0 0 -1px;\\\n                        border: 1px solid #900\\\n                        }\\\n                        .ace-source .ace_marker-layer .ace_active-line {\\\n                        background: rgba(0, 0, 0, 0.35)\\\n                        }\\\n                        .ace-source .ace_gutter-active-line {\\\n                        background-color: rgba(0, 0, 0, 0.35)\\\n                        }\\\n                        .ace-source .ace_marker-layer .ace_selected-word {\\\n                        border: 1px solid rgba(179, 101, 57, 0.75)\\\n                        }\\\n                        .ace-source .ace_invisible {\\\n                        color: rgba(255, 255, 255, 0.15)\\\n                        }\\\n                        .ace-source .ace_keyword,\\\n                        .ace-source .ace_meta {\\\n                        color: #FF9D00\\\n                        }\\\n                        .ace-source .ace_constant,\\\n                        .ace-source .ace_constant.ace_character,\\\n                        .ace-source .ace_constant.ace_other,\\\n                        .ace-source .ace_string,\\\n                        .ace-source .ace_string.ace_regexp {\\\n                        color: #FF628C\\\n                        }\\\n                        .ace-source .ace_constant.ace_character.ace_escape {\\\n                        color: #FFFFFF\\\n                        }\\\n                        .ace-source .ace_invalid {\\\n                        color: #F8F8F8;\\\n                        background-color: #800F00\\\n                        }\\\n                        .ace-source .ace_support {\\\n                        color: #80FFBB\\\n                        }\\\n                        .ace-source .ace_support.ace_constant {\\\n                        color: #EB939A\\\n                        }\\\n                        .ace-source .ace_fold {\\\n                        background-color: #FF9D00;\\\n                        border-color: #FFFFFF\\\n                        }\\\n                        .ace-source .ace_support.ace_function {\\\n                        color: #FFFFFF\\\n                        }\\\n                        .ace-source .ace_builtinconsts {\\\n                        color: #FFFFFF\\\n                        }\\\n                        .ace-source .ace_storage {\\\n                        color: #FFEE80\\\n                        }\\\n                        .ace-source .ace_entity {\\\n                        color: #FFDD00\\\n                        }\\\n                        .ace-source .ace_comment {\\\n                        font-style: italic;\\\n                        color: #0088FF\\\n                        }\\\n                        .ace-source .ace_heading,\\\n                        .ace-source .ace_markup.ace_heading {\\\n                        color: #C8E4FD;\\\n                        background-color: #001221\\\n                        }\\\n                        .ace-source .ace_list,\\\n                        .ace-source .ace_markup.ace_list {\\\n                        background-color: #130D26\\\n                        }\\\n                        .ace-source .ace_variable {\\\n                        color: #CCCCCC\\\n                        }\\\n                        .ace-source .ace_variable.ace_language {\\\n                        color: #FF80E1\\\n                        }\\\n                        .ace-source .ace_meta.ace_tag {\\\n                        color: #9EFFFF\\\n                        }\\\n                        .ace-source .ace_indent-guide {\\\n                        background: url(data:image/png;base64,\\\n                        iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbY\\\n                        nAAAAEklEQVQImWNgYGBgYHCLSvkPAAP3AgSDTRd4AAAAAElFTkSuQmCC) right repeat-y\\\n                        }\\\n                        .ace_dark.ace-source.ace_editor.ace_autocomplete {\\\n                        background-color: #2c3e50;\\\n                        border-color: #555555;\\\n                        color: white;\\\n                        }\\\n                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_completion-highlight {\\\n                        color: #FF9D00;\\\n                        }\\\n                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_active-line {\\\n                        border-color: #555555;\\\n                        background-color: #495a6b;\\\n                        }\\\n                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_line-hover {\\\n                        border-color: #555555;\\\n                        background-color: #6b839a;\\\n                        }\\\n                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content.ace_text-layer .ace_rightAlignedText {\\\n                        color: #ced9e0;\\\n                        }\\\n                        .ace_tooltip.ace_doc-tooltip {\\\n                        width: 400px;\\\n                        max-height: 40vh;\\\n                        white-space: normal;\\\n                        overflow: auto;\\\n                        background-color: #495a6b;\\\n                        color: white;\\\n                        border-color:#555555;\\\n                        }\\\n                        .ace_tooltip.ace_doc-tooltip h4 {\\\n                        color: white;\\\n                        margin: 0 0 1em;\\\n                        }\\\n                        .ace_tooltip.ace_doc-tooltip a {\\\n                        color: #48aff0;\\\n                        }\\\n                        ';\n    const dom = acequire('../lib/dom');\n    dom.importCssString(exports.cssText, exports.cssClass);\n}\n// @ts-ignore\nace.define('ace/theme/source', ['require', 'exports', 'module', 'ace/lib/dom'], theme);\n//# sourceMappingURL=source.js.map","import { IconName } from '@blueprintjs/core';\n\nimport { DebuggerContext } from '../workspace/WorkspaceTypes';\n\nexport const NOTIFY_PROGRAM_EVALUATED = 'NOTIFY_PROGRAM_EVALUATED';\n\nexport enum SideContentType {\n  autograder = 'autograder',\n  briefing = 'briefing',\n  contestVoting = 'contest_voting',\n  contestLeaderboard = 'contest_leaderboard',\n  dataVisualizer = 'data_visualizer',\n  editorGrading = 'editor_grading',\n  editorAutograder = 'editor_autograder',\n  editorBriefing = 'editor_briefing',\n  editorGlobalDeployment = 'editor_global_deployment',\n  editorGlobalGraderDeployment = 'editor_global_grader_deployment',\n  editorLocalDeployment = 'editor_local_deployment',\n  editorLocalGraderDeployment = 'editor_local_grader_deployment',\n  editorManageQuestion = 'editor_manage_question',\n  editorQuestionOverview = 'editor_question_overview',\n  editorQuestionTemplate = 'editor_question_template',\n  envVisualizer = 'env_visualizer',\n  files = 'files',\n  grading = 'grading',\n  introduction = 'introduction',\n  module = 'module',\n  questionOverview = 'question_overview',\n  remoteExecution = 'remote_execution',\n  missionMetadata = 'mission_metadata',\n  mobileEditor = 'mobile_editor',\n  mobileEditorRun = 'mobile_editor_run',\n  sourcereel = 'sourcereel',\n  substVisualizer = 'subst_visualiser',\n  testcases = 'testcases',\n  toneMatrix = 'tone_matrix',\n  htmlDisplay = 'html_display'\n}\n\n/**\n * @property label A string that will appear as the tooltip.\n *\n * @property iconName BlueprintJS IconName element, used to render the\n *   icon which will be displayed over the SideContent panel.\n *\n * @property body The element to be rendered in the SideContent panel\n *  when the tab is selected. If null, the panel will not be rendered.\n *\n * @property id A string/number that will be used as the tab ID and key.\n *  If id is undefined, id will be set to label by the renderTab function.\n *\n * @property disabled Set this property to true to disable a tab. The\n * corresponding tab label will still be rendered on hover, but the\n * tab will be greyed out and cannot be selected. Default value: false.\n */\nexport type SideContentTab = {\n  label: string;\n  iconName: IconName;\n  body: JSX.Element | null;\n  id?: SideContentType;\n  disabled?: boolean;\n};\n\n/**\n * Used for modules that dynamically spawn when imported\n *\n * @property label A string that will appear as the tooltip.\n *\n * @property iconName BlueprintJS IconName element, used to render the\n *   icon which will be displayed over the SideContent panel.\n *\n * @property body The element to be rendered in the SideContent panel\n *  when the tab is selected.\n *\n * @property toSpawn function that returns boolean to determine if\n * side content tab should appear\n */\nexport type ModuleSideContent = {\n  label: string;\n  iconName: IconName;\n  body: (props: any) => JSX.Element;\n  toSpawn: (context: DebuggerContext) => boolean;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SourceDocumentation = void 0;\nconst ext_lib = require(\"./External libraries.json\");\nexports.SourceDocumentation = {\n    builtins: {},\n    ext_lib\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createImportNamespaceSpecifier = exports.createImportDefaultSpecifier = exports.createImportSpecifier = exports.createImportDeclaration = exports.createFunctionDeclaration = exports.createReturnStatement = exports.createVariableDeclaration = exports.createVariableDeclarator = exports.createCallExpression = exports.createIdentifier = exports.createLiteral = void 0;\n// Note that typecasting is done on some of the constructed AST nodes because\n// the ESTree AST node types are not fully aligned with the actual AST that\n// is generated by the Acorn parser. However, the extra/missing properties\n// are unused in the Source interpreter/transpiler. As such, we can safely\n// ignore their existence to make the typing cleaner. The alternative would\n// be to define our own AST node types based off the ESTree AST node types\n// and use our custom AST node types everywhere.\nconst createLiteral = (value, raw) => {\n    return {\n        type: 'Literal',\n        value,\n        raw: (raw !== null && raw !== void 0 ? raw : typeof value === 'string') ? `\"${value}\"` : String(value)\n    };\n};\nexports.createLiteral = createLiteral;\nconst createIdentifier = (name) => {\n    return {\n        type: 'Identifier',\n        name\n    };\n};\nexports.createIdentifier = createIdentifier;\nconst createCallExpression = (functionName, functionArguments) => {\n    return {\n        type: 'CallExpression',\n        callee: (0, exports.createIdentifier)(functionName),\n        arguments: functionArguments\n        // The 'optional' property is typed in ESTree, but does not exist\n        // on SimpleCallExpression nodes in the AST generated by acorn parser.\n    };\n};\nexports.createCallExpression = createCallExpression;\nconst createVariableDeclarator = (id, initialValue = null) => {\n    return {\n        type: 'VariableDeclarator',\n        id,\n        init: initialValue\n    };\n};\nexports.createVariableDeclarator = createVariableDeclarator;\nconst createVariableDeclaration = (declarations, kind) => {\n    return {\n        type: 'VariableDeclaration',\n        declarations,\n        kind\n    };\n};\nexports.createVariableDeclaration = createVariableDeclaration;\nconst createReturnStatement = (argument) => {\n    return {\n        type: 'ReturnStatement',\n        argument\n    };\n};\nexports.createReturnStatement = createReturnStatement;\nconst createFunctionDeclaration = (name, params, body) => {\n    return {\n        type: 'FunctionDeclaration',\n        expression: false,\n        generator: false,\n        id: {\n            type: 'Identifier',\n            name\n        },\n        params,\n        body: {\n            type: 'BlockStatement',\n            body\n        }\n        // The 'expression' property is not typed in ESTree, but it exists\n        // on FunctionDeclaration nodes in the AST generated by acorn parser.\n    };\n};\nexports.createFunctionDeclaration = createFunctionDeclaration;\nconst createImportDeclaration = (specifiers, source) => {\n    return {\n        type: 'ImportDeclaration',\n        specifiers,\n        source\n    };\n};\nexports.createImportDeclaration = createImportDeclaration;\nconst createImportSpecifier = (local, imported) => {\n    return {\n        type: 'ImportSpecifier',\n        local,\n        imported\n    };\n};\nexports.createImportSpecifier = createImportSpecifier;\nconst createImportDefaultSpecifier = (local) => {\n    return {\n        type: 'ImportDefaultSpecifier',\n        local\n    };\n};\nexports.createImportDefaultSpecifier = createImportDefaultSpecifier;\nconst createImportNamespaceSpecifier = (local) => {\n    return {\n        type: 'ImportNamespaceSpecifier',\n        local\n    };\n};\nexports.createImportNamespaceSpecifier = createImportNamespaceSpecifier;\n//# sourceMappingURL=baseConstructors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isImportDeclaration = exports.isDeclaration = exports.isStatement = exports.isModuleDeclaration = exports.isDirective = void 0;\n// It is necessary to write this type guard like this as the 'type' of both\n// 'Directive' & 'ExpressionStatement' is 'ExpressionStatement'.\n//\n// export interface Directive extends BaseNode {\n//   type: \"ExpressionStatement\";\n//   expression: Literal;\n//   directive: string;\n// }\n//\n// export interface ExpressionStatement extends BaseStatement {\n//   type: \"ExpressionStatement\";\n//   expression: Expression;\n// }\n//\n// As such, we check whether the 'directive' property exists on the object\n// instead in order to differentiate between the two.\nconst isDirective = (node) => {\n    return 'directive' in node;\n};\nexports.isDirective = isDirective;\nconst isModuleDeclaration = (node) => {\n    return [\n        'ImportDeclaration',\n        'ExportNamedDeclaration',\n        'ExportDefaultDeclaration',\n        'ExportAllDeclaration'\n    ].includes(node.type);\n};\nexports.isModuleDeclaration = isModuleDeclaration;\nconst isStatement = (node) => {\n    return !(0, exports.isDirective)(node) && !(0, exports.isModuleDeclaration)(node);\n};\nexports.isStatement = isStatement;\nfunction isDeclaration(node) {\n    // export type Declaration =\n    //       FunctionDeclaration | VariableDeclaration | ClassDeclaration;\n    return (node.type === 'VariableDeclaration' ||\n        node.type === 'FunctionDeclaration' ||\n        node.type === 'ClassDeclaration');\n}\nexports.isDeclaration = isDeclaration;\nfunction isImportDeclaration(node) {\n    return node.type === 'ImportDeclaration';\n}\nexports.isImportDeclaration = isImportDeclaration;\n//# sourceMappingURL=typeGuards.js.map","\"use strict\";\n/* eslint-disable @typescript-eslint/no-unused-vars */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolvedErrorPromise = exports.determineVariant = void 0;\n// Context Utils\n/**\n * Small function to determine the variant to be used\n * by a program, as both context and options can have\n * a variant. The variant provided in options will\n * have precedence over the variant provided in context.\n *\n * @param context The context of the program.\n * @param options Options to be used when\n *                running the program.\n *\n * @returns The variant that the program is to be run in\n */\nfunction determineVariant(context, options) {\n    if (options.variant) {\n        return options.variant;\n    }\n    else {\n        return context.variant;\n    }\n}\nexports.determineVariant = determineVariant;\nexports.resolvedErrorPromise = Promise.resolve({ status: 'error' });\n//# sourceMappingURL=utils.js.map","export const BEGIN_INTERRUPT_EXECUTION = 'BEGIN_INTERRUPT_EXECUTION';\nexport const END_INTERRUPT_EXECUTION = 'END_INTERRUPT_EXECUTION';\nexport const EVAL_INTERPRETER_ERROR = 'EVAL_INTERPRETER_ERROR';\nexport const EVAL_INTERPRETER_SUCCESS = 'EVAL_INTERPRETER_SUCCESS';\nexport const EVAL_TESTCASE_FAILURE = 'EVAL_TESTCASE_FAILURE';\nexport const EVAL_TESTCASE_SUCCESS = 'EVAL_TESTCASE_SUCCESS';\nexport const HANDLE_CONSOLE_LOG = 'HANDLE_CONSOLE_LOG';\nexport const BEGIN_DEBUG_PAUSE = 'BEGIN_DEBUG_PAUSE';\nexport const END_DEBUG_PAUSE = 'END_DEBUG_PAUSE';\nexport const DEBUG_RESUME = 'DEBUG_RESUME';\nexport const DEBUG_RESET = 'DEBUG_RESET';\nexport const HIGHLIGHT_LINE = 'HIGHLIGHT_LINE';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ModeSelector = exports.HighlightRulesSelector = void 0;\nconst types_1 = require(\"../../../types\");\nconst docTooltip_1 = require(\"../docTooltip\");\n/* tslint:disable */\n/**\n * Source Mode for Ace Editor\n * (Modified from javascript mode in default brace package)\n * The link to the original JavaScript mode can be found here:\n * https://github.com/ajaxorg/ace-builds/blob/master/src/mode-javascript.js\n *\n * Changes includes:\n * 1) change code styles so that it passes tslint test\n * 2) refactor some code to ES2015 class syntax\n * 3) Encapsulate the orginal mode and higlightrules in two selectors so as to change according to source chapter\n * 4) changed regex to mark certain operators in pink\n * 5) use SourceDocumentation to include all library functions and constants from source\n * 6) include all external libraries\n */\nfunction HighlightRulesSelector(id, variant, external = 'NONE', externalLibraries = []) {\n    // @ts-ignore\n    function _SourceHighlightRules(acequire, exports, _module) {\n        'use strict';\n        const oop = acequire('../lib/oop');\n        const DocCommentHighlightRules = acequire('./doc_comment_highlight_rules').DocCommentHighlightRules;\n        const TextHighlightRules = acequire('./text_highlight_rules').TextHighlightRules;\n        const identifierRegex = '[a-zA-Z\\\\$_\\u00a1-\\uffff][a-zA-Z\\\\d\\\\$_\\u00a1-\\uffff]*';\n        const chapter = id.toString() + '_' + variant;\n        const builtin_lib = docTooltip_1.SourceDocumentation.builtins[chapter];\n        function addFromBuiltinLibrary(meta) {\n            if (builtin_lib === null) {\n                return '';\n            }\n            let func = '';\n            for (const name in builtin_lib) {\n                if (builtin_lib[name]['meta'] === meta) {\n                    func += '|' + name;\n                }\n            }\n            return func;\n        }\n        function addFromExternalLibrary(meta) {\n            if (externalLibraries === null) {\n                return '';\n            }\n            let func = '';\n            externalLibraries.forEach(node => {\n                if (node.meta === meta) {\n                    func += '|' + node.caption;\n                }\n            });\n            return func;\n        }\n        function getAllNames(meta) {\n            const concat = addFromBuiltinLibrary(meta) + addFromExternalLibrary(meta);\n            return concat.substr(1);\n        }\n        const ChapterKeywordSelector = () => {\n            const output = [];\n            if (id >= 1) {\n                output.push('import', 'const', 'else', 'if', 'return', 'function', 'debugger');\n            }\n            if (id >= 3) {\n                output.push('while', 'for', 'break', 'continue', 'let');\n            }\n            return output.join('|');\n        };\n        // @ts-ignore\n        const SourceHighlightRules = function (options) {\n            // @ts-ignore\n            const keywordMapper = this.createKeywordMapper({\n                builtinconsts: getAllNames('const'),\n                'constant.language.boolean': 'true|false',\n                'constant.language.null': 'null',\n                keyword: ChapterKeywordSelector(),\n                'storage.type': 'const|let|function',\n                'support.function': getAllNames('func'),\n                'variable.language': 'this|arguments|' + // Pseudo\n                    'var|yield|async|await|with|switch|throw|try|eval|' + // forbidden words\n                    'class|enum|extends|super|export|implements|private|public|' +\n                    'interface|package|protected|static|in|of|instanceof|new|' +\n                    'case|catch|default|delete|do|finally|'\n            }, 'identifier');\n            // original keywordBeforeRegex = \"case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void\";\n            const keywordBeforeRegex = 'else|return';\n            const escapedRegex = '\\\\\\\\(?:x[0-9a-fA-F]{2}|' + // hex\n                'u[0-9a-fA-F]{4}|' + // unicode\n                'u{[0-9a-fA-F]{1,6}}|' + // es6 unicode\n                '[0-2][0-7]{0,2}|' + // oct\n                '3[0-7][0-7]?|' + // oct\n                '[4-7][0-7]?|' + //oct\n                '.)';\n            // @ts-ignore\n            this.$rules = {\n                no_regex: [\n                    DocCommentHighlightRules.getStartRule('doc-start'),\n                    comments('no_regex'),\n                    {\n                        token: 'string',\n                        regex: \"'(?=.)\",\n                        next: 'qstring'\n                    },\n                    {\n                        token: 'string',\n                        regex: '\"(?=.)',\n                        next: 'qqstring'\n                    },\n                    {\n                        token: 'constant.numeric',\n                        regex: /0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\\b/\n                    },\n                    {\n                        token: 'constant.numeric',\n                        regex: /(?:\\d\\d*(?:\\.\\d*)?|\\.\\d+)(?:[eE][+-]?\\d+\\b)?/\n                    },\n                    {\n                        token: [\n                            'storage.type',\n                            'punctuation.operator',\n                            'support.function',\n                            'punctuation.operator',\n                            'entity.name.function',\n                            'text',\n                            'keyword.operator'\n                        ],\n                        regex: '(' + identifierRegex + ')(\\\\.)(prototype)(\\\\.)(' + identifierRegex + ')(\\\\s*)(=)',\n                        next: 'function_arguments'\n                    },\n                    {\n                        token: [\n                            'storage.type',\n                            'punctuation.operator',\n                            'entity.name.function',\n                            'text',\n                            'keyword.operator',\n                            'text',\n                            'storage.type',\n                            'text',\n                            'paren.lparen'\n                        ],\n                        regex: '(' +\n                            identifierRegex +\n                            ')(\\\\.)(' +\n                            identifierRegex +\n                            ')(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()',\n                        next: 'function_arguments'\n                    },\n                    {\n                        token: [\n                            'entity.name.function',\n                            'text',\n                            'keyword.operator',\n                            'text',\n                            'storage.type',\n                            'text',\n                            'paren.lparen'\n                        ],\n                        regex: '(' + identifierRegex + ')(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()',\n                        next: 'function_arguments'\n                    },\n                    {\n                        token: [\n                            'storage.type',\n                            'punctuation.operator',\n                            'entity.name.function',\n                            'text',\n                            'keyword.operator',\n                            'text',\n                            'storage.type',\n                            'text',\n                            'entity.name.function',\n                            'text',\n                            'paren.lparen'\n                        ],\n                        regex: '(' +\n                            identifierRegex +\n                            ')(\\\\.)(' +\n                            identifierRegex +\n                            ')(\\\\s*)(=)(\\\\s*)(function)(\\\\s+)(\\\\w+)(\\\\s*)(\\\\()',\n                        next: 'function_arguments'\n                    },\n                    {\n                        token: ['storage.type', 'text', 'entity.name.function', 'text', 'paren.lparen'],\n                        regex: '(function)(\\\\s+)(' + identifierRegex + ')(\\\\s*)(\\\\()',\n                        next: 'function_arguments'\n                    },\n                    {\n                        token: [\n                            'entity.name.function',\n                            'text',\n                            'punctuation.operator',\n                            'text',\n                            'storage.type',\n                            'text',\n                            'paren.lparen'\n                        ],\n                        regex: '(' + identifierRegex + ')(\\\\s*)(:)(\\\\s*)(function)(\\\\s*)(\\\\()',\n                        next: 'function_arguments'\n                    },\n                    {\n                        token: ['text', 'text', 'storage.type', 'text', 'paren.lparen'],\n                        regex: '(:)(\\\\s*)(function)(\\\\s*)(\\\\()',\n                        next: 'function_arguments'\n                    },\n                    {\n                        token: 'keyword',\n                        regex: 'from(?=\\\\s*(\\'|\"))'\n                    },\n                    {\n                        token: 'keyword',\n                        regex: '(?:' + keywordBeforeRegex + ')\\\\b',\n                        next: 'start'\n                    },\n                    {\n                        token: ['support.constant'],\n                        regex: /that\\b/\n                    },\n                    {\n                        token: ['variable.language'],\n                        regex: /\\.{3}|--+|\\+\\++|\\^|(==|!=)[^=]|[$%&*+\\-~\\/^]=+|[^&]*&[^&]|[^\\|]*\\|[^\\|]/\n                    },\n                    {\n                        token: keywordMapper,\n                        regex: identifierRegex\n                    },\n                    {\n                        token: 'variable.language',\n                        regex: /[.](?![.])/,\n                        next: 'property'\n                    },\n                    {\n                        token: 'storage.type',\n                        regex: /=>/\n                    },\n                    {\n                        token: 'keyword.operator',\n                        regex: /===|=|!==|<+=?|>+=?|!|&&|\\|\\||[%*+-\\/]/,\n                        next: 'start'\n                    },\n                    {\n                        token: 'punctuation.operator',\n                        regex: /[?:,;.]/,\n                        next: 'start'\n                    },\n                    {\n                        token: 'paren.lparen',\n                        regex: /[\\[({]/,\n                        next: 'start'\n                    },\n                    {\n                        token: 'paren.rparen',\n                        regex: /[\\])}]/\n                    },\n                    {\n                        token: 'comment',\n                        regex: /^#!.*$/\n                    }\n                ],\n                property: [\n                    {\n                        token: 'text',\n                        regex: '\\\\s+'\n                    },\n                    {\n                        token: [\n                            'storage.type',\n                            'punctuation.operator',\n                            'entity.name.function',\n                            'text',\n                            'keyword.operator',\n                            'text',\n                            'storage.type',\n                            'text',\n                            'entity.name.function',\n                            'text',\n                            'paren.lparen'\n                        ],\n                        regex: '(' +\n                            identifierRegex +\n                            ')(\\\\.)(' +\n                            identifierRegex +\n                            ')(\\\\s*)(=)(\\\\s*)(function)(?:(\\\\s+)(\\\\w+))?(\\\\s*)(\\\\()',\n                        next: 'function_arguments'\n                    },\n                    {\n                        token: 'punctuation.operator',\n                        regex: /[.](?![.])/\n                    },\n                    {\n                        token: 'variable.language',\n                        regex: /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\\b(?=\\()/\n                    },\n                    {\n                        token: 'variable.language.dom',\n                        regex: /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\\b(?=\\()/\n                    },\n                    {\n                        token: 'support.constant',\n                        regex: /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\\b/\n                    },\n                    {\n                        token: 'identifier',\n                        regex: identifierRegex\n                    },\n                    {\n                        regex: '',\n                        token: 'empty',\n                        next: 'no_regex'\n                    }\n                ],\n                start: [\n                    DocCommentHighlightRules.getStartRule('doc-start'),\n                    comments('start'),\n                    {\n                        token: 'string.regexp',\n                        regex: '\\\\/',\n                        next: 'regex'\n                    },\n                    {\n                        token: 'text',\n                        regex: '\\\\s+|^$',\n                        next: 'start'\n                    },\n                    {\n                        token: 'empty',\n                        regex: '',\n                        next: 'no_regex'\n                    }\n                ],\n                regex: [\n                    {\n                        token: 'regexp.keyword.operator',\n                        regex: '\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)'\n                    },\n                    {\n                        token: 'string.regexp',\n                        regex: '/[sxngimy]*',\n                        next: 'no_regex'\n                    },\n                    {\n                        token: 'invalid',\n                        regex: /\\{\\d+\\b,?\\d*\\}[+*]|[+*$^?][+*]|[$^][?]|\\?{3,}/\n                    },\n                    {\n                        token: 'constant.language.escape',\n                        regex: /\\(\\?[:=!]|\\)|\\{\\d+\\b,?\\d*\\}|[+*]\\?|[()$^+*?.]/\n                    },\n                    {\n                        token: 'constant.language.delimiter',\n                        regex: /\\|/\n                    },\n                    {\n                        token: 'constant.language.escape',\n                        regex: /\\[\\^?/,\n                        next: 'regex_character_class'\n                    },\n                    {\n                        token: 'empty',\n                        regex: '$',\n                        next: 'no_regex'\n                    },\n                    {\n                        defaultToken: 'string.regexp'\n                    }\n                ],\n                regex_character_class: [\n                    {\n                        token: 'regexp.charclass.keyword.operator',\n                        regex: '\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)'\n                    },\n                    {\n                        token: 'constant.language.escape',\n                        regex: ']',\n                        next: 'regex'\n                    },\n                    {\n                        token: 'constant.language.escape',\n                        regex: '-'\n                    },\n                    {\n                        token: 'empty',\n                        regex: '$',\n                        next: 'no_regex'\n                    },\n                    {\n                        defaultToken: 'string.regexp.charachterclass'\n                    }\n                ],\n                function_arguments: [\n                    {\n                        token: 'variable.parameter',\n                        regex: identifierRegex\n                    },\n                    {\n                        token: 'punctuation.operator',\n                        regex: '[, ]+'\n                    },\n                    {\n                        token: 'punctuation.operator',\n                        regex: '$'\n                    },\n                    {\n                        token: 'empty',\n                        regex: '',\n                        next: 'no_regex'\n                    }\n                ],\n                qqstring: [\n                    {\n                        token: 'constant.language.escape',\n                        regex: escapedRegex\n                    },\n                    {\n                        token: 'string',\n                        regex: '\\\\\\\\$',\n                        consumeLineEnd: true\n                    },\n                    {\n                        token: 'string',\n                        regex: '\"|$',\n                        next: 'no_regex'\n                    },\n                    {\n                        defaultToken: 'string'\n                    }\n                ],\n                qstring: [\n                    {\n                        token: 'constant.language.escape',\n                        regex: escapedRegex\n                    },\n                    {\n                        token: 'string',\n                        regex: '\\\\\\\\$',\n                        consumeLineEnd: true\n                    },\n                    {\n                        token: 'string',\n                        regex: \"'|$\",\n                        next: 'no_regex'\n                    },\n                    {\n                        defaultToken: 'string'\n                    }\n                ]\n            };\n            if (!options || !options.noES6) {\n                // @ts-ignore\n                this.$rules.no_regex.unshift({\n                    regex: '[{}]',\n                    // @ts-ignore\n                    onMatch: function (val, state, stack) {\n                        this.next = val == '{' ? this.nextState : '';\n                        if (val == '{' && stack.length) {\n                            stack.unshift('start', state);\n                        }\n                        else if (val == '}' && stack.length) {\n                            stack.shift();\n                            this.next = stack.shift();\n                            if (this.next.indexOf('string') != -1 || this.next.indexOf('jsx') != -1)\n                                return 'paren.quasi.end';\n                        }\n                        return val == '{' ? 'paren.lparen' : 'paren.rparen';\n                    },\n                    nextState: 'start'\n                }, {\n                    token: 'string.quasi.start',\n                    regex: /`/,\n                    push: [\n                        {\n                            token: 'constant.language.escape',\n                            regex: escapedRegex\n                        },\n                        {\n                            token: 'paren.quasi.start',\n                            regex: /\\${/,\n                            push: 'start'\n                        },\n                        {\n                            token: 'string.quasi.end',\n                            regex: /`/,\n                            next: 'pop'\n                        },\n                        {\n                            defaultToken: 'string.quasi'\n                        }\n                    ]\n                });\n                if (!options || options.jsx != false)\n                    // @ts-ignore\n                    JSX.call(this);\n            }\n            // @ts-ignore\n            this.embedRules(DocCommentHighlightRules, 'doc-', [\n                DocCommentHighlightRules.getEndRule('no_regex')\n            ]);\n            // @ts-ignore\n            this.normalizeRules();\n        };\n        oop.inherits(SourceHighlightRules, TextHighlightRules);\n        function JSX() {\n            const tagRegex = identifierRegex.replace('\\\\d', '\\\\d\\\\-');\n            const jsxTag = {\n                // @ts-ignore\n                onMatch: function (val, state, stack) {\n                    const offset = val.charAt(1) == '/' ? 2 : 1;\n                    if (offset == 1) {\n                        if (state != this.nextState)\n                            stack.unshift(this.next, this.nextState, 0);\n                        else\n                            stack.unshift(this.next);\n                        stack[2]++;\n                    }\n                    else if (offset == 2) {\n                        if (state == this.nextState) {\n                            stack[1]--;\n                            if (!stack[1] || stack[1] < 0) {\n                                stack.shift();\n                                stack.shift();\n                            }\n                        }\n                    }\n                    return [\n                        {\n                            type: 'meta.tag.punctuation.' + (offset == 1 ? '' : 'end-') + 'tag-open.xml',\n                            value: val.slice(0, offset)\n                        },\n                        {\n                            type: 'meta.tag.tag-name.xml',\n                            value: val.substr(offset)\n                        }\n                    ];\n                },\n                regex: '</?' + tagRegex + '',\n                next: 'jsxAttributes',\n                nextState: 'jsx'\n            };\n            // @ts-ignore\n            this.$rules.start.unshift(jsxTag);\n            const jsxJsRule = {\n                regex: '{',\n                token: 'paren.quasi.start',\n                push: 'start'\n            };\n            // @ts-ignore\n            this.$rules.jsx = [jsxJsRule, jsxTag, { include: 'reference' }, { defaultToken: 'string' }];\n            // @ts-ignore\n            this.$rules.jsxAttributes = [\n                {\n                    token: 'meta.tag.punctuation.tag-close.xml',\n                    regex: '/?>',\n                    // @ts-ignore\n                    onMatch: function (value, currentState, stack) {\n                        if (currentState == stack[0])\n                            stack.shift();\n                        if (value.length == 2) {\n                            if (stack[0] == this.nextState)\n                                stack[1]--;\n                            if (!stack[1] || stack[1] < 0) {\n                                stack.splice(0, 2);\n                            }\n                        }\n                        // @ts-ignore\n                        this.next = stack[0] || 'start';\n                        return [{ type: this.token, value: value }];\n                    },\n                    nextState: 'jsx'\n                },\n                jsxJsRule,\n                comments('jsxAttributes'),\n                {\n                    token: 'entity.other.attribute-name.xml',\n                    regex: tagRegex\n                },\n                {\n                    token: 'keyword.operator.attribute-equals.xml',\n                    regex: '='\n                },\n                {\n                    token: 'text.tag-whitespace.xml',\n                    regex: '\\\\s+'\n                },\n                {\n                    token: 'string.attribute-value.xml',\n                    regex: \"'\",\n                    stateName: 'jsx_attr_q',\n                    push: [\n                        { token: 'string.attribute-value.xml', regex: \"'\", next: 'pop' },\n                        { include: 'reference' },\n                        { defaultToken: 'string.attribute-value.xml' }\n                    ]\n                },\n                {\n                    token: 'string.attribute-value.xml',\n                    regex: '\"',\n                    stateName: 'jsx_attr_qq',\n                    push: [\n                        { token: 'string.attribute-value.xml', regex: '\"', next: 'pop' },\n                        { include: 'reference' },\n                        { defaultToken: 'string.attribute-value.xml' }\n                    ]\n                },\n                jsxTag\n            ];\n            // @ts-ignore\n            this.$rules.reference = [\n                {\n                    token: 'constant.language.escape.reference.xml',\n                    regex: '(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)'\n                }\n            ];\n        }\n        // @ts-ignore\n        function comments(next) {\n            return [\n                {\n                    token: 'comment',\n                    regex: /\\/\\*/,\n                    next: [\n                        DocCommentHighlightRules.getTagRule(),\n                        { token: 'comment', regex: '\\\\*\\\\/', next: next || 'pop' },\n                        { defaultToken: 'comment', caseInsensitive: true }\n                    ]\n                },\n                {\n                    token: 'comment',\n                    regex: '\\\\/\\\\/',\n                    next: [\n                        DocCommentHighlightRules.getTagRule(),\n                        { token: 'comment', regex: '$|^', next: next || 'pop' },\n                        { defaultToken: 'comment', caseInsensitive: true }\n                    ]\n                }\n            ];\n        }\n        exports.SourceHighlightRules = SourceHighlightRules;\n    }\n    const name = id.toString() + variant + external;\n    // @ts-ignore\n    ace.define('ace/mode/source_highlight_rules' + name, [\n        'require',\n        'exports',\n        'module',\n        'ace/lib/oop',\n        'ace/mode/doc_comment_highlight_rules',\n        'ace/mode/text_highlight_rules'\n    ], _SourceHighlightRules);\n}\nexports.HighlightRulesSelector = HighlightRulesSelector;\n//source mode\nfunction ModeSelector(id, variant = types_1.Variant.DEFAULT, external = 'NONE') {\n    const name = id.toString() + variant + external;\n    // @ts-ignore\n    function _Mode(acequire, exports, _module) {\n        'use strict';\n        const oop = acequire('../lib/oop');\n        const TextMode = acequire('./text').Mode;\n        const SourceHighlightRules = acequire('./source_highlight_rules' + name).SourceHighlightRules;\n        const MatchingBraceOutdent = acequire('./matching_brace_outdent').MatchingBraceOutdent;\n        // For JSHint background worker\n        // const WorkerClient = acequire('../worker/worker_client').WorkerClient\n        const CstyleBehaviour = acequire('./behaviour/cstyle').CstyleBehaviour;\n        const CStyleFoldMode = acequire('./folding/cstyle').FoldMode;\n        const Mode = function () {\n            // @ts-ignore\n            this.HighlightRules = SourceHighlightRules;\n            // @ts-ignore\n            this.$outdent = new MatchingBraceOutdent();\n            // @ts-ignore\n            this.$behaviour = new CstyleBehaviour();\n            // @ts-ignore\n            this.foldingRules = new CStyleFoldMode();\n        };\n        oop.inherits(Mode, TextMode);\n        (function () {\n            // @ts-ignore\n            this.lineCommentStart = '//';\n            // @ts-ignore\n            this.blockComment = { start: '/*', end: '*/' };\n            // @ts-ignore\n            this.$quotes = { '\"': '\"', \"'\": \"'\", '`': '`' };\n            // @ts-ignore\n            this.getNextLineIndent = function (state, line, tab) {\n                let indent = this.$getIndent(line);\n                const tokenizedLine = this.getTokenizer().getLineTokens(line, state);\n                const tokens = tokenizedLine.tokens;\n                const endState = tokenizedLine.state;\n                if (tokens.length && tokens[tokens.length - 1].type == 'comment') {\n                    return indent;\n                }\n                if (state == 'start' || state == 'no_regex') {\n                    const match = line.match(/^.*(?:\\bcase\\b.*:|[\\{\\(\\[])\\s*$/);\n                    if (match) {\n                        indent += tab;\n                    }\n                }\n                else if (state == 'doc-start') {\n                    if (endState == 'start' || endState == 'no_regex') {\n                        return '';\n                    }\n                    const match = line.match(/^\\s*(\\/?)\\*/);\n                    if (match) {\n                        if (match[1]) {\n                            indent += ' ';\n                        }\n                        indent += '* ';\n                    }\n                }\n                return indent;\n            };\n            // @ts-ignore\n            this.checkOutdent = function (state, line, input) {\n                return this.$outdent.checkOutdent(line, input);\n            };\n            // @ts-ignore\n            this.autoOutdent = function (state, doc, row) {\n                this.$outdent.autoOutdent(doc, row);\n            };\n            // This is the JSHint background worker. Disabled because it is of little\n            // utility to Source, and produced many false positives.\n            // If this is ever enabled again: the *frontend* needs to provide the URL of\n            // the worker to Ace:\n            //\n            // import jsWorkerUrl from \"file-loader!ace-builds/src-noconflict/javascript_worker\";\n            // ace.config.setModuleUrl(\"ace/mode/javascript_worker\", jsWorkerUrl)\n            //\n            // Note: some lint disabling may be needed for the above\n            // // @ts-ignore\n            // this.createWorker = function (session) {\n            //   const worker = new WorkerClient([\"ace\"], \"ace/mode/javascript_worker\", \"JavaScriptWorker\");\n            //   worker.attachToDocument(session.getDocument())\n            //\n            //   // @ts-ignore\n            //   worker.on('annotate', function (results) {\n            //     session.setAnnotations(results.data)\n            //   })\n            //\n            //   worker.on('terminate', function () {\n            //     session.clearAnnotations()\n            //   })\n            //\n            //   return worker\n            // }\n            // @ts-ignore\n            this.$id = 'ace/mode/source' + name;\n        }.call(Mode.prototype));\n        exports.Mode = Mode;\n    }\n    // @ts-ignore\n    ace.define('ace/mode/source' + name, [\n        'require',\n        'exports',\n        'module',\n        'ace/lib/oop',\n        'ace/mode/text',\n        'ace/mode/source_highlight_rules1',\n        'ace/mode/matching_brace_outdent',\n        'ace/worker/worker_client',\n        'ace/mode/behaviour/cstyle',\n        'ace/mode/folding/cstyle'\n    ], _Mode);\n}\nexports.ModeSelector = ModeSelector;\n//# sourceMappingURL=source.js.map","import { Ace } from 'ace-builds/ace';\nimport { Chapter } from 'Clang-slang/dist/types';\n\nimport { ExternalLibraryName } from '../../commons/application/types/ExternalTypes';\nimport { Position } from '../../commons/editor/EditorTypes';\nimport { SideContentType } from '../../commons/sideContent/SideContentTypes';\n\nexport const SAVE_SOURCECAST_DATA = 'SAVE_SOURCECAST_DATA';\nexport const SET_CURRENT_PLAYER_TIME = 'SET_CURRENT_PLAYER_TIME';\nexport const SET_CODE_DELTAS_TO_APPLY = 'SET_CODE_DELTAS_TO_APPLY';\nexport const SET_INPUT_TO_APPLY = 'SET_INPUT_TO_APPLY';\nexport const SET_SOURCECAST_DATA = 'SET_SOURCECAST_DATA';\nexport const SET_SOURCECAST_PLAYBACK_DURATION = 'SET_SOURCECAST_PLAYBACK_DURATION';\nexport const SET_SOURCECAST_PLAYBACK_STATUS = 'SET_SOURCECAST_PLAYBACK_STATUS';\n\nexport type InputTypeShape = {\n  activeTabChange: SideContentType;\n  chapterSelect: number;\n  cursorPositionChange: Position;\n  codeDelta: CodeDelta;\n  externalLibrarySelect: ExternalLibraryName;\n  forcePause: null;\n  keyboardCommand: KeyboardCommand;\n  selectionRangeData: SelectionData;\n};\n\nexport enum KeyboardCommand {\n  run = 'run'\n}\n\nexport enum PlaybackStatus {\n  forcedPaused = 'forcedPaused',\n  playing = 'playing',\n  paused = 'paused'\n}\n\nexport type CodeDelta = Ace.Delta;\n\nexport type SelectionRange = Ace.Range;\n\nexport type SelectionData = {\n  range: SelectionRange;\n  isBackwards: boolean;\n};\n\n// Refer: https://stackoverflow.com/questions/55758713/match-pair-for-keyof-and-valueof-an-interface\nexport type Input = keyof InputTypeShape extends infer K\n  ? K extends keyof InputTypeShape\n    ? { time: number; type: K; data: InputTypeShape[K] }\n    : never\n  : never;\n\nexport type PlaybackData = {\n  init: {\n    chapter: Chapter;\n    externalLibrary: ExternalLibraryName;\n    editorValue: string;\n  };\n  inputs: Input[];\n};\n\nexport type SourcecastData = {\n  title: string;\n  description: string;\n  uid: string;\n  inserted_at: string;\n  updated_at: string;\n  playbackData: string;\n  id: number;\n  uploader: {\n    id: number;\n    name: string;\n  };\n  url: string;\n};\n\nexport enum RecordingStatus {\n  notStarted = 'notStarted',\n  recording = 'recording',\n  paused = 'paused',\n  finished = 'finished'\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.makeWrapper = void 0;\n// tslint:disable-next-line:ban-types\nfunction makeWrapper(originalFunc, wrappedFunc) {\n    for (const prop in originalFunc) {\n        if (originalFunc.hasOwnProperty(prop)) {\n            Object.defineProperty(wrappedFunc, prop, Object.getOwnPropertyDescriptor(originalFunc, prop));\n        }\n    }\n    for (const prop of ['length', 'name']) {\n        if (originalFunc.hasOwnProperty(prop)) {\n            Object.defineProperty(wrappedFunc, prop, Object.getOwnPropertyDescriptor(originalFunc, prop));\n        }\n    }\n}\nexports.makeWrapper = makeWrapper;\n//# sourceMappingURL=makeWrapper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findAncestors = exports.isInLoc = exports.findDeclarationNode = exports.findIdentifierNode = void 0;\nconst walkers_1 = require(\"./utils/walkers\");\n// Finds the innermost node that matches the given location\nfunction findIdentifierNode(root, context, loc) {\n    function findByLocationPredicate(type, node) {\n        const location = node.loc;\n        const nodeType = node.type;\n        if (nodeType && location) {\n            return (nodeType === 'Identifier' &&\n                location.start.line === loc.line &&\n                location.start.column <= loc.column &&\n                location.end.column >= loc.column);\n        }\n        return false;\n    }\n    const found = (0, walkers_1.findNodeAt)(root, undefined, undefined, findByLocationPredicate, customWalker);\n    return found === null || found === void 0 ? void 0 : found.node;\n}\nexports.findIdentifierNode = findIdentifierNode;\n// Recursively searches up the ancestors of the identifier from innermost to outermost scope\nfunction findDeclarationNode(program, identifier) {\n    const ancestors = findAncestors(program, identifier);\n    if (!ancestors)\n        return undefined;\n    const declarations = [];\n    for (const root of ancestors) {\n        (0, walkers_1.recursive)(root, undefined, {\n            BlockStatement(node, state, callback) {\n                if (containsNode(node, identifier)) {\n                    node.body.map(n => callback(n, state));\n                }\n            },\n            ForStatement(node, state, callback) {\n                if (containsNode(node, identifier)) {\n                    callback(node.init, state);\n                    callback(node.body, state);\n                }\n            },\n            FunctionDeclaration(node, state, callback) {\n                if (node.id && node.id.name === identifier.name) {\n                    declarations.push(node.id);\n                }\n                else if (containsNode(node, identifier)) {\n                    const param = node.params.find(n => n.name === identifier.name);\n                    if (param) {\n                        declarations.push(param);\n                    }\n                    else {\n                        callback(node.body, state);\n                    }\n                }\n            },\n            ArrowFunctionExpression(node, state, callback) {\n                if (containsNode(node, identifier)) {\n                    const param = node.params.find(n => n.name === identifier.name);\n                    if (param) {\n                        declarations.push(param);\n                    }\n                    else {\n                        callback(node.body, state);\n                    }\n                }\n            },\n            VariableDeclarator(node, _state, _callback) {\n                if (node.id.name === identifier.name) {\n                    declarations.push(node.id);\n                }\n            },\n            ImportSpecifier(node, _state, _callback) {\n                if (node.imported.name === identifier.name) {\n                    declarations.push(node.imported);\n                }\n            }\n        });\n        if (declarations.length > 0) {\n            return declarations.shift();\n        }\n    }\n    return undefined;\n}\nexports.findDeclarationNode = findDeclarationNode;\nfunction containsNode(nodeOuter, nodeInner) {\n    const outerLoc = nodeOuter.loc;\n    const innerLoc = nodeInner.loc;\n    return (outerLoc != null &&\n        innerLoc != null &&\n        isInLoc(innerLoc.start.line, innerLoc.start.column, outerLoc) &&\n        isInLoc(innerLoc.end.line, innerLoc.end.column, outerLoc));\n}\n// This checks if a given (line, col) value is part of another node.\nfunction isInLoc(line, col, location) {\n    if (location == null) {\n        return false;\n    }\n    if (location.start.line < line && location.end.line > line) {\n        return true;\n    }\n    else if (location.start.line === line && location.end.line > line) {\n        return location.start.column <= col;\n    }\n    else if (location.start.line < line && location.end.line === line) {\n        return location.end.column >= col;\n    }\n    else if (location.start.line === line && location.end.line === line) {\n        if (location.start.column <= col && location.end.column >= col) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    else {\n        return false;\n    }\n}\nexports.isInLoc = isInLoc;\nfunction findAncestors(root, identifier) {\n    let foundAncestors = [];\n    (0, walkers_1.ancestor)(root, {\n        Identifier: (node, ancestors) => {\n            if (identifier.name === node.name && identifier.loc === node.loc) {\n                foundAncestors = Object.assign([], ancestors).reverse();\n                foundAncestors.shift(); // Remove the identifier node\n            }\n        },\n        /* We need a separate visitor for VariablePattern because\n      acorn walk ignores Identifers on the left side of expressions.\n      Here is a github issue in acorn-walk related to this:\n      https://github.com/acornjs/acorn/issues/686\n      */\n        VariablePattern: (node, ancestors) => {\n            if (identifier.name === node.name && identifier.loc === node.loc) {\n                foundAncestors = Object.assign([], ancestors).reverse();\n            }\n        }\n    }, customWalker);\n    return foundAncestors;\n}\nexports.findAncestors = findAncestors;\nconst customWalker = Object.assign(Object.assign({}, walkers_1.base), { ImportSpecifier(node, st, c) {\n        c(node.imported, st, 'Expression');\n    } });\n//# sourceMappingURL=finder.js.map","import { Context } from 'Clang-slang';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport { action } from 'typesafe-actions';\n\nimport { SET_IS_EDITOR_READONLY } from '../../features/sourceRecorder/sourcecast/SourcecastTypes';\nimport { SALanguage } from '../application/ApplicationTypes';\nimport { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport { HIGHLIGHT_LINE } from '../application/types/InterpreterTypes';\nimport { Library } from '../assessment/AssessmentTypes';\nimport { Position } from '../editor/EditorTypes';\nimport { NOTIFY_PROGRAM_EVALUATED } from '../sideContent/SideContentTypes';\nimport {\n  ADD_HTML_CONSOLE_ERROR,\n  BEGIN_CLEAR_CONTEXT,\n  BROWSE_REPL_HISTORY_DOWN,\n  BROWSE_REPL_HISTORY_UP,\n  CHANGE_EXEC_TIME,\n  CHANGE_EXTERNAL_LIBRARY,\n  CHANGE_SIDE_CONTENT_HEIGHT,\n  CHANGE_STEP_LIMIT,\n  CHANGE_SUBLANGUAGE,\n  CHAPTER_SELECT,\n  CLEAR_REPL_INPUT,\n  CLEAR_REPL_OUTPUT,\n  CLEAR_REPL_OUTPUT_LAST,\n  EditorTabState,\n  END_CLEAR_CONTEXT,\n  EVAL_EDITOR,\n  EVAL_EDITOR_AND_TESTCASES,\n  EVAL_REPL,\n  EVAL_TESTCASE,\n  MOVE_CURSOR,\n  NAV_DECLARATION,\n  PLAYGROUND_EXTERNAL_SELECT,\n  PROMPT_AUTOCOMPLETE,\n  RESET_TESTCASE,\n  RESET_WORKSPACE,\n  SEND_REPL_INPUT_TO_OUTPUT,\n  TOGGLE_EDITOR_AUTORUN,\n  TOGGLE_USING_SUBST,\n  UPDATE_ACTIVE_EDITOR_TAB,\n  UPDATE_CURRENT_ASSESSMENT_ID,\n  UPDATE_CURRENT_SUBMISSION_ID,\n  UPDATE_EDITOR_BREAKPOINTS,\n  UPDATE_EDITOR_VALUE,\n  UPDATE_HAS_UNSAVED_CHANGES,\n  UPDATE_REPL_VALUE,\n  UPDATE_SUBLANGUAGE,\n  UPDATE_WORKSPACE,\n  WorkspaceLocation,\n  WorkspaceState\n} from './WorkspaceTypes';\n\nexport const browseReplHistoryDown = (workspaceLocation: WorkspaceLocation) =>\n  action(BROWSE_REPL_HISTORY_DOWN, { workspaceLocation });\n\nexport const browseReplHistoryUp = (workspaceLocation: WorkspaceLocation) =>\n  action(BROWSE_REPL_HISTORY_UP, { workspaceLocation });\n\nexport const changeExternalLibrary = (newExternal: string, workspaceLocation: WorkspaceLocation) =>\n  action(CHANGE_EXTERNAL_LIBRARY, { newExternal, workspaceLocation });\n\nexport const changeExecTime = (execTime: number, workspaceLocation: WorkspaceLocation) =>\n  action(CHANGE_EXEC_TIME, { execTime, workspaceLocation });\n\nexport const changeSideContentHeight = (height: number, workspaceLocation: WorkspaceLocation) =>\n  action(CHANGE_SIDE_CONTENT_HEIGHT, { height, workspaceLocation });\n\nexport const changeStepLimit = (stepLimit: number, workspaceLocation: WorkspaceLocation) =>\n  action(CHANGE_STEP_LIMIT, { stepLimit, workspaceLocation });\n\nexport const chapterSelect = (\n  chapter: Chapter,\n  variant: Variant,\n  workspaceLocation: WorkspaceLocation\n) =>\n  action(CHAPTER_SELECT, {\n    chapter,\n    variant,\n    workspaceLocation\n  });\n\nexport const externalLibrarySelect = (\n  externalLibraryName: ExternalLibraryName,\n  workspaceLocation: WorkspaceLocation,\n  initialise?: boolean\n) =>\n  action(PLAYGROUND_EXTERNAL_SELECT, {\n    externalLibraryName,\n    workspaceLocation,\n    initialise: initialise || false\n  });\n\nexport const toggleEditorAutorun = (workspaceLocation: WorkspaceLocation) =>\n  action(TOGGLE_EDITOR_AUTORUN, { workspaceLocation });\n\n/**\n * Starts the process to clear the Clang-slang Context\n * at a specified workspace location.\n *\n * This action is to be handled by saga, in order to\n * call upon side effects such as loading libraries in\n * the global scope.\n *\n * @param library the Library that the context shall be using\n * @param workspaceLocation the location of the workspace\n *\n * @see Library in assessmentShape.ts\n */\nexport const beginClearContext = (\n  workspaceLocation: WorkspaceLocation,\n  library: Library,\n  shouldInitLibrary: boolean\n) =>\n  action(BEGIN_CLEAR_CONTEXT, {\n    library,\n    workspaceLocation,\n    shouldInitLibrary\n  });\n\nexport const clearReplInput = (workspaceLocation: WorkspaceLocation) =>\n  action(CLEAR_REPL_INPUT, { workspaceLocation });\n\nexport const clearReplOutput = (workspaceLocation: WorkspaceLocation) =>\n  action(CLEAR_REPL_OUTPUT, { workspaceLocation });\n\nexport const clearReplOutputLast = (workspaceLocation: WorkspaceLocation) =>\n  action(CLEAR_REPL_OUTPUT_LAST, { workspaceLocation });\n\n/**\n * Finishes the process to clear the Clang-slang Context\n * at a specified workspace location.\n *\n * This action is to be handled in the reducer, to call the reset on the\n * Context in the state.\n *\n * @param library the Library that the context shall be using\n * @param workspaceLocation the location of the workspace\n *\n * @see Library in assessmentShape.ts\n */\nexport const endClearContext = (library: Library, workspaceLocation: WorkspaceLocation) =>\n  action(END_CLEAR_CONTEXT, {\n    library,\n    workspaceLocation\n  });\n\nexport const evalEditor = (workspaceLocation: WorkspaceLocation) =>\n  action(EVAL_EDITOR, { workspaceLocation });\n\nexport const evalRepl = (workspaceLocation: WorkspaceLocation) =>\n  action(EVAL_REPL, { workspaceLocation });\n\nexport const evalTestcase = (workspaceLocation: WorkspaceLocation, testcaseId: number) =>\n  action(EVAL_TESTCASE, { workspaceLocation, testcaseId });\n\nexport const runAllTestcases = (workspaceLocation: WorkspaceLocation) =>\n  action(EVAL_EDITOR_AND_TESTCASES, { workspaceLocation });\n\nexport const updateActiveEditorTab = (\n  workspaceLocation: WorkspaceLocation,\n  activeEditorTabOptions?: Partial<EditorTabState>\n) => action(UPDATE_ACTIVE_EDITOR_TAB, { workspaceLocation, activeEditorTabOptions });\n\nexport const updateEditorValue = (newEditorValue: string, workspaceLocation: WorkspaceLocation) =>\n  action(UPDATE_EDITOR_VALUE, { newEditorValue, workspaceLocation });\n\nexport const setEditorBreakpoint = (breakpoints: string[], workspaceLocation: WorkspaceLocation) =>\n  action(UPDATE_EDITOR_BREAKPOINTS, { breakpoints, workspaceLocation });\n\nexport const highlightEditorLine = (\n  highlightedLines: number[],\n  workspaceLocation: WorkspaceLocation\n) => action(HIGHLIGHT_LINE, { highlightedLines, workspaceLocation });\n\nexport const updateReplValue = (newReplValue: string, workspaceLocation: WorkspaceLocation) =>\n  action(UPDATE_REPL_VALUE, { newReplValue, workspaceLocation });\n\nexport const sendReplInputToOutput = (newOutput: string, workspaceLocation: WorkspaceLocation) =>\n  action(SEND_REPL_INPUT_TO_OUTPUT, {\n    type: 'code',\n    workspaceLocation,\n    value: newOutput\n  });\n\nexport const resetTestcase = (workspaceLocation: WorkspaceLocation, index: number) =>\n  action(RESET_TESTCASE, { workspaceLocation, index });\n\nexport const navigateToDeclaration = (\n  workspaceLocation: WorkspaceLocation,\n  cursorPosition: Position\n) => action(NAV_DECLARATION, { workspaceLocation, cursorPosition });\n\nexport const moveCursor = (workspaceLocation: WorkspaceLocation, cursorPosition: Position) =>\n  action(MOVE_CURSOR, { workspaceLocation, cursorPosition });\n\n/**\n * Resets a workspace to its default properties.\n *\n * @param workspaceLocation the workspace to be reset\n * @param workspaceOptions an object with any number of properties\n *   in IWorkspaceState, that will take precedence over the default\n *   values. For example, one can use this to specify a particular\n *   editorValue.\n */\nexport const resetWorkspace = (\n  workspaceLocation: WorkspaceLocation,\n  workspaceOptions?: Partial<WorkspaceState>\n) =>\n  action(RESET_WORKSPACE, {\n    workspaceLocation,\n    workspaceOptions\n  });\n\nexport const updateWorkspace = (\n  workspaceLocation: WorkspaceLocation,\n  workspaceOptions?: Partial<WorkspaceState>\n) =>\n  action(UPDATE_WORKSPACE, {\n    workspaceLocation,\n    workspaceOptions\n  });\n\nexport const setIsEditorReadonly = (\n  workspaceLocation: WorkspaceLocation,\n  isEditorReadonly: boolean\n) =>\n  action(SET_IS_EDITOR_READONLY, {\n    workspaceLocation,\n    isEditorReadonly: isEditorReadonly\n  });\n\nexport const updateCurrentAssessmentId = (assessmentId: number, questionId: number) =>\n  action(UPDATE_CURRENT_ASSESSMENT_ID, {\n    assessmentId,\n    questionId\n  });\n\nexport const updateCurrentSubmissionId = (submissionId: number, questionId: number) =>\n  action(UPDATE_CURRENT_SUBMISSION_ID, {\n    submissionId,\n    questionId\n  });\n\nexport const updateHasUnsavedChanges = (\n  workspaceLocation: WorkspaceLocation,\n  hasUnsavedChanges: boolean\n) =>\n  action(UPDATE_HAS_UNSAVED_CHANGES, {\n    workspaceLocation,\n    hasUnsavedChanges\n  });\n\nexport const changeSublanguage = (sublang: SALanguage) => action(CHANGE_SUBLANGUAGE, { sublang });\n\nexport const updateSublanguage = (sublang: SALanguage) => action(UPDATE_SUBLANGUAGE, { sublang });\n\nexport const promptAutocomplete = (\n  workspaceLocation: WorkspaceLocation,\n  row: number,\n  column: number,\n  callback: any // TODO: define a type for this\n) =>\n  action(PROMPT_AUTOCOMPLETE, {\n    workspaceLocation,\n    row,\n    column,\n    callback\n  });\n\nexport const notifyProgramEvaluated = (\n  result: any,\n  lastDebuggerResult: any,\n  code: string,\n  context: Context,\n  workspaceLocation?: WorkspaceLocation\n) =>\n  action(NOTIFY_PROGRAM_EVALUATED, {\n    result,\n    lastDebuggerResult,\n    code,\n    context,\n    workspaceLocation\n  });\n\nexport const toggleUsingSubst = (usingSubst: boolean, workspaceLocation: WorkspaceLocation) =>\n  action(TOGGLE_USING_SUBST, { usingSubst, workspaceLocation });\n\nexport const addHtmlConsoleError = (errorMsg: string, workspaceLocation: WorkspaceLocation) =>\n  action(ADD_HTML_CONSOLE_ERROR, { errorMsg, workspaceLocation });\n","import { WorkspaceState } from '../../../commons/workspace/WorkspaceTypes';\nimport { PlaybackData, RecordingStatus } from '../SourceRecorderTypes';\n\nexport const DELETE_SOURCECAST_ENTRY = 'DELETE_SOURCECAST_ENTRY';\nexport const RECORD_INIT = 'RECORD_INIT';\nexport const RECORD_INPUT = 'RECORD_INPUT';\nexport const RESET_INPUTS = 'RESET_INPUTS';\nexport const TIMER_PAUSE = 'TIMER_PAUSE';\nexport const TIMER_RESET = 'TIMER_RESET';\nexport const TIMER_RESUME = 'TIMER_RESUME';\nexport const TIMER_START = 'TIMER_START';\nexport const TIMER_STOP = 'TIMER_STOP';\n\ntype SourcereelWorkspaceAttr = {\n  readonly playbackData: PlaybackData;\n  readonly recordingStatus: RecordingStatus;\n  readonly timeElapsedBeforePause: number;\n  readonly timeResumed: number;\n};\nexport type SourcereelWorkspaceState = SourcereelWorkspaceAttr & WorkspaceState;\n","\"use strict\";\n// Generated from ./src/lang/Clang.g4 by ANTLR 4.9.0-SNAPSHOT\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClangLexer = void 0;\nconst ATNDeserializer_1 = require(\"antlr4ts/atn/ATNDeserializer\");\nconst Lexer_1 = require(\"antlr4ts/Lexer\");\nconst LexerATNSimulator_1 = require(\"antlr4ts/atn/LexerATNSimulator\");\nconst VocabularyImpl_1 = require(\"antlr4ts/VocabularyImpl\");\nconst Utils = require(\"antlr4ts/misc/Utils\");\nclass ClangLexer extends Lexer_1.Lexer {\n    // tslint:enable:no-trailing-whitespace\n    constructor(input) {\n        super(input);\n        this._interp = new LexerATNSimulator_1.LexerATNSimulator(ClangLexer._ATN, this);\n    }\n    // @Override\n    // @NotNull\n    get vocabulary() {\n        return ClangLexer.VOCABULARY;\n    }\n    // @Override\n    get grammarFileName() { return \"Clang.g4\"; }\n    // @Override\n    get ruleNames() { return ClangLexer.ruleNames; }\n    // @Override\n    get serializedATN() { return ClangLexer._serializedATN; }\n    // @Override\n    get channelNames() { return ClangLexer.channelNames; }\n    // @Override\n    get modeNames() { return ClangLexer.modeNames; }\n    static get _ATN() {\n        if (!ClangLexer.__ATN) {\n            ClangLexer.__ATN = new ATNDeserializer_1.ATNDeserializer().deserialize(Utils.toCharArray(ClangLexer._serializedATN));\n        }\n        return ClangLexer.__ATN;\n    }\n}\nexports.ClangLexer = ClangLexer;\nClangLexer.T__0 = 1;\nClangLexer.T__1 = 2;\nClangLexer.Break = 3;\nClangLexer.Char = 4;\nClangLexer.Continue = 5;\nClangLexer.Const = 6;\nClangLexer.Do = 7;\nClangLexer.Else = 8;\nClangLexer.Float = 9;\nClangLexer.For = 10;\nClangLexer.If = 11;\nClangLexer.Int = 12;\nClangLexer.Long = 13;\nClangLexer.Return = 14;\nClangLexer.Signed = 15;\nClangLexer.Struct = 16;\nClangLexer.Unsigned = 17;\nClangLexer.Void = 18;\nClangLexer.While = 19;\nClangLexer.LeftParen = 20;\nClangLexer.RightParen = 21;\nClangLexer.LeftBracket = 22;\nClangLexer.RightBracket = 23;\nClangLexer.LeftBrace = 24;\nClangLexer.RightBrace = 25;\nClangLexer.Less = 26;\nClangLexer.LessEqual = 27;\nClangLexer.Greater = 28;\nClangLexer.GreaterEqual = 29;\nClangLexer.LeftShift = 30;\nClangLexer.RightShift = 31;\nClangLexer.Plus = 32;\nClangLexer.PlusPlus = 33;\nClangLexer.Minus = 34;\nClangLexer.MinusMinus = 35;\nClangLexer.Star = 36;\nClangLexer.Div = 37;\nClangLexer.Mod = 38;\nClangLexer.And = 39;\nClangLexer.Or = 40;\nClangLexer.AndAnd = 41;\nClangLexer.OrOr = 42;\nClangLexer.Caret = 43;\nClangLexer.Not = 44;\nClangLexer.Tilde = 45;\nClangLexer.Question = 46;\nClangLexer.Colon = 47;\nClangLexer.Semi = 48;\nClangLexer.Comma = 49;\nClangLexer.Assign = 50;\nClangLexer.StarAssign = 51;\nClangLexer.DivAssign = 52;\nClangLexer.ModAssign = 53;\nClangLexer.PlusAssign = 54;\nClangLexer.MinusAssign = 55;\nClangLexer.LeftShiftAssign = 56;\nClangLexer.RightShiftAssign = 57;\nClangLexer.AndAssign = 58;\nClangLexer.XorAssign = 59;\nClangLexer.OrAssign = 60;\nClangLexer.Equal = 61;\nClangLexer.NotEqual = 62;\nClangLexer.Arrow = 63;\nClangLexer.Dot = 64;\nClangLexer.Identifier = 65;\nClangLexer.Constant = 66;\nClangLexer.DigitSequence = 67;\nClangLexer.StringLiteral = 68;\nClangLexer.Whitespace = 69;\nClangLexer.Newline = 70;\nClangLexer.BlockComment = 71;\nClangLexer.LineComment = 72;\n// tslint:disable:no-trailing-whitespace\nClangLexer.channelNames = [\n    \"DEFAULT_TOKEN_CHANNEL\", \"HIDDEN\",\n];\n// tslint:disable:no-trailing-whitespace\nClangLexer.modeNames = [\n    \"DEFAULT_MODE\",\n];\nClangLexer.ruleNames = [\n    \"T__0\", \"T__1\", \"Break\", \"Char\", \"Continue\", \"Const\", \"Do\", \"Else\", \"Float\",\n    \"For\", \"If\", \"Int\", \"Long\", \"Return\", \"Signed\", \"Struct\", \"Unsigned\",\n    \"Void\", \"While\", \"LeftParen\", \"RightParen\", \"LeftBracket\", \"RightBracket\",\n    \"LeftBrace\", \"RightBrace\", \"Less\", \"LessEqual\", \"Greater\", \"GreaterEqual\",\n    \"LeftShift\", \"RightShift\", \"Plus\", \"PlusPlus\", \"Minus\", \"MinusMinus\",\n    \"Star\", \"Div\", \"Mod\", \"And\", \"Or\", \"AndAnd\", \"OrOr\", \"Caret\", \"Not\", \"Tilde\",\n    \"Question\", \"Colon\", \"Semi\", \"Comma\", \"Assign\", \"StarAssign\", \"DivAssign\",\n    \"ModAssign\", \"PlusAssign\", \"MinusAssign\", \"LeftShiftAssign\", \"RightShiftAssign\",\n    \"AndAssign\", \"XorAssign\", \"OrAssign\", \"Equal\", \"NotEqual\", \"Arrow\", \"Dot\",\n    \"Identifier\", \"IdentifierCharacters\", \"Characters\", \"Digit\", \"Constant\",\n    \"IntegerConstant\", \"BinaryConstant\", \"DecimalConstant\", \"NonzeroDigit\",\n    \"UnsignedSuffix\", \"FloatingConstant\", \"DecimalFloatingConstant\", \"FractionalConstant\",\n    \"ExponentPart\", \"Sign\", \"DigitSequence\", \"BinaryExponentPart\", \"FloatingSuffix\",\n    \"CharacterConstant\", \"CCharSequence\", \"CChar\", \"EscapeSequence\", \"SimpleEscapeSequence\",\n    \"StringLiteral\", \"EncodingPrefix\", \"SCharSequence\", \"SChar\", \"Whitespace\",\n    \"Newline\", \"BlockComment\", \"LineComment\",\n];\nClangLexer._LITERAL_NAMES = [\n    undefined, \"'__extension__'\", \"'inline'\", \"'break'\", \"'char'\", \"'continue'\",\n    \"'const'\", \"'do'\", \"'else'\", \"'float'\", \"'for'\", \"'if'\", \"'int'\", \"'long'\",\n    \"'return'\", \"'signed'\", \"'struct'\", \"'unsigned'\", \"'void'\", \"'while'\",\n    \"'('\", \"')'\", \"'['\", \"']'\", \"'{'\", \"'}'\", \"'<'\", \"'<='\", \"'>'\", \"'>='\",\n    \"'<<'\", \"'>>'\", \"'+'\", \"'++'\", \"'-'\", \"'--'\", \"'*'\", \"'/'\", \"'%'\", \"'&'\",\n    \"'|'\", \"'&&'\", \"'||'\", \"'^'\", \"'!'\", \"'~'\", \"'?'\", \"':'\", \"';'\", \"','\",\n    \"'='\", \"'*='\", \"'/='\", \"'%='\", \"'+='\", \"'-='\", \"'<<='\", \"'>>='\", \"'&='\",\n    \"'^='\", \"'|='\", \"'=='\", \"'!='\", \"'->'\", \"'.'\",\n];\nClangLexer._SYMBOLIC_NAMES = [\n    undefined, undefined, undefined, \"Break\", \"Char\", \"Continue\", \"Const\",\n    \"Do\", \"Else\", \"Float\", \"For\", \"If\", \"Int\", \"Long\", \"Return\", \"Signed\",\n    \"Struct\", \"Unsigned\", \"Void\", \"While\", \"LeftParen\", \"RightParen\", \"LeftBracket\",\n    \"RightBracket\", \"LeftBrace\", \"RightBrace\", \"Less\", \"LessEqual\", \"Greater\",\n    \"GreaterEqual\", \"LeftShift\", \"RightShift\", \"Plus\", \"PlusPlus\", \"Minus\",\n    \"MinusMinus\", \"Star\", \"Div\", \"Mod\", \"And\", \"Or\", \"AndAnd\", \"OrOr\", \"Caret\",\n    \"Not\", \"Tilde\", \"Question\", \"Colon\", \"Semi\", \"Comma\", \"Assign\", \"StarAssign\",\n    \"DivAssign\", \"ModAssign\", \"PlusAssign\", \"MinusAssign\", \"LeftShiftAssign\",\n    \"RightShiftAssign\", \"AndAssign\", \"XorAssign\", \"OrAssign\", \"Equal\", \"NotEqual\",\n    \"Arrow\", \"Dot\", \"Identifier\", \"Constant\", \"DigitSequence\", \"StringLiteral\",\n    \"Whitespace\", \"Newline\", \"BlockComment\", \"LineComment\",\n];\nClangLexer.VOCABULARY = new VocabularyImpl_1.VocabularyImpl(ClangLexer._LITERAL_NAMES, ClangLexer._SYMBOLIC_NAMES, []);\nClangLexer._serializedATNSegments = 2;\nClangLexer._serializedATNSegment0 = \"\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x02J\\u0269\\b\\x01\" +\n    \"\\x04\\x02\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06\" +\n    \"\\x04\\x07\\t\\x07\\x04\\b\\t\\b\\x04\\t\\t\\t\\x04\\n\\t\\n\\x04\\v\\t\\v\\x04\\f\\t\\f\\x04\\r\" +\n    \"\\t\\r\\x04\\x0E\\t\\x0E\\x04\\x0F\\t\\x0F\\x04\\x10\\t\\x10\\x04\\x11\\t\\x11\\x04\\x12\\t\" +\n    \"\\x12\\x04\\x13\\t\\x13\\x04\\x14\\t\\x14\\x04\\x15\\t\\x15\\x04\\x16\\t\\x16\\x04\\x17\\t\" +\n    \"\\x17\\x04\\x18\\t\\x18\\x04\\x19\\t\\x19\\x04\\x1A\\t\\x1A\\x04\\x1B\\t\\x1B\\x04\\x1C\\t\" +\n    \"\\x1C\\x04\\x1D\\t\\x1D\\x04\\x1E\\t\\x1E\\x04\\x1F\\t\\x1F\\x04 \\t \\x04!\\t!\\x04\\\"\\t\" +\n    \"\\\"\\x04#\\t#\\x04$\\t$\\x04%\\t%\\x04&\\t&\\x04\\'\\t\\'\\x04(\\t(\\x04)\\t)\\x04*\\t*\\x04\" +\n    \"+\\t+\\x04,\\t,\\x04-\\t-\\x04.\\t.\\x04/\\t/\\x040\\t0\\x041\\t1\\x042\\t2\\x043\\t3\\x04\" +\n    \"4\\t4\\x045\\t5\\x046\\t6\\x047\\t7\\x048\\t8\\x049\\t9\\x04:\\t:\\x04;\\t;\\x04<\\t<\\x04\" +\n    \"=\\t=\\x04>\\t>\\x04?\\t?\\x04@\\t@\\x04A\\tA\\x04B\\tB\\x04C\\tC\\x04D\\tD\\x04E\\tE\\x04\" +\n    \"F\\tF\\x04G\\tG\\x04H\\tH\\x04I\\tI\\x04J\\tJ\\x04K\\tK\\x04L\\tL\\x04M\\tM\\x04N\\tN\\x04\" +\n    \"O\\tO\\x04P\\tP\\x04Q\\tQ\\x04R\\tR\\x04S\\tS\\x04T\\tT\\x04U\\tU\\x04V\\tV\\x04W\\tW\\x04\" +\n    \"X\\tX\\x04Y\\tY\\x04Z\\tZ\\x04[\\t[\\x04\\\\\\t\\\\\\x04]\\t]\\x04^\\t^\\x04_\\t_\\x04`\\t\" +\n    \"`\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\" +\n    \"\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x03\\x03\\x03\\x03\\x03\\x03\" +\n    \"\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\" +\n    \"\\x04\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x05\\x03\\x06\\x03\\x06\\x03\\x06\\x03\" +\n    \"\\x06\\x03\\x06\\x03\\x06\\x03\\x06\\x03\\x06\\x03\\x06\\x03\\x07\\x03\\x07\\x03\\x07\\x03\" +\n    \"\\x07\\x03\\x07\\x03\\x07\\x03\\b\\x03\\b\\x03\\b\\x03\\t\\x03\\t\\x03\\t\\x03\\t\\x03\\t\\x03\" +\n    \"\\n\\x03\\n\\x03\\n\\x03\\n\\x03\\n\\x03\\n\\x03\\v\\x03\\v\\x03\\v\\x03\\v\\x03\\f\\x03\\f\\x03\" +\n    \"\\f\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\" +\n    \"\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x10\\x03\\x10\\x03\" +\n    \"\\x10\\x03\\x10\\x03\\x10\\x03\\x10\\x03\\x10\\x03\\x11\\x03\\x11\\x03\\x11\\x03\\x11\\x03\" +\n    \"\\x11\\x03\\x11\\x03\\x11\\x03\\x12\\x03\\x12\\x03\\x12\\x03\\x12\\x03\\x12\\x03\\x12\\x03\" +\n    \"\\x12\\x03\\x12\\x03\\x12\\x03\\x13\\x03\\x13\\x03\\x13\\x03\\x13\\x03\\x13\\x03\\x14\\x03\" +\n    \"\\x14\\x03\\x14\\x03\\x14\\x03\\x14\\x03\\x14\\x03\\x15\\x03\\x15\\x03\\x16\\x03\\x16\\x03\" +\n    \"\\x17\\x03\\x17\\x03\\x18\\x03\\x18\\x03\\x19\\x03\\x19\\x03\\x1A\\x03\\x1A\\x03\\x1B\\x03\" +\n    \"\\x1B\\x03\\x1C\\x03\\x1C\\x03\\x1C\\x03\\x1D\\x03\\x1D\\x03\\x1E\\x03\\x1E\\x03\\x1E\\x03\" +\n    \"\\x1F\\x03\\x1F\\x03\\x1F\\x03 \\x03 \\x03 \\x03!\\x03!\\x03\\\"\\x03\\\"\\x03\\\"\\x03#\\x03\" +\n    \"#\\x03$\\x03$\\x03$\\x03%\\x03%\\x03&\\x03&\\x03\\'\\x03\\'\\x03(\\x03(\\x03)\\x03)\\x03\" +\n    \"*\\x03*\\x03*\\x03+\\x03+\\x03+\\x03,\\x03,\\x03-\\x03-\\x03.\\x03.\\x03/\\x03/\\x03\" +\n    \"0\\x030\\x031\\x031\\x032\\x032\\x033\\x033\\x034\\x034\\x034\\x035\\x035\\x035\\x03\" +\n    \"6\\x036\\x036\\x037\\x037\\x037\\x038\\x038\\x038\\x039\\x039\\x039\\x039\\x03:\\x03\" +\n    \":\\x03:\\x03:\\x03;\\x03;\\x03;\\x03<\\x03<\\x03<\\x03=\\x03=\\x03=\\x03>\\x03>\\x03\" +\n    \">\\x03?\\x03?\\x03?\\x03@\\x03@\\x03@\\x03A\\x03A\\x03B\\x03B\\x03B\\x07B\\u01AC\\n\" +\n    \"B\\fB\\x0EB\\u01AF\\vB\\x03C\\x03C\\x03D\\x03D\\x03E\\x03E\\x03F\\x03F\\x03F\\x05F\\u01BA\" +\n    \"\\nF\\x03G\\x03G\\x03H\\x03H\\x03H\\x06H\\u01C1\\nH\\rH\\x0EH\\u01C2\\x03I\\x03I\\x07\" +\n    \"I\\u01C7\\nI\\fI\\x0EI\\u01CA\\vI\\x03J\\x03J\\x03K\\x03K\\x03L\\x03L\\x03M\\x03M\\x05\" +\n    \"M\\u01D4\\nM\\x03M\\x05M\\u01D7\\nM\\x03M\\x03M\\x03M\\x05M\\u01DC\\nM\\x05M\\u01DE\" +\n    \"\\nM\\x03N\\x05N\\u01E1\\nN\\x03N\\x03N\\x03N\\x03N\\x03N\\x05N\\u01E8\\nN\\x03O\\x03\" +\n    \"O\\x05O\\u01EC\\nO\\x03O\\x03O\\x03P\\x03P\\x03Q\\x06Q\\u01F3\\nQ\\rQ\\x0EQ\\u01F4\\x03\" +\n    \"R\\x03R\\x05R\\u01F9\\nR\\x03R\\x03R\\x03S\\x03S\\x03T\\x03T\\x03T\\x03T\\x03T\\x03\" +\n    \"T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03T\\x03\" +\n    \"T\\x03T\\x03T\\x05T\\u0215\\nT\\x03U\\x06U\\u0218\\nU\\rU\\x0EU\\u0219\\x03V\\x03V\\x05\" +\n    \"V\\u021E\\nV\\x03W\\x03W\\x03X\\x03X\\x03X\\x03Y\\x05Y\\u0226\\nY\\x03Y\\x03Y\\x05Y\" +\n    \"\\u022A\\nY\\x03Y\\x03Y\\x03Z\\x03Z\\x03Z\\x05Z\\u0231\\nZ\\x03[\\x06[\\u0234\\n[\\r\" +\n    \"[\\x0E[\\u0235\\x03\\\\\\x03\\\\\\x03\\\\\\x03\\\\\\x03\\\\\\x03\\\\\\x03\\\\\\x05\\\\\\u023F\\n\\\\\" +\n    \"\\x03]\\x06]\\u0242\\n]\\r]\\x0E]\\u0243\\x03]\\x03]\\x03^\\x03^\\x05^\\u024A\\n^\\x03\" +\n    \"^\\x05^\\u024D\\n^\\x03^\\x03^\\x03_\\x03_\\x03_\\x03_\\x07_\\u0255\\n_\\f_\\x0E_\\u0258\" +\n    \"\\v_\\x03_\\x03_\\x03_\\x03_\\x03_\\x03`\\x03`\\x03`\\x03`\\x07`\\u0263\\n`\\f`\\x0E\" +\n    \"`\\u0266\\v`\\x03`\\x03`\\x03\\u0256\\x02\\x02a\\x03\\x02\\x03\\x05\\x02\\x04\\x07\\x02\" +\n    \"\\x05\\t\\x02\\x06\\v\\x02\\x07\\r\\x02\\b\\x0F\\x02\\t\\x11\\x02\\n\\x13\\x02\\v\\x15\\x02\" +\n    \"\\f\\x17\\x02\\r\\x19\\x02\\x0E\\x1B\\x02\\x0F\\x1D\\x02\\x10\\x1F\\x02\\x11!\\x02\\x12\" +\n    \"#\\x02\\x13%\\x02\\x14\\'\\x02\\x15)\\x02\\x16+\\x02\\x17-\\x02\\x18/\\x02\\x191\\x02\" +\n    \"\\x1A3\\x02\\x1B5\\x02\\x1C7\\x02\\x1D9\\x02\\x1E;\\x02\\x1F=\\x02 ?\\x02!A\\x02\\\"C\" +\n    \"\\x02#E\\x02$G\\x02%I\\x02&K\\x02\\'M\\x02(O\\x02)Q\\x02*S\\x02+U\\x02,W\\x02-Y\\x02\" +\n    \".[\\x02/]\\x020_\\x021a\\x022c\\x023e\\x024g\\x025i\\x026k\\x027m\\x028o\\x029q\\x02\" +\n    \":s\\x02;u\\x02<w\\x02=y\\x02>{\\x02?}\\x02@\\x7F\\x02A\\x81\\x02B\\x83\\x02C\\x85\\x02\" +\n    \"\\x02\\x87\\x02\\x02\\x89\\x02\\x02\\x8B\\x02D\\x8D\\x02\\x02\\x8F\\x02\\x02\\x91\\x02\" +\n    \"\\x02\\x93\\x02\\x02\\x95\\x02\\x02\\x97\\x02\\x02\\x99\\x02\\x02\\x9B\\x02\\x02\\x9D\\x02\" +\n    \"\\x02\\x9F\\x02\\x02\\xA1\\x02E\\xA3\\x02\\x02\\xA5\\x02\\x02\\xA7\\x02\\x02\\xA9\\x02\" +\n    \"\\x02\\xAB\\x02\\x02\\xAD\\x02\\x02\\xAF\\x02\\x02\\xB1\\x02F\\xB3\\x02\\x02\\xB5\\x02\" +\n    \"\\x02\\xB7\\x02\\x02\\xB9\\x02G\\xBB\\x02H\\xBD\\x02I\\xBF\\x02J\\x03\\x02\\x12\\x05\\x02\" +\n    \"C\\\\aac|\\x03\\x022;\\x04\\x02DDdd\\x03\\x0223\\x03\\x023;\\x04\\x02WWww\\x04\\x02\" +\n    \"GGgg\\x04\\x02--//\\x04\\x02RRrr\\x06\\x02HHNNhhnn\\x06\\x02\\f\\f\\x0F\\x0F))^^\\f\" +\n    \"\\x02$$))AA^^cdhhppttvvxx\\x05\\x02NNWWww\\x06\\x02\\f\\f\\x0F\\x0F$$^^\\x04\\x02\" +\n    \"\\v\\v\\\"\\\"\\x04\\x02\\f\\f\\x0F\\x0F\\x02\\u0271\\x02\\x03\\x03\\x02\\x02\\x02\\x02\\x05\" +\n    \"\\x03\\x02\\x02\\x02\\x02\\x07\\x03\\x02\\x02\\x02\\x02\\t\\x03\\x02\\x02\\x02\\x02\\v\\x03\" +\n    \"\\x02\\x02\\x02\\x02\\r\\x03\\x02\\x02\\x02\\x02\\x0F\\x03\\x02\\x02\\x02\\x02\\x11\\x03\" +\n    \"\\x02\\x02\\x02\\x02\\x13\\x03\\x02\\x02\\x02\\x02\\x15\\x03\\x02\\x02\\x02\\x02\\x17\\x03\" +\n    \"\\x02\\x02\\x02\\x02\\x19\\x03\\x02\\x02\\x02\\x02\\x1B\\x03\\x02\\x02\\x02\\x02\\x1D\\x03\" +\n    \"\\x02\\x02\\x02\\x02\\x1F\\x03\\x02\\x02\\x02\\x02!\\x03\\x02\\x02\\x02\\x02#\\x03\\x02\" +\n    \"\\x02\\x02\\x02%\\x03\\x02\\x02\\x02\\x02\\'\\x03\\x02\\x02\\x02\\x02)\\x03\\x02\\x02\\x02\" +\n    \"\\x02+\\x03\\x02\\x02\\x02\\x02-\\x03\\x02\\x02\\x02\\x02/\\x03\\x02\\x02\\x02\\x021\\x03\" +\n    \"\\x02\\x02\\x02\\x023\\x03\\x02\\x02\\x02\\x025\\x03\\x02\\x02\\x02\\x027\\x03\\x02\\x02\" +\n    \"\\x02\\x029\\x03\\x02\\x02\\x02\\x02;\\x03\\x02\\x02\\x02\\x02=\\x03\\x02\\x02\\x02\\x02\" +\n    \"?\\x03\\x02\\x02\\x02\\x02A\\x03\\x02\\x02\\x02\\x02C\\x03\\x02\\x02\\x02\\x02E\\x03\\x02\" +\n    \"\\x02\\x02\\x02G\\x03\\x02\\x02\\x02\\x02I\\x03\\x02\\x02\\x02\\x02K\\x03\\x02\\x02\\x02\" +\n    \"\\x02M\\x03\\x02\\x02\\x02\\x02O\\x03\\x02\\x02\\x02\\x02Q\\x03\\x02\\x02\\x02\\x02S\\x03\" +\n    \"\\x02\\x02\\x02\\x02U\\x03\\x02\\x02\\x02\\x02W\\x03\\x02\\x02\\x02\\x02Y\\x03\\x02\\x02\" +\n    \"\\x02\\x02[\\x03\\x02\\x02\\x02\\x02]\\x03\\x02\\x02\\x02\\x02_\\x03\\x02\\x02\\x02\\x02\" +\n    \"a\\x03\\x02\\x02\\x02\\x02c\\x03\\x02\\x02\\x02\\x02e\\x03\\x02\\x02\\x02\\x02g\\x03\\x02\" +\n    \"\\x02\\x02\\x02i\\x03\\x02\\x02\\x02\\x02k\\x03\\x02\\x02\\x02\\x02m\\x03\\x02\\x02\\x02\" +\n    \"\\x02o\\x03\\x02\\x02\\x02\\x02q\\x03\\x02\\x02\\x02\\x02s\\x03\\x02\\x02\\x02\\x02u\\x03\" +\n    \"\\x02\\x02\\x02\\x02w\\x03\\x02\\x02\\x02\\x02y\\x03\\x02\\x02\\x02\\x02{\\x03\\x02\\x02\" +\n    \"\\x02\\x02}\\x03\\x02\\x02\\x02\\x02\\x7F\\x03\\x02\\x02\\x02\\x02\\x81\\x03\\x02\\x02\" +\n    \"\\x02\\x02\\x83\\x03\\x02\\x02\\x02\\x02\\x8B\\x03\\x02\\x02\\x02\\x02\\xA1\\x03\\x02\\x02\" +\n    \"\\x02\\x02\\xB1\\x03\\x02\\x02\\x02\\x02\\xB9\\x03\\x02\\x02\\x02\\x02\\xBB\\x03\\x02\\x02\" +\n    \"\\x02\\x02\\xBD\\x03\\x02\\x02\\x02\\x02\\xBF\\x03\\x02\\x02\\x02\\x03\\xC1\\x03\\x02\\x02\" +\n    \"\\x02\\x05\\xCF\\x03\\x02\\x02\\x02\\x07\\xD6\\x03\\x02\\x02\\x02\\t\\xDC\\x03\\x02\\x02\" +\n    \"\\x02\\v\\xE1\\x03\\x02\\x02\\x02\\r\\xEA\\x03\\x02\\x02\\x02\\x0F\\xF0\\x03\\x02\\x02\\x02\" +\n    \"\\x11\\xF3\\x03\\x02\\x02\\x02\\x13\\xF8\\x03\\x02\\x02\\x02\\x15\\xFE\\x03\\x02\\x02\\x02\" +\n    \"\\x17\\u0102\\x03\\x02\\x02\\x02\\x19\\u0105\\x03\\x02\\x02\\x02\\x1B\\u0109\\x03\\x02\" +\n    \"\\x02\\x02\\x1D\\u010E\\x03\\x02\\x02\\x02\\x1F\\u0115\\x03\\x02\\x02\\x02!\\u011C\\x03\" +\n    \"\\x02\\x02\\x02#\\u0123\\x03\\x02\\x02\\x02%\\u012C\\x03\\x02\\x02\\x02\\'\\u0131\\x03\" +\n    \"\\x02\\x02\\x02)\\u0137\\x03\\x02\\x02\\x02+\\u0139\\x03\\x02\\x02\\x02-\\u013B\\x03\" +\n    \"\\x02\\x02\\x02/\\u013D\\x03\\x02\\x02\\x021\\u013F\\x03\\x02\\x02\\x023\\u0141\\x03\" +\n    \"\\x02\\x02\\x025\\u0143\\x03\\x02\\x02\\x027\\u0145\\x03\\x02\\x02\\x029\\u0148\\x03\" +\n    \"\\x02\\x02\\x02;\\u014A\\x03\\x02\\x02\\x02=\\u014D\\x03\\x02\\x02\\x02?\\u0150\\x03\" +\n    \"\\x02\\x02\\x02A\\u0153\\x03\\x02\\x02\\x02C\\u0155\\x03\\x02\\x02\\x02E\\u0158\\x03\" +\n    \"\\x02\\x02\\x02G\\u015A\\x03\\x02\\x02\\x02I\\u015D\\x03\\x02\\x02\\x02K\\u015F\\x03\" +\n    \"\\x02\\x02\\x02M\\u0161\\x03\\x02\\x02\\x02O\\u0163\\x03\\x02\\x02\\x02Q\\u0165\\x03\" +\n    \"\\x02\\x02\\x02S\\u0167\\x03\\x02\\x02\\x02U\\u016A\\x03\\x02\\x02\\x02W\\u016D\\x03\" +\n    \"\\x02\\x02\\x02Y\\u016F\\x03\\x02\\x02\\x02[\\u0171\\x03\\x02\\x02\\x02]\\u0173\\x03\" +\n    \"\\x02\\x02\\x02_\\u0175\\x03\\x02\\x02\\x02a\\u0177\\x03\\x02\\x02\\x02c\\u0179\\x03\" +\n    \"\\x02\\x02\\x02e\\u017B\\x03\\x02\\x02\\x02g\\u017D\\x03\\x02\\x02\\x02i\\u0180\\x03\" +\n    \"\\x02\\x02\\x02k\\u0183\\x03\\x02\\x02\\x02m\\u0186\\x03\\x02\\x02\\x02o\\u0189\\x03\" +\n    \"\\x02\\x02\\x02q\\u018C\\x03\\x02\\x02\\x02s\\u0190\\x03\\x02\\x02\\x02u\\u0194\\x03\" +\n    \"\\x02\\x02\\x02w\\u0197\\x03\\x02\\x02\\x02y\\u019A\\x03\\x02\\x02\\x02{\\u019D\\x03\" +\n    \"\\x02\\x02\\x02}\\u01A0\\x03\\x02\\x02\\x02\\x7F\\u01A3\\x03\\x02\\x02\\x02\\x81\\u01A6\" +\n    \"\\x03\\x02\\x02\\x02\\x83\\u01A8\\x03\\x02\\x02\\x02\\x85\\u01B0\\x03\\x02\\x02\\x02\\x87\" +\n    \"\\u01B2\\x03\\x02\\x02\\x02\\x89\\u01B4\\x03\\x02\\x02\\x02\\x8B\\u01B9\\x03\\x02\\x02\" +\n    \"\\x02\\x8D\\u01BB\\x03\\x02\\x02\\x02\\x8F\\u01BD\\x03\\x02\\x02\\x02\\x91\\u01C4\\x03\" +\n    \"\\x02\\x02\\x02\\x93\\u01CB\\x03\\x02\\x02\\x02\\x95\\u01CD\\x03\\x02\\x02\\x02\\x97\\u01CF\" +\n    \"\\x03\\x02\\x02\\x02\\x99\\u01DD\\x03\\x02\\x02\\x02\\x9B\\u01E7\\x03\\x02\\x02\\x02\\x9D\" +\n    \"\\u01E9\\x03\\x02\\x02\\x02\\x9F\\u01EF\\x03\\x02\\x02\\x02\\xA1\\u01F2\\x03\\x02\\x02\" +\n    \"\\x02\\xA3\\u01F6\\x03\\x02\\x02\\x02\\xA5\\u01FC\\x03\\x02\\x02\\x02\\xA7\\u0214\\x03\" +\n    \"\\x02\\x02\\x02\\xA9\\u0217\\x03\\x02\\x02\\x02\\xAB\\u021D\\x03\\x02\\x02\\x02\\xAD\\u021F\" +\n    \"\\x03\\x02\\x02\\x02\\xAF\\u0221\\x03\\x02\\x02\\x02\\xB1\\u0225\\x03\\x02\\x02\\x02\\xB3\" +\n    \"\\u0230\\x03\\x02\\x02\\x02\\xB5\\u0233\\x03\\x02\\x02\\x02\\xB7\\u023E\\x03\\x02\\x02\" +\n    \"\\x02\\xB9\\u0241\\x03\\x02\\x02\\x02\\xBB\\u024C\\x03\\x02\\x02\\x02\\xBD\\u0250\\x03\" +\n    \"\\x02\\x02\\x02\\xBF\\u025E\\x03\\x02\\x02\\x02\\xC1\\xC2\\x07a\\x02\\x02\\xC2\\xC3\\x07\" +\n    \"a\\x02\\x02\\xC3\\xC4\\x07g\\x02\\x02\\xC4\\xC5\\x07z\\x02\\x02\\xC5\\xC6\\x07v\\x02\\x02\" +\n    \"\\xC6\\xC7\\x07g\\x02\\x02\\xC7\\xC8\\x07p\\x02\\x02\\xC8\\xC9\\x07u\\x02\\x02\\xC9\\xCA\" +\n    \"\\x07k\\x02\\x02\\xCA\\xCB\\x07q\\x02\\x02\\xCB\\xCC\\x07p\\x02\\x02\\xCC\\xCD\\x07a\\x02\" +\n    \"\\x02\\xCD\\xCE\\x07a\\x02\\x02\\xCE\\x04\\x03\\x02\\x02\\x02\\xCF\\xD0\\x07k\\x02\\x02\" +\n    \"\\xD0\\xD1\\x07p\\x02\\x02\\xD1\\xD2\\x07n\\x02\\x02\\xD2\\xD3\\x07k\\x02\\x02\\xD3\\xD4\" +\n    \"\\x07p\\x02\\x02\\xD4\\xD5\\x07g\\x02\\x02\\xD5\\x06\\x03\\x02\\x02\\x02\\xD6\\xD7\\x07\" +\n    \"d\\x02\\x02\\xD7\\xD8\\x07t\\x02\\x02\\xD8\\xD9\\x07g\\x02\\x02\\xD9\\xDA\\x07c\\x02\\x02\" +\n    \"\\xDA\\xDB\\x07m\\x02\\x02\\xDB\\b\\x03\\x02\\x02\\x02\\xDC\\xDD\\x07e\\x02\\x02\\xDD\\xDE\" +\n    \"\\x07j\\x02\\x02\\xDE\\xDF\\x07c\\x02\\x02\\xDF\\xE0\\x07t\\x02\\x02\\xE0\\n\\x03\\x02\" +\n    \"\\x02\\x02\\xE1\\xE2\\x07e\\x02\\x02\\xE2\\xE3\\x07q\\x02\\x02\\xE3\\xE4\\x07p\\x02\\x02\" +\n    \"\\xE4\\xE5\\x07v\\x02\\x02\\xE5\\xE6\\x07k\\x02\\x02\\xE6\\xE7\\x07p\\x02\\x02\\xE7\\xE8\" +\n    \"\\x07w\\x02\\x02\\xE8\\xE9\\x07g\\x02\\x02\\xE9\\f\\x03\\x02\\x02\\x02\\xEA\\xEB\\x07e\" +\n    \"\\x02\\x02\\xEB\\xEC\\x07q\\x02\\x02\\xEC\\xED\\x07p\\x02\\x02\\xED\\xEE\\x07u\\x02\\x02\" +\n    \"\\xEE\\xEF\\x07v\\x02\\x02\\xEF\\x0E\\x03\\x02\\x02\\x02\\xF0\\xF1\\x07f\\x02\\x02\\xF1\" +\n    \"\\xF2\\x07q\\x02\\x02\\xF2\\x10\\x03\\x02\\x02\\x02\\xF3\\xF4\\x07g\\x02\\x02\\xF4\\xF5\" +\n    \"\\x07n\\x02\\x02\\xF5\\xF6\\x07u\\x02\\x02\\xF6\\xF7\\x07g\\x02\\x02\\xF7\\x12\\x03\\x02\" +\n    \"\\x02\\x02\\xF8\\xF9\\x07h\\x02\\x02\\xF9\\xFA\\x07n\\x02\\x02\\xFA\\xFB\\x07q\\x02\\x02\" +\n    \"\\xFB\\xFC\\x07c\\x02\\x02\\xFC\\xFD\\x07v\\x02\\x02\\xFD\\x14\\x03\\x02\\x02\\x02\\xFE\" +\n    \"\\xFF\\x07h\\x02\\x02\\xFF\\u0100\\x07q\\x02\\x02\\u0100\\u0101\\x07t\\x02\\x02\\u0101\" +\n    \"\\x16\\x03\\x02\\x02\\x02\\u0102\\u0103\\x07k\\x02\\x02\\u0103\\u0104\\x07h\\x02\\x02\" +\n    \"\\u0104\\x18\\x03\\x02\\x02\\x02\\u0105\\u0106\\x07k\\x02\\x02\\u0106\\u0107\\x07p\\x02\" +\n    \"\\x02\\u0107\\u0108\\x07v\\x02\\x02\\u0108\\x1A\\x03\\x02\\x02\\x02\\u0109\\u010A\\x07\" +\n    \"n\\x02\\x02\\u010A\\u010B\\x07q\\x02\\x02\\u010B\\u010C\\x07p\\x02\\x02\\u010C\\u010D\" +\n    \"\\x07i\\x02\\x02\\u010D\\x1C\\x03\\x02\\x02\\x02\\u010E\\u010F\\x07t\\x02\\x02\\u010F\" +\n    \"\\u0110\\x07g\\x02\\x02\\u0110\\u0111\\x07v\\x02\\x02\\u0111\\u0112\\x07w\\x02\\x02\" +\n    \"\\u0112\\u0113\\x07t\\x02\\x02\\u0113\\u0114\\x07p\\x02\\x02\\u0114\\x1E\\x03\\x02\\x02\" +\n    \"\\x02\\u0115\\u0116\\x07u\\x02\\x02\\u0116\\u0117\\x07k\\x02\\x02\\u0117\\u0118\\x07\" +\n    \"i\\x02\\x02\\u0118\\u0119\\x07p\\x02\\x02\\u0119\\u011A\\x07g\\x02\\x02\\u011A\\u011B\" +\n    \"\\x07f\\x02\\x02\\u011B \\x03\\x02\\x02\\x02\\u011C\\u011D\\x07u\\x02\\x02\\u011D\\u011E\" +\n    \"\\x07v\\x02\\x02\\u011E\\u011F\\x07t\\x02\\x02\\u011F\\u0120\\x07w\\x02\\x02\\u0120\" +\n    \"\\u0121\\x07e\\x02\\x02\\u0121\\u0122\\x07v\\x02\\x02\\u0122\\\"\\x03\\x02\\x02\\x02\\u0123\" +\n    \"\\u0124\\x07w\\x02\\x02\\u0124\\u0125\\x07p\\x02\\x02\\u0125\\u0126\\x07u\\x02\\x02\" +\n    \"\\u0126\\u0127\\x07k\\x02\\x02\\u0127\\u0128\\x07i\\x02\\x02\\u0128\\u0129\\x07p\\x02\" +\n    \"\\x02\\u0129\\u012A\\x07g\\x02\\x02\\u012A\\u012B\\x07f\\x02\\x02\\u012B$\\x03\\x02\" +\n    \"\\x02\\x02\\u012C\\u012D\\x07x\\x02\\x02\\u012D\\u012E\\x07q\\x02\\x02\\u012E\\u012F\" +\n    \"\\x07k\\x02\\x02\\u012F\\u0130\\x07f\\x02\\x02\\u0130&\\x03\\x02\\x02\\x02\\u0131\\u0132\" +\n    \"\\x07y\\x02\\x02\\u0132\\u0133\\x07j\\x02\\x02\\u0133\\u0134\\x07k\\x02\\x02\\u0134\" +\n    \"\\u0135\\x07n\\x02\\x02\\u0135\\u0136\\x07g\\x02\\x02\\u0136(\\x03\\x02\\x02\\x02\\u0137\" +\n    \"\\u0138\\x07*\\x02\\x02\\u0138*\\x03\\x02\\x02\\x02\\u0139\\u013A\\x07+\\x02\\x02\\u013A\" +\n    \",\\x03\\x02\\x02\\x02\\u013B\\u013C\\x07]\\x02\\x02\\u013C.\\x03\\x02\\x02\\x02\\u013D\" +\n    \"\\u013E\\x07_\\x02\\x02\\u013E0\\x03\\x02\\x02\\x02\\u013F\\u0140\\x07}\\x02\\x02\\u0140\" +\n    \"2\\x03\\x02\\x02\\x02\\u0141\\u0142\\x07\\x7F\\x02\\x02\\u01424\\x03\\x02\\x02\\x02\\u0143\" +\n    \"\\u0144\\x07>\\x02\\x02\\u01446\\x03\\x02\\x02\\x02\\u0145\\u0146\\x07>\\x02\\x02\\u0146\" +\n    \"\\u0147\\x07?\\x02\\x02\\u01478\\x03\\x02\\x02\\x02\\u0148\\u0149\\x07@\\x02\\x02\\u0149\" +\n    \":\\x03\\x02\\x02\\x02\\u014A\\u014B\\x07@\\x02\\x02\\u014B\\u014C\\x07?\\x02\\x02\\u014C\" +\n    \"<\\x03\\x02\\x02\\x02\\u014D\\u014E\\x07>\\x02\\x02\\u014E\\u014F\\x07>\\x02\\x02\\u014F\" +\n    \">\\x03\\x02\\x02\\x02\\u0150\\u0151\\x07@\\x02\\x02\\u0151\\u0152\\x07@\\x02\\x02\\u0152\" +\n    \"@\\x03\\x02\\x02\\x02\\u0153\\u0154\\x07-\\x02\\x02\\u0154B\\x03\\x02\\x02\\x02\\u0155\" +\n    \"\\u0156\\x07-\\x02\\x02\\u0156\\u0157\\x07-\\x02\\x02\\u0157D\\x03\\x02\\x02\\x02\\u0158\" +\n    \"\\u0159\\x07/\\x02\\x02\\u0159F\\x03\\x02\\x02\\x02\\u015A\\u015B\\x07/\\x02\\x02\\u015B\" +\n    \"\\u015C\\x07/\\x02\\x02\\u015CH\\x03\\x02\\x02\\x02\\u015D\\u015E\\x07,\\x02\\x02\\u015E\" +\n    \"J\\x03\\x02\\x02\\x02\\u015F\\u0160\\x071\\x02\\x02\\u0160L\\x03\\x02\\x02\\x02\\u0161\" +\n    \"\\u0162\\x07\\'\\x02\\x02\\u0162N\\x03\\x02\\x02\\x02\\u0163\\u0164\\x07(\\x02\\x02\\u0164\" +\n    \"P\\x03\\x02\\x02\\x02\\u0165\\u0166\\x07~\\x02\\x02\\u0166R\\x03\\x02\\x02\\x02\\u0167\" +\n    \"\\u0168\\x07(\\x02\\x02\\u0168\\u0169\\x07(\\x02\\x02\\u0169T\\x03\\x02\\x02\\x02\\u016A\" +\n    \"\\u016B\\x07~\\x02\\x02\\u016B\\u016C\\x07~\\x02\\x02\\u016CV\\x03\\x02\\x02\\x02\\u016D\" +\n    \"\\u016E\\x07`\\x02\\x02\\u016EX\\x03\\x02\\x02\\x02\\u016F\\u0170\\x07#\\x02\\x02\\u0170\" +\n    \"Z\\x03\\x02\\x02\\x02\\u0171\\u0172\\x07\\x80\\x02\\x02\\u0172\\\\\\x03\\x02\\x02\\x02\" +\n    \"\\u0173\\u0174\\x07A\\x02\\x02\\u0174^\\x03\\x02\\x02\\x02\\u0175\\u0176\\x07<\\x02\" +\n    \"\\x02\\u0176`\\x03\\x02\\x02\\x02\\u0177\\u0178\\x07=\\x02\\x02\\u0178b\\x03\\x02\\x02\" +\n    \"\\x02\\u0179\\u017A\\x07.\\x02\\x02\\u017Ad\\x03\\x02\\x02\\x02\\u017B\\u017C\\x07?\" +\n    \"\\x02\\x02\\u017Cf\\x03\\x02\\x02\\x02\\u017D\\u017E\\x07,\\x02\\x02\\u017E\\u017F\\x07\" +\n    \"?\\x02\\x02\\u017Fh\\x03\\x02\\x02\\x02\\u0180\\u0181\\x071\\x02\\x02\\u0181\\u0182\" +\n    \"\\x07?\\x02\\x02\\u0182j\\x03\\x02\\x02\\x02\\u0183\\u0184\\x07\\'\\x02\\x02\\u0184\\u0185\" +\n    \"\\x07?\\x02\\x02\\u0185l\\x03\\x02\\x02\\x02\\u0186\\u0187\\x07-\\x02\\x02\\u0187\\u0188\" +\n    \"\\x07?\\x02\\x02\\u0188n\\x03\\x02\\x02\\x02\\u0189\\u018A\\x07/\\x02\\x02\\u018A\\u018B\" +\n    \"\\x07?\\x02\\x02\\u018Bp\\x03\\x02\\x02\\x02\\u018C\\u018D\\x07>\\x02\\x02\\u018D\\u018E\" +\n    \"\\x07>\\x02\\x02\\u018E\\u018F\\x07?\\x02\\x02\\u018Fr\\x03\\x02\\x02\\x02\\u0190\\u0191\" +\n    \"\\x07@\\x02\\x02\\u0191\\u0192\\x07@\\x02\\x02\\u0192\\u0193\\x07?\\x02\\x02\\u0193\" +\n    \"t\\x03\\x02\\x02\\x02\\u0194\\u0195\\x07(\\x02\\x02\\u0195\\u0196\\x07?\\x02\\x02\\u0196\" +\n    \"v\\x03\\x02\\x02\\x02\\u0197\\u0198\\x07`\\x02\\x02\\u0198\\u0199\\x07?\\x02\\x02\\u0199\" +\n    \"x\\x03\\x02\\x02\\x02\\u019A\\u019B\\x07~\\x02\\x02\\u019B\\u019C\\x07?\\x02\\x02\\u019C\" +\n    \"z\\x03\\x02\\x02\\x02\\u019D\\u019E\\x07?\\x02\\x02\\u019E\\u019F\\x07?\\x02\\x02\\u019F\" +\n    \"|\\x03\\x02\\x02\\x02\\u01A0\\u01A1\\x07#\\x02\\x02\\u01A1\\u01A2\\x07?\\x02\\x02\\u01A2\" +\n    \"~\\x03\\x02\\x02\\x02\\u01A3\\u01A4\\x07/\\x02\\x02\\u01A4\\u01A5\\x07@\\x02\\x02\\u01A5\" +\n    \"\\x80\\x03\\x02\\x02\\x02\\u01A6\\u01A7\\x070\\x02\\x02\\u01A7\\x82\\x03\\x02\\x02\\x02\" +\n    \"\\u01A8\\u01AD\\x05\\x85C\\x02\\u01A9\\u01AC\\x05\\x85C\\x02\\u01AA\\u01AC\\x05\\x89\" +\n    \"E\\x02\\u01AB\\u01A9\\x03\\x02\\x02\\x02\\u01AB\\u01AA\\x03\\x02\\x02\\x02\\u01AC\\u01AF\" +\n    \"\\x03\\x02\\x02\\x02\\u01AD\\u01AB\\x03\\x02\\x02\\x02\\u01AD\\u01AE\\x03\\x02\\x02\\x02\" +\n    \"\\u01AE\\x84\\x03\\x02\\x02\\x02\\u01AF\\u01AD\\x03\\x02\\x02\\x02\\u01B0\\u01B1\\x05\" +\n    \"\\x87D\\x02\\u01B1\\x86\\x03\\x02\\x02\\x02\\u01B2\\u01B3\\t\\x02\\x02\\x02\\u01B3\\x88\" +\n    \"\\x03\\x02\\x02\\x02\\u01B4\\u01B5\\t\\x03\\x02\\x02\\u01B5\\x8A\\x03\\x02\\x02\\x02\\u01B6\" +\n    \"\\u01BA\\x05\\x8DG\\x02\\u01B7\\u01BA\\x05\\x97L\\x02\\u01B8\\u01BA\\x05\\xA7T\\x02\" +\n    \"\\u01B9\\u01B6\\x03\\x02\\x02\\x02\\u01B9\\u01B7\\x03\\x02\\x02\\x02\\u01B9\\u01B8\\x03\" +\n    \"\\x02\\x02\\x02\\u01BA\\x8C\\x03\\x02\\x02\\x02\\u01BB\\u01BC\\x05\\x8FH\\x02\\u01BC\" +\n    \"\\x8E\\x03\\x02\\x02\\x02\\u01BD\\u01BE\\x072\\x02\\x02\\u01BE\\u01C0\\t\\x04\\x02\\x02\" +\n    \"\\u01BF\\u01C1\\t\\x05\\x02\\x02\\u01C0\\u01BF\\x03\\x02\\x02\\x02\\u01C1\\u01C2\\x03\" +\n    \"\\x02\\x02\\x02\\u01C2\\u01C0\\x03\\x02\\x02\\x02\\u01C2\\u01C3\\x03\\x02\\x02\\x02\\u01C3\" +\n    \"\\x90\\x03\\x02\\x02\\x02\\u01C4\\u01C8\\x05\\x93J\\x02\\u01C5\\u01C7\\x05\\x89E\\x02\" +\n    \"\\u01C6\\u01C5\\x03\\x02\\x02\\x02\\u01C7\\u01CA\\x03\\x02\\x02\\x02\\u01C8\\u01C6\\x03\" +\n    \"\\x02\\x02\\x02\\u01C8\\u01C9\\x03\\x02\\x02\\x02\\u01C9\\x92\\x03\\x02\\x02\\x02\\u01CA\" +\n    \"\\u01C8\\x03\\x02\\x02\\x02\\u01CB\\u01CC\\t\\x06\\x02\\x02\\u01CC\\x94\\x03\\x02\\x02\" +\n    \"\\x02\\u01CD\\u01CE\\t\\x07\\x02\\x02\\u01CE\\x96\\x03\\x02\\x02\\x02\\u01CF\\u01D0\\x05\" +\n    \"\\x99M\\x02\\u01D0\\x98\\x03\\x02\\x02\\x02\\u01D1\\u01D3\\x05\\x9BN\\x02\\u01D2\\u01D4\" +\n    \"\\x05\\x9DO\\x02\\u01D3\\u01D2\\x03\\x02\\x02\\x02\\u01D3\\u01D4\\x03\\x02\\x02\\x02\" +\n    \"\\u01D4\\u01D6\\x03\\x02\\x02\\x02\\u01D5\\u01D7\\x05\\xA5S\\x02\\u01D6\\u01D5\\x03\" +\n    \"\\x02\\x02\\x02\\u01D6\\u01D7\\x03\\x02\\x02\\x02\\u01D7\\u01DE\\x03\\x02\\x02\\x02\\u01D8\" +\n    \"\\u01D9\\x05\\xA1Q\\x02\\u01D9\\u01DB\\x05\\x9DO\\x02\\u01DA\\u01DC\\x05\\xA5S\\x02\" +\n    \"\\u01DB\\u01DA\\x03\\x02\\x02\\x02\\u01DB\\u01DC\\x03\\x02\\x02\\x02\\u01DC\\u01DE\\x03\" +\n    \"\\x02\\x02\\x02\\u01DD\\u01D1\\x03\\x02\\x02\\x02\\u01DD\\u01D8\\x03\\x02\\x02\\x02\\u01DE\" +\n    \"\\x9A\\x03\\x02\\x02\\x02\\u01DF\\u01E1\\x05\\xA1Q\\x02\\u01E0\\u01DF\\x03\\x02\\x02\" +\n    \"\\x02\\u01E0\\u01E1\\x03\\x02\\x02\\x02\\u01E1\\u01E2\\x03\\x02\\x02\\x02\\u01E2\\u01E3\" +\n    \"\\x070\\x02\\x02\\u01E3\\u01E8\\x05\\xA1Q\\x02\\u01E4\\u01E5\\x05\\xA1Q\\x02\\u01E5\" +\n    \"\\u01E6\\x070\\x02\\x02\\u01E6\\u01E8\\x03\\x02\\x02\\x02\\u01E7\\u01E0\\x03\\x02\\x02\" +\n    \"\\x02\\u01E7\\u01E4\\x03\\x02\\x02\\x02\\u01E8\\x9C\\x03\\x02\\x02\\x02\\u01E9\\u01EB\" +\n    \"\\t\\b\\x02\\x02\\u01EA\\u01EC\\x05\\x9FP\\x02\\u01EB\\u01EA\\x03\\x02\\x02\\x02\\u01EB\" +\n    \"\\u01EC\\x03\\x02\\x02\\x02\\u01EC\\u01ED\\x03\\x02\\x02\\x02\\u01ED\\u01EE\\x05\\xA1\" +\n    \"Q\\x02\\u01EE\\x9E\\x03\\x02\\x02\\x02\\u01EF\\u01F0\\t\\t\\x02\\x02\\u01F0\\xA0\\x03\" +\n    \"\\x02\\x02\\x02\\u01F1\\u01F3\\x05\\x89E\\x02\\u01F2\\u01F1\\x03\\x02\\x02\\x02\\u01F3\" +\n    \"\\u01F4\\x03\\x02\\x02\\x02\\u01F4\\u01F2\\x03\\x02\\x02\\x02\\u01F4\\u01F5\\x03\\x02\" +\n    \"\\x02\\x02\\u01F5\\xA2\\x03\\x02\\x02\\x02\\u01F6\\u01F8\\t\\n\\x02\\x02\\u01F7\\u01F9\" +\n    \"\\x05\\x9FP\\x02\\u01F8\\u01F7\\x03\\x02\\x02\\x02\\u01F8\\u01F9\\x03\\x02\\x02\\x02\" +\n    \"\\u01F9\\u01FA\\x03\\x02\\x02\\x02\\u01FA\\u01FB\\x05\\xA1Q\\x02\\u01FB\\xA4\\x03\\x02\" +\n    \"\\x02\\x02\\u01FC\\u01FD\\t\\v\\x02\\x02\\u01FD\\xA6\\x03\\x02\\x02\\x02\\u01FE\\u01FF\" +\n    \"\\x07)\\x02\\x02\\u01FF\\u0200\\x05\\xA9U\\x02\\u0200\\u0201\\x07)\\x02\\x02\\u0201\" +\n    \"\\u0215\\x03\\x02\\x02\\x02\\u0202\\u0203\\x07N\\x02\\x02\\u0203\\u0204\\x07)\\x02\\x02\" +\n    \"\\u0204\\u0205\\x03\\x02\\x02\\x02\\u0205\\u0206\\x05\\xA9U\\x02\\u0206\\u0207\\x07\" +\n    \")\\x02\\x02\\u0207\\u0215\\x03\\x02\\x02\\x02\\u0208\\u0209\\x07w\\x02\\x02\\u0209\\u020A\" +\n    \"\\x07)\\x02\\x02\\u020A\\u020B\\x03\\x02\\x02\\x02\\u020B\\u020C\\x05\\xA9U\\x02\\u020C\" +\n    \"\\u020D\\x07)\\x02\\x02\\u020D\\u0215\\x03\\x02\\x02\\x02\\u020E\\u020F\\x07W\\x02\\x02\" +\n    \"\\u020F\\u0210\\x07)\\x02\\x02\\u0210\\u0211\\x03\\x02\\x02\\x02\\u0211\\u0212\\x05\" +\n    \"\\xA9U\\x02\\u0212\\u0213\\x07)\\x02\\x02\\u0213\\u0215\\x03\\x02\\x02\\x02\\u0214\\u01FE\" +\n    \"\\x03\\x02\\x02\\x02\\u0214\\u0202\\x03\\x02\\x02\\x02\\u0214\\u0208\\x03\\x02\\x02\\x02\" +\n    \"\\u0214\\u020E\\x03\\x02\\x02\\x02\\u0215\\xA8\\x03\\x02\\x02\\x02\\u0216\\u0218\\x05\" +\n    \"\\xABV\\x02\\u0217\\u0216\\x03\\x02\\x02\\x02\\u0218\\u0219\\x03\\x02\\x02\\x02\\u0219\" +\n    \"\\u0217\\x03\\x02\\x02\\x02\\u0219\\u021A\\x03\\x02\\x02\\x02\\u021A\\xAA\\x03\\x02\\x02\" +\n    \"\\x02\\u021B\\u021E\\n\\f\\x02\\x02\\u021C\\u021E\\x05\\xADW\\x02\\u021D\\u021B\\x03\" +\n    \"\\x02\\x02\\x02\\u021D\\u021C\\x03\\x02\\x02\\x02\\u021E\\xAC\\x03\\x02\\x02\\x02\\u021F\" +\n    \"\\u0220\\x05\\xAFX\\x02\\u0220\\xAE\\x03\\x02\\x02\\x02\\u0221\\u0222\\x07^\\x02\\x02\" +\n    \"\\u0222\\u0223\\t\\r\\x02\\x02\\u0223\\xB0\\x03\\x02\\x02\\x02\\u0224\\u0226\\x05\\xB3\" +\n    \"Z\\x02\\u0225\\u0224\\x03\\x02\\x02\\x02\\u0225\\u0226\\x03\\x02\\x02\\x02\\u0226\\u0227\" +\n    \"\\x03\\x02\\x02\\x02\\u0227\\u0229\\x07$\\x02\\x02\\u0228\\u022A\\x05\\xB5[\\x02\\u0229\" +\n    \"\\u0228\\x03\\x02\\x02\\x02\\u0229\\u022A\\x03\\x02\\x02\\x02\\u022A\\u022B\\x03\\x02\" +\n    \"\\x02\\x02\";\nClangLexer._serializedATNSegment1 = \"\\u022B\\u022C\\x07$\\x02\\x02\\u022C\\xB2\\x03\\x02\\x02\\x02\\u022D\\u022E\\x07w\\x02\" +\n    \"\\x02\\u022E\\u0231\\x07:\\x02\\x02\\u022F\\u0231\\t\\x0E\\x02\\x02\\u0230\\u022D\\x03\" +\n    \"\\x02\\x02\\x02\\u0230\\u022F\\x03\\x02\\x02\\x02\\u0231\\xB4\\x03\\x02\\x02\\x02\\u0232\" +\n    \"\\u0234\\x05\\xB7\\\\\\x02\\u0233\\u0232\\x03\\x02\\x02\\x02\\u0234\\u0235\\x03\\x02\\x02\" +\n    \"\\x02\\u0235\\u0233\\x03\\x02\\x02\\x02\\u0235\\u0236\\x03\\x02\\x02\\x02\\u0236\\xB6\" +\n    \"\\x03\\x02\\x02\\x02\\u0237\\u023F\\n\\x0F\\x02\\x02\\u0238\\u023F\\x05\\xADW\\x02\\u0239\" +\n    \"\\u023A\\x07^\\x02\\x02\\u023A\\u023F\\x07\\f\\x02\\x02\\u023B\\u023C\\x07^\\x02\\x02\" +\n    \"\\u023C\\u023D\\x07\\x0F\\x02\\x02\\u023D\\u023F\\x07\\f\\x02\\x02\\u023E\\u0237\\x03\" +\n    \"\\x02\\x02\\x02\\u023E\\u0238\\x03\\x02\\x02\\x02\\u023E\\u0239\\x03\\x02\\x02\\x02\\u023E\" +\n    \"\\u023B\\x03\\x02\\x02\\x02\\u023F\\xB8\\x03\\x02\\x02\\x02\\u0240\\u0242\\t\\x10\\x02\" +\n    \"\\x02\\u0241\\u0240\\x03\\x02\\x02\\x02\\u0242\\u0243\\x03\\x02\\x02\\x02\\u0243\\u0241\" +\n    \"\\x03\\x02\\x02\\x02\\u0243\\u0244\\x03\\x02\\x02\\x02\\u0244\\u0245\\x03\\x02\\x02\\x02\" +\n    \"\\u0245\\u0246\\b]\\x02\\x02\\u0246\\xBA\\x03\\x02\\x02\\x02\\u0247\\u0249\\x07\\x0F\" +\n    \"\\x02\\x02\\u0248\\u024A\\x07\\f\\x02\\x02\\u0249\\u0248\\x03\\x02\\x02\\x02\\u0249\\u024A\" +\n    \"\\x03\\x02\\x02\\x02\\u024A\\u024D\\x03\\x02\\x02\\x02\\u024B\\u024D\\x07\\f\\x02\\x02\" +\n    \"\\u024C\\u0247\\x03\\x02\\x02\\x02\\u024C\\u024B\\x03\\x02\\x02\\x02\\u024D\\u024E\\x03\" +\n    \"\\x02\\x02\\x02\\u024E\\u024F\\b^\\x02\\x02\\u024F\\xBC\\x03\\x02\\x02\\x02\\u0250\\u0251\" +\n    \"\\x071\\x02\\x02\\u0251\\u0252\\x07,\\x02\\x02\\u0252\\u0256\\x03\\x02\\x02\\x02\\u0253\" +\n    \"\\u0255\\v\\x02\\x02\\x02\\u0254\\u0253\\x03\\x02\\x02\\x02\\u0255\\u0258\\x03\\x02\\x02\" +\n    \"\\x02\\u0256\\u0257\\x03\\x02\\x02\\x02\\u0256\\u0254\\x03\\x02\\x02\\x02\\u0257\\u0259\" +\n    \"\\x03\\x02\\x02\\x02\\u0258\\u0256\\x03\\x02\\x02\\x02\\u0259\\u025A\\x07,\\x02\\x02\" +\n    \"\\u025A\\u025B\\x071\\x02\\x02\\u025B\\u025C\\x03\\x02\\x02\\x02\\u025C\\u025D\\b_\\x02\" +\n    \"\\x02\\u025D\\xBE\\x03\\x02\\x02\\x02\\u025E\\u025F\\x071\\x02\\x02\\u025F\\u0260\\x07\" +\n    \"1\\x02\\x02\\u0260\\u0264\\x03\\x02\\x02\\x02\\u0261\\u0263\\n\\x11\\x02\\x02\\u0262\" +\n    \"\\u0261\\x03\\x02\\x02\\x02\\u0263\\u0266\\x03\\x02\\x02\\x02\\u0264\\u0262\\x03\\x02\" +\n    \"\\x02\\x02\\u0264\\u0265\\x03\\x02\\x02\\x02\\u0265\\u0267\\x03\\x02\\x02\\x02\\u0266\" +\n    \"\\u0264\\x03\\x02\\x02\\x02\\u0267\\u0268\\b`\\x02\\x02\\u0268\\xC0\\x03\\x02\\x02\\x02\" +\n    \"\\x1E\\x02\\u01AB\\u01AD\\u01B9\\u01C2\\u01C8\\u01D3\\u01D6\\u01DB\\u01DD\\u01E0\\u01E7\" +\n    \"\\u01EB\\u01F4\\u01F8\\u0214\\u0219\\u021D\\u0225\\u0229\\u0230\\u0235\\u023E\\u0243\" +\n    \"\\u0249\\u024C\\u0256\\u0264\\x03\\b\\x02\\x02\";\nClangLexer._serializedATN = Utils.join([\n    ClangLexer._serializedATNSegment0,\n    ClangLexer._serializedATNSegment1,\n], \"\");\n//# sourceMappingURL=ClangLexer.js.map","\"use strict\";\n// Generated from ./src/lang/Clang.g4 by ANTLR 4.9.0-SNAPSHOT\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DirectAbstractDeclaratorContext = exports.AbstractDeclaratorContext = exports.TypeNameContext = exports.IdentifierListContext = exports.ParameterDeclarationContext = exports.ParameterListContext = exports.ParameterTypeListContext = exports.TypeQualifierListContext = exports.PointerContext = exports.NestedParenthesesBlockContext = exports.DirectDeclaratorContext = exports.DeclaratorContext = exports.FunctionSpecifierContext = exports.TypeQualifierContext = exports.StructDeclaratorContext = exports.StructDeclaratorListContext = exports.SpecifierQualifierListContext = exports.StructDeclarationContext = exports.StructDeclarationListContext = exports.StructSpecifierContext = exports.TypeSpecifierContext = exports.InitDeclaratorContext = exports.InitDeclaratorListContext = exports.DeclarationSpecifierContext = exports.DeclarationSpecifiers2Context = exports.DeclarationSpecifiersContext = exports.DeclarationContext = exports.ConstantExpressionContext = exports.ExpressionContext = exports.AssignmentOperatorContext = exports.AssignmentExpressionContext = exports.ConditionalExpressionContext = exports.LogicalOrExpressionContext = exports.LogicalAndExpressionContext = exports.InclusiveOrExpressionContext = exports.ExclusiveOrExpressionContext = exports.AndExpressionContext = exports.EqualityExpressionContext = exports.RelationalExpressionContext = exports.ShiftExpressionContext = exports.AdditiveExpressionContext = exports.MultiplicativeExpressionContext = exports.CastExpressionContext = exports.UnaryOperatorContext = exports.UnaryExpressionContext = exports.ArgumentExpressionListContext = exports.PostfixExpressionContext = exports.PrimaryExpressionContext = exports.StartContext = exports.ClangParser = void 0;\nexports.DeclarationListContext = exports.FunctionDefinitionContext = exports.ExternalDeclarationContext = exports.TranslationUnitContext = exports.CompilationUnitContext = exports.ForExpressionContext = exports.ForDeclarationContext = exports.ForConditionContext = exports.IterationStatementContext = exports.SelectionStatementContext = exports.ExpressionStatementContext = exports.BlockItemContext = exports.BlockItemListContext = exports.CompoundStatementContext = exports.StatementContext = exports.DesignatorContext = exports.DesignatorListContext = exports.DesignationContext = exports.InitializerListContext = exports.InitializerContext = exports.TypedefNameContext = void 0;\nconst ATN_1 = require(\"antlr4ts/atn/ATN\");\nconst ATNDeserializer_1 = require(\"antlr4ts/atn/ATNDeserializer\");\nconst FailedPredicateException_1 = require(\"antlr4ts/FailedPredicateException\");\nconst NoViableAltException_1 = require(\"antlr4ts/NoViableAltException\");\nconst Parser_1 = require(\"antlr4ts/Parser\");\nconst ParserRuleContext_1 = require(\"antlr4ts/ParserRuleContext\");\nconst ParserATNSimulator_1 = require(\"antlr4ts/atn/ParserATNSimulator\");\nconst RecognitionException_1 = require(\"antlr4ts/RecognitionException\");\nconst Token_1 = require(\"antlr4ts/Token\");\nconst VocabularyImpl_1 = require(\"antlr4ts/VocabularyImpl\");\nconst Utils = require(\"antlr4ts/misc/Utils\");\nclass ClangParser extends Parser_1.Parser {\n    constructor(input) {\n        super(input);\n        this._interp = new ParserATNSimulator_1.ParserATNSimulator(ClangParser._ATN, this);\n    }\n    // @Override\n    // @NotNull\n    get vocabulary() {\n        return ClangParser.VOCABULARY;\n    }\n    // tslint:enable:no-trailing-whitespace\n    // @Override\n    get grammarFileName() { return \"Clang.g4\"; }\n    // @Override\n    get ruleNames() { return ClangParser.ruleNames; }\n    // @Override\n    get serializedATN() { return ClangParser._serializedATN; }\n    createFailedPredicateException(predicate, message) {\n        return new FailedPredicateException_1.FailedPredicateException(this, predicate, message);\n    }\n    // @RuleVersion(0)\n    start() {\n        let _localctx = new StartContext(this._ctx, this.state);\n        this.enterRule(_localctx, 0, ClangParser.RULE_start);\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 140;\n                this.primaryExpression();\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    primaryExpression() {\n        let _localctx = new PrimaryExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 2, ClangParser.RULE_primaryExpression);\n        let _la;\n        try {\n            this.state = 153;\n            this._errHandler.sync(this);\n            switch (this._input.LA(1)) {\n                case ClangParser.Identifier:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 142;\n                        this.match(ClangParser.Identifier);\n                    }\n                    break;\n                case ClangParser.Constant:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 143;\n                        this.match(ClangParser.Constant);\n                    }\n                    break;\n                case ClangParser.StringLiteral:\n                    this.enterOuterAlt(_localctx, 3);\n                    {\n                        this.state = 145;\n                        this._errHandler.sync(this);\n                        _la = this._input.LA(1);\n                        do {\n                            {\n                                {\n                                    this.state = 144;\n                                    this.match(ClangParser.StringLiteral);\n                                }\n                            }\n                            this.state = 147;\n                            this._errHandler.sync(this);\n                            _la = this._input.LA(1);\n                        } while (_la === ClangParser.StringLiteral);\n                    }\n                    break;\n                case ClangParser.LeftParen:\n                    this.enterOuterAlt(_localctx, 4);\n                    {\n                        this.state = 149;\n                        this.match(ClangParser.LeftParen);\n                        this.state = 150;\n                        this.expression();\n                        this.state = 151;\n                        this.match(ClangParser.RightParen);\n                    }\n                    break;\n                default:\n                    throw new NoViableAltException_1.NoViableAltException(this);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    postfixExpression() {\n        let _localctx = new PostfixExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 4, ClangParser.RULE_postfixExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                {\n                    this.state = 155;\n                    this.primaryExpression();\n                }\n                this.state = 170;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.LeftParen || _la === ClangParser.LeftBracket || ((((_la - 33)) & ~0x1F) === 0 && ((1 << (_la - 33)) & ((1 << (ClangParser.PlusPlus - 33)) | (1 << (ClangParser.MinusMinus - 33)) | (1 << (ClangParser.Arrow - 33)) | (1 << (ClangParser.Dot - 33)))) !== 0)) {\n                    {\n                        this.state = 168;\n                        this._errHandler.sync(this);\n                        switch (this._input.LA(1)) {\n                            case ClangParser.LeftBracket:\n                                {\n                                    this.state = 156;\n                                    this.match(ClangParser.LeftBracket);\n                                    this.state = 157;\n                                    this.expression();\n                                    this.state = 158;\n                                    this.match(ClangParser.RightBracket);\n                                }\n                                break;\n                            case ClangParser.LeftParen:\n                                {\n                                    this.state = 160;\n                                    this.match(ClangParser.LeftParen);\n                                    this.state = 162;\n                                    this._errHandler.sync(this);\n                                    _la = this._input.LA(1);\n                                    if (_la === ClangParser.T__0 || _la === ClangParser.LeftParen || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                                        {\n                                            this.state = 161;\n                                            this.argumentExpressionList();\n                                        }\n                                    }\n                                    this.state = 164;\n                                    this.match(ClangParser.RightParen);\n                                }\n                                break;\n                            case ClangParser.Arrow:\n                            case ClangParser.Dot:\n                                {\n                                    this.state = 165;\n                                    _la = this._input.LA(1);\n                                    if (!(_la === ClangParser.Arrow || _la === ClangParser.Dot)) {\n                                        this._errHandler.recoverInline(this);\n                                    }\n                                    else {\n                                        if (this._input.LA(1) === Token_1.Token.EOF) {\n                                            this.matchedEOF = true;\n                                        }\n                                        this._errHandler.reportMatch(this);\n                                        this.consume();\n                                    }\n                                    this.state = 166;\n                                    this.match(ClangParser.Identifier);\n                                }\n                                break;\n                            case ClangParser.PlusPlus:\n                            case ClangParser.MinusMinus:\n                                {\n                                    this.state = 167;\n                                    _la = this._input.LA(1);\n                                    if (!(_la === ClangParser.PlusPlus || _la === ClangParser.MinusMinus)) {\n                                        this._errHandler.recoverInline(this);\n                                    }\n                                    else {\n                                        if (this._input.LA(1) === Token_1.Token.EOF) {\n                                            this.matchedEOF = true;\n                                        }\n                                        this._errHandler.reportMatch(this);\n                                        this.consume();\n                                    }\n                                }\n                                break;\n                            default:\n                                throw new NoViableAltException_1.NoViableAltException(this);\n                        }\n                    }\n                    this.state = 172;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    argumentExpressionList() {\n        let _localctx = new ArgumentExpressionListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 6, ClangParser.RULE_argumentExpressionList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 173;\n                this.assignmentExpression();\n                this.state = 178;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Comma) {\n                    {\n                        {\n                            this.state = 174;\n                            this.match(ClangParser.Comma);\n                            this.state = 175;\n                            this.assignmentExpression();\n                        }\n                    }\n                    this.state = 180;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    unaryExpression() {\n        let _localctx = new UnaryExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 8, ClangParser.RULE_unaryExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 184;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.PlusPlus || _la === ClangParser.MinusMinus) {\n                    {\n                        {\n                            this.state = 181;\n                            _la = this._input.LA(1);\n                            if (!(_la === ClangParser.PlusPlus || _la === ClangParser.MinusMinus)) {\n                                this._errHandler.recoverInline(this);\n                            }\n                            else {\n                                if (this._input.LA(1) === Token_1.Token.EOF) {\n                                    this.matchedEOF = true;\n                                }\n                                this._errHandler.reportMatch(this);\n                                this.consume();\n                            }\n                        }\n                    }\n                    this.state = 186;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n                this.state = 191;\n                this._errHandler.sync(this);\n                switch (this._input.LA(1)) {\n                    case ClangParser.LeftParen:\n                    case ClangParser.Identifier:\n                    case ClangParser.Constant:\n                    case ClangParser.StringLiteral:\n                        {\n                            this.state = 187;\n                            this.postfixExpression();\n                        }\n                        break;\n                    case ClangParser.Plus:\n                    case ClangParser.Minus:\n                    case ClangParser.Star:\n                    case ClangParser.And:\n                    case ClangParser.Not:\n                        {\n                            this.state = 188;\n                            this.unaryOperator();\n                            this.state = 189;\n                            this.castExpression();\n                        }\n                        break;\n                    default:\n                        throw new NoViableAltException_1.NoViableAltException(this);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    unaryOperator() {\n        let _localctx = new UnaryOperatorContext(this._ctx, this.state);\n        this.enterRule(_localctx, 10, ClangParser.RULE_unaryOperator);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 193;\n                _la = this._input.LA(1);\n                if (!(((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0))) {\n                    this._errHandler.recoverInline(this);\n                }\n                else {\n                    if (this._input.LA(1) === Token_1.Token.EOF) {\n                        this.matchedEOF = true;\n                    }\n                    this._errHandler.reportMatch(this);\n                    this.consume();\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    castExpression() {\n        let _localctx = new CastExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 12, ClangParser.RULE_castExpression);\n        let _la;\n        try {\n            this.state = 205;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 9, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 196;\n                        this._errHandler.sync(this);\n                        _la = this._input.LA(1);\n                        if (_la === ClangParser.T__0) {\n                            {\n                                this.state = 195;\n                                this.match(ClangParser.T__0);\n                            }\n                        }\n                        this.state = 198;\n                        this.match(ClangParser.LeftParen);\n                        this.state = 199;\n                        this.typeName();\n                        this.state = 200;\n                        this.match(ClangParser.RightParen);\n                        this.state = 201;\n                        this.castExpression();\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 203;\n                        this.unaryExpression();\n                    }\n                    break;\n                case 3:\n                    this.enterOuterAlt(_localctx, 3);\n                    {\n                        this.state = 204;\n                        this.match(ClangParser.DigitSequence);\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    multiplicativeExpression() {\n        let _localctx = new MultiplicativeExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 14, ClangParser.RULE_multiplicativeExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 207;\n                this.castExpression();\n                this.state = 212;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (((((_la - 36)) & ~0x1F) === 0 && ((1 << (_la - 36)) & ((1 << (ClangParser.Star - 36)) | (1 << (ClangParser.Div - 36)) | (1 << (ClangParser.Mod - 36)))) !== 0)) {\n                    {\n                        {\n                            this.state = 208;\n                            _la = this._input.LA(1);\n                            if (!(((((_la - 36)) & ~0x1F) === 0 && ((1 << (_la - 36)) & ((1 << (ClangParser.Star - 36)) | (1 << (ClangParser.Div - 36)) | (1 << (ClangParser.Mod - 36)))) !== 0))) {\n                                this._errHandler.recoverInline(this);\n                            }\n                            else {\n                                if (this._input.LA(1) === Token_1.Token.EOF) {\n                                    this.matchedEOF = true;\n                                }\n                                this._errHandler.reportMatch(this);\n                                this.consume();\n                            }\n                            this.state = 209;\n                            this.castExpression();\n                        }\n                    }\n                    this.state = 214;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    additiveExpression() {\n        let _localctx = new AdditiveExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 16, ClangParser.RULE_additiveExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 215;\n                this.multiplicativeExpression();\n                this.state = 220;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Plus || _la === ClangParser.Minus) {\n                    {\n                        {\n                            this.state = 216;\n                            _la = this._input.LA(1);\n                            if (!(_la === ClangParser.Plus || _la === ClangParser.Minus)) {\n                                this._errHandler.recoverInline(this);\n                            }\n                            else {\n                                if (this._input.LA(1) === Token_1.Token.EOF) {\n                                    this.matchedEOF = true;\n                                }\n                                this._errHandler.reportMatch(this);\n                                this.consume();\n                            }\n                            this.state = 217;\n                            this.multiplicativeExpression();\n                        }\n                    }\n                    this.state = 222;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    shiftExpression() {\n        let _localctx = new ShiftExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 18, ClangParser.RULE_shiftExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 223;\n                this.additiveExpression();\n                this.state = 228;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.LeftShift || _la === ClangParser.RightShift) {\n                    {\n                        {\n                            this.state = 224;\n                            _la = this._input.LA(1);\n                            if (!(_la === ClangParser.LeftShift || _la === ClangParser.RightShift)) {\n                                this._errHandler.recoverInline(this);\n                            }\n                            else {\n                                if (this._input.LA(1) === Token_1.Token.EOF) {\n                                    this.matchedEOF = true;\n                                }\n                                this._errHandler.reportMatch(this);\n                                this.consume();\n                            }\n                            this.state = 225;\n                            this.additiveExpression();\n                        }\n                    }\n                    this.state = 230;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    relationalExpression() {\n        let _localctx = new RelationalExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 20, ClangParser.RULE_relationalExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 231;\n                this.shiftExpression();\n                this.state = 236;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.Less) | (1 << ClangParser.LessEqual) | (1 << ClangParser.Greater) | (1 << ClangParser.GreaterEqual))) !== 0)) {\n                    {\n                        {\n                            this.state = 232;\n                            _la = this._input.LA(1);\n                            if (!((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.Less) | (1 << ClangParser.LessEqual) | (1 << ClangParser.Greater) | (1 << ClangParser.GreaterEqual))) !== 0))) {\n                                this._errHandler.recoverInline(this);\n                            }\n                            else {\n                                if (this._input.LA(1) === Token_1.Token.EOF) {\n                                    this.matchedEOF = true;\n                                }\n                                this._errHandler.reportMatch(this);\n                                this.consume();\n                            }\n                            this.state = 233;\n                            this.shiftExpression();\n                        }\n                    }\n                    this.state = 238;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    equalityExpression() {\n        let _localctx = new EqualityExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 22, ClangParser.RULE_equalityExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 239;\n                this.relationalExpression();\n                this.state = 244;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Equal || _la === ClangParser.NotEqual) {\n                    {\n                        {\n                            this.state = 240;\n                            _la = this._input.LA(1);\n                            if (!(_la === ClangParser.Equal || _la === ClangParser.NotEqual)) {\n                                this._errHandler.recoverInline(this);\n                            }\n                            else {\n                                if (this._input.LA(1) === Token_1.Token.EOF) {\n                                    this.matchedEOF = true;\n                                }\n                                this._errHandler.reportMatch(this);\n                                this.consume();\n                            }\n                            this.state = 241;\n                            this.relationalExpression();\n                        }\n                    }\n                    this.state = 246;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    andExpression() {\n        let _localctx = new AndExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 24, ClangParser.RULE_andExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 247;\n                this.equalityExpression();\n                this.state = 252;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.And) {\n                    {\n                        {\n                            this.state = 248;\n                            this.match(ClangParser.And);\n                            this.state = 249;\n                            this.equalityExpression();\n                        }\n                    }\n                    this.state = 254;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    exclusiveOrExpression() {\n        let _localctx = new ExclusiveOrExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 26, ClangParser.RULE_exclusiveOrExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 255;\n                this.andExpression();\n                this.state = 260;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Caret) {\n                    {\n                        {\n                            this.state = 256;\n                            this.match(ClangParser.Caret);\n                            this.state = 257;\n                            this.andExpression();\n                        }\n                    }\n                    this.state = 262;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    inclusiveOrExpression() {\n        let _localctx = new InclusiveOrExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 28, ClangParser.RULE_inclusiveOrExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 263;\n                this.exclusiveOrExpression();\n                this.state = 268;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Or) {\n                    {\n                        {\n                            this.state = 264;\n                            this.match(ClangParser.Or);\n                            this.state = 265;\n                            this.exclusiveOrExpression();\n                        }\n                    }\n                    this.state = 270;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    logicalAndExpression() {\n        let _localctx = new LogicalAndExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 30, ClangParser.RULE_logicalAndExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 271;\n                this.inclusiveOrExpression();\n                this.state = 276;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.AndAnd) {\n                    {\n                        {\n                            this.state = 272;\n                            this.match(ClangParser.AndAnd);\n                            this.state = 273;\n                            this.inclusiveOrExpression();\n                        }\n                    }\n                    this.state = 278;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    logicalOrExpression() {\n        let _localctx = new LogicalOrExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 32, ClangParser.RULE_logicalOrExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 279;\n                this.logicalAndExpression();\n                this.state = 284;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.OrOr) {\n                    {\n                        {\n                            this.state = 280;\n                            this.match(ClangParser.OrOr);\n                            this.state = 281;\n                            this.logicalAndExpression();\n                        }\n                    }\n                    this.state = 286;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    conditionalExpression() {\n        let _localctx = new ConditionalExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 34, ClangParser.RULE_conditionalExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 287;\n                this.logicalOrExpression();\n                this.state = 293;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.Question) {\n                    {\n                        this.state = 288;\n                        this.match(ClangParser.Question);\n                        this.state = 289;\n                        this.expression();\n                        this.state = 290;\n                        this.match(ClangParser.Colon);\n                        this.state = 291;\n                        this.conditionalExpression();\n                    }\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    assignmentExpression() {\n        let _localctx = new AssignmentExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 36, ClangParser.RULE_assignmentExpression);\n        try {\n            this.state = 301;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 21, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 295;\n                        this.conditionalExpression();\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 296;\n                        this.unaryExpression();\n                        this.state = 297;\n                        this.assignmentOperator();\n                        this.state = 298;\n                        this.assignmentExpression();\n                    }\n                    break;\n                case 3:\n                    this.enterOuterAlt(_localctx, 3);\n                    {\n                        this.state = 300;\n                        this.match(ClangParser.DigitSequence);\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    assignmentOperator() {\n        let _localctx = new AssignmentOperatorContext(this._ctx, this.state);\n        this.enterRule(_localctx, 38, ClangParser.RULE_assignmentOperator);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 303;\n                _la = this._input.LA(1);\n                if (!(((((_la - 50)) & ~0x1F) === 0 && ((1 << (_la - 50)) & ((1 << (ClangParser.Assign - 50)) | (1 << (ClangParser.StarAssign - 50)) | (1 << (ClangParser.DivAssign - 50)) | (1 << (ClangParser.ModAssign - 50)) | (1 << (ClangParser.PlusAssign - 50)) | (1 << (ClangParser.MinusAssign - 50)) | (1 << (ClangParser.LeftShiftAssign - 50)) | (1 << (ClangParser.RightShiftAssign - 50)) | (1 << (ClangParser.AndAssign - 50)) | (1 << (ClangParser.XorAssign - 50)) | (1 << (ClangParser.OrAssign - 50)))) !== 0))) {\n                    this._errHandler.recoverInline(this);\n                }\n                else {\n                    if (this._input.LA(1) === Token_1.Token.EOF) {\n                        this.matchedEOF = true;\n                    }\n                    this._errHandler.reportMatch(this);\n                    this.consume();\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    expression() {\n        let _localctx = new ExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 40, ClangParser.RULE_expression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 305;\n                this.assignmentExpression();\n                this.state = 310;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Comma) {\n                    {\n                        {\n                            this.state = 306;\n                            this.match(ClangParser.Comma);\n                            this.state = 307;\n                            this.assignmentExpression();\n                        }\n                    }\n                    this.state = 312;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    constantExpression() {\n        let _localctx = new ConstantExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 42, ClangParser.RULE_constantExpression);\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 313;\n                this.conditionalExpression();\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    declaration() {\n        let _localctx = new DeclarationContext(this._ctx, this.state);\n        this.enterRule(_localctx, 44, ClangParser.RULE_declaration);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 315;\n                this.declarationSpecifiers();\n                this.state = 317;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.LeftParen || ((((_la - 36)) & ~0x1F) === 0 && ((1 << (_la - 36)) & ((1 << (ClangParser.Star - 36)) | (1 << (ClangParser.Caret - 36)) | (1 << (ClangParser.Identifier - 36)))) !== 0)) {\n                    {\n                        this.state = 316;\n                        this.initDeclaratorList();\n                    }\n                }\n                this.state = 319;\n                this.match(ClangParser.Semi);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    declarationSpecifiers() {\n        let _localctx = new DeclarationSpecifiersContext(this._ctx, this.state);\n        this.enterRule(_localctx, 46, ClangParser.RULE_declarationSpecifiers);\n        try {\n            let _alt;\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 322;\n                this._errHandler.sync(this);\n                _alt = 1;\n                do {\n                    switch (_alt) {\n                        case 1:\n                            {\n                                {\n                                    this.state = 321;\n                                    this.declarationSpecifier();\n                                }\n                            }\n                            break;\n                        default:\n                            throw new NoViableAltException_1.NoViableAltException(this);\n                    }\n                    this.state = 324;\n                    this._errHandler.sync(this);\n                    _alt = this.interpreter.adaptivePredict(this._input, 24, this._ctx);\n                } while (_alt !== 2 && _alt !== ATN_1.ATN.INVALID_ALT_NUMBER);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    declarationSpecifiers2() {\n        let _localctx = new DeclarationSpecifiers2Context(this._ctx, this.state);\n        this.enterRule(_localctx, 48, ClangParser.RULE_declarationSpecifiers2);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 327;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                do {\n                    {\n                        {\n                            this.state = 326;\n                            this.declarationSpecifier();\n                        }\n                    }\n                    this.state = 329;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                } while ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void))) !== 0) || _la === ClangParser.Identifier);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    declarationSpecifier() {\n        let _localctx = new DeclarationSpecifierContext(this._ctx, this.state);\n        this.enterRule(_localctx, 50, ClangParser.RULE_declarationSpecifier);\n        try {\n            this.state = 334;\n            this._errHandler.sync(this);\n            switch (this._input.LA(1)) {\n                case ClangParser.Char:\n                case ClangParser.Float:\n                case ClangParser.Int:\n                case ClangParser.Signed:\n                case ClangParser.Struct:\n                case ClangParser.Unsigned:\n                case ClangParser.Void:\n                case ClangParser.Identifier:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 331;\n                        this.typeSpecifier();\n                    }\n                    break;\n                case ClangParser.Const:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 332;\n                        this.typeQualifier();\n                    }\n                    break;\n                case ClangParser.T__1:\n                    this.enterOuterAlt(_localctx, 3);\n                    {\n                        this.state = 333;\n                        this.functionSpecifier();\n                    }\n                    break;\n                default:\n                    throw new NoViableAltException_1.NoViableAltException(this);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    initDeclaratorList() {\n        let _localctx = new InitDeclaratorListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 52, ClangParser.RULE_initDeclaratorList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 336;\n                this.initDeclarator();\n                this.state = 341;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Comma) {\n                    {\n                        {\n                            this.state = 337;\n                            this.match(ClangParser.Comma);\n                            this.state = 338;\n                            this.initDeclarator();\n                        }\n                    }\n                    this.state = 343;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    initDeclarator() {\n        let _localctx = new InitDeclaratorContext(this._ctx, this.state);\n        this.enterRule(_localctx, 54, ClangParser.RULE_initDeclarator);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 344;\n                this.declarator();\n                this.state = 347;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.Assign) {\n                    {\n                        this.state = 345;\n                        this.match(ClangParser.Assign);\n                        this.state = 346;\n                        this.initializer();\n                    }\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    typeSpecifier() {\n        let _localctx = new TypeSpecifierContext(this._ctx, this.state);\n        this.enterRule(_localctx, 56, ClangParser.RULE_typeSpecifier);\n        let _la;\n        try {\n            this.state = 352;\n            this._errHandler.sync(this);\n            switch (this._input.LA(1)) {\n                case ClangParser.Char:\n                case ClangParser.Float:\n                case ClangParser.Int:\n                case ClangParser.Signed:\n                case ClangParser.Unsigned:\n                case ClangParser.Void:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 349;\n                        _la = this._input.LA(1);\n                        if (!((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.Char) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void))) !== 0))) {\n                            this._errHandler.recoverInline(this);\n                        }\n                        else {\n                            if (this._input.LA(1) === Token_1.Token.EOF) {\n                                this.matchedEOF = true;\n                            }\n                            this._errHandler.reportMatch(this);\n                            this.consume();\n                        }\n                    }\n                    break;\n                case ClangParser.Struct:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 350;\n                        this.structSpecifier();\n                    }\n                    break;\n                case ClangParser.Identifier:\n                    this.enterOuterAlt(_localctx, 3);\n                    {\n                        this.state = 351;\n                        this.typedefName();\n                    }\n                    break;\n                default:\n                    throw new NoViableAltException_1.NoViableAltException(this);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    structSpecifier() {\n        let _localctx = new StructSpecifierContext(this._ctx, this.state);\n        this.enterRule(_localctx, 58, ClangParser.RULE_structSpecifier);\n        let _la;\n        try {\n            this.state = 364;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 31, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 354;\n                        this.match(ClangParser.Struct);\n                        this.state = 356;\n                        this._errHandler.sync(this);\n                        _la = this._input.LA(1);\n                        if (_la === ClangParser.Identifier) {\n                            {\n                                this.state = 355;\n                                this.match(ClangParser.Identifier);\n                            }\n                        }\n                        this.state = 358;\n                        this.match(ClangParser.LeftBrace);\n                        this.state = 359;\n                        this.structDeclarationList();\n                        this.state = 360;\n                        this.match(ClangParser.RightBrace);\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 362;\n                        this.match(ClangParser.Struct);\n                        this.state = 363;\n                        this.match(ClangParser.Identifier);\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    structDeclarationList() {\n        let _localctx = new StructDeclarationListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 60, ClangParser.RULE_structDeclarationList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 367;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                do {\n                    {\n                        {\n                            this.state = 366;\n                            this.structDeclaration();\n                        }\n                    }\n                    this.state = 369;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                } while ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void))) !== 0) || _la === ClangParser.Identifier);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    structDeclaration() {\n        let _localctx = new StructDeclarationContext(this._ctx, this.state);\n        this.enterRule(_localctx, 62, ClangParser.RULE_structDeclaration);\n        try {\n            this.state = 378;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 33, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 371;\n                        this.specifierQualifierList();\n                        this.state = 372;\n                        this.structDeclaratorList();\n                        this.state = 373;\n                        this.match(ClangParser.Semi);\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 375;\n                        this.specifierQualifierList();\n                        this.state = 376;\n                        this.match(ClangParser.Semi);\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    specifierQualifierList() {\n        let _localctx = new SpecifierQualifierListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 64, ClangParser.RULE_specifierQualifierList);\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 382;\n                this._errHandler.sync(this);\n                switch (this._input.LA(1)) {\n                    case ClangParser.Char:\n                    case ClangParser.Float:\n                    case ClangParser.Int:\n                    case ClangParser.Signed:\n                    case ClangParser.Struct:\n                    case ClangParser.Unsigned:\n                    case ClangParser.Void:\n                    case ClangParser.Identifier:\n                        {\n                            this.state = 380;\n                            this.typeSpecifier();\n                        }\n                        break;\n                    case ClangParser.Const:\n                        {\n                            this.state = 381;\n                            this.typeQualifier();\n                        }\n                        break;\n                    default:\n                        throw new NoViableAltException_1.NoViableAltException(this);\n                }\n                this.state = 385;\n                this._errHandler.sync(this);\n                switch (this.interpreter.adaptivePredict(this._input, 35, this._ctx)) {\n                    case 1:\n                        {\n                            this.state = 384;\n                            this.specifierQualifierList();\n                        }\n                        break;\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    structDeclaratorList() {\n        let _localctx = new StructDeclaratorListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 66, ClangParser.RULE_structDeclaratorList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 387;\n                this.structDeclarator();\n                this.state = 392;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Comma) {\n                    {\n                        {\n                            this.state = 388;\n                            this.match(ClangParser.Comma);\n                            this.state = 389;\n                            this.structDeclarator();\n                        }\n                    }\n                    this.state = 394;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    structDeclarator() {\n        let _localctx = new StructDeclaratorContext(this._ctx, this.state);\n        this.enterRule(_localctx, 68, ClangParser.RULE_structDeclarator);\n        let _la;\n        try {\n            this.state = 401;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 38, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 395;\n                        this.declarator();\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 397;\n                        this._errHandler.sync(this);\n                        _la = this._input.LA(1);\n                        if (_la === ClangParser.LeftParen || ((((_la - 36)) & ~0x1F) === 0 && ((1 << (_la - 36)) & ((1 << (ClangParser.Star - 36)) | (1 << (ClangParser.Caret - 36)) | (1 << (ClangParser.Identifier - 36)))) !== 0)) {\n                            {\n                                this.state = 396;\n                                this.declarator();\n                            }\n                        }\n                        this.state = 399;\n                        this.match(ClangParser.Colon);\n                        this.state = 400;\n                        this.constantExpression();\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    typeQualifier() {\n        let _localctx = new TypeQualifierContext(this._ctx, this.state);\n        this.enterRule(_localctx, 70, ClangParser.RULE_typeQualifier);\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 403;\n                this.match(ClangParser.Const);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    functionSpecifier() {\n        let _localctx = new FunctionSpecifierContext(this._ctx, this.state);\n        this.enterRule(_localctx, 72, ClangParser.RULE_functionSpecifier);\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                {\n                    this.state = 405;\n                    this.match(ClangParser.T__1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    declarator() {\n        let _localctx = new DeclaratorContext(this._ctx, this.state);\n        this.enterRule(_localctx, 74, ClangParser.RULE_declarator);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 408;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.Star || _la === ClangParser.Caret) {\n                    {\n                        this.state = 407;\n                        this.pointer();\n                    }\n                }\n                this.state = 410;\n                this.directDeclarator(0);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    directDeclarator(_p) {\n        if (_p === undefined) {\n            _p = 0;\n        }\n        let _parentctx = this._ctx;\n        let _parentState = this.state;\n        let _localctx = new DirectDeclaratorContext(this._ctx, _parentState);\n        let _prevctx = _localctx;\n        let _startState = 76;\n        this.enterRecursionRule(_localctx, 76, ClangParser.RULE_directDeclarator, _p);\n        let _la;\n        try {\n            let _alt;\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 421;\n                this._errHandler.sync(this);\n                switch (this.interpreter.adaptivePredict(this._input, 40, this._ctx)) {\n                    case 1:\n                        {\n                            this.state = 413;\n                            this.match(ClangParser.Identifier);\n                        }\n                        break;\n                    case 2:\n                        {\n                            this.state = 414;\n                            this.match(ClangParser.LeftParen);\n                            this.state = 415;\n                            this.declarator();\n                            this.state = 416;\n                            this.match(ClangParser.RightParen);\n                        }\n                        break;\n                    case 3:\n                        {\n                            this.state = 418;\n                            this.match(ClangParser.Identifier);\n                            this.state = 419;\n                            this.match(ClangParser.Colon);\n                            this.state = 420;\n                            this.match(ClangParser.DigitSequence);\n                        }\n                        break;\n                }\n                this._ctx._stop = this._input.tryLT(-1);\n                this.state = 452;\n                this._errHandler.sync(this);\n                _alt = this.interpreter.adaptivePredict(this._input, 46, this._ctx);\n                while (_alt !== 2 && _alt !== ATN_1.ATN.INVALID_ALT_NUMBER) {\n                    if (_alt === 1) {\n                        if (this._parseListeners != null) {\n                            this.triggerExitRuleEvent();\n                        }\n                        _prevctx = _localctx;\n                        {\n                            this.state = 450;\n                            this._errHandler.sync(this);\n                            switch (this.interpreter.adaptivePredict(this._input, 45, this._ctx)) {\n                                case 1:\n                                    {\n                                        _localctx = new DirectDeclaratorContext(_parentctx, _parentState);\n                                        this.pushNewRecursionContext(_localctx, _startState, ClangParser.RULE_directDeclarator);\n                                        this.state = 423;\n                                        if (!(this.precpred(this._ctx, 5))) {\n                                            throw this.createFailedPredicateException(\"this.precpred(this._ctx, 5)\");\n                                        }\n                                        this.state = 424;\n                                        this.match(ClangParser.LeftBracket);\n                                        this.state = 426;\n                                        this._errHandler.sync(this);\n                                        _la = this._input.LA(1);\n                                        if (_la === ClangParser.Const) {\n                                            {\n                                                this.state = 425;\n                                                this.typeQualifierList();\n                                            }\n                                        }\n                                        this.state = 429;\n                                        this._errHandler.sync(this);\n                                        _la = this._input.LA(1);\n                                        if (_la === ClangParser.T__0 || _la === ClangParser.LeftParen || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                                            {\n                                                this.state = 428;\n                                                this.assignmentExpression();\n                                            }\n                                        }\n                                        this.state = 431;\n                                        this.match(ClangParser.RightBracket);\n                                    }\n                                    break;\n                                case 2:\n                                    {\n                                        _localctx = new DirectDeclaratorContext(_parentctx, _parentState);\n                                        this.pushNewRecursionContext(_localctx, _startState, ClangParser.RULE_directDeclarator);\n                                        this.state = 432;\n                                        if (!(this.precpred(this._ctx, 4))) {\n                                            throw this.createFailedPredicateException(\"this.precpred(this._ctx, 4)\");\n                                        }\n                                        this.state = 433;\n                                        this.match(ClangParser.LeftBracket);\n                                        this.state = 435;\n                                        this._errHandler.sync(this);\n                                        _la = this._input.LA(1);\n                                        if (_la === ClangParser.Const) {\n                                            {\n                                                this.state = 434;\n                                                this.typeQualifierList();\n                                            }\n                                        }\n                                        this.state = 437;\n                                        this.match(ClangParser.Star);\n                                        this.state = 438;\n                                        this.match(ClangParser.RightBracket);\n                                    }\n                                    break;\n                                case 3:\n                                    {\n                                        _localctx = new DirectDeclaratorContext(_parentctx, _parentState);\n                                        this.pushNewRecursionContext(_localctx, _startState, ClangParser.RULE_directDeclarator);\n                                        this.state = 439;\n                                        if (!(this.precpred(this._ctx, 3))) {\n                                            throw this.createFailedPredicateException(\"this.precpred(this._ctx, 3)\");\n                                        }\n                                        this.state = 440;\n                                        this.match(ClangParser.LeftParen);\n                                        this.state = 441;\n                                        this.parameterTypeList();\n                                        this.state = 442;\n                                        this.match(ClangParser.RightParen);\n                                    }\n                                    break;\n                                case 4:\n                                    {\n                                        _localctx = new DirectDeclaratorContext(_parentctx, _parentState);\n                                        this.pushNewRecursionContext(_localctx, _startState, ClangParser.RULE_directDeclarator);\n                                        this.state = 444;\n                                        if (!(this.precpred(this._ctx, 2))) {\n                                            throw this.createFailedPredicateException(\"this.precpred(this._ctx, 2)\");\n                                        }\n                                        this.state = 445;\n                                        this.match(ClangParser.LeftParen);\n                                        this.state = 447;\n                                        this._errHandler.sync(this);\n                                        _la = this._input.LA(1);\n                                        if (_la === ClangParser.Identifier) {\n                                            {\n                                                this.state = 446;\n                                                this.identifierList();\n                                            }\n                                        }\n                                        this.state = 449;\n                                        this.match(ClangParser.RightParen);\n                                    }\n                                    break;\n                            }\n                        }\n                    }\n                    this.state = 454;\n                    this._errHandler.sync(this);\n                    _alt = this.interpreter.adaptivePredict(this._input, 46, this._ctx);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.unrollRecursionContexts(_parentctx);\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    nestedParenthesesBlock() {\n        let _localctx = new NestedParenthesesBlockContext(this._ctx, this.state);\n        this.enterRule(_localctx, 78, ClangParser.RULE_nestedParenthesesBlock);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 462;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__0) | (1 << ClangParser.T__1) | (1 << ClangParser.Break) | (1 << ClangParser.Char) | (1 << ClangParser.Continue) | (1 << ClangParser.Const) | (1 << ClangParser.Do) | (1 << ClangParser.Else) | (1 << ClangParser.Float) | (1 << ClangParser.For) | (1 << ClangParser.If) | (1 << ClangParser.Int) | (1 << ClangParser.Long) | (1 << ClangParser.Return) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void) | (1 << ClangParser.While) | (1 << ClangParser.LeftParen) | (1 << ClangParser.LeftBracket) | (1 << ClangParser.RightBracket) | (1 << ClangParser.LeftBrace) | (1 << ClangParser.RightBrace) | (1 << ClangParser.Less) | (1 << ClangParser.LessEqual) | (1 << ClangParser.Greater) | (1 << ClangParser.GreaterEqual) | (1 << ClangParser.LeftShift) | (1 << ClangParser.RightShift))) !== 0) || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.Div - 32)) | (1 << (ClangParser.Mod - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Or - 32)) | (1 << (ClangParser.AndAnd - 32)) | (1 << (ClangParser.OrOr - 32)) | (1 << (ClangParser.Caret - 32)) | (1 << (ClangParser.Not - 32)) | (1 << (ClangParser.Tilde - 32)) | (1 << (ClangParser.Question - 32)) | (1 << (ClangParser.Colon - 32)) | (1 << (ClangParser.Semi - 32)) | (1 << (ClangParser.Comma - 32)) | (1 << (ClangParser.Assign - 32)) | (1 << (ClangParser.StarAssign - 32)) | (1 << (ClangParser.DivAssign - 32)) | (1 << (ClangParser.ModAssign - 32)) | (1 << (ClangParser.PlusAssign - 32)) | (1 << (ClangParser.MinusAssign - 32)) | (1 << (ClangParser.LeftShiftAssign - 32)) | (1 << (ClangParser.RightShiftAssign - 32)) | (1 << (ClangParser.AndAssign - 32)) | (1 << (ClangParser.XorAssign - 32)) | (1 << (ClangParser.OrAssign - 32)) | (1 << (ClangParser.Equal - 32)) | (1 << (ClangParser.NotEqual - 32)) | (1 << (ClangParser.Arrow - 32)))) !== 0) || ((((_la - 64)) & ~0x1F) === 0 && ((1 << (_la - 64)) & ((1 << (ClangParser.Dot - 64)) | (1 << (ClangParser.Identifier - 64)) | (1 << (ClangParser.Constant - 64)) | (1 << (ClangParser.DigitSequence - 64)) | (1 << (ClangParser.StringLiteral - 64)) | (1 << (ClangParser.Whitespace - 64)) | (1 << (ClangParser.Newline - 64)) | (1 << (ClangParser.BlockComment - 64)) | (1 << (ClangParser.LineComment - 64)))) !== 0)) {\n                    {\n                        this.state = 460;\n                        this._errHandler.sync(this);\n                        switch (this._input.LA(1)) {\n                            case ClangParser.T__0:\n                            case ClangParser.T__1:\n                            case ClangParser.Break:\n                            case ClangParser.Char:\n                            case ClangParser.Continue:\n                            case ClangParser.Const:\n                            case ClangParser.Do:\n                            case ClangParser.Else:\n                            case ClangParser.Float:\n                            case ClangParser.For:\n                            case ClangParser.If:\n                            case ClangParser.Int:\n                            case ClangParser.Long:\n                            case ClangParser.Return:\n                            case ClangParser.Signed:\n                            case ClangParser.Struct:\n                            case ClangParser.Unsigned:\n                            case ClangParser.Void:\n                            case ClangParser.While:\n                            case ClangParser.LeftBracket:\n                            case ClangParser.RightBracket:\n                            case ClangParser.LeftBrace:\n                            case ClangParser.RightBrace:\n                            case ClangParser.Less:\n                            case ClangParser.LessEqual:\n                            case ClangParser.Greater:\n                            case ClangParser.GreaterEqual:\n                            case ClangParser.LeftShift:\n                            case ClangParser.RightShift:\n                            case ClangParser.Plus:\n                            case ClangParser.PlusPlus:\n                            case ClangParser.Minus:\n                            case ClangParser.MinusMinus:\n                            case ClangParser.Star:\n                            case ClangParser.Div:\n                            case ClangParser.Mod:\n                            case ClangParser.And:\n                            case ClangParser.Or:\n                            case ClangParser.AndAnd:\n                            case ClangParser.OrOr:\n                            case ClangParser.Caret:\n                            case ClangParser.Not:\n                            case ClangParser.Tilde:\n                            case ClangParser.Question:\n                            case ClangParser.Colon:\n                            case ClangParser.Semi:\n                            case ClangParser.Comma:\n                            case ClangParser.Assign:\n                            case ClangParser.StarAssign:\n                            case ClangParser.DivAssign:\n                            case ClangParser.ModAssign:\n                            case ClangParser.PlusAssign:\n                            case ClangParser.MinusAssign:\n                            case ClangParser.LeftShiftAssign:\n                            case ClangParser.RightShiftAssign:\n                            case ClangParser.AndAssign:\n                            case ClangParser.XorAssign:\n                            case ClangParser.OrAssign:\n                            case ClangParser.Equal:\n                            case ClangParser.NotEqual:\n                            case ClangParser.Arrow:\n                            case ClangParser.Dot:\n                            case ClangParser.Identifier:\n                            case ClangParser.Constant:\n                            case ClangParser.DigitSequence:\n                            case ClangParser.StringLiteral:\n                            case ClangParser.Whitespace:\n                            case ClangParser.Newline:\n                            case ClangParser.BlockComment:\n                            case ClangParser.LineComment:\n                                {\n                                    this.state = 455;\n                                    _la = this._input.LA(1);\n                                    if (_la <= 0 || (_la === ClangParser.LeftParen || _la === ClangParser.RightParen)) {\n                                        this._errHandler.recoverInline(this);\n                                    }\n                                    else {\n                                        if (this._input.LA(1) === Token_1.Token.EOF) {\n                                            this.matchedEOF = true;\n                                        }\n                                        this._errHandler.reportMatch(this);\n                                        this.consume();\n                                    }\n                                }\n                                break;\n                            case ClangParser.LeftParen:\n                                {\n                                    this.state = 456;\n                                    this.match(ClangParser.LeftParen);\n                                    this.state = 457;\n                                    this.nestedParenthesesBlock();\n                                    this.state = 458;\n                                    this.match(ClangParser.RightParen);\n                                }\n                                break;\n                            default:\n                                throw new NoViableAltException_1.NoViableAltException(this);\n                        }\n                    }\n                    this.state = 464;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    pointer() {\n        let _localctx = new PointerContext(this._ctx, this.state);\n        this.enterRule(_localctx, 80, ClangParser.RULE_pointer);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 469;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                do {\n                    {\n                        {\n                            this.state = 465;\n                            _la = this._input.LA(1);\n                            if (!(_la === ClangParser.Star || _la === ClangParser.Caret)) {\n                                this._errHandler.recoverInline(this);\n                            }\n                            else {\n                                if (this._input.LA(1) === Token_1.Token.EOF) {\n                                    this.matchedEOF = true;\n                                }\n                                this._errHandler.reportMatch(this);\n                                this.consume();\n                            }\n                            this.state = 467;\n                            this._errHandler.sync(this);\n                            _la = this._input.LA(1);\n                            if (_la === ClangParser.Const) {\n                                {\n                                    this.state = 466;\n                                    this.typeQualifierList();\n                                }\n                            }\n                        }\n                    }\n                    this.state = 471;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                } while (_la === ClangParser.Star || _la === ClangParser.Caret);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    typeQualifierList() {\n        let _localctx = new TypeQualifierListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 82, ClangParser.RULE_typeQualifierList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 474;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                do {\n                    {\n                        {\n                            this.state = 473;\n                            this.typeQualifier();\n                        }\n                    }\n                    this.state = 476;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                } while (_la === ClangParser.Const);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    parameterTypeList() {\n        let _localctx = new ParameterTypeListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 84, ClangParser.RULE_parameterTypeList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 478;\n                this.parameterList();\n                this.state = 480;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.Comma) {\n                    {\n                        this.state = 479;\n                        this.match(ClangParser.Comma);\n                    }\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    parameterList() {\n        let _localctx = new ParameterListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 86, ClangParser.RULE_parameterList);\n        try {\n            let _alt;\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 482;\n                this.parameterDeclaration();\n                this.state = 487;\n                this._errHandler.sync(this);\n                _alt = this.interpreter.adaptivePredict(this._input, 53, this._ctx);\n                while (_alt !== 2 && _alt !== ATN_1.ATN.INVALID_ALT_NUMBER) {\n                    if (_alt === 1) {\n                        {\n                            {\n                                this.state = 483;\n                                this.match(ClangParser.Comma);\n                                this.state = 484;\n                                this.parameterDeclaration();\n                            }\n                        }\n                    }\n                    this.state = 489;\n                    this._errHandler.sync(this);\n                    _alt = this.interpreter.adaptivePredict(this._input, 53, this._ctx);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    parameterDeclaration() {\n        let _localctx = new ParameterDeclarationContext(this._ctx, this.state);\n        this.enterRule(_localctx, 88, ClangParser.RULE_parameterDeclaration);\n        let _la;\n        try {\n            this.state = 497;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 55, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 490;\n                        this.declarationSpecifiers();\n                        this.state = 491;\n                        this.declarator();\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 493;\n                        this.declarationSpecifiers2();\n                        this.state = 495;\n                        this._errHandler.sync(this);\n                        _la = this._input.LA(1);\n                        if (((((_la - 20)) & ~0x1F) === 0 && ((1 << (_la - 20)) & ((1 << (ClangParser.LeftParen - 20)) | (1 << (ClangParser.LeftBracket - 20)) | (1 << (ClangParser.Star - 20)) | (1 << (ClangParser.Caret - 20)))) !== 0)) {\n                            {\n                                this.state = 494;\n                                this.abstractDeclarator();\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    identifierList() {\n        let _localctx = new IdentifierListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 90, ClangParser.RULE_identifierList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 499;\n                this.match(ClangParser.Identifier);\n                this.state = 504;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Comma) {\n                    {\n                        {\n                            this.state = 500;\n                            this.match(ClangParser.Comma);\n                            this.state = 501;\n                            this.match(ClangParser.Identifier);\n                        }\n                    }\n                    this.state = 506;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    typeName() {\n        let _localctx = new TypeNameContext(this._ctx, this.state);\n        this.enterRule(_localctx, 92, ClangParser.RULE_typeName);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 507;\n                this.specifierQualifierList();\n                this.state = 509;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (((((_la - 20)) & ~0x1F) === 0 && ((1 << (_la - 20)) & ((1 << (ClangParser.LeftParen - 20)) | (1 << (ClangParser.LeftBracket - 20)) | (1 << (ClangParser.Star - 20)) | (1 << (ClangParser.Caret - 20)))) !== 0)) {\n                    {\n                        this.state = 508;\n                        this.abstractDeclarator();\n                    }\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    abstractDeclarator() {\n        let _localctx = new AbstractDeclaratorContext(this._ctx, this.state);\n        this.enterRule(_localctx, 94, ClangParser.RULE_abstractDeclarator);\n        let _la;\n        try {\n            this.state = 516;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 59, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 511;\n                        this.pointer();\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 513;\n                        this._errHandler.sync(this);\n                        _la = this._input.LA(1);\n                        if (_la === ClangParser.Star || _la === ClangParser.Caret) {\n                            {\n                                this.state = 512;\n                                this.pointer();\n                            }\n                        }\n                        this.state = 515;\n                        this.directAbstractDeclarator(0);\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    directAbstractDeclarator(_p) {\n        if (_p === undefined) {\n            _p = 0;\n        }\n        let _parentctx = this._ctx;\n        let _parentState = this.state;\n        let _localctx = new DirectAbstractDeclaratorContext(this._ctx, _parentState);\n        let _prevctx = _localctx;\n        let _startState = 96;\n        this.enterRecursionRule(_localctx, 96, ClangParser.RULE_directAbstractDeclarator, _p);\n        let _la;\n        try {\n            let _alt;\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 539;\n                this._errHandler.sync(this);\n                switch (this.interpreter.adaptivePredict(this._input, 63, this._ctx)) {\n                    case 1:\n                        {\n                            this.state = 519;\n                            this.match(ClangParser.LeftParen);\n                            this.state = 520;\n                            this.abstractDeclarator();\n                            this.state = 521;\n                            this.match(ClangParser.RightParen);\n                        }\n                        break;\n                    case 2:\n                        {\n                            this.state = 523;\n                            this.match(ClangParser.LeftBracket);\n                            this.state = 525;\n                            this._errHandler.sync(this);\n                            _la = this._input.LA(1);\n                            if (_la === ClangParser.Const) {\n                                {\n                                    this.state = 524;\n                                    this.typeQualifierList();\n                                }\n                            }\n                            this.state = 528;\n                            this._errHandler.sync(this);\n                            _la = this._input.LA(1);\n                            if (_la === ClangParser.T__0 || _la === ClangParser.LeftParen || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                                {\n                                    this.state = 527;\n                                    this.assignmentExpression();\n                                }\n                            }\n                            this.state = 530;\n                            this.match(ClangParser.RightBracket);\n                        }\n                        break;\n                    case 3:\n                        {\n                            this.state = 531;\n                            this.match(ClangParser.LeftBracket);\n                            this.state = 532;\n                            this.match(ClangParser.Star);\n                            this.state = 533;\n                            this.match(ClangParser.RightBracket);\n                        }\n                        break;\n                    case 4:\n                        {\n                            this.state = 534;\n                            this.match(ClangParser.LeftParen);\n                            this.state = 536;\n                            this._errHandler.sync(this);\n                            _la = this._input.LA(1);\n                            if ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void))) !== 0) || _la === ClangParser.Identifier) {\n                                {\n                                    this.state = 535;\n                                    this.parameterTypeList();\n                                }\n                            }\n                            this.state = 538;\n                            this.match(ClangParser.RightParen);\n                        }\n                        break;\n                }\n                this._ctx._stop = this._input.tryLT(-1);\n                this.state = 562;\n                this._errHandler.sync(this);\n                _alt = this.interpreter.adaptivePredict(this._input, 68, this._ctx);\n                while (_alt !== 2 && _alt !== ATN_1.ATN.INVALID_ALT_NUMBER) {\n                    if (_alt === 1) {\n                        if (this._parseListeners != null) {\n                            this.triggerExitRuleEvent();\n                        }\n                        _prevctx = _localctx;\n                        {\n                            this.state = 560;\n                            this._errHandler.sync(this);\n                            switch (this.interpreter.adaptivePredict(this._input, 67, this._ctx)) {\n                                case 1:\n                                    {\n                                        _localctx = new DirectAbstractDeclaratorContext(_parentctx, _parentState);\n                                        this.pushNewRecursionContext(_localctx, _startState, ClangParser.RULE_directAbstractDeclarator);\n                                        this.state = 541;\n                                        if (!(this.precpred(this._ctx, 3))) {\n                                            throw this.createFailedPredicateException(\"this.precpred(this._ctx, 3)\");\n                                        }\n                                        this.state = 542;\n                                        this.match(ClangParser.LeftBracket);\n                                        this.state = 544;\n                                        this._errHandler.sync(this);\n                                        _la = this._input.LA(1);\n                                        if (_la === ClangParser.Const) {\n                                            {\n                                                this.state = 543;\n                                                this.typeQualifierList();\n                                            }\n                                        }\n                                        this.state = 547;\n                                        this._errHandler.sync(this);\n                                        _la = this._input.LA(1);\n                                        if (_la === ClangParser.T__0 || _la === ClangParser.LeftParen || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                                            {\n                                                this.state = 546;\n                                                this.assignmentExpression();\n                                            }\n                                        }\n                                        this.state = 549;\n                                        this.match(ClangParser.RightBracket);\n                                    }\n                                    break;\n                                case 2:\n                                    {\n                                        _localctx = new DirectAbstractDeclaratorContext(_parentctx, _parentState);\n                                        this.pushNewRecursionContext(_localctx, _startState, ClangParser.RULE_directAbstractDeclarator);\n                                        this.state = 550;\n                                        if (!(this.precpred(this._ctx, 2))) {\n                                            throw this.createFailedPredicateException(\"this.precpred(this._ctx, 2)\");\n                                        }\n                                        this.state = 551;\n                                        this.match(ClangParser.LeftBracket);\n                                        this.state = 552;\n                                        this.match(ClangParser.Star);\n                                        this.state = 553;\n                                        this.match(ClangParser.RightBracket);\n                                    }\n                                    break;\n                                case 3:\n                                    {\n                                        _localctx = new DirectAbstractDeclaratorContext(_parentctx, _parentState);\n                                        this.pushNewRecursionContext(_localctx, _startState, ClangParser.RULE_directAbstractDeclarator);\n                                        this.state = 554;\n                                        if (!(this.precpred(this._ctx, 1))) {\n                                            throw this.createFailedPredicateException(\"this.precpred(this._ctx, 1)\");\n                                        }\n                                        this.state = 555;\n                                        this.match(ClangParser.LeftParen);\n                                        this.state = 557;\n                                        this._errHandler.sync(this);\n                                        _la = this._input.LA(1);\n                                        if ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void))) !== 0) || _la === ClangParser.Identifier) {\n                                            {\n                                                this.state = 556;\n                                                this.parameterTypeList();\n                                            }\n                                        }\n                                        this.state = 559;\n                                        this.match(ClangParser.RightParen);\n                                    }\n                                    break;\n                            }\n                        }\n                    }\n                    this.state = 564;\n                    this._errHandler.sync(this);\n                    _alt = this.interpreter.adaptivePredict(this._input, 68, this._ctx);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.unrollRecursionContexts(_parentctx);\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    typedefName() {\n        let _localctx = new TypedefNameContext(this._ctx, this.state);\n        this.enterRule(_localctx, 98, ClangParser.RULE_typedefName);\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 565;\n                this.match(ClangParser.Identifier);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    initializer() {\n        let _localctx = new InitializerContext(this._ctx, this.state);\n        this.enterRule(_localctx, 100, ClangParser.RULE_initializer);\n        let _la;\n        try {\n            this.state = 575;\n            this._errHandler.sync(this);\n            switch (this._input.LA(1)) {\n                case ClangParser.T__0:\n                case ClangParser.LeftParen:\n                case ClangParser.Plus:\n                case ClangParser.PlusPlus:\n                case ClangParser.Minus:\n                case ClangParser.MinusMinus:\n                case ClangParser.Star:\n                case ClangParser.And:\n                case ClangParser.Not:\n                case ClangParser.Identifier:\n                case ClangParser.Constant:\n                case ClangParser.DigitSequence:\n                case ClangParser.StringLiteral:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 567;\n                        this.assignmentExpression();\n                    }\n                    break;\n                case ClangParser.LeftBrace:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 568;\n                        this.match(ClangParser.LeftBrace);\n                        this.state = 569;\n                        this.initializerList();\n                        this.state = 571;\n                        this._errHandler.sync(this);\n                        _la = this._input.LA(1);\n                        if (_la === ClangParser.Comma) {\n                            {\n                                this.state = 570;\n                                this.match(ClangParser.Comma);\n                            }\n                        }\n                        this.state = 573;\n                        this.match(ClangParser.RightBrace);\n                    }\n                    break;\n                default:\n                    throw new NoViableAltException_1.NoViableAltException(this);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    initializerList() {\n        let _localctx = new InitializerListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 102, ClangParser.RULE_initializerList);\n        let _la;\n        try {\n            let _alt;\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 578;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.LeftBracket || _la === ClangParser.Dot) {\n                    {\n                        this.state = 577;\n                        this.designation();\n                    }\n                }\n                this.state = 580;\n                this.initializer();\n                this.state = 588;\n                this._errHandler.sync(this);\n                _alt = this.interpreter.adaptivePredict(this._input, 73, this._ctx);\n                while (_alt !== 2 && _alt !== ATN_1.ATN.INVALID_ALT_NUMBER) {\n                    if (_alt === 1) {\n                        {\n                            {\n                                this.state = 581;\n                                this.match(ClangParser.Comma);\n                                this.state = 583;\n                                this._errHandler.sync(this);\n                                _la = this._input.LA(1);\n                                if (_la === ClangParser.LeftBracket || _la === ClangParser.Dot) {\n                                    {\n                                        this.state = 582;\n                                        this.designation();\n                                    }\n                                }\n                                this.state = 585;\n                                this.initializer();\n                            }\n                        }\n                    }\n                    this.state = 590;\n                    this._errHandler.sync(this);\n                    _alt = this.interpreter.adaptivePredict(this._input, 73, this._ctx);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    designation() {\n        let _localctx = new DesignationContext(this._ctx, this.state);\n        this.enterRule(_localctx, 104, ClangParser.RULE_designation);\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 591;\n                this.designatorList();\n                this.state = 592;\n                this.match(ClangParser.Assign);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    designatorList() {\n        let _localctx = new DesignatorListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 106, ClangParser.RULE_designatorList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 595;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                do {\n                    {\n                        {\n                            this.state = 594;\n                            this.designator();\n                        }\n                    }\n                    this.state = 597;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                } while (_la === ClangParser.LeftBracket || _la === ClangParser.Dot);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    designator() {\n        let _localctx = new DesignatorContext(this._ctx, this.state);\n        this.enterRule(_localctx, 108, ClangParser.RULE_designator);\n        try {\n            this.state = 605;\n            this._errHandler.sync(this);\n            switch (this._input.LA(1)) {\n                case ClangParser.LeftBracket:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 599;\n                        this.match(ClangParser.LeftBracket);\n                        this.state = 600;\n                        this.constantExpression();\n                        this.state = 601;\n                        this.match(ClangParser.RightBracket);\n                    }\n                    break;\n                case ClangParser.Dot:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 603;\n                        this.match(ClangParser.Dot);\n                        this.state = 604;\n                        this.match(ClangParser.Identifier);\n                    }\n                    break;\n                default:\n                    throw new NoViableAltException_1.NoViableAltException(this);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    statement() {\n        let _localctx = new StatementContext(this._ctx, this.state);\n        this.enterRule(_localctx, 110, ClangParser.RULE_statement);\n        try {\n            this.state = 611;\n            this._errHandler.sync(this);\n            switch (this._input.LA(1)) {\n                case ClangParser.LeftBrace:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 607;\n                        this.compoundStatement();\n                    }\n                    break;\n                case ClangParser.T__0:\n                case ClangParser.LeftParen:\n                case ClangParser.Plus:\n                case ClangParser.PlusPlus:\n                case ClangParser.Minus:\n                case ClangParser.MinusMinus:\n                case ClangParser.Star:\n                case ClangParser.And:\n                case ClangParser.Not:\n                case ClangParser.Semi:\n                case ClangParser.Identifier:\n                case ClangParser.Constant:\n                case ClangParser.DigitSequence:\n                case ClangParser.StringLiteral:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 608;\n                        this.expressionStatement();\n                    }\n                    break;\n                case ClangParser.If:\n                    this.enterOuterAlt(_localctx, 3);\n                    {\n                        this.state = 609;\n                        this.selectionStatement();\n                    }\n                    break;\n                case ClangParser.Do:\n                case ClangParser.For:\n                case ClangParser.While:\n                    this.enterOuterAlt(_localctx, 4);\n                    {\n                        this.state = 610;\n                        this.iterationStatement();\n                    }\n                    break;\n                default:\n                    throw new NoViableAltException_1.NoViableAltException(this);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    compoundStatement() {\n        let _localctx = new CompoundStatementContext(this._ctx, this.state);\n        this.enterRule(_localctx, 112, ClangParser.RULE_compoundStatement);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 613;\n                this.match(ClangParser.LeftBrace);\n                this.state = 615;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__0) | (1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Do) | (1 << ClangParser.Float) | (1 << ClangParser.For) | (1 << ClangParser.If) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void) | (1 << ClangParser.While) | (1 << ClangParser.LeftParen) | (1 << ClangParser.LeftBrace))) !== 0) || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)) | (1 << (ClangParser.Semi - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                    {\n                        this.state = 614;\n                        this.blockItemList();\n                    }\n                }\n                this.state = 617;\n                this.match(ClangParser.RightBrace);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    blockItemList() {\n        let _localctx = new BlockItemListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 114, ClangParser.RULE_blockItemList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 620;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                do {\n                    {\n                        {\n                            this.state = 619;\n                            this.blockItem();\n                        }\n                    }\n                    this.state = 622;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                } while ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__0) | (1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Do) | (1 << ClangParser.Float) | (1 << ClangParser.For) | (1 << ClangParser.If) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void) | (1 << ClangParser.While) | (1 << ClangParser.LeftParen) | (1 << ClangParser.LeftBrace))) !== 0) || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)) | (1 << (ClangParser.Semi - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0));\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    blockItem() {\n        let _localctx = new BlockItemContext(this._ctx, this.state);\n        this.enterRule(_localctx, 116, ClangParser.RULE_blockItem);\n        try {\n            this.state = 626;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 79, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 624;\n                        this.statement();\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 625;\n                        this.declaration();\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    expressionStatement() {\n        let _localctx = new ExpressionStatementContext(this._ctx, this.state);\n        this.enterRule(_localctx, 118, ClangParser.RULE_expressionStatement);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 629;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.T__0 || _la === ClangParser.LeftParen || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                    {\n                        this.state = 628;\n                        this.expression();\n                    }\n                }\n                this.state = 631;\n                this.match(ClangParser.Semi);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    selectionStatement() {\n        let _localctx = new SelectionStatementContext(this._ctx, this.state);\n        this.enterRule(_localctx, 120, ClangParser.RULE_selectionStatement);\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 633;\n                this.match(ClangParser.If);\n                this.state = 634;\n                this.match(ClangParser.LeftParen);\n                this.state = 635;\n                this.expression();\n                this.state = 636;\n                this.match(ClangParser.RightParen);\n                this.state = 637;\n                this.statement();\n                this.state = 640;\n                this._errHandler.sync(this);\n                switch (this.interpreter.adaptivePredict(this._input, 81, this._ctx)) {\n                    case 1:\n                        {\n                            this.state = 638;\n                            this.match(ClangParser.Else);\n                            this.state = 639;\n                            this.statement();\n                        }\n                        break;\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    iterationStatement() {\n        let _localctx = new IterationStatementContext(this._ctx, this.state);\n        this.enterRule(_localctx, 122, ClangParser.RULE_iterationStatement);\n        try {\n            this.state = 662;\n            this._errHandler.sync(this);\n            switch (this._input.LA(1)) {\n                case ClangParser.While:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 642;\n                        this.match(ClangParser.While);\n                        this.state = 643;\n                        this.match(ClangParser.LeftParen);\n                        this.state = 644;\n                        this.expression();\n                        this.state = 645;\n                        this.match(ClangParser.RightParen);\n                        this.state = 646;\n                        this.statement();\n                    }\n                    break;\n                case ClangParser.Do:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 648;\n                        this.match(ClangParser.Do);\n                        this.state = 649;\n                        this.statement();\n                        this.state = 650;\n                        this.match(ClangParser.While);\n                        this.state = 651;\n                        this.match(ClangParser.LeftParen);\n                        this.state = 652;\n                        this.expression();\n                        this.state = 653;\n                        this.match(ClangParser.RightParen);\n                        this.state = 654;\n                        this.match(ClangParser.Semi);\n                    }\n                    break;\n                case ClangParser.For:\n                    this.enterOuterAlt(_localctx, 3);\n                    {\n                        this.state = 656;\n                        this.match(ClangParser.For);\n                        this.state = 657;\n                        this.match(ClangParser.LeftParen);\n                        this.state = 658;\n                        this.forCondition();\n                        this.state = 659;\n                        this.match(ClangParser.RightParen);\n                        this.state = 660;\n                        this.statement();\n                    }\n                    break;\n                default:\n                    throw new NoViableAltException_1.NoViableAltException(this);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    forCondition() {\n        let _localctx = new ForConditionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 124, ClangParser.RULE_forCondition);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 668;\n                this._errHandler.sync(this);\n                switch (this.interpreter.adaptivePredict(this._input, 84, this._ctx)) {\n                    case 1:\n                        {\n                            this.state = 664;\n                            this.forDeclaration();\n                        }\n                        break;\n                    case 2:\n                        {\n                            this.state = 666;\n                            this._errHandler.sync(this);\n                            _la = this._input.LA(1);\n                            if (_la === ClangParser.T__0 || _la === ClangParser.LeftParen || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                                {\n                                    this.state = 665;\n                                    this.expression();\n                                }\n                            }\n                        }\n                        break;\n                }\n                this.state = 670;\n                this.match(ClangParser.Semi);\n                this.state = 672;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.T__0 || _la === ClangParser.LeftParen || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                    {\n                        this.state = 671;\n                        this.forExpression();\n                    }\n                }\n                this.state = 674;\n                this.match(ClangParser.Semi);\n                this.state = 676;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.T__0 || _la === ClangParser.LeftParen || ((((_la - 32)) & ~0x1F) === 0 && ((1 << (_la - 32)) & ((1 << (ClangParser.Plus - 32)) | (1 << (ClangParser.PlusPlus - 32)) | (1 << (ClangParser.Minus - 32)) | (1 << (ClangParser.MinusMinus - 32)) | (1 << (ClangParser.Star - 32)) | (1 << (ClangParser.And - 32)) | (1 << (ClangParser.Not - 32)))) !== 0) || ((((_la - 65)) & ~0x1F) === 0 && ((1 << (_la - 65)) & ((1 << (ClangParser.Identifier - 65)) | (1 << (ClangParser.Constant - 65)) | (1 << (ClangParser.DigitSequence - 65)) | (1 << (ClangParser.StringLiteral - 65)))) !== 0)) {\n                    {\n                        this.state = 675;\n                        this.forExpression();\n                    }\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    forDeclaration() {\n        let _localctx = new ForDeclarationContext(this._ctx, this.state);\n        this.enterRule(_localctx, 126, ClangParser.RULE_forDeclaration);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 678;\n                this.declarationSpecifiers();\n                this.state = 680;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if (_la === ClangParser.LeftParen || ((((_la - 36)) & ~0x1F) === 0 && ((1 << (_la - 36)) & ((1 << (ClangParser.Star - 36)) | (1 << (ClangParser.Caret - 36)) | (1 << (ClangParser.Identifier - 36)))) !== 0)) {\n                    {\n                        this.state = 679;\n                        this.initDeclaratorList();\n                    }\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    forExpression() {\n        let _localctx = new ForExpressionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 128, ClangParser.RULE_forExpression);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 682;\n                this.assignmentExpression();\n                this.state = 687;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                while (_la === ClangParser.Comma) {\n                    {\n                        {\n                            this.state = 683;\n                            this.match(ClangParser.Comma);\n                            this.state = 684;\n                            this.assignmentExpression();\n                        }\n                    }\n                    this.state = 689;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                }\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    compilationUnit() {\n        let _localctx = new CompilationUnitContext(this._ctx, this.state);\n        this.enterRule(_localctx, 130, ClangParser.RULE_compilationUnit);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 691;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void) | (1 << ClangParser.LeftParen))) !== 0) || ((((_la - 36)) & ~0x1F) === 0 && ((1 << (_la - 36)) & ((1 << (ClangParser.Star - 36)) | (1 << (ClangParser.Caret - 36)) | (1 << (ClangParser.Semi - 36)) | (1 << (ClangParser.Identifier - 36)))) !== 0)) {\n                    {\n                        this.state = 690;\n                        this.translationUnit();\n                    }\n                }\n                this.state = 693;\n                this.match(ClangParser.EOF);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    translationUnit() {\n        let _localctx = new TranslationUnitContext(this._ctx, this.state);\n        this.enterRule(_localctx, 132, ClangParser.RULE_translationUnit);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 696;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                do {\n                    {\n                        {\n                            this.state = 695;\n                            this.externalDeclaration();\n                        }\n                    }\n                    this.state = 698;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                } while ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void) | (1 << ClangParser.LeftParen))) !== 0) || ((((_la - 36)) & ~0x1F) === 0 && ((1 << (_la - 36)) & ((1 << (ClangParser.Star - 36)) | (1 << (ClangParser.Caret - 36)) | (1 << (ClangParser.Semi - 36)) | (1 << (ClangParser.Identifier - 36)))) !== 0));\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    externalDeclaration() {\n        let _localctx = new ExternalDeclarationContext(this._ctx, this.state);\n        this.enterRule(_localctx, 134, ClangParser.RULE_externalDeclaration);\n        try {\n            this.state = 703;\n            this._errHandler.sync(this);\n            switch (this.interpreter.adaptivePredict(this._input, 91, this._ctx)) {\n                case 1:\n                    this.enterOuterAlt(_localctx, 1);\n                    {\n                        this.state = 700;\n                        this.functionDefinition();\n                    }\n                    break;\n                case 2:\n                    this.enterOuterAlt(_localctx, 2);\n                    {\n                        this.state = 701;\n                        this.declaration();\n                    }\n                    break;\n                case 3:\n                    this.enterOuterAlt(_localctx, 3);\n                    {\n                        this.state = 702;\n                        this.match(ClangParser.Semi);\n                    }\n                    break;\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    functionDefinition() {\n        let _localctx = new FunctionDefinitionContext(this._ctx, this.state);\n        this.enterRule(_localctx, 136, ClangParser.RULE_functionDefinition);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 706;\n                this._errHandler.sync(this);\n                switch (this.interpreter.adaptivePredict(this._input, 92, this._ctx)) {\n                    case 1:\n                        {\n                            this.state = 705;\n                            this.declarationSpecifiers();\n                        }\n                        break;\n                }\n                this.state = 708;\n                this.declarator();\n                this.state = 710;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                if ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void))) !== 0) || _la === ClangParser.Identifier) {\n                    {\n                        this.state = 709;\n                        this.declarationList();\n                    }\n                }\n                this.state = 712;\n                this.compoundStatement();\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    // @RuleVersion(0)\n    declarationList() {\n        let _localctx = new DeclarationListContext(this._ctx, this.state);\n        this.enterRule(_localctx, 138, ClangParser.RULE_declarationList);\n        let _la;\n        try {\n            this.enterOuterAlt(_localctx, 1);\n            {\n                this.state = 715;\n                this._errHandler.sync(this);\n                _la = this._input.LA(1);\n                do {\n                    {\n                        {\n                            this.state = 714;\n                            this.declaration();\n                        }\n                    }\n                    this.state = 717;\n                    this._errHandler.sync(this);\n                    _la = this._input.LA(1);\n                } while ((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ClangParser.T__1) | (1 << ClangParser.Char) | (1 << ClangParser.Const) | (1 << ClangParser.Float) | (1 << ClangParser.Int) | (1 << ClangParser.Signed) | (1 << ClangParser.Struct) | (1 << ClangParser.Unsigned) | (1 << ClangParser.Void))) !== 0) || _la === ClangParser.Identifier);\n            }\n        }\n        catch (re) {\n            if (re instanceof RecognitionException_1.RecognitionException) {\n                _localctx.exception = re;\n                this._errHandler.reportError(this, re);\n                this._errHandler.recover(this, re);\n            }\n            else {\n                throw re;\n            }\n        }\n        finally {\n            this.exitRule();\n        }\n        return _localctx;\n    }\n    sempred(_localctx, ruleIndex, predIndex) {\n        switch (ruleIndex) {\n            case 38:\n                return this.directDeclarator_sempred(_localctx, predIndex);\n            case 48:\n                return this.directAbstractDeclarator_sempred(_localctx, predIndex);\n        }\n        return true;\n    }\n    directDeclarator_sempred(_localctx, predIndex) {\n        switch (predIndex) {\n            case 0:\n                return this.precpred(this._ctx, 5);\n            case 1:\n                return this.precpred(this._ctx, 4);\n            case 2:\n                return this.precpred(this._ctx, 3);\n            case 3:\n                return this.precpred(this._ctx, 2);\n        }\n        return true;\n    }\n    directAbstractDeclarator_sempred(_localctx, predIndex) {\n        switch (predIndex) {\n            case 4:\n                return this.precpred(this._ctx, 3);\n            case 5:\n                return this.precpred(this._ctx, 2);\n            case 6:\n                return this.precpred(this._ctx, 1);\n        }\n        return true;\n    }\n    static get _ATN() {\n        if (!ClangParser.__ATN) {\n            ClangParser.__ATN = new ATNDeserializer_1.ATNDeserializer().deserialize(Utils.toCharArray(ClangParser._serializedATN));\n        }\n        return ClangParser.__ATN;\n    }\n}\nexports.ClangParser = ClangParser;\nClangParser.T__0 = 1;\nClangParser.T__1 = 2;\nClangParser.Break = 3;\nClangParser.Char = 4;\nClangParser.Continue = 5;\nClangParser.Const = 6;\nClangParser.Do = 7;\nClangParser.Else = 8;\nClangParser.Float = 9;\nClangParser.For = 10;\nClangParser.If = 11;\nClangParser.Int = 12;\nClangParser.Long = 13;\nClangParser.Return = 14;\nClangParser.Signed = 15;\nClangParser.Struct = 16;\nClangParser.Unsigned = 17;\nClangParser.Void = 18;\nClangParser.While = 19;\nClangParser.LeftParen = 20;\nClangParser.RightParen = 21;\nClangParser.LeftBracket = 22;\nClangParser.RightBracket = 23;\nClangParser.LeftBrace = 24;\nClangParser.RightBrace = 25;\nClangParser.Less = 26;\nClangParser.LessEqual = 27;\nClangParser.Greater = 28;\nClangParser.GreaterEqual = 29;\nClangParser.LeftShift = 30;\nClangParser.RightShift = 31;\nClangParser.Plus = 32;\nClangParser.PlusPlus = 33;\nClangParser.Minus = 34;\nClangParser.MinusMinus = 35;\nClangParser.Star = 36;\nClangParser.Div = 37;\nClangParser.Mod = 38;\nClangParser.And = 39;\nClangParser.Or = 40;\nClangParser.AndAnd = 41;\nClangParser.OrOr = 42;\nClangParser.Caret = 43;\nClangParser.Not = 44;\nClangParser.Tilde = 45;\nClangParser.Question = 46;\nClangParser.Colon = 47;\nClangParser.Semi = 48;\nClangParser.Comma = 49;\nClangParser.Assign = 50;\nClangParser.StarAssign = 51;\nClangParser.DivAssign = 52;\nClangParser.ModAssign = 53;\nClangParser.PlusAssign = 54;\nClangParser.MinusAssign = 55;\nClangParser.LeftShiftAssign = 56;\nClangParser.RightShiftAssign = 57;\nClangParser.AndAssign = 58;\nClangParser.XorAssign = 59;\nClangParser.OrAssign = 60;\nClangParser.Equal = 61;\nClangParser.NotEqual = 62;\nClangParser.Arrow = 63;\nClangParser.Dot = 64;\nClangParser.Identifier = 65;\nClangParser.Constant = 66;\nClangParser.DigitSequence = 67;\nClangParser.StringLiteral = 68;\nClangParser.Whitespace = 69;\nClangParser.Newline = 70;\nClangParser.BlockComment = 71;\nClangParser.LineComment = 72;\nClangParser.RULE_start = 0;\nClangParser.RULE_primaryExpression = 1;\nClangParser.RULE_postfixExpression = 2;\nClangParser.RULE_argumentExpressionList = 3;\nClangParser.RULE_unaryExpression = 4;\nClangParser.RULE_unaryOperator = 5;\nClangParser.RULE_castExpression = 6;\nClangParser.RULE_multiplicativeExpression = 7;\nClangParser.RULE_additiveExpression = 8;\nClangParser.RULE_shiftExpression = 9;\nClangParser.RULE_relationalExpression = 10;\nClangParser.RULE_equalityExpression = 11;\nClangParser.RULE_andExpression = 12;\nClangParser.RULE_exclusiveOrExpression = 13;\nClangParser.RULE_inclusiveOrExpression = 14;\nClangParser.RULE_logicalAndExpression = 15;\nClangParser.RULE_logicalOrExpression = 16;\nClangParser.RULE_conditionalExpression = 17;\nClangParser.RULE_assignmentExpression = 18;\nClangParser.RULE_assignmentOperator = 19;\nClangParser.RULE_expression = 20;\nClangParser.RULE_constantExpression = 21;\nClangParser.RULE_declaration = 22;\nClangParser.RULE_declarationSpecifiers = 23;\nClangParser.RULE_declarationSpecifiers2 = 24;\nClangParser.RULE_declarationSpecifier = 25;\nClangParser.RULE_initDeclaratorList = 26;\nClangParser.RULE_initDeclarator = 27;\nClangParser.RULE_typeSpecifier = 28;\nClangParser.RULE_structSpecifier = 29;\nClangParser.RULE_structDeclarationList = 30;\nClangParser.RULE_structDeclaration = 31;\nClangParser.RULE_specifierQualifierList = 32;\nClangParser.RULE_structDeclaratorList = 33;\nClangParser.RULE_structDeclarator = 34;\nClangParser.RULE_typeQualifier = 35;\nClangParser.RULE_functionSpecifier = 36;\nClangParser.RULE_declarator = 37;\nClangParser.RULE_directDeclarator = 38;\nClangParser.RULE_nestedParenthesesBlock = 39;\nClangParser.RULE_pointer = 40;\nClangParser.RULE_typeQualifierList = 41;\nClangParser.RULE_parameterTypeList = 42;\nClangParser.RULE_parameterList = 43;\nClangParser.RULE_parameterDeclaration = 44;\nClangParser.RULE_identifierList = 45;\nClangParser.RULE_typeName = 46;\nClangParser.RULE_abstractDeclarator = 47;\nClangParser.RULE_directAbstractDeclarator = 48;\nClangParser.RULE_typedefName = 49;\nClangParser.RULE_initializer = 50;\nClangParser.RULE_initializerList = 51;\nClangParser.RULE_designation = 52;\nClangParser.RULE_designatorList = 53;\nClangParser.RULE_designator = 54;\nClangParser.RULE_statement = 55;\nClangParser.RULE_compoundStatement = 56;\nClangParser.RULE_blockItemList = 57;\nClangParser.RULE_blockItem = 58;\nClangParser.RULE_expressionStatement = 59;\nClangParser.RULE_selectionStatement = 60;\nClangParser.RULE_iterationStatement = 61;\nClangParser.RULE_forCondition = 62;\nClangParser.RULE_forDeclaration = 63;\nClangParser.RULE_forExpression = 64;\nClangParser.RULE_compilationUnit = 65;\nClangParser.RULE_translationUnit = 66;\nClangParser.RULE_externalDeclaration = 67;\nClangParser.RULE_functionDefinition = 68;\nClangParser.RULE_declarationList = 69;\n// tslint:disable:no-trailing-whitespace\nClangParser.ruleNames = [\n    \"start\", \"primaryExpression\", \"postfixExpression\", \"argumentExpressionList\",\n    \"unaryExpression\", \"unaryOperator\", \"castExpression\", \"multiplicativeExpression\",\n    \"additiveExpression\", \"shiftExpression\", \"relationalExpression\", \"equalityExpression\",\n    \"andExpression\", \"exclusiveOrExpression\", \"inclusiveOrExpression\", \"logicalAndExpression\",\n    \"logicalOrExpression\", \"conditionalExpression\", \"assignmentExpression\",\n    \"assignmentOperator\", \"expression\", \"constantExpression\", \"declaration\",\n    \"declarationSpecifiers\", \"declarationSpecifiers2\", \"declarationSpecifier\",\n    \"initDeclaratorList\", \"initDeclarator\", \"typeSpecifier\", \"structSpecifier\",\n    \"structDeclarationList\", \"structDeclaration\", \"specifierQualifierList\",\n    \"structDeclaratorList\", \"structDeclarator\", \"typeQualifier\", \"functionSpecifier\",\n    \"declarator\", \"directDeclarator\", \"nestedParenthesesBlock\", \"pointer\",\n    \"typeQualifierList\", \"parameterTypeList\", \"parameterList\", \"parameterDeclaration\",\n    \"identifierList\", \"typeName\", \"abstractDeclarator\", \"directAbstractDeclarator\",\n    \"typedefName\", \"initializer\", \"initializerList\", \"designation\", \"designatorList\",\n    \"designator\", \"statement\", \"compoundStatement\", \"blockItemList\", \"blockItem\",\n    \"expressionStatement\", \"selectionStatement\", \"iterationStatement\", \"forCondition\",\n    \"forDeclaration\", \"forExpression\", \"compilationUnit\", \"translationUnit\",\n    \"externalDeclaration\", \"functionDefinition\", \"declarationList\",\n];\nClangParser._LITERAL_NAMES = [\n    undefined, \"'__extension__'\", \"'inline'\", \"'break'\", \"'char'\", \"'continue'\",\n    \"'const'\", \"'do'\", \"'else'\", \"'float'\", \"'for'\", \"'if'\", \"'int'\", \"'long'\",\n    \"'return'\", \"'signed'\", \"'struct'\", \"'unsigned'\", \"'void'\", \"'while'\",\n    \"'('\", \"')'\", \"'['\", \"']'\", \"'{'\", \"'}'\", \"'<'\", \"'<='\", \"'>'\", \"'>='\",\n    \"'<<'\", \"'>>'\", \"'+'\", \"'++'\", \"'-'\", \"'--'\", \"'*'\", \"'/'\", \"'%'\", \"'&'\",\n    \"'|'\", \"'&&'\", \"'||'\", \"'^'\", \"'!'\", \"'~'\", \"'?'\", \"':'\", \"';'\", \"','\",\n    \"'='\", \"'*='\", \"'/='\", \"'%='\", \"'+='\", \"'-='\", \"'<<='\", \"'>>='\", \"'&='\",\n    \"'^='\", \"'|='\", \"'=='\", \"'!='\", \"'->'\", \"'.'\",\n];\nClangParser._SYMBOLIC_NAMES = [\n    undefined, undefined, undefined, \"Break\", \"Char\", \"Continue\", \"Const\",\n    \"Do\", \"Else\", \"Float\", \"For\", \"If\", \"Int\", \"Long\", \"Return\", \"Signed\",\n    \"Struct\", \"Unsigned\", \"Void\", \"While\", \"LeftParen\", \"RightParen\", \"LeftBracket\",\n    \"RightBracket\", \"LeftBrace\", \"RightBrace\", \"Less\", \"LessEqual\", \"Greater\",\n    \"GreaterEqual\", \"LeftShift\", \"RightShift\", \"Plus\", \"PlusPlus\", \"Minus\",\n    \"MinusMinus\", \"Star\", \"Div\", \"Mod\", \"And\", \"Or\", \"AndAnd\", \"OrOr\", \"Caret\",\n    \"Not\", \"Tilde\", \"Question\", \"Colon\", \"Semi\", \"Comma\", \"Assign\", \"StarAssign\",\n    \"DivAssign\", \"ModAssign\", \"PlusAssign\", \"MinusAssign\", \"LeftShiftAssign\",\n    \"RightShiftAssign\", \"AndAssign\", \"XorAssign\", \"OrAssign\", \"Equal\", \"NotEqual\",\n    \"Arrow\", \"Dot\", \"Identifier\", \"Constant\", \"DigitSequence\", \"StringLiteral\",\n    \"Whitespace\", \"Newline\", \"BlockComment\", \"LineComment\",\n];\nClangParser.VOCABULARY = new VocabularyImpl_1.VocabularyImpl(ClangParser._LITERAL_NAMES, ClangParser._SYMBOLIC_NAMES, []);\nClangParser._serializedATNSegments = 2;\nClangParser._serializedATNSegment0 = \"\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x03J\\u02D2\\x04\\x02\" +\n    \"\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06\\x04\\x07\" +\n    \"\\t\\x07\\x04\\b\\t\\b\\x04\\t\\t\\t\\x04\\n\\t\\n\\x04\\v\\t\\v\\x04\\f\\t\\f\\x04\\r\\t\\r\\x04\" +\n    \"\\x0E\\t\\x0E\\x04\\x0F\\t\\x0F\\x04\\x10\\t\\x10\\x04\\x11\\t\\x11\\x04\\x12\\t\\x12\\x04\" +\n    \"\\x13\\t\\x13\\x04\\x14\\t\\x14\\x04\\x15\\t\\x15\\x04\\x16\\t\\x16\\x04\\x17\\t\\x17\\x04\" +\n    \"\\x18\\t\\x18\\x04\\x19\\t\\x19\\x04\\x1A\\t\\x1A\\x04\\x1B\\t\\x1B\\x04\\x1C\\t\\x1C\\x04\" +\n    \"\\x1D\\t\\x1D\\x04\\x1E\\t\\x1E\\x04\\x1F\\t\\x1F\\x04 \\t \\x04!\\t!\\x04\\\"\\t\\\"\\x04#\" +\n    \"\\t#\\x04$\\t$\\x04%\\t%\\x04&\\t&\\x04\\'\\t\\'\\x04(\\t(\\x04)\\t)\\x04*\\t*\\x04+\\t+\" +\n    \"\\x04,\\t,\\x04-\\t-\\x04.\\t.\\x04/\\t/\\x040\\t0\\x041\\t1\\x042\\t2\\x043\\t3\\x044\" +\n    \"\\t4\\x045\\t5\\x046\\t6\\x047\\t7\\x048\\t8\\x049\\t9\\x04:\\t:\\x04;\\t;\\x04<\\t<\\x04\" +\n    \"=\\t=\\x04>\\t>\\x04?\\t?\\x04@\\t@\\x04A\\tA\\x04B\\tB\\x04C\\tC\\x04D\\tD\\x04E\\tE\\x04\" +\n    \"F\\tF\\x04G\\tG\\x03\\x02\\x03\\x02\\x03\\x03\\x03\\x03\\x03\\x03\\x06\\x03\\x94\\n\\x03\" +\n    \"\\r\\x03\\x0E\\x03\\x95\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x05\\x03\\x9C\\n\\x03\\x03\" +\n    \"\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x05\\x04\\xA5\\n\\x04\" +\n    \"\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x07\\x04\\xAB\\n\\x04\\f\\x04\\x0E\\x04\\xAE\\v\" +\n    \"\\x04\\x03\\x05\\x03\\x05\\x03\\x05\\x07\\x05\\xB3\\n\\x05\\f\\x05\\x0E\\x05\\xB6\\v\\x05\" +\n    \"\\x03\\x06\\x07\\x06\\xB9\\n\\x06\\f\\x06\\x0E\\x06\\xBC\\v\\x06\\x03\\x06\\x03\\x06\\x03\" +\n    \"\\x06\\x03\\x06\\x05\\x06\\xC2\\n\\x06\\x03\\x07\\x03\\x07\\x03\\b\\x05\\b\\xC7\\n\\b\\x03\" +\n    \"\\b\\x03\\b\\x03\\b\\x03\\b\\x03\\b\\x03\\b\\x03\\b\\x05\\b\\xD0\\n\\b\\x03\\t\\x03\\t\\x03\\t\" +\n    \"\\x07\\t\\xD5\\n\\t\\f\\t\\x0E\\t\\xD8\\v\\t\\x03\\n\\x03\\n\\x03\\n\\x07\\n\\xDD\\n\\n\\f\\n\\x0E\" +\n    \"\\n\\xE0\\v\\n\\x03\\v\\x03\\v\\x03\\v\\x07\\v\\xE5\\n\\v\\f\\v\\x0E\\v\\xE8\\v\\v\\x03\\f\\x03\" +\n    \"\\f\\x03\\f\\x07\\f\\xED\\n\\f\\f\\f\\x0E\\f\\xF0\\v\\f\\x03\\r\\x03\\r\\x03\\r\\x07\\r\\xF5\\n\" +\n    \"\\r\\f\\r\\x0E\\r\\xF8\\v\\r\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x07\\x0E\\xFD\\n\\x0E\\f\\x0E\\x0E\" +\n    \"\\x0E\\u0100\\v\\x0E\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x07\\x0F\\u0105\\n\\x0F\\f\\x0F\\x0E\" +\n    \"\\x0F\\u0108\\v\\x0F\\x03\\x10\\x03\\x10\\x03\\x10\\x07\\x10\\u010D\\n\\x10\\f\\x10\\x0E\" +\n    \"\\x10\\u0110\\v\\x10\\x03\\x11\\x03\\x11\\x03\\x11\\x07\\x11\\u0115\\n\\x11\\f\\x11\\x0E\" +\n    \"\\x11\\u0118\\v\\x11\\x03\\x12\\x03\\x12\\x03\\x12\\x07\\x12\\u011D\\n\\x12\\f\\x12\\x0E\" +\n    \"\\x12\\u0120\\v\\x12\\x03\\x13\\x03\\x13\\x03\\x13\\x03\\x13\\x03\\x13\\x03\\x13\\x05\\x13\" +\n    \"\\u0128\\n\\x13\\x03\\x14\\x03\\x14\\x03\\x14\\x03\\x14\\x03\\x14\\x03\\x14\\x05\\x14\\u0130\" +\n    \"\\n\\x14\\x03\\x15\\x03\\x15\\x03\\x16\\x03\\x16\\x03\\x16\\x07\\x16\\u0137\\n\\x16\\f\\x16\" +\n    \"\\x0E\\x16\\u013A\\v\\x16\\x03\\x17\\x03\\x17\\x03\\x18\\x03\\x18\\x05\\x18\\u0140\\n\\x18\" +\n    \"\\x03\\x18\\x03\\x18\\x03\\x19\\x06\\x19\\u0145\\n\\x19\\r\\x19\\x0E\\x19\\u0146\\x03\\x1A\" +\n    \"\\x06\\x1A\\u014A\\n\\x1A\\r\\x1A\\x0E\\x1A\\u014B\\x03\\x1B\\x03\\x1B\\x03\\x1B\\x05\\x1B\" +\n    \"\\u0151\\n\\x1B\\x03\\x1C\\x03\\x1C\\x03\\x1C\\x07\\x1C\\u0156\\n\\x1C\\f\\x1C\\x0E\\x1C\" +\n    \"\\u0159\\v\\x1C\\x03\\x1D\\x03\\x1D\\x03\\x1D\\x05\\x1D\\u015E\\n\\x1D\\x03\\x1E\\x03\\x1E\" +\n    \"\\x03\\x1E\\x05\\x1E\\u0163\\n\\x1E\\x03\\x1F\\x03\\x1F\\x05\\x1F\\u0167\\n\\x1F\\x03\\x1F\" +\n    \"\\x03\\x1F\\x03\\x1F\\x03\\x1F\\x03\\x1F\\x03\\x1F\\x05\\x1F\\u016F\\n\\x1F\\x03 \\x06\" +\n    \" \\u0172\\n \\r \\x0E \\u0173\\x03!\\x03!\\x03!\\x03!\\x03!\\x03!\\x03!\\x05!\\u017D\" +\n    \"\\n!\\x03\\\"\\x03\\\"\\x05\\\"\\u0181\\n\\\"\\x03\\\"\\x05\\\"\\u0184\\n\\\"\\x03#\\x03#\\x03#\\x07\" +\n    \"#\\u0189\\n#\\f#\\x0E#\\u018C\\v#\\x03$\\x03$\\x05$\\u0190\\n$\\x03$\\x03$\\x05$\\u0194\" +\n    \"\\n$\\x03%\\x03%\\x03&\\x03&\\x03\\'\\x05\\'\\u019B\\n\\'\\x03\\'\\x03\\'\\x03(\\x03(\\x03\" +\n    \"(\\x03(\\x03(\\x03(\\x03(\\x03(\\x03(\\x05(\\u01A8\\n(\\x03(\\x03(\\x03(\\x05(\\u01AD\" +\n    \"\\n(\\x03(\\x05(\\u01B0\\n(\\x03(\\x03(\\x03(\\x03(\\x05(\\u01B6\\n(\\x03(\\x03(\\x03\" +\n    \"(\\x03(\\x03(\\x03(\\x03(\\x03(\\x03(\\x03(\\x05(\\u01C2\\n(\\x03(\\x07(\\u01C5\\n(\" +\n    \"\\f(\\x0E(\\u01C8\\v(\\x03)\\x03)\\x03)\\x03)\\x03)\\x07)\\u01CF\\n)\\f)\\x0E)\\u01D2\" +\n    \"\\v)\\x03*\\x03*\\x05*\\u01D6\\n*\\x06*\\u01D8\\n*\\r*\\x0E*\\u01D9\\x03+\\x06+\\u01DD\" +\n    \"\\n+\\r+\\x0E+\\u01DE\\x03,\\x03,\\x05,\\u01E3\\n,\\x03-\\x03-\\x03-\\x07-\\u01E8\\n\" +\n    \"-\\f-\\x0E-\\u01EB\\v-\\x03.\\x03.\\x03.\\x03.\\x03.\\x05.\\u01F2\\n.\\x05.\\u01F4\\n\" +\n    \".\\x03/\\x03/\\x03/\\x07/\\u01F9\\n/\\f/\\x0E/\\u01FC\\v/\\x030\\x030\\x050\\u0200\\n\" +\n    \"0\\x031\\x031\\x051\\u0204\\n1\\x031\\x051\\u0207\\n1\\x032\\x032\\x032\\x032\\x032\" +\n    \"\\x032\\x032\\x052\\u0210\\n2\\x032\\x052\\u0213\\n2\\x032\\x032\\x032\\x032\\x032\\x03\" +\n    \"2\\x052\\u021B\\n2\\x032\\x052\\u021E\\n2\\x032\\x032\\x032\\x052\\u0223\\n2\\x032\\x05\" +\n    \"2\\u0226\\n2\\x032\\x032\\x032\\x032\\x032\\x032\\x032\\x032\\x052\\u0230\\n2\\x032\" +\n    \"\\x072\\u0233\\n2\\f2\\x0E2\\u0236\\v2\\x033\\x033\\x034\\x034\\x034\\x034\\x054\\u023E\" +\n    \"\\n4\\x034\\x034\\x054\\u0242\\n4\\x035\\x055\\u0245\\n5\\x035\\x035\\x035\\x055\\u024A\" +\n    \"\\n5\\x035\\x075\\u024D\\n5\\f5\\x0E5\\u0250\\v5\\x036\\x036\\x036\\x037\\x067\\u0256\" +\n    \"\\n7\\r7\\x0E7\\u0257\\x038\\x038\\x038\\x038\\x038\\x038\\x058\\u0260\\n8\\x039\\x03\" +\n    \"9\\x039\\x039\\x059\\u0266\\n9\\x03:\\x03:\\x05:\\u026A\\n:\\x03:\\x03:\\x03;\\x06;\" +\n    \"\\u026F\\n;\\r;\\x0E;\\u0270\\x03<\\x03<\\x05<\\u0275\\n<\\x03=\\x05=\\u0278\\n=\\x03\" +\n    \"=\\x03=\\x03>\\x03>\\x03>\\x03>\\x03>\\x03>\\x03>\\x05>\\u0283\\n>\\x03?\\x03?\\x03\" +\n    \"?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03?\\x03\" +\n    \"?\\x03?\\x03?\\x03?\\x05?\\u0299\\n?\\x03@\\x03@\\x05@\\u029D\\n@\\x05@\\u029F\\n@\\x03\" +\n    \"@\\x03@\\x05@\\u02A3\\n@\\x03@\\x03@\\x05@\\u02A7\\n@\\x03A\\x03A\\x05A\\u02AB\\nA\\x03\" +\n    \"B\\x03B\\x03B\\x07B\\u02B0\\nB\\fB\\x0EB\\u02B3\\vB\\x03C\\x05C\\u02B6\\nC\\x03C\\x03\" +\n    \"C\\x03D\\x06D\\u02BB\\nD\\rD\\x0ED\\u02BC\\x03E\\x03E\\x03E\\x05E\\u02C2\\nE\\x03F\\x05\" +\n    \"F\\u02C5\\nF\\x03F\\x03F\\x05F\\u02C9\\nF\\x03F\\x03F\\x03G\\x06G\\u02CE\\nG\\rG\\x0E\" +\n    \"G\\u02CF\\x03G\\x02\\x02\\x04NbH\\x02\\x02\\x04\\x02\\x06\\x02\\b\\x02\\n\\x02\\f\\x02\" +\n    \"\\x0E\\x02\\x10\\x02\\x12\\x02\\x14\\x02\\x16\\x02\\x18\\x02\\x1A\\x02\\x1C\\x02\\x1E\\x02\" +\n    \" \\x02\\\"\\x02$\\x02&\\x02(\\x02*\\x02,\\x02.\\x020\\x022\\x024\\x026\\x028\\x02:\\x02\" +\n    \"<\\x02>\\x02@\\x02B\\x02D\\x02F\\x02H\\x02J\\x02L\\x02N\\x02P\\x02R\\x02T\\x02V\\x02\" +\n    \"X\\x02Z\\x02\\\\\\x02^\\x02`\\x02b\\x02d\\x02f\\x02h\\x02j\\x02l\\x02n\\x02p\\x02r\\x02\" +\n    \"t\\x02v\\x02x\\x02z\\x02|\\x02~\\x02\\x80\\x02\\x82\\x02\\x84\\x02\\x86\\x02\\x88\\x02\" +\n    \"\\x8A\\x02\\x8C\\x02\\x02\\x0E\\x03\\x02AB\\x04\\x02##%%\\x07\\x02\\\"\\\"$$&&))..\\x03\" +\n    \"\\x02&(\\x04\\x02\\\"\\\"$$\\x03\\x02 !\\x03\\x02\\x1C\\x1F\\x03\\x02?@\\x03\\x024>\\x07\" +\n    \"\\x02\\x06\\x06\\v\\v\\x0E\\x0E\\x11\\x11\\x13\\x14\\x03\\x02\\x16\\x17\\x04\\x02&&--\\x02\" +\n    \"\\u02FC\\x02\\x8E\\x03\\x02\\x02\\x02\\x04\\x9B\\x03\\x02\\x02\\x02\\x06\\x9D\\x03\\x02\" +\n    \"\\x02\\x02\\b\\xAF\\x03\\x02\\x02\\x02\\n\\xBA\\x03\\x02\\x02\\x02\\f\\xC3\\x03\\x02\\x02\" +\n    \"\\x02\\x0E\\xCF\\x03\\x02\\x02\\x02\\x10\\xD1\\x03\\x02\\x02\\x02\\x12\\xD9\\x03\\x02\\x02\" +\n    \"\\x02\\x14\\xE1\\x03\\x02\\x02\\x02\\x16\\xE9\\x03\\x02\\x02\\x02\\x18\\xF1\\x03\\x02\\x02\" +\n    \"\\x02\\x1A\\xF9\\x03\\x02\\x02\\x02\\x1C\\u0101\\x03\\x02\\x02\\x02\\x1E\\u0109\\x03\\x02\" +\n    \"\\x02\\x02 \\u0111\\x03\\x02\\x02\\x02\\\"\\u0119\\x03\\x02\\x02\\x02$\\u0121\\x03\\x02\" +\n    \"\\x02\\x02&\\u012F\\x03\\x02\\x02\\x02(\\u0131\\x03\\x02\\x02\\x02*\\u0133\\x03\\x02\" +\n    \"\\x02\\x02,\\u013B\\x03\\x02\\x02\\x02.\\u013D\\x03\\x02\\x02\\x020\\u0144\\x03\\x02\" +\n    \"\\x02\\x022\\u0149\\x03\\x02\\x02\\x024\\u0150\\x03\\x02\\x02\\x026\\u0152\\x03\\x02\" +\n    \"\\x02\\x028\\u015A\\x03\\x02\\x02\\x02:\\u0162\\x03\\x02\\x02\\x02<\\u016E\\x03\\x02\" +\n    \"\\x02\\x02>\\u0171\\x03\\x02\\x02\\x02@\\u017C\\x03\\x02\\x02\\x02B\\u0180\\x03\\x02\" +\n    \"\\x02\\x02D\\u0185\\x03\\x02\\x02\\x02F\\u0193\\x03\\x02\\x02\\x02H\\u0195\\x03\\x02\" +\n    \"\\x02\\x02J\\u0197\\x03\\x02\\x02\\x02L\\u019A\\x03\\x02\\x02\\x02N\\u01A7\\x03\\x02\" +\n    \"\\x02\\x02P\\u01D0\\x03\\x02\\x02\\x02R\\u01D7\\x03\\x02\\x02\\x02T\\u01DC\\x03\\x02\" +\n    \"\\x02\\x02V\\u01E0\\x03\\x02\\x02\\x02X\\u01E4\\x03\\x02\\x02\\x02Z\\u01F3\\x03\\x02\" +\n    \"\\x02\\x02\\\\\\u01F5\\x03\\x02\\x02\\x02^\\u01FD\\x03\\x02\\x02\\x02`\\u0206\\x03\\x02\" +\n    \"\\x02\\x02b\\u021D\\x03\\x02\\x02\\x02d\\u0237\\x03\\x02\\x02\\x02f\\u0241\\x03\\x02\" +\n    \"\\x02\\x02h\\u0244\\x03\\x02\\x02\\x02j\\u0251\\x03\\x02\\x02\\x02l\\u0255\\x03\\x02\" +\n    \"\\x02\\x02n\\u025F\\x03\\x02\\x02\\x02p\\u0265\\x03\\x02\\x02\\x02r\\u0267\\x03\\x02\" +\n    \"\\x02\\x02t\\u026E\\x03\\x02\\x02\\x02v\\u0274\\x03\\x02\\x02\\x02x\\u0277\\x03\\x02\" +\n    \"\\x02\\x02z\\u027B\\x03\\x02\\x02\\x02|\\u0298\\x03\\x02\\x02\\x02~\\u029E\\x03\\x02\" +\n    \"\\x02\\x02\\x80\\u02A8\\x03\\x02\\x02\\x02\\x82\\u02AC\\x03\\x02\\x02\\x02\\x84\\u02B5\" +\n    \"\\x03\\x02\\x02\\x02\\x86\\u02BA\\x03\\x02\\x02\\x02\\x88\\u02C1\\x03\\x02\\x02\\x02\\x8A\" +\n    \"\\u02C4\\x03\\x02\\x02\\x02\\x8C\\u02CD\\x03\\x02\\x02\\x02\\x8E\\x8F\\x05\\x04\\x03\\x02\" +\n    \"\\x8F\\x03\\x03\\x02\\x02\\x02\\x90\\x9C\\x07C\\x02\\x02\\x91\\x9C\\x07D\\x02\\x02\\x92\" +\n    \"\\x94\\x07F\\x02\\x02\\x93\\x92\\x03\\x02\\x02\\x02\\x94\\x95\\x03\\x02\\x02\\x02\\x95\" +\n    \"\\x93\\x03\\x02\\x02\\x02\\x95\\x96\\x03\\x02\\x02\\x02\\x96\\x9C\\x03\\x02\\x02\\x02\\x97\" +\n    \"\\x98\\x07\\x16\\x02\\x02\\x98\\x99\\x05*\\x16\\x02\\x99\\x9A\\x07\\x17\\x02\\x02\\x9A\" +\n    \"\\x9C\\x03\\x02\\x02\\x02\\x9B\\x90\\x03\\x02\\x02\\x02\\x9B\\x91\\x03\\x02\\x02\\x02\\x9B\" +\n    \"\\x93\\x03\\x02\\x02\\x02\\x9B\\x97\\x03\\x02\\x02\\x02\\x9C\\x05\\x03\\x02\\x02\\x02\\x9D\" +\n    \"\\xAC\\x05\\x04\\x03\\x02\\x9E\\x9F\\x07\\x18\\x02\\x02\\x9F\\xA0\\x05*\\x16\\x02\\xA0\" +\n    \"\\xA1\\x07\\x19\\x02\\x02\\xA1\\xAB\\x03\\x02\\x02\\x02\\xA2\\xA4\\x07\\x16\\x02\\x02\\xA3\" +\n    \"\\xA5\\x05\\b\\x05\\x02\\xA4\\xA3\\x03\\x02\\x02\\x02\\xA4\\xA5\\x03\\x02\\x02\\x02\\xA5\" +\n    \"\\xA6\\x03\\x02\\x02\\x02\\xA6\\xAB\\x07\\x17\\x02\\x02\\xA7\\xA8\\t\\x02\\x02\\x02\\xA8\" +\n    \"\\xAB\\x07C\\x02\\x02\\xA9\\xAB\\t\\x03\\x02\\x02\\xAA\\x9E\\x03\\x02\\x02\\x02\\xAA\\xA2\" +\n    \"\\x03\\x02\\x02\\x02\\xAA\\xA7\\x03\\x02\\x02\\x02\\xAA\\xA9\\x03\\x02\\x02\\x02\\xAB\\xAE\" +\n    \"\\x03\\x02\\x02\\x02\\xAC\\xAA\\x03\\x02\\x02\\x02\\xAC\\xAD\\x03\\x02\\x02\\x02\\xAD\\x07\" +\n    \"\\x03\\x02\\x02\\x02\\xAE\\xAC\\x03\\x02\\x02\\x02\\xAF\\xB4\\x05&\\x14\\x02\\xB0\\xB1\" +\n    \"\\x073\\x02\\x02\\xB1\\xB3\\x05&\\x14\\x02\\xB2\\xB0\\x03\\x02\\x02\\x02\\xB3\\xB6\\x03\" +\n    \"\\x02\\x02\\x02\\xB4\\xB2\\x03\\x02\\x02\\x02\\xB4\\xB5\\x03\\x02\\x02\\x02\\xB5\\t\\x03\" +\n    \"\\x02\\x02\\x02\\xB6\\xB4\\x03\\x02\\x02\\x02\\xB7\\xB9\\t\\x03\\x02\\x02\\xB8\\xB7\\x03\" +\n    \"\\x02\\x02\\x02\\xB9\\xBC\\x03\\x02\\x02\\x02\\xBA\\xB8\\x03\\x02\\x02\\x02\\xBA\\xBB\\x03\" +\n    \"\\x02\\x02\\x02\\xBB\\xC1\\x03\\x02\\x02\\x02\\xBC\\xBA\\x03\\x02\\x02\\x02\\xBD\\xC2\\x05\" +\n    \"\\x06\\x04\\x02\\xBE\\xBF\\x05\\f\\x07\\x02\\xBF\\xC0\\x05\\x0E\\b\\x02\\xC0\\xC2\\x03\\x02\" +\n    \"\\x02\\x02\\xC1\\xBD\\x03\\x02\\x02\\x02\\xC1\\xBE\\x03\\x02\\x02\\x02\\xC2\\v\\x03\\x02\" +\n    \"\\x02\\x02\\xC3\\xC4\\t\\x04\\x02\\x02\\xC4\\r\\x03\\x02\\x02\\x02\\xC5\\xC7\\x07\\x03\\x02\" +\n    \"\\x02\\xC6\\xC5\\x03\\x02\\x02\\x02\\xC6\\xC7\\x03\\x02\\x02\\x02\\xC7\\xC8\\x03\\x02\\x02\" +\n    \"\\x02\\xC8\\xC9\\x07\\x16\\x02\\x02\\xC9\\xCA\\x05^0\\x02\\xCA\\xCB\\x07\\x17\\x02\\x02\" +\n    \"\\xCB\\xCC\\x05\\x0E\\b\\x02\\xCC\\xD0\\x03\\x02\\x02\\x02\\xCD\\xD0\\x05\\n\\x06\\x02\\xCE\" +\n    \"\\xD0\\x07E\\x02\\x02\\xCF\\xC6\\x03\\x02\\x02\\x02\\xCF\\xCD\\x03\\x02\\x02\\x02\\xCF\" +\n    \"\\xCE\\x03\\x02\\x02\\x02\\xD0\\x0F\\x03\\x02\\x02\\x02\\xD1\\xD6\\x05\\x0E\\b\\x02\\xD2\" +\n    \"\\xD3\\t\\x05\\x02\\x02\\xD3\\xD5\\x05\\x0E\\b\\x02\\xD4\\xD2\\x03\\x02\\x02\\x02\\xD5\\xD8\" +\n    \"\\x03\\x02\\x02\\x02\\xD6\\xD4\\x03\\x02\\x02\\x02\\xD6\\xD7\\x03\\x02\\x02\\x02\\xD7\\x11\" +\n    \"\\x03\\x02\\x02\\x02\\xD8\\xD6\\x03\\x02\\x02\\x02\\xD9\\xDE\\x05\\x10\\t\\x02\\xDA\\xDB\" +\n    \"\\t\\x06\\x02\\x02\\xDB\\xDD\\x05\\x10\\t\\x02\\xDC\\xDA\\x03\\x02\\x02\\x02\\xDD\\xE0\\x03\" +\n    \"\\x02\\x02\\x02\\xDE\\xDC\\x03\\x02\\x02\\x02\\xDE\\xDF\\x03\\x02\\x02\\x02\\xDF\\x13\\x03\" +\n    \"\\x02\\x02\\x02\\xE0\\xDE\\x03\\x02\\x02\\x02\\xE1\\xE6\\x05\\x12\\n\\x02\\xE2\\xE3\\t\\x07\" +\n    \"\\x02\\x02\\xE3\\xE5\\x05\\x12\\n\\x02\\xE4\\xE2\\x03\\x02\\x02\\x02\\xE5\\xE8\\x03\\x02\" +\n    \"\\x02\\x02\\xE6\\xE4\\x03\\x02\\x02\\x02\\xE6\\xE7\\x03\\x02\\x02\\x02\\xE7\\x15\\x03\\x02\" +\n    \"\\x02\\x02\\xE8\\xE6\\x03\\x02\\x02\\x02\\xE9\\xEE\\x05\\x14\\v\\x02\\xEA\\xEB\\t\\b\\x02\" +\n    \"\\x02\\xEB\\xED\\x05\\x14\\v\\x02\\xEC\\xEA\\x03\\x02\\x02\\x02\\xED\\xF0\\x03\\x02\\x02\" +\n    \"\\x02\\xEE\\xEC\\x03\\x02\\x02\\x02\\xEE\\xEF\\x03\\x02\\x02\\x02\\xEF\\x17\\x03\\x02\\x02\" +\n    \"\\x02\\xF0\\xEE\\x03\\x02\\x02\\x02\\xF1\\xF6\\x05\\x16\\f\\x02\\xF2\\xF3\\t\\t\\x02\\x02\" +\n    \"\\xF3\\xF5\\x05\\x16\\f\\x02\\xF4\\xF2\\x03\\x02\\x02\\x02\\xF5\\xF8\\x03\\x02\\x02\\x02\" +\n    \"\\xF6\\xF4\\x03\\x02\\x02\\x02\\xF6\\xF7\\x03\\x02\\x02\\x02\\xF7\\x19\\x03\\x02\\x02\\x02\" +\n    \"\\xF8\\xF6\\x03\\x02\\x02\\x02\\xF9\\xFE\\x05\\x18\\r\\x02\\xFA\\xFB\\x07)\\x02\\x02\\xFB\" +\n    \"\\xFD\\x05\\x18\\r\\x02\\xFC\\xFA\\x03\\x02\\x02\\x02\\xFD\\u0100\\x03\\x02\\x02\\x02\\xFE\" +\n    \"\\xFC\\x03\\x02\\x02\\x02\\xFE\\xFF\\x03\\x02\\x02\\x02\\xFF\\x1B\\x03\\x02\\x02\\x02\\u0100\" +\n    \"\\xFE\\x03\\x02\\x02\\x02\\u0101\\u0106\\x05\\x1A\\x0E\\x02\\u0102\\u0103\\x07-\\x02\" +\n    \"\\x02\\u0103\\u0105\\x05\\x1A\\x0E\\x02\\u0104\\u0102\\x03\\x02\\x02\\x02\\u0105\\u0108\" +\n    \"\\x03\\x02\\x02\\x02\\u0106\\u0104\\x03\\x02\\x02\\x02\\u0106\\u0107\\x03\\x02\\x02\\x02\" +\n    \"\\u0107\\x1D\\x03\\x02\\x02\\x02\\u0108\\u0106\\x03\\x02\\x02\\x02\\u0109\\u010E\\x05\" +\n    \"\\x1C\\x0F\\x02\\u010A\\u010B\\x07*\\x02\\x02\\u010B\\u010D\\x05\\x1C\\x0F\\x02\\u010C\" +\n    \"\\u010A\\x03\\x02\\x02\\x02\\u010D\\u0110\\x03\\x02\\x02\\x02\\u010E\\u010C\\x03\\x02\" +\n    \"\\x02\\x02\\u010E\\u010F\\x03\\x02\\x02\\x02\\u010F\\x1F\\x03\\x02\\x02\\x02\\u0110\\u010E\" +\n    \"\\x03\\x02\\x02\\x02\\u0111\\u0116\\x05\\x1E\\x10\\x02\\u0112\\u0113\\x07+\\x02\\x02\" +\n    \"\\u0113\\u0115\\x05\\x1E\\x10\\x02\\u0114\\u0112\\x03\\x02\\x02\\x02\\u0115\\u0118\\x03\" +\n    \"\\x02\\x02\\x02\\u0116\\u0114\\x03\\x02\\x02\\x02\\u0116\\u0117\\x03\\x02\\x02\\x02\\u0117\" +\n    \"!\\x03\\x02\\x02\\x02\\u0118\\u0116\\x03\\x02\\x02\\x02\\u0119\\u011E\\x05 \\x11\\x02\" +\n    \"\\u011A\\u011B\\x07,\\x02\\x02\\u011B\\u011D\\x05 \\x11\\x02\\u011C\\u011A\\x03\\x02\" +\n    \"\\x02\\x02\\u011D\\u0120\\x03\\x02\\x02\\x02\\u011E\\u011C\\x03\\x02\\x02\\x02\\u011E\" +\n    \"\\u011F\\x03\\x02\\x02\\x02\\u011F#\\x03\\x02\\x02\\x02\\u0120\\u011E\\x03\\x02\\x02\" +\n    \"\\x02\\u0121\\u0127\\x05\\\"\\x12\\x02\\u0122\\u0123\\x070\\x02\\x02\\u0123\\u0124\\x05\" +\n    \"*\\x16\\x02\\u0124\\u0125\\x071\\x02\\x02\\u0125\\u0126\\x05$\\x13\\x02\\u0126\\u0128\" +\n    \"\\x03\\x02\\x02\\x02\\u0127\\u0122\\x03\\x02\\x02\\x02\\u0127\\u0128\\x03\\x02\\x02\\x02\" +\n    \"\\u0128%\\x03\\x02\\x02\\x02\\u0129\\u0130\\x05$\\x13\\x02\\u012A\\u012B\\x05\\n\\x06\" +\n    \"\\x02\\u012B\\u012C\\x05(\\x15\\x02\\u012C\\u012D\\x05&\\x14\\x02\\u012D\\u0130\\x03\" +\n    \"\\x02\\x02\\x02\\u012E\\u0130\\x07E\\x02\\x02\\u012F\\u0129\\x03\\x02\\x02\\x02\\u012F\" +\n    \"\\u012A\\x03\\x02\\x02\\x02\\u012F\\u012E\\x03\\x02\\x02\\x02\\u0130\\'\\x03\\x02\\x02\" +\n    \"\\x02\\u0131\\u0132\\t\\n\\x02\\x02\\u0132)\\x03\\x02\\x02\\x02\\u0133\\u0138\\x05&\\x14\" +\n    \"\\x02\\u0134\\u0135\\x073\\x02\\x02\\u0135\\u0137\\x05&\\x14\\x02\\u0136\\u0134\\x03\" +\n    \"\\x02\\x02\\x02\\u0137\\u013A\\x03\\x02\\x02\\x02\\u0138\\u0136\\x03\\x02\\x02\\x02\\u0138\" +\n    \"\\u0139\\x03\\x02\\x02\\x02\\u0139+\\x03\\x02\\x02\\x02\\u013A\\u0138\\x03\\x02\\x02\" +\n    \"\\x02\\u013B\\u013C\\x05$\\x13\\x02\\u013C-\\x03\\x02\\x02\\x02\\u013D\\u013F\\x050\" +\n    \"\\x19\\x02\\u013E\\u0140\\x056\\x1C\\x02\\u013F\\u013E\\x03\\x02\\x02\\x02\\u013F\\u0140\" +\n    \"\\x03\\x02\\x02\\x02\\u0140\\u0141\\x03\\x02\\x02\\x02\\u0141\\u0142\\x072\\x02\\x02\" +\n    \"\\u0142/\\x03\\x02\\x02\\x02\\u0143\\u0145\\x054\\x1B\\x02\\u0144\\u0143\\x03\\x02\\x02\" +\n    \"\\x02\\u0145\\u0146\\x03\\x02\\x02\\x02\\u0146\\u0144\\x03\\x02\\x02\\x02\\u0146\\u0147\" +\n    \"\\x03\\x02\\x02\\x02\\u01471\\x03\\x02\\x02\\x02\\u0148\\u014A\\x054\\x1B\\x02\\u0149\" +\n    \"\\u0148\\x03\\x02\\x02\\x02\\u014A\\u014B\\x03\\x02\\x02\\x02\\u014B\\u0149\\x03\\x02\" +\n    \"\\x02\\x02\\u014B\\u014C\\x03\\x02\\x02\\x02\\u014C3\\x03\\x02\\x02\\x02\\u014D\\u0151\" +\n    \"\\x05:\\x1E\\x02\\u014E\\u0151\\x05H%\\x02\\u014F\\u0151\\x05J&\\x02\\u0150\\u014D\" +\n    \"\\x03\\x02\\x02\\x02\\u0150\\u014E\\x03\\x02\\x02\\x02\\u0150\\u014F\\x03\\x02\\x02\\x02\" +\n    \"\\u01515\\x03\\x02\\x02\\x02\\u0152\\u0157\\x058\\x1D\\x02\\u0153\\u0154\\x073\\x02\" +\n    \"\\x02\\u0154\\u0156\\x058\\x1D\\x02\\u0155\\u0153\\x03\\x02\\x02\\x02\\u0156\\u0159\" +\n    \"\\x03\\x02\\x02\\x02\\u0157\\u0155\\x03\\x02\\x02\\x02\\u0157\\u0158\\x03\\x02\\x02\\x02\" +\n    \"\\u01587\\x03\\x02\\x02\\x02\\u0159\\u0157\\x03\\x02\\x02\\x02\\u015A\\u015D\\x05L\\'\" +\n    \"\\x02\\u015B\\u015C\\x074\\x02\\x02\\u015C\\u015E\\x05f4\\x02\\u015D\\u015B\\x03\\x02\" +\n    \"\\x02\\x02\\u015D\\u015E\\x03\\x02\\x02\\x02\\u015E9\\x03\\x02\\x02\\x02\\u015F\\u0163\" +\n    \"\\t\\v\\x02\\x02\\u0160\\u0163\\x05<\\x1F\\x02\\u0161\\u0163\\x05d3\\x02\\u0162\\u015F\" +\n    \"\\x03\\x02\\x02\\x02\\u0162\\u0160\\x03\\x02\\x02\\x02\\u0162\\u0161\\x03\\x02\\x02\\x02\" +\n    \"\\u0163;\\x03\\x02\\x02\\x02\\u0164\\u0166\\x07\\x12\\x02\\x02\\u0165\\u0167\\x07C\\x02\" +\n    \"\\x02\\u0166\\u0165\\x03\\x02\\x02\\x02\\u0166\\u0167\\x03\\x02\\x02\\x02\\u0167\\u0168\" +\n    \"\\x03\\x02\\x02\\x02\\u0168\\u0169\\x07\\x1A\\x02\\x02\\u0169\\u016A\\x05> \\x02\\u016A\" +\n    \"\\u016B\\x07\\x1B\\x02\\x02\\u016B\\u016F\\x03\\x02\\x02\\x02\\u016C\\u016D\\x07\\x12\" +\n    \"\\x02\\x02\\u016D\\u016F\\x07C\\x02\\x02\\u016E\\u0164\\x03\\x02\\x02\\x02\\u016E\\u016C\" +\n    \"\\x03\\x02\\x02\\x02\\u016F=\\x03\\x02\\x02\\x02\\u0170\\u0172\\x05@!\\x02\\u0171\\u0170\" +\n    \"\\x03\\x02\\x02\\x02\\u0172\\u0173\\x03\\x02\\x02\\x02\\u0173\\u0171\\x03\\x02\\x02\\x02\" +\n    \"\\u0173\\u0174\\x03\\x02\\x02\\x02\\u0174?\\x03\\x02\\x02\\x02\\u0175\\u0176\\x05B\\\"\" +\n    \"\\x02\\u0176\\u0177\\x05D#\\x02\\u0177\\u0178\\x072\\x02\\x02\\u0178\\u017D\\x03\\x02\" +\n    \"\\x02\\x02\\u0179\\u017A\\x05B\\\"\\x02\\u017A\\u017B\\x072\\x02\\x02\\u017B\\u017D\\x03\" +\n    \"\\x02\\x02\\x02\\u017C\\u0175\\x03\\x02\\x02\\x02\\u017C\\u0179\\x03\\x02\\x02\\x02\\u017D\" +\n    \"A\\x03\\x02\\x02\\x02\\u017E\\u0181\\x05:\\x1E\\x02\\u017F\\u0181\\x05H%\\x02\\u0180\" +\n    \"\\u017E\\x03\\x02\\x02\\x02\\u0180\\u017F\\x03\\x02\\x02\\x02\\u0181\\u0183\\x03\\x02\" +\n    \"\\x02\\x02\\u0182\\u0184\\x05B\\\"\\x02\\u0183\\u0182\\x03\\x02\\x02\\x02\\u0183\\u0184\" +\n    \"\\x03\\x02\\x02\\x02\\u0184C\\x03\\x02\\x02\\x02\\u0185\\u018A\\x05F$\\x02\\u0186\\u0187\" +\n    \"\\x073\\x02\\x02\\u0187\\u0189\\x05F$\\x02\\u0188\\u0186\\x03\\x02\\x02\\x02\\u0189\" +\n    \"\\u018C\\x03\\x02\\x02\\x02\\u018A\\u0188\\x03\\x02\\x02\\x02\\u018A\\u018B\\x03\\x02\" +\n    \"\\x02\\x02\\u018BE\\x03\\x02\\x02\\x02\\u018C\\u018A\\x03\\x02\\x02\\x02\\u018D\\u0194\" +\n    \"\\x05L\\'\\x02\\u018E\\u0190\\x05L\\'\\x02\\u018F\\u018E\\x03\\x02\\x02\\x02\\u018F\\u0190\" +\n    \"\\x03\\x02\\x02\\x02\\u0190\\u0191\\x03\\x02\\x02\\x02\\u0191\\u0192\\x071\\x02\\x02\" +\n    \"\\u0192\\u0194\\x05,\\x17\\x02\\u0193\\u018D\\x03\\x02\\x02\\x02\\u0193\\u018F\\x03\" +\n    \"\\x02\\x02\\x02\\u0194G\\x03\\x02\\x02\\x02\\u0195\\u0196\\x07\\b\\x02\\x02\\u0196I\\x03\" +\n    \"\\x02\\x02\\x02\\u0197\\u0198\\x07\\x04\\x02\\x02\\u0198K\\x03\\x02\\x02\\x02\\u0199\" +\n    \"\\u019B\\x05R*\\x02\\u019A\\u0199\\x03\\x02\\x02\\x02\\u019A\\u019B\\x03\\x02\\x02\\x02\" +\n    \"\\u019B\\u019C\\x03\\x02\\x02\\x02\\u019C\\u019D\\x05N(\\x02\\u019DM\\x03\\x02\\x02\" +\n    \"\\x02\\u019E\\u019F\\b(\\x01\\x02\\u019F\\u01A8\\x07C\\x02\\x02\\u01A0\\u01A1\\x07\\x16\" +\n    \"\\x02\\x02\\u01A1\\u01A2\\x05L\\'\\x02\\u01A2\\u01A3\\x07\\x17\\x02\\x02\\u01A3\\u01A8\" +\n    \"\\x03\\x02\\x02\\x02\\u01A4\\u01A5\\x07C\\x02\\x02\\u01A5\\u01A6\\x071\\x02\\x02\\u01A6\" +\n    \"\\u01A8\\x07E\\x02\\x02\\u01A7\\u019E\\x03\\x02\\x02\\x02\\u01A7\\u01A0\\x03\\x02\\x02\" +\n    \"\\x02\\u01A7\\u01A4\\x03\\x02\\x02\\x02\\u01A8\\u01C6\\x03\\x02\\x02\\x02\\u01A9\\u01AA\" +\n    \"\\f\\x07\\x02\\x02\\u01AA\\u01AC\\x07\\x18\\x02\\x02\\u01AB\\u01AD\\x05T+\\x02\\u01AC\" +\n    \"\\u01AB\\x03\\x02\\x02\\x02\\u01AC\\u01AD\\x03\\x02\\x02\\x02\\u01AD\\u01AF\\x03\\x02\" +\n    \"\\x02\\x02\\u01AE\\u01B0\\x05&\\x14\\x02\\u01AF\\u01AE\\x03\\x02\\x02\\x02\\u01AF\\u01B0\" +\n    \"\\x03\\x02\\x02\\x02\\u01B0\\u01B1\\x03\\x02\\x02\\x02\\u01B1\\u01C5\\x07\\x19\\x02\\x02\" +\n    \"\\u01B2\\u01B3\\f\\x06\\x02\\x02\\u01B3\\u01B5\\x07\\x18\\x02\\x02\\u01B4\\u01B6\\x05\" +\n    \"T+\\x02\\u01B5\\u01B4\\x03\\x02\\x02\\x02\\u01B5\\u01B6\\x03\\x02\\x02\\x02\\u01B6\\u01B7\" +\n    \"\\x03\\x02\\x02\\x02\\u01B7\\u01B8\\x07&\\x02\\x02\\u01B8\\u01C5\\x07\\x19\\x02\\x02\" +\n    \"\\u01B9\\u01BA\\f\\x05\\x02\\x02\\u01BA\\u01BB\\x07\\x16\\x02\\x02\\u01BB\\u01BC\\x05\" +\n    \"V,\\x02\\u01BC\\u01BD\\x07\\x17\\x02\\x02\\u01BD\\u01C5\\x03\\x02\\x02\\x02\\u01BE\\u01BF\" +\n    \"\\f\\x04\\x02\\x02\\u01BF\\u01C1\\x07\\x16\\x02\\x02\\u01C0\\u01C2\\x05\\\\/\\x02\\u01C1\" +\n    \"\\u01C0\\x03\\x02\\x02\\x02\\u01C1\\u01C2\\x03\\x02\\x02\\x02\\u01C2\\u01C3\\x03\\x02\" +\n    \"\\x02\\x02\\u01C3\\u01C5\\x07\\x17\\x02\\x02\\u01C4\\u01A9\\x03\\x02\\x02\\x02\\u01C4\" +\n    \"\\u01B2\\x03\\x02\\x02\\x02\\u01C4\\u01B9\\x03\\x02\\x02\\x02\\u01C4\\u01BE\\x03\\x02\" +\n    \"\\x02\\x02\\u01C5\\u01C8\\x03\\x02\\x02\\x02\\u01C6\\u01C4\\x03\\x02\\x02\\x02\\u01C6\" +\n    \"\\u01C7\\x03\\x02\\x02\\x02\\u01C7O\\x03\\x02\\x02\\x02\\u01C8\\u01C6\\x03\\x02\\x02\" +\n    \"\\x02\\u01C9\\u01CF\\n\\f\\x02\\x02\\u01CA\\u01CB\\x07\\x16\\x02\\x02\\u01CB\\u01CC\\x05\" +\n    \"P)\\x02\\u01CC\\u01CD\\x07\\x17\\x02\\x02\\u01CD\\u01CF\\x03\\x02\\x02\\x02\\u01CE\\u01C9\" +\n    \"\\x03\\x02\\x02\\x02\\u01CE\\u01CA\\x03\\x02\\x02\\x02\\u01CF\\u01D2\\x03\\x02\\x02\\x02\" +\n    \"\\u01D0\\u01CE\\x03\\x02\\x02\\x02\\u01D0\\u01D1\\x03\\x02\\x02\\x02\\u01D1Q\\x03\\x02\" +\n    \"\\x02\\x02\\u01D2\\u01D0\\x03\\x02\\x02\\x02\\u01D3\\u01D5\\t\\r\\x02\\x02\\u01D4\\u01D6\" +\n    \"\\x05T+\\x02\\u01D5\\u01D4\\x03\\x02\\x02\\x02\\u01D5\\u01D6\\x03\\x02\\x02\\x02\\u01D6\" +\n    \"\\u01D8\\x03\\x02\\x02\\x02\\u01D7\\u01D3\\x03\\x02\\x02\\x02\\u01D8\\u01D9\\x03\\x02\" +\n    \"\\x02\\x02\\u01D9\\u01D7\\x03\\x02\\x02\\x02\\u01D9\\u01DA\\x03\\x02\\x02\\x02\\u01DA\" +\n    \"S\\x03\\x02\\x02\\x02\\u01DB\\u01DD\\x05H%\\x02\\u01DC\\u01DB\\x03\\x02\\x02\\x02\\u01DD\" +\n    \"\\u01DE\\x03\\x02\\x02\\x02\\u01DE\\u01DC\\x03\\x02\\x02\\x02\\u01DE\\u01DF\\x03\\x02\" +\n    \"\\x02\\x02\\u01DFU\\x03\\x02\\x02\\x02\\u01E0\\u01E2\\x05X-\\x02\\u01E1\\u01E3\\x07\" +\n    \"3\\x02\\x02\\u01E2\\u01E1\\x03\\x02\\x02\\x02\\u01E2\\u01E3\\x03\\x02\\x02\\x02\\u01E3\" +\n    \"W\\x03\\x02\\x02\\x02\\u01E4\\u01E9\\x05Z.\\x02\\u01E5\\u01E6\\x073\\x02\\x02\\u01E6\" +\n    \"\\u01E8\\x05Z.\\x02\\u01E7\\u01E5\\x03\\x02\\x02\\x02\\u01E8\\u01EB\\x03\\x02\\x02\\x02\" +\n    \"\\u01E9\\u01E7\\x03\\x02\\x02\\x02\\u01E9\\u01EA\\x03\\x02\\x02\\x02\\u01EAY\\x03\\x02\" +\n    \"\\x02\\x02\\u01EB\\u01E9\\x03\\x02\\x02\\x02\\u01EC\\u01ED\\x050\\x19\\x02\\u01ED\\u01EE\" +\n    \"\\x05L\\'\\x02\\u01EE\\u01F4\\x03\\x02\\x02\\x02\\u01EF\\u01F1\\x052\\x1A\\x02\\u01F0\" +\n    \"\\u01F2\\x05`1\\x02\\u01F1\\u01F0\\x03\\x02\\x02\\x02\\u01F1\\u01F2\\x03\\x02\\x02\\x02\" +\n    \"\\u01F2\\u01F4\\x03\\x02\\x02\\x02\\u01F3\\u01EC\\x03\\x02\\x02\\x02\\u01F3\\u01EF\\x03\" +\n    \"\\x02\\x02\\x02\\u01F4[\\x03\\x02\\x02\\x02\\u01F5\\u01FA\\x07C\\x02\\x02\\u01F6\\u01F7\" +\n    \"\\x073\\x02\\x02\\u01F7\\u01F9\\x07C\\x02\\x02\\u01F8\\u01F6\\x03\\x02\\x02\\x02\\u01F9\" +\n    \"\\u01FC\\x03\\x02\\x02\\x02\\u01FA\\u01F8\\x03\\x02\\x02\\x02\\u01FA\\u01FB\\x03\\x02\" +\n    \"\\x02\\x02\\u01FB]\\x03\\x02\\x02\\x02\\u01FC\\u01FA\\x03\\x02\\x02\\x02\\u01FD\\u01FF\" +\n    \"\\x05B\\\"\\x02\\u01FE\\u0200\\x05`1\\x02\\u01FF\\u01FE\\x03\\x02\\x02\\x02\\u01FF\\u0200\" +\n    \"\\x03\\x02\\x02\\x02\\u0200_\\x03\\x02\\x02\\x02\\u0201\\u0207\\x05R*\\x02\\u0202\\u0204\" +\n    \"\\x05R*\\x02\\u0203\\u0202\\x03\\x02\\x02\\x02\\u0203\\u0204\\x03\\x02\\x02\\x02\\u0204\" +\n    \"\\u0205\\x03\\x02\\x02\\x02\\u0205\\u0207\\x05b2\\x02\\u0206\\u0201\\x03\\x02\\x02\\x02\" +\n    \"\\u0206\\u0203\\x03\\x02\\x02\\x02\\u0207a\\x03\\x02\\x02\\x02\\u0208\\u0209\\b2\\x01\" +\n    \"\\x02\\u0209\\u020A\\x07\\x16\\x02\\x02\\u020A\\u020B\\x05`1\\x02\\u020B\\u020C\\x07\" +\n    \"\\x17\\x02\\x02\\u020C\\u021E\\x03\\x02\\x02\\x02\\u020D\\u020F\\x07\\x18\\x02\\x02\\u020E\" +\n    \"\\u0210\\x05T+\\x02\\u020F\\u020E\\x03\\x02\\x02\\x02\\u020F\\u0210\\x03\\x02\\x02\\x02\" +\n    \"\\u0210\\u0212\\x03\\x02\\x02\\x02\\u0211\\u0213\\x05&\\x14\\x02\\u0212\\u0211\\x03\" +\n    \"\\x02\\x02\\x02\\u0212\\u0213\\x03\\x02\\x02\\x02\\u0213\\u0214\\x03\\x02\\x02\\x02\\u0214\" +\n    \"\\u021E\\x07\\x19\\x02\\x02\";\nClangParser._serializedATNSegment1 = \"\\u0215\\u0216\\x07\\x18\\x02\\x02\\u0216\\u0217\\x07&\\x02\\x02\\u0217\\u021E\\x07\" +\n    \"\\x19\\x02\\x02\\u0218\\u021A\\x07\\x16\\x02\\x02\\u0219\\u021B\\x05V,\\x02\\u021A\\u0219\" +\n    \"\\x03\\x02\\x02\\x02\\u021A\\u021B\\x03\\x02\\x02\\x02\\u021B\\u021C\\x03\\x02\\x02\\x02\" +\n    \"\\u021C\\u021E\\x07\\x17\\x02\\x02\\u021D\\u0208\\x03\\x02\\x02\\x02\\u021D\\u020D\\x03\" +\n    \"\\x02\\x02\\x02\\u021D\\u0215\\x03\\x02\\x02\\x02\\u021D\\u0218\\x03\\x02\\x02\\x02\\u021E\" +\n    \"\\u0234\\x03\\x02\\x02\\x02\\u021F\\u0220\\f\\x05\\x02\\x02\\u0220\\u0222\\x07\\x18\\x02\" +\n    \"\\x02\\u0221\\u0223\\x05T+\\x02\\u0222\\u0221\\x03\\x02\\x02\\x02\\u0222\\u0223\\x03\" +\n    \"\\x02\\x02\\x02\\u0223\\u0225\\x03\\x02\\x02\\x02\\u0224\\u0226\\x05&\\x14\\x02\\u0225\" +\n    \"\\u0224\\x03\\x02\\x02\\x02\\u0225\\u0226\\x03\\x02\\x02\\x02\\u0226\\u0227\\x03\\x02\" +\n    \"\\x02\\x02\\u0227\\u0233\\x07\\x19\\x02\\x02\\u0228\\u0229\\f\\x04\\x02\\x02\\u0229\\u022A\" +\n    \"\\x07\\x18\\x02\\x02\\u022A\\u022B\\x07&\\x02\\x02\\u022B\\u0233\\x07\\x19\\x02\\x02\" +\n    \"\\u022C\\u022D\\f\\x03\\x02\\x02\\u022D\\u022F\\x07\\x16\\x02\\x02\\u022E\\u0230\\x05\" +\n    \"V,\\x02\\u022F\\u022E\\x03\\x02\\x02\\x02\\u022F\\u0230\\x03\\x02\\x02\\x02\\u0230\\u0231\" +\n    \"\\x03\\x02\\x02\\x02\\u0231\\u0233\\x07\\x17\\x02\\x02\\u0232\\u021F\\x03\\x02\\x02\\x02\" +\n    \"\\u0232\\u0228\\x03\\x02\\x02\\x02\\u0232\\u022C\\x03\\x02\\x02\\x02\\u0233\\u0236\\x03\" +\n    \"\\x02\\x02\\x02\\u0234\\u0232\\x03\\x02\\x02\\x02\\u0234\\u0235\\x03\\x02\\x02\\x02\\u0235\" +\n    \"c\\x03\\x02\\x02\\x02\\u0236\\u0234\\x03\\x02\\x02\\x02\\u0237\\u0238\\x07C\\x02\\x02\" +\n    \"\\u0238e\\x03\\x02\\x02\\x02\\u0239\\u0242\\x05&\\x14\\x02\\u023A\\u023B\\x07\\x1A\\x02\" +\n    \"\\x02\\u023B\\u023D\\x05h5\\x02\\u023C\\u023E\\x073\\x02\\x02\\u023D\\u023C\\x03\\x02\" +\n    \"\\x02\\x02\\u023D\\u023E\\x03\\x02\\x02\\x02\\u023E\\u023F\\x03\\x02\\x02\\x02\\u023F\" +\n    \"\\u0240\\x07\\x1B\\x02\\x02\\u0240\\u0242\\x03\\x02\\x02\\x02\\u0241\\u0239\\x03\\x02\" +\n    \"\\x02\\x02\\u0241\\u023A\\x03\\x02\\x02\\x02\\u0242g\\x03\\x02\\x02\\x02\\u0243\\u0245\" +\n    \"\\x05j6\\x02\\u0244\\u0243\\x03\\x02\\x02\\x02\\u0244\\u0245\\x03\\x02\\x02\\x02\\u0245\" +\n    \"\\u0246\\x03\\x02\\x02\\x02\\u0246\\u024E\\x05f4\\x02\\u0247\\u0249\\x073\\x02\\x02\" +\n    \"\\u0248\\u024A\\x05j6\\x02\\u0249\\u0248\\x03\\x02\\x02\\x02\\u0249\\u024A\\x03\\x02\" +\n    \"\\x02\\x02\\u024A\\u024B\\x03\\x02\\x02\\x02\\u024B\\u024D\\x05f4\\x02\\u024C\\u0247\" +\n    \"\\x03\\x02\\x02\\x02\\u024D\\u0250\\x03\\x02\\x02\\x02\\u024E\\u024C\\x03\\x02\\x02\\x02\" +\n    \"\\u024E\\u024F\\x03\\x02\\x02\\x02\\u024Fi\\x03\\x02\\x02\\x02\\u0250\\u024E\\x03\\x02\" +\n    \"\\x02\\x02\\u0251\\u0252\\x05l7\\x02\\u0252\\u0253\\x074\\x02\\x02\\u0253k\\x03\\x02\" +\n    \"\\x02\\x02\\u0254\\u0256\\x05n8\\x02\\u0255\\u0254\\x03\\x02\\x02\\x02\\u0256\\u0257\" +\n    \"\\x03\\x02\\x02\\x02\\u0257\\u0255\\x03\\x02\\x02\\x02\\u0257\\u0258\\x03\\x02\\x02\\x02\" +\n    \"\\u0258m\\x03\\x02\\x02\\x02\\u0259\\u025A\\x07\\x18\\x02\\x02\\u025A\\u025B\\x05,\\x17\" +\n    \"\\x02\\u025B\\u025C\\x07\\x19\\x02\\x02\\u025C\\u0260\\x03\\x02\\x02\\x02\\u025D\\u025E\" +\n    \"\\x07B\\x02\\x02\\u025E\\u0260\\x07C\\x02\\x02\\u025F\\u0259\\x03\\x02\\x02\\x02\\u025F\" +\n    \"\\u025D\\x03\\x02\\x02\\x02\\u0260o\\x03\\x02\\x02\\x02\\u0261\\u0266\\x05r:\\x02\\u0262\" +\n    \"\\u0266\\x05x=\\x02\\u0263\\u0266\\x05z>\\x02\\u0264\\u0266\\x05|?\\x02\\u0265\\u0261\" +\n    \"\\x03\\x02\\x02\\x02\\u0265\\u0262\\x03\\x02\\x02\\x02\\u0265\\u0263\\x03\\x02\\x02\\x02\" +\n    \"\\u0265\\u0264\\x03\\x02\\x02\\x02\\u0266q\\x03\\x02\\x02\\x02\\u0267\\u0269\\x07\\x1A\" +\n    \"\\x02\\x02\\u0268\\u026A\\x05t;\\x02\\u0269\\u0268\\x03\\x02\\x02\\x02\\u0269\\u026A\" +\n    \"\\x03\\x02\\x02\\x02\\u026A\\u026B\\x03\\x02\\x02\\x02\\u026B\\u026C\\x07\\x1B\\x02\\x02\" +\n    \"\\u026Cs\\x03\\x02\\x02\\x02\\u026D\\u026F\\x05v<\\x02\\u026E\\u026D\\x03\\x02\\x02\" +\n    \"\\x02\\u026F\\u0270\\x03\\x02\\x02\\x02\\u0270\\u026E\\x03\\x02\\x02\\x02\\u0270\\u0271\" +\n    \"\\x03\\x02\\x02\\x02\\u0271u\\x03\\x02\\x02\\x02\\u0272\\u0275\\x05p9\\x02\\u0273\\u0275\" +\n    \"\\x05.\\x18\\x02\\u0274\\u0272\\x03\\x02\\x02\\x02\\u0274\\u0273\\x03\\x02\\x02\\x02\" +\n    \"\\u0275w\\x03\\x02\\x02\\x02\\u0276\\u0278\\x05*\\x16\\x02\\u0277\\u0276\\x03\\x02\\x02\" +\n    \"\\x02\\u0277\\u0278\\x03\\x02\\x02\\x02\\u0278\\u0279\\x03\\x02\\x02\\x02\\u0279\\u027A\" +\n    \"\\x072\\x02\\x02\\u027Ay\\x03\\x02\\x02\\x02\\u027B\\u027C\\x07\\r\\x02\\x02\\u027C\\u027D\" +\n    \"\\x07\\x16\\x02\\x02\\u027D\\u027E\\x05*\\x16\\x02\\u027E\\u027F\\x07\\x17\\x02\\x02\" +\n    \"\\u027F\\u0282\\x05p9\\x02\\u0280\\u0281\\x07\\n\\x02\\x02\\u0281\\u0283\\x05p9\\x02\" +\n    \"\\u0282\\u0280\\x03\\x02\\x02\\x02\\u0282\\u0283\\x03\\x02\\x02\\x02\\u0283{\\x03\\x02\" +\n    \"\\x02\\x02\\u0284\\u0285\\x07\\x15\\x02\\x02\\u0285\\u0286\\x07\\x16\\x02\\x02\\u0286\" +\n    \"\\u0287\\x05*\\x16\\x02\\u0287\\u0288\\x07\\x17\\x02\\x02\\u0288\\u0289\\x05p9\\x02\" +\n    \"\\u0289\\u0299\\x03\\x02\\x02\\x02\\u028A\\u028B\\x07\\t\\x02\\x02\\u028B\\u028C\\x05\" +\n    \"p9\\x02\\u028C\\u028D\\x07\\x15\\x02\\x02\\u028D\\u028E\\x07\\x16\\x02\\x02\\u028E\\u028F\" +\n    \"\\x05*\\x16\\x02\\u028F\\u0290\\x07\\x17\\x02\\x02\\u0290\\u0291\\x072\\x02\\x02\\u0291\" +\n    \"\\u0299\\x03\\x02\\x02\\x02\\u0292\\u0293\\x07\\f\\x02\\x02\\u0293\\u0294\\x07\\x16\\x02\" +\n    \"\\x02\\u0294\\u0295\\x05~@\\x02\\u0295\\u0296\\x07\\x17\\x02\\x02\\u0296\\u0297\\x05\" +\n    \"p9\\x02\\u0297\\u0299\\x03\\x02\\x02\\x02\\u0298\\u0284\\x03\\x02\\x02\\x02\\u0298\\u028A\" +\n    \"\\x03\\x02\\x02\\x02\\u0298\\u0292\\x03\\x02\\x02\\x02\\u0299}\\x03\\x02\\x02\\x02\\u029A\" +\n    \"\\u029F\\x05\\x80A\\x02\\u029B\\u029D\\x05*\\x16\\x02\\u029C\\u029B\\x03\\x02\\x02\\x02\" +\n    \"\\u029C\\u029D\\x03\\x02\\x02\\x02\\u029D\\u029F\\x03\\x02\\x02\\x02\\u029E\\u029A\\x03\" +\n    \"\\x02\\x02\\x02\\u029E\\u029C\\x03\\x02\\x02\\x02\\u029F\\u02A0\\x03\\x02\\x02\\x02\\u02A0\" +\n    \"\\u02A2\\x072\\x02\\x02\\u02A1\\u02A3\\x05\\x82B\\x02\\u02A2\\u02A1\\x03\\x02\\x02\\x02\" +\n    \"\\u02A2\\u02A3\\x03\\x02\\x02\\x02\\u02A3\\u02A4\\x03\\x02\\x02\\x02\\u02A4\\u02A6\\x07\" +\n    \"2\\x02\\x02\\u02A5\\u02A7\\x05\\x82B\\x02\\u02A6\\u02A5\\x03\\x02\\x02\\x02\\u02A6\\u02A7\" +\n    \"\\x03\\x02\\x02\\x02\\u02A7\\x7F\\x03\\x02\\x02\\x02\\u02A8\\u02AA\\x050\\x19\\x02\\u02A9\" +\n    \"\\u02AB\\x056\\x1C\\x02\\u02AA\\u02A9\\x03\\x02\\x02\\x02\\u02AA\\u02AB\\x03\\x02\\x02\" +\n    \"\\x02\\u02AB\\x81\\x03\\x02\\x02\\x02\\u02AC\\u02B1\\x05&\\x14\\x02\\u02AD\\u02AE\\x07\" +\n    \"3\\x02\\x02\\u02AE\\u02B0\\x05&\\x14\\x02\\u02AF\\u02AD\\x03\\x02\\x02\\x02\\u02B0\\u02B3\" +\n    \"\\x03\\x02\\x02\\x02\\u02B1\\u02AF\\x03\\x02\\x02\\x02\\u02B1\\u02B2\\x03\\x02\\x02\\x02\" +\n    \"\\u02B2\\x83\\x03\\x02\\x02\\x02\\u02B3\\u02B1\\x03\\x02\\x02\\x02\\u02B4\\u02B6\\x05\" +\n    \"\\x86D\\x02\\u02B5\\u02B4\\x03\\x02\\x02\\x02\\u02B5\\u02B6\\x03\\x02\\x02\\x02\\u02B6\" +\n    \"\\u02B7\\x03\\x02\\x02\\x02\\u02B7\\u02B8\\x07\\x02\\x02\\x03\\u02B8\\x85\\x03\\x02\\x02\" +\n    \"\\x02\\u02B9\\u02BB\\x05\\x88E\\x02\\u02BA\\u02B9\\x03\\x02\\x02\\x02\\u02BB\\u02BC\" +\n    \"\\x03\\x02\\x02\\x02\\u02BC\\u02BA\\x03\\x02\\x02\\x02\\u02BC\\u02BD\\x03\\x02\\x02\\x02\" +\n    \"\\u02BD\\x87\\x03\\x02\\x02\\x02\\u02BE\\u02C2\\x05\\x8AF\\x02\\u02BF\\u02C2\\x05.\\x18\" +\n    \"\\x02\\u02C0\\u02C2\\x072\\x02\\x02\\u02C1\\u02BE\\x03\\x02\\x02\\x02\\u02C1\\u02BF\" +\n    \"\\x03\\x02\\x02\\x02\\u02C1\\u02C0\\x03\\x02\\x02\\x02\\u02C2\\x89\\x03\\x02\\x02\\x02\" +\n    \"\\u02C3\\u02C5\\x050\\x19\\x02\\u02C4\\u02C3\\x03\\x02\\x02\\x02\\u02C4\\u02C5\\x03\" +\n    \"\\x02\\x02\\x02\\u02C5\\u02C6\\x03\\x02\\x02\\x02\\u02C6\\u02C8\\x05L\\'\\x02\\u02C7\" +\n    \"\\u02C9\\x05\\x8CG\\x02\\u02C8\\u02C7\\x03\\x02\\x02\\x02\\u02C8\\u02C9\\x03\\x02\\x02\" +\n    \"\\x02\\u02C9\\u02CA\\x03\\x02\\x02\\x02\\u02CA\\u02CB\\x05r:\\x02\\u02CB\\x8B\\x03\\x02\" +\n    \"\\x02\\x02\\u02CC\\u02CE\\x05.\\x18\\x02\\u02CD\\u02CC\\x03\\x02\\x02\\x02\\u02CE\\u02CF\" +\n    \"\\x03\\x02\\x02\\x02\\u02CF\\u02CD\\x03\\x02\\x02\\x02\\u02CF\\u02D0\\x03\\x02\\x02\\x02\" +\n    \"\\u02D0\\x8D\\x03\\x02\\x02\\x02a\\x95\\x9B\\xA4\\xAA\\xAC\\xB4\\xBA\\xC1\\xC6\\xCF\\xD6\" +\n    \"\\xDE\\xE6\\xEE\\xF6\\xFE\\u0106\\u010E\\u0116\\u011E\\u0127\\u012F\\u0138\\u013F\\u0146\" +\n    \"\\u014B\\u0150\\u0157\\u015D\\u0162\\u0166\\u016E\\u0173\\u017C\\u0180\\u0183\\u018A\" +\n    \"\\u018F\\u0193\\u019A\\u01A7\\u01AC\\u01AF\\u01B5\\u01C1\\u01C4\\u01C6\\u01CE\\u01D0\" +\n    \"\\u01D5\\u01D9\\u01DE\\u01E2\\u01E9\\u01F1\\u01F3\\u01FA\\u01FF\\u0203\\u0206\\u020F\" +\n    \"\\u0212\\u021A\\u021D\\u0222\\u0225\\u022F\\u0232\\u0234\\u023D\\u0241\\u0244\\u0249\" +\n    \"\\u024E\\u0257\\u025F\\u0265\\u0269\\u0270\\u0274\\u0277\\u0282\\u0298\\u029C\\u029E\" +\n    \"\\u02A2\\u02A6\\u02AA\\u02B1\\u02B5\\u02BC\\u02C1\\u02C4\\u02C8\\u02CF\";\nClangParser._serializedATN = Utils.join([\n    ClangParser._serializedATNSegment0,\n    ClangParser._serializedATNSegment1,\n], \"\");\nclass StartContext extends ParserRuleContext_1.ParserRuleContext {\n    primaryExpression() {\n        return this.getRuleContext(0, PrimaryExpressionContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_start; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterStart) {\n            listener.enterStart(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitStart) {\n            listener.exitStart(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitStart) {\n            return visitor.visitStart(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.StartContext = StartContext;\nclass PrimaryExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    Identifier() { return this.tryGetToken(ClangParser.Identifier, 0); }\n    Constant() { return this.tryGetToken(ClangParser.Constant, 0); }\n    StringLiteral(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.StringLiteral);\n        }\n        else {\n            return this.getToken(ClangParser.StringLiteral, i);\n        }\n    }\n    LeftParen() { return this.tryGetToken(ClangParser.LeftParen, 0); }\n    expression() {\n        return this.tryGetRuleContext(0, ExpressionContext);\n    }\n    RightParen() { return this.tryGetToken(ClangParser.RightParen, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_primaryExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterPrimaryExpression) {\n            listener.enterPrimaryExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitPrimaryExpression) {\n            listener.exitPrimaryExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitPrimaryExpression) {\n            return visitor.visitPrimaryExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.PrimaryExpressionContext = PrimaryExpressionContext;\nclass PostfixExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    primaryExpression() {\n        return this.tryGetRuleContext(0, PrimaryExpressionContext);\n    }\n    LeftBracket(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.LeftBracket);\n        }\n        else {\n            return this.getToken(ClangParser.LeftBracket, i);\n        }\n    }\n    expression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(ExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, ExpressionContext);\n        }\n    }\n    RightBracket(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.RightBracket);\n        }\n        else {\n            return this.getToken(ClangParser.RightBracket, i);\n        }\n    }\n    LeftParen(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.LeftParen);\n        }\n        else {\n            return this.getToken(ClangParser.LeftParen, i);\n        }\n    }\n    RightParen(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.RightParen);\n        }\n        else {\n            return this.getToken(ClangParser.RightParen, i);\n        }\n    }\n    Identifier(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Identifier);\n        }\n        else {\n            return this.getToken(ClangParser.Identifier, i);\n        }\n    }\n    Dot(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Dot);\n        }\n        else {\n            return this.getToken(ClangParser.Dot, i);\n        }\n    }\n    Arrow(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Arrow);\n        }\n        else {\n            return this.getToken(ClangParser.Arrow, i);\n        }\n    }\n    PlusPlus(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.PlusPlus);\n        }\n        else {\n            return this.getToken(ClangParser.PlusPlus, i);\n        }\n    }\n    MinusMinus(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.MinusMinus);\n        }\n        else {\n            return this.getToken(ClangParser.MinusMinus, i);\n        }\n    }\n    argumentExpressionList(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(ArgumentExpressionListContext);\n        }\n        else {\n            return this.getRuleContext(i, ArgumentExpressionListContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_postfixExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterPostfixExpression) {\n            listener.enterPostfixExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitPostfixExpression) {\n            listener.exitPostfixExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitPostfixExpression) {\n            return visitor.visitPostfixExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.PostfixExpressionContext = PostfixExpressionContext;\nclass ArgumentExpressionListContext extends ParserRuleContext_1.ParserRuleContext {\n    assignmentExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(AssignmentExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, AssignmentExpressionContext);\n        }\n    }\n    Comma(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Comma);\n        }\n        else {\n            return this.getToken(ClangParser.Comma, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_argumentExpressionList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterArgumentExpressionList) {\n            listener.enterArgumentExpressionList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitArgumentExpressionList) {\n            listener.exitArgumentExpressionList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitArgumentExpressionList) {\n            return visitor.visitArgumentExpressionList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ArgumentExpressionListContext = ArgumentExpressionListContext;\nclass UnaryExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    postfixExpression() {\n        return this.tryGetRuleContext(0, PostfixExpressionContext);\n    }\n    unaryOperator() {\n        return this.tryGetRuleContext(0, UnaryOperatorContext);\n    }\n    castExpression() {\n        return this.tryGetRuleContext(0, CastExpressionContext);\n    }\n    PlusPlus(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.PlusPlus);\n        }\n        else {\n            return this.getToken(ClangParser.PlusPlus, i);\n        }\n    }\n    MinusMinus(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.MinusMinus);\n        }\n        else {\n            return this.getToken(ClangParser.MinusMinus, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_unaryExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterUnaryExpression) {\n            listener.enterUnaryExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitUnaryExpression) {\n            listener.exitUnaryExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitUnaryExpression) {\n            return visitor.visitUnaryExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.UnaryExpressionContext = UnaryExpressionContext;\nclass UnaryOperatorContext extends ParserRuleContext_1.ParserRuleContext {\n    And() { return this.tryGetToken(ClangParser.And, 0); }\n    Star() { return this.tryGetToken(ClangParser.Star, 0); }\n    Plus() { return this.tryGetToken(ClangParser.Plus, 0); }\n    Minus() { return this.tryGetToken(ClangParser.Minus, 0); }\n    Not() { return this.tryGetToken(ClangParser.Not, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_unaryOperator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterUnaryOperator) {\n            listener.enterUnaryOperator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitUnaryOperator) {\n            listener.exitUnaryOperator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitUnaryOperator) {\n            return visitor.visitUnaryOperator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.UnaryOperatorContext = UnaryOperatorContext;\nclass CastExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    LeftParen() { return this.tryGetToken(ClangParser.LeftParen, 0); }\n    typeName() {\n        return this.tryGetRuleContext(0, TypeNameContext);\n    }\n    RightParen() { return this.tryGetToken(ClangParser.RightParen, 0); }\n    castExpression() {\n        return this.tryGetRuleContext(0, CastExpressionContext);\n    }\n    unaryExpression() {\n        return this.tryGetRuleContext(0, UnaryExpressionContext);\n    }\n    DigitSequence() { return this.tryGetToken(ClangParser.DigitSequence, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_castExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterCastExpression) {\n            listener.enterCastExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitCastExpression) {\n            listener.exitCastExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitCastExpression) {\n            return visitor.visitCastExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.CastExpressionContext = CastExpressionContext;\nclass MultiplicativeExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    castExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(CastExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, CastExpressionContext);\n        }\n    }\n    Star(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Star);\n        }\n        else {\n            return this.getToken(ClangParser.Star, i);\n        }\n    }\n    Div(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Div);\n        }\n        else {\n            return this.getToken(ClangParser.Div, i);\n        }\n    }\n    Mod(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Mod);\n        }\n        else {\n            return this.getToken(ClangParser.Mod, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_multiplicativeExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterMultiplicativeExpression) {\n            listener.enterMultiplicativeExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitMultiplicativeExpression) {\n            listener.exitMultiplicativeExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitMultiplicativeExpression) {\n            return visitor.visitMultiplicativeExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.MultiplicativeExpressionContext = MultiplicativeExpressionContext;\nclass AdditiveExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    multiplicativeExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(MultiplicativeExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, MultiplicativeExpressionContext);\n        }\n    }\n    Plus(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Plus);\n        }\n        else {\n            return this.getToken(ClangParser.Plus, i);\n        }\n    }\n    Minus(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Minus);\n        }\n        else {\n            return this.getToken(ClangParser.Minus, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_additiveExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterAdditiveExpression) {\n            listener.enterAdditiveExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitAdditiveExpression) {\n            listener.exitAdditiveExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitAdditiveExpression) {\n            return visitor.visitAdditiveExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.AdditiveExpressionContext = AdditiveExpressionContext;\nclass ShiftExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    additiveExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(AdditiveExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, AdditiveExpressionContext);\n        }\n    }\n    LeftShift(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.LeftShift);\n        }\n        else {\n            return this.getToken(ClangParser.LeftShift, i);\n        }\n    }\n    RightShift(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.RightShift);\n        }\n        else {\n            return this.getToken(ClangParser.RightShift, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_shiftExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterShiftExpression) {\n            listener.enterShiftExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitShiftExpression) {\n            listener.exitShiftExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitShiftExpression) {\n            return visitor.visitShiftExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ShiftExpressionContext = ShiftExpressionContext;\nclass RelationalExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    shiftExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(ShiftExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, ShiftExpressionContext);\n        }\n    }\n    Less(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Less);\n        }\n        else {\n            return this.getToken(ClangParser.Less, i);\n        }\n    }\n    Greater(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Greater);\n        }\n        else {\n            return this.getToken(ClangParser.Greater, i);\n        }\n    }\n    LessEqual(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.LessEqual);\n        }\n        else {\n            return this.getToken(ClangParser.LessEqual, i);\n        }\n    }\n    GreaterEqual(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.GreaterEqual);\n        }\n        else {\n            return this.getToken(ClangParser.GreaterEqual, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_relationalExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterRelationalExpression) {\n            listener.enterRelationalExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitRelationalExpression) {\n            listener.exitRelationalExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitRelationalExpression) {\n            return visitor.visitRelationalExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.RelationalExpressionContext = RelationalExpressionContext;\nclass EqualityExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    relationalExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(RelationalExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, RelationalExpressionContext);\n        }\n    }\n    Equal(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Equal);\n        }\n        else {\n            return this.getToken(ClangParser.Equal, i);\n        }\n    }\n    NotEqual(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.NotEqual);\n        }\n        else {\n            return this.getToken(ClangParser.NotEqual, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_equalityExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterEqualityExpression) {\n            listener.enterEqualityExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitEqualityExpression) {\n            listener.exitEqualityExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitEqualityExpression) {\n            return visitor.visitEqualityExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.EqualityExpressionContext = EqualityExpressionContext;\nclass AndExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    equalityExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(EqualityExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, EqualityExpressionContext);\n        }\n    }\n    And(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.And);\n        }\n        else {\n            return this.getToken(ClangParser.And, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_andExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterAndExpression) {\n            listener.enterAndExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitAndExpression) {\n            listener.exitAndExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitAndExpression) {\n            return visitor.visitAndExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.AndExpressionContext = AndExpressionContext;\nclass ExclusiveOrExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    andExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(AndExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, AndExpressionContext);\n        }\n    }\n    Caret(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Caret);\n        }\n        else {\n            return this.getToken(ClangParser.Caret, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_exclusiveOrExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterExclusiveOrExpression) {\n            listener.enterExclusiveOrExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitExclusiveOrExpression) {\n            listener.exitExclusiveOrExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitExclusiveOrExpression) {\n            return visitor.visitExclusiveOrExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ExclusiveOrExpressionContext = ExclusiveOrExpressionContext;\nclass InclusiveOrExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    exclusiveOrExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(ExclusiveOrExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, ExclusiveOrExpressionContext);\n        }\n    }\n    Or(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Or);\n        }\n        else {\n            return this.getToken(ClangParser.Or, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_inclusiveOrExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterInclusiveOrExpression) {\n            listener.enterInclusiveOrExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitInclusiveOrExpression) {\n            listener.exitInclusiveOrExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitInclusiveOrExpression) {\n            return visitor.visitInclusiveOrExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.InclusiveOrExpressionContext = InclusiveOrExpressionContext;\nclass LogicalAndExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    inclusiveOrExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(InclusiveOrExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, InclusiveOrExpressionContext);\n        }\n    }\n    AndAnd(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.AndAnd);\n        }\n        else {\n            return this.getToken(ClangParser.AndAnd, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_logicalAndExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterLogicalAndExpression) {\n            listener.enterLogicalAndExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitLogicalAndExpression) {\n            listener.exitLogicalAndExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitLogicalAndExpression) {\n            return visitor.visitLogicalAndExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.LogicalAndExpressionContext = LogicalAndExpressionContext;\nclass LogicalOrExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    logicalAndExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(LogicalAndExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, LogicalAndExpressionContext);\n        }\n    }\n    OrOr(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.OrOr);\n        }\n        else {\n            return this.getToken(ClangParser.OrOr, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_logicalOrExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterLogicalOrExpression) {\n            listener.enterLogicalOrExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitLogicalOrExpression) {\n            listener.exitLogicalOrExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitLogicalOrExpression) {\n            return visitor.visitLogicalOrExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.LogicalOrExpressionContext = LogicalOrExpressionContext;\nclass ConditionalExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    logicalOrExpression() {\n        return this.getRuleContext(0, LogicalOrExpressionContext);\n    }\n    Question() { return this.tryGetToken(ClangParser.Question, 0); }\n    expression() {\n        return this.tryGetRuleContext(0, ExpressionContext);\n    }\n    Colon() { return this.tryGetToken(ClangParser.Colon, 0); }\n    conditionalExpression() {\n        return this.tryGetRuleContext(0, ConditionalExpressionContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_conditionalExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterConditionalExpression) {\n            listener.enterConditionalExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitConditionalExpression) {\n            listener.exitConditionalExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitConditionalExpression) {\n            return visitor.visitConditionalExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ConditionalExpressionContext = ConditionalExpressionContext;\nclass AssignmentExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    conditionalExpression() {\n        return this.tryGetRuleContext(0, ConditionalExpressionContext);\n    }\n    unaryExpression() {\n        return this.tryGetRuleContext(0, UnaryExpressionContext);\n    }\n    assignmentOperator() {\n        return this.tryGetRuleContext(0, AssignmentOperatorContext);\n    }\n    assignmentExpression() {\n        return this.tryGetRuleContext(0, AssignmentExpressionContext);\n    }\n    DigitSequence() { return this.tryGetToken(ClangParser.DigitSequence, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_assignmentExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterAssignmentExpression) {\n            listener.enterAssignmentExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitAssignmentExpression) {\n            listener.exitAssignmentExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitAssignmentExpression) {\n            return visitor.visitAssignmentExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.AssignmentExpressionContext = AssignmentExpressionContext;\nclass AssignmentOperatorContext extends ParserRuleContext_1.ParserRuleContext {\n    Assign() { return this.tryGetToken(ClangParser.Assign, 0); }\n    StarAssign() { return this.tryGetToken(ClangParser.StarAssign, 0); }\n    DivAssign() { return this.tryGetToken(ClangParser.DivAssign, 0); }\n    ModAssign() { return this.tryGetToken(ClangParser.ModAssign, 0); }\n    PlusAssign() { return this.tryGetToken(ClangParser.PlusAssign, 0); }\n    MinusAssign() { return this.tryGetToken(ClangParser.MinusAssign, 0); }\n    LeftShiftAssign() { return this.tryGetToken(ClangParser.LeftShiftAssign, 0); }\n    RightShiftAssign() { return this.tryGetToken(ClangParser.RightShiftAssign, 0); }\n    AndAssign() { return this.tryGetToken(ClangParser.AndAssign, 0); }\n    XorAssign() { return this.tryGetToken(ClangParser.XorAssign, 0); }\n    OrAssign() { return this.tryGetToken(ClangParser.OrAssign, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_assignmentOperator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterAssignmentOperator) {\n            listener.enterAssignmentOperator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitAssignmentOperator) {\n            listener.exitAssignmentOperator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitAssignmentOperator) {\n            return visitor.visitAssignmentOperator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.AssignmentOperatorContext = AssignmentOperatorContext;\nclass ExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    assignmentExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(AssignmentExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, AssignmentExpressionContext);\n        }\n    }\n    Comma(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Comma);\n        }\n        else {\n            return this.getToken(ClangParser.Comma, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_expression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterExpression) {\n            listener.enterExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitExpression) {\n            listener.exitExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitExpression) {\n            return visitor.visitExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ExpressionContext = ExpressionContext;\nclass ConstantExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    conditionalExpression() {\n        return this.getRuleContext(0, ConditionalExpressionContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_constantExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterConstantExpression) {\n            listener.enterConstantExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitConstantExpression) {\n            listener.exitConstantExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitConstantExpression) {\n            return visitor.visitConstantExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ConstantExpressionContext = ConstantExpressionContext;\nclass DeclarationContext extends ParserRuleContext_1.ParserRuleContext {\n    declarationSpecifiers() {\n        return this.getRuleContext(0, DeclarationSpecifiersContext);\n    }\n    Semi() { return this.getToken(ClangParser.Semi, 0); }\n    initDeclaratorList() {\n        return this.tryGetRuleContext(0, InitDeclaratorListContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_declaration; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDeclaration) {\n            listener.enterDeclaration(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDeclaration) {\n            listener.exitDeclaration(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDeclaration) {\n            return visitor.visitDeclaration(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DeclarationContext = DeclarationContext;\nclass DeclarationSpecifiersContext extends ParserRuleContext_1.ParserRuleContext {\n    declarationSpecifier(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(DeclarationSpecifierContext);\n        }\n        else {\n            return this.getRuleContext(i, DeclarationSpecifierContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_declarationSpecifiers; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDeclarationSpecifiers) {\n            listener.enterDeclarationSpecifiers(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDeclarationSpecifiers) {\n            listener.exitDeclarationSpecifiers(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDeclarationSpecifiers) {\n            return visitor.visitDeclarationSpecifiers(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DeclarationSpecifiersContext = DeclarationSpecifiersContext;\nclass DeclarationSpecifiers2Context extends ParserRuleContext_1.ParserRuleContext {\n    declarationSpecifier(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(DeclarationSpecifierContext);\n        }\n        else {\n            return this.getRuleContext(i, DeclarationSpecifierContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_declarationSpecifiers2; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDeclarationSpecifiers2) {\n            listener.enterDeclarationSpecifiers2(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDeclarationSpecifiers2) {\n            listener.exitDeclarationSpecifiers2(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDeclarationSpecifiers2) {\n            return visitor.visitDeclarationSpecifiers2(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DeclarationSpecifiers2Context = DeclarationSpecifiers2Context;\nclass DeclarationSpecifierContext extends ParserRuleContext_1.ParserRuleContext {\n    typeSpecifier() {\n        return this.tryGetRuleContext(0, TypeSpecifierContext);\n    }\n    typeQualifier() {\n        return this.tryGetRuleContext(0, TypeQualifierContext);\n    }\n    functionSpecifier() {\n        return this.tryGetRuleContext(0, FunctionSpecifierContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_declarationSpecifier; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDeclarationSpecifier) {\n            listener.enterDeclarationSpecifier(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDeclarationSpecifier) {\n            listener.exitDeclarationSpecifier(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDeclarationSpecifier) {\n            return visitor.visitDeclarationSpecifier(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DeclarationSpecifierContext = DeclarationSpecifierContext;\nclass InitDeclaratorListContext extends ParserRuleContext_1.ParserRuleContext {\n    initDeclarator(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(InitDeclaratorContext);\n        }\n        else {\n            return this.getRuleContext(i, InitDeclaratorContext);\n        }\n    }\n    Comma(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Comma);\n        }\n        else {\n            return this.getToken(ClangParser.Comma, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_initDeclaratorList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterInitDeclaratorList) {\n            listener.enterInitDeclaratorList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitInitDeclaratorList) {\n            listener.exitInitDeclaratorList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitInitDeclaratorList) {\n            return visitor.visitInitDeclaratorList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.InitDeclaratorListContext = InitDeclaratorListContext;\nclass InitDeclaratorContext extends ParserRuleContext_1.ParserRuleContext {\n    declarator() {\n        return this.getRuleContext(0, DeclaratorContext);\n    }\n    Assign() { return this.tryGetToken(ClangParser.Assign, 0); }\n    initializer() {\n        return this.tryGetRuleContext(0, InitializerContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_initDeclarator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterInitDeclarator) {\n            listener.enterInitDeclarator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitInitDeclarator) {\n            listener.exitInitDeclarator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitInitDeclarator) {\n            return visitor.visitInitDeclarator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.InitDeclaratorContext = InitDeclaratorContext;\nclass TypeSpecifierContext extends ParserRuleContext_1.ParserRuleContext {\n    Void() { return this.tryGetToken(ClangParser.Void, 0); }\n    Char() { return this.tryGetToken(ClangParser.Char, 0); }\n    Int() { return this.tryGetToken(ClangParser.Int, 0); }\n    Float() { return this.tryGetToken(ClangParser.Float, 0); }\n    Signed() { return this.tryGetToken(ClangParser.Signed, 0); }\n    Unsigned() { return this.tryGetToken(ClangParser.Unsigned, 0); }\n    structSpecifier() {\n        return this.tryGetRuleContext(0, StructSpecifierContext);\n    }\n    typedefName() {\n        return this.tryGetRuleContext(0, TypedefNameContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_typeSpecifier; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterTypeSpecifier) {\n            listener.enterTypeSpecifier(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitTypeSpecifier) {\n            listener.exitTypeSpecifier(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitTypeSpecifier) {\n            return visitor.visitTypeSpecifier(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.TypeSpecifierContext = TypeSpecifierContext;\nclass StructSpecifierContext extends ParserRuleContext_1.ParserRuleContext {\n    Struct() { return this.getToken(ClangParser.Struct, 0); }\n    LeftBrace() { return this.tryGetToken(ClangParser.LeftBrace, 0); }\n    structDeclarationList() {\n        return this.tryGetRuleContext(0, StructDeclarationListContext);\n    }\n    RightBrace() { return this.tryGetToken(ClangParser.RightBrace, 0); }\n    Identifier() { return this.tryGetToken(ClangParser.Identifier, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_structSpecifier; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterStructSpecifier) {\n            listener.enterStructSpecifier(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitStructSpecifier) {\n            listener.exitStructSpecifier(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitStructSpecifier) {\n            return visitor.visitStructSpecifier(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.StructSpecifierContext = StructSpecifierContext;\nclass StructDeclarationListContext extends ParserRuleContext_1.ParserRuleContext {\n    structDeclaration(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(StructDeclarationContext);\n        }\n        else {\n            return this.getRuleContext(i, StructDeclarationContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_structDeclarationList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterStructDeclarationList) {\n            listener.enterStructDeclarationList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitStructDeclarationList) {\n            listener.exitStructDeclarationList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitStructDeclarationList) {\n            return visitor.visitStructDeclarationList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.StructDeclarationListContext = StructDeclarationListContext;\nclass StructDeclarationContext extends ParserRuleContext_1.ParserRuleContext {\n    specifierQualifierList() {\n        return this.getRuleContext(0, SpecifierQualifierListContext);\n    }\n    structDeclaratorList() {\n        return this.tryGetRuleContext(0, StructDeclaratorListContext);\n    }\n    Semi() { return this.getToken(ClangParser.Semi, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_structDeclaration; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterStructDeclaration) {\n            listener.enterStructDeclaration(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitStructDeclaration) {\n            listener.exitStructDeclaration(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitStructDeclaration) {\n            return visitor.visitStructDeclaration(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.StructDeclarationContext = StructDeclarationContext;\nclass SpecifierQualifierListContext extends ParserRuleContext_1.ParserRuleContext {\n    typeSpecifier() {\n        return this.tryGetRuleContext(0, TypeSpecifierContext);\n    }\n    typeQualifier() {\n        return this.tryGetRuleContext(0, TypeQualifierContext);\n    }\n    specifierQualifierList() {\n        return this.tryGetRuleContext(0, SpecifierQualifierListContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_specifierQualifierList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterSpecifierQualifierList) {\n            listener.enterSpecifierQualifierList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitSpecifierQualifierList) {\n            listener.exitSpecifierQualifierList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitSpecifierQualifierList) {\n            return visitor.visitSpecifierQualifierList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.SpecifierQualifierListContext = SpecifierQualifierListContext;\nclass StructDeclaratorListContext extends ParserRuleContext_1.ParserRuleContext {\n    structDeclarator(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(StructDeclaratorContext);\n        }\n        else {\n            return this.getRuleContext(i, StructDeclaratorContext);\n        }\n    }\n    Comma(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Comma);\n        }\n        else {\n            return this.getToken(ClangParser.Comma, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_structDeclaratorList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterStructDeclaratorList) {\n            listener.enterStructDeclaratorList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitStructDeclaratorList) {\n            listener.exitStructDeclaratorList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitStructDeclaratorList) {\n            return visitor.visitStructDeclaratorList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.StructDeclaratorListContext = StructDeclaratorListContext;\nclass StructDeclaratorContext extends ParserRuleContext_1.ParserRuleContext {\n    declarator() {\n        return this.tryGetRuleContext(0, DeclaratorContext);\n    }\n    Colon() { return this.tryGetToken(ClangParser.Colon, 0); }\n    constantExpression() {\n        return this.tryGetRuleContext(0, ConstantExpressionContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_structDeclarator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterStructDeclarator) {\n            listener.enterStructDeclarator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitStructDeclarator) {\n            listener.exitStructDeclarator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitStructDeclarator) {\n            return visitor.visitStructDeclarator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.StructDeclaratorContext = StructDeclaratorContext;\nclass TypeQualifierContext extends ParserRuleContext_1.ParserRuleContext {\n    Const() { return this.getToken(ClangParser.Const, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_typeQualifier; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterTypeQualifier) {\n            listener.enterTypeQualifier(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitTypeQualifier) {\n            listener.exitTypeQualifier(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitTypeQualifier) {\n            return visitor.visitTypeQualifier(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.TypeQualifierContext = TypeQualifierContext;\nclass FunctionSpecifierContext extends ParserRuleContext_1.ParserRuleContext {\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_functionSpecifier; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterFunctionSpecifier) {\n            listener.enterFunctionSpecifier(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitFunctionSpecifier) {\n            listener.exitFunctionSpecifier(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitFunctionSpecifier) {\n            return visitor.visitFunctionSpecifier(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.FunctionSpecifierContext = FunctionSpecifierContext;\nclass DeclaratorContext extends ParserRuleContext_1.ParserRuleContext {\n    directDeclarator() {\n        return this.getRuleContext(0, DirectDeclaratorContext);\n    }\n    pointer() {\n        return this.tryGetRuleContext(0, PointerContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_declarator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDeclarator) {\n            listener.enterDeclarator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDeclarator) {\n            listener.exitDeclarator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDeclarator) {\n            return visitor.visitDeclarator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DeclaratorContext = DeclaratorContext;\nclass DirectDeclaratorContext extends ParserRuleContext_1.ParserRuleContext {\n    Identifier() { return this.tryGetToken(ClangParser.Identifier, 0); }\n    LeftParen() { return this.tryGetToken(ClangParser.LeftParen, 0); }\n    declarator() {\n        return this.tryGetRuleContext(0, DeclaratorContext);\n    }\n    RightParen() { return this.tryGetToken(ClangParser.RightParen, 0); }\n    directDeclarator() {\n        return this.tryGetRuleContext(0, DirectDeclaratorContext);\n    }\n    LeftBracket() { return this.tryGetToken(ClangParser.LeftBracket, 0); }\n    RightBracket() { return this.tryGetToken(ClangParser.RightBracket, 0); }\n    typeQualifierList() {\n        return this.tryGetRuleContext(0, TypeQualifierListContext);\n    }\n    assignmentExpression() {\n        return this.tryGetRuleContext(0, AssignmentExpressionContext);\n    }\n    Star() { return this.tryGetToken(ClangParser.Star, 0); }\n    parameterTypeList() {\n        return this.tryGetRuleContext(0, ParameterTypeListContext);\n    }\n    identifierList() {\n        return this.tryGetRuleContext(0, IdentifierListContext);\n    }\n    Colon() { return this.tryGetToken(ClangParser.Colon, 0); }\n    DigitSequence() { return this.tryGetToken(ClangParser.DigitSequence, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_directDeclarator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDirectDeclarator) {\n            listener.enterDirectDeclarator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDirectDeclarator) {\n            listener.exitDirectDeclarator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDirectDeclarator) {\n            return visitor.visitDirectDeclarator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DirectDeclaratorContext = DirectDeclaratorContext;\nclass NestedParenthesesBlockContext extends ParserRuleContext_1.ParserRuleContext {\n    LeftParen(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.LeftParen);\n        }\n        else {\n            return this.getToken(ClangParser.LeftParen, i);\n        }\n    }\n    nestedParenthesesBlock(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(NestedParenthesesBlockContext);\n        }\n        else {\n            return this.getRuleContext(i, NestedParenthesesBlockContext);\n        }\n    }\n    RightParen(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.RightParen);\n        }\n        else {\n            return this.getToken(ClangParser.RightParen, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_nestedParenthesesBlock; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterNestedParenthesesBlock) {\n            listener.enterNestedParenthesesBlock(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitNestedParenthesesBlock) {\n            listener.exitNestedParenthesesBlock(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitNestedParenthesesBlock) {\n            return visitor.visitNestedParenthesesBlock(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.NestedParenthesesBlockContext = NestedParenthesesBlockContext;\nclass PointerContext extends ParserRuleContext_1.ParserRuleContext {\n    Star(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Star);\n        }\n        else {\n            return this.getToken(ClangParser.Star, i);\n        }\n    }\n    Caret(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Caret);\n        }\n        else {\n            return this.getToken(ClangParser.Caret, i);\n        }\n    }\n    typeQualifierList(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(TypeQualifierListContext);\n        }\n        else {\n            return this.getRuleContext(i, TypeQualifierListContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_pointer; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterPointer) {\n            listener.enterPointer(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitPointer) {\n            listener.exitPointer(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitPointer) {\n            return visitor.visitPointer(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.PointerContext = PointerContext;\nclass TypeQualifierListContext extends ParserRuleContext_1.ParserRuleContext {\n    typeQualifier(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(TypeQualifierContext);\n        }\n        else {\n            return this.getRuleContext(i, TypeQualifierContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_typeQualifierList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterTypeQualifierList) {\n            listener.enterTypeQualifierList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitTypeQualifierList) {\n            listener.exitTypeQualifierList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitTypeQualifierList) {\n            return visitor.visitTypeQualifierList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.TypeQualifierListContext = TypeQualifierListContext;\nclass ParameterTypeListContext extends ParserRuleContext_1.ParserRuleContext {\n    parameterList() {\n        return this.getRuleContext(0, ParameterListContext);\n    }\n    Comma() { return this.tryGetToken(ClangParser.Comma, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_parameterTypeList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterParameterTypeList) {\n            listener.enterParameterTypeList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitParameterTypeList) {\n            listener.exitParameterTypeList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitParameterTypeList) {\n            return visitor.visitParameterTypeList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ParameterTypeListContext = ParameterTypeListContext;\nclass ParameterListContext extends ParserRuleContext_1.ParserRuleContext {\n    parameterDeclaration(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(ParameterDeclarationContext);\n        }\n        else {\n            return this.getRuleContext(i, ParameterDeclarationContext);\n        }\n    }\n    Comma(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Comma);\n        }\n        else {\n            return this.getToken(ClangParser.Comma, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_parameterList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterParameterList) {\n            listener.enterParameterList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitParameterList) {\n            listener.exitParameterList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitParameterList) {\n            return visitor.visitParameterList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ParameterListContext = ParameterListContext;\nclass ParameterDeclarationContext extends ParserRuleContext_1.ParserRuleContext {\n    declarationSpecifiers() {\n        return this.tryGetRuleContext(0, DeclarationSpecifiersContext);\n    }\n    declarator() {\n        return this.tryGetRuleContext(0, DeclaratorContext);\n    }\n    declarationSpecifiers2() {\n        return this.tryGetRuleContext(0, DeclarationSpecifiers2Context);\n    }\n    abstractDeclarator() {\n        return this.tryGetRuleContext(0, AbstractDeclaratorContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_parameterDeclaration; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterParameterDeclaration) {\n            listener.enterParameterDeclaration(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitParameterDeclaration) {\n            listener.exitParameterDeclaration(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitParameterDeclaration) {\n            return visitor.visitParameterDeclaration(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ParameterDeclarationContext = ParameterDeclarationContext;\nclass IdentifierListContext extends ParserRuleContext_1.ParserRuleContext {\n    Identifier(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Identifier);\n        }\n        else {\n            return this.getToken(ClangParser.Identifier, i);\n        }\n    }\n    Comma(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Comma);\n        }\n        else {\n            return this.getToken(ClangParser.Comma, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_identifierList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterIdentifierList) {\n            listener.enterIdentifierList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitIdentifierList) {\n            listener.exitIdentifierList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitIdentifierList) {\n            return visitor.visitIdentifierList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.IdentifierListContext = IdentifierListContext;\nclass TypeNameContext extends ParserRuleContext_1.ParserRuleContext {\n    specifierQualifierList() {\n        return this.getRuleContext(0, SpecifierQualifierListContext);\n    }\n    abstractDeclarator() {\n        return this.tryGetRuleContext(0, AbstractDeclaratorContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_typeName; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterTypeName) {\n            listener.enterTypeName(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitTypeName) {\n            listener.exitTypeName(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitTypeName) {\n            return visitor.visitTypeName(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.TypeNameContext = TypeNameContext;\nclass AbstractDeclaratorContext extends ParserRuleContext_1.ParserRuleContext {\n    pointer() {\n        return this.tryGetRuleContext(0, PointerContext);\n    }\n    directAbstractDeclarator() {\n        return this.tryGetRuleContext(0, DirectAbstractDeclaratorContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_abstractDeclarator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterAbstractDeclarator) {\n            listener.enterAbstractDeclarator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitAbstractDeclarator) {\n            listener.exitAbstractDeclarator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitAbstractDeclarator) {\n            return visitor.visitAbstractDeclarator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.AbstractDeclaratorContext = AbstractDeclaratorContext;\nclass DirectAbstractDeclaratorContext extends ParserRuleContext_1.ParserRuleContext {\n    LeftParen() { return this.tryGetToken(ClangParser.LeftParen, 0); }\n    abstractDeclarator() {\n        return this.tryGetRuleContext(0, AbstractDeclaratorContext);\n    }\n    RightParen() { return this.tryGetToken(ClangParser.RightParen, 0); }\n    LeftBracket() { return this.tryGetToken(ClangParser.LeftBracket, 0); }\n    RightBracket() { return this.tryGetToken(ClangParser.RightBracket, 0); }\n    typeQualifierList() {\n        return this.tryGetRuleContext(0, TypeQualifierListContext);\n    }\n    assignmentExpression() {\n        return this.tryGetRuleContext(0, AssignmentExpressionContext);\n    }\n    Star() { return this.tryGetToken(ClangParser.Star, 0); }\n    parameterTypeList() {\n        return this.tryGetRuleContext(0, ParameterTypeListContext);\n    }\n    directAbstractDeclarator() {\n        return this.tryGetRuleContext(0, DirectAbstractDeclaratorContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_directAbstractDeclarator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDirectAbstractDeclarator) {\n            listener.enterDirectAbstractDeclarator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDirectAbstractDeclarator) {\n            listener.exitDirectAbstractDeclarator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDirectAbstractDeclarator) {\n            return visitor.visitDirectAbstractDeclarator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DirectAbstractDeclaratorContext = DirectAbstractDeclaratorContext;\nclass TypedefNameContext extends ParserRuleContext_1.ParserRuleContext {\n    Identifier() { return this.getToken(ClangParser.Identifier, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_typedefName; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterTypedefName) {\n            listener.enterTypedefName(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitTypedefName) {\n            listener.exitTypedefName(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitTypedefName) {\n            return visitor.visitTypedefName(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.TypedefNameContext = TypedefNameContext;\nclass InitializerContext extends ParserRuleContext_1.ParserRuleContext {\n    assignmentExpression() {\n        return this.tryGetRuleContext(0, AssignmentExpressionContext);\n    }\n    LeftBrace() { return this.tryGetToken(ClangParser.LeftBrace, 0); }\n    initializerList() {\n        return this.tryGetRuleContext(0, InitializerListContext);\n    }\n    RightBrace() { return this.tryGetToken(ClangParser.RightBrace, 0); }\n    Comma() { return this.tryGetToken(ClangParser.Comma, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_initializer; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterInitializer) {\n            listener.enterInitializer(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitInitializer) {\n            listener.exitInitializer(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitInitializer) {\n            return visitor.visitInitializer(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.InitializerContext = InitializerContext;\nclass InitializerListContext extends ParserRuleContext_1.ParserRuleContext {\n    initializer(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(InitializerContext);\n        }\n        else {\n            return this.getRuleContext(i, InitializerContext);\n        }\n    }\n    designation(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(DesignationContext);\n        }\n        else {\n            return this.getRuleContext(i, DesignationContext);\n        }\n    }\n    Comma(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Comma);\n        }\n        else {\n            return this.getToken(ClangParser.Comma, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_initializerList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterInitializerList) {\n            listener.enterInitializerList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitInitializerList) {\n            listener.exitInitializerList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitInitializerList) {\n            return visitor.visitInitializerList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.InitializerListContext = InitializerListContext;\nclass DesignationContext extends ParserRuleContext_1.ParserRuleContext {\n    designatorList() {\n        return this.getRuleContext(0, DesignatorListContext);\n    }\n    Assign() { return this.getToken(ClangParser.Assign, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_designation; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDesignation) {\n            listener.enterDesignation(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDesignation) {\n            listener.exitDesignation(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDesignation) {\n            return visitor.visitDesignation(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DesignationContext = DesignationContext;\nclass DesignatorListContext extends ParserRuleContext_1.ParserRuleContext {\n    designator(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(DesignatorContext);\n        }\n        else {\n            return this.getRuleContext(i, DesignatorContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_designatorList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDesignatorList) {\n            listener.enterDesignatorList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDesignatorList) {\n            listener.exitDesignatorList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDesignatorList) {\n            return visitor.visitDesignatorList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DesignatorListContext = DesignatorListContext;\nclass DesignatorContext extends ParserRuleContext_1.ParserRuleContext {\n    LeftBracket() { return this.tryGetToken(ClangParser.LeftBracket, 0); }\n    constantExpression() {\n        return this.tryGetRuleContext(0, ConstantExpressionContext);\n    }\n    RightBracket() { return this.tryGetToken(ClangParser.RightBracket, 0); }\n    Dot() { return this.tryGetToken(ClangParser.Dot, 0); }\n    Identifier() { return this.tryGetToken(ClangParser.Identifier, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_designator; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDesignator) {\n            listener.enterDesignator(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDesignator) {\n            listener.exitDesignator(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDesignator) {\n            return visitor.visitDesignator(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DesignatorContext = DesignatorContext;\nclass StatementContext extends ParserRuleContext_1.ParserRuleContext {\n    compoundStatement() {\n        return this.tryGetRuleContext(0, CompoundStatementContext);\n    }\n    expressionStatement() {\n        return this.tryGetRuleContext(0, ExpressionStatementContext);\n    }\n    selectionStatement() {\n        return this.tryGetRuleContext(0, SelectionStatementContext);\n    }\n    iterationStatement() {\n        return this.tryGetRuleContext(0, IterationStatementContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_statement; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterStatement) {\n            listener.enterStatement(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitStatement) {\n            listener.exitStatement(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitStatement) {\n            return visitor.visitStatement(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.StatementContext = StatementContext;\nclass CompoundStatementContext extends ParserRuleContext_1.ParserRuleContext {\n    LeftBrace() { return this.getToken(ClangParser.LeftBrace, 0); }\n    RightBrace() { return this.getToken(ClangParser.RightBrace, 0); }\n    blockItemList() {\n        return this.tryGetRuleContext(0, BlockItemListContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_compoundStatement; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterCompoundStatement) {\n            listener.enterCompoundStatement(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitCompoundStatement) {\n            listener.exitCompoundStatement(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitCompoundStatement) {\n            return visitor.visitCompoundStatement(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.CompoundStatementContext = CompoundStatementContext;\nclass BlockItemListContext extends ParserRuleContext_1.ParserRuleContext {\n    blockItem(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(BlockItemContext);\n        }\n        else {\n            return this.getRuleContext(i, BlockItemContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_blockItemList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterBlockItemList) {\n            listener.enterBlockItemList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitBlockItemList) {\n            listener.exitBlockItemList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitBlockItemList) {\n            return visitor.visitBlockItemList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.BlockItemListContext = BlockItemListContext;\nclass BlockItemContext extends ParserRuleContext_1.ParserRuleContext {\n    statement() {\n        return this.tryGetRuleContext(0, StatementContext);\n    }\n    declaration() {\n        return this.tryGetRuleContext(0, DeclarationContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_blockItem; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterBlockItem) {\n            listener.enterBlockItem(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitBlockItem) {\n            listener.exitBlockItem(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitBlockItem) {\n            return visitor.visitBlockItem(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.BlockItemContext = BlockItemContext;\nclass ExpressionStatementContext extends ParserRuleContext_1.ParserRuleContext {\n    Semi() { return this.getToken(ClangParser.Semi, 0); }\n    expression() {\n        return this.tryGetRuleContext(0, ExpressionContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_expressionStatement; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterExpressionStatement) {\n            listener.enterExpressionStatement(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitExpressionStatement) {\n            listener.exitExpressionStatement(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitExpressionStatement) {\n            return visitor.visitExpressionStatement(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ExpressionStatementContext = ExpressionStatementContext;\nclass SelectionStatementContext extends ParserRuleContext_1.ParserRuleContext {\n    If() { return this.getToken(ClangParser.If, 0); }\n    LeftParen() { return this.getToken(ClangParser.LeftParen, 0); }\n    expression() {\n        return this.getRuleContext(0, ExpressionContext);\n    }\n    RightParen() { return this.getToken(ClangParser.RightParen, 0); }\n    statement(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(StatementContext);\n        }\n        else {\n            return this.getRuleContext(i, StatementContext);\n        }\n    }\n    Else() { return this.tryGetToken(ClangParser.Else, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_selectionStatement; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterSelectionStatement) {\n            listener.enterSelectionStatement(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitSelectionStatement) {\n            listener.exitSelectionStatement(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitSelectionStatement) {\n            return visitor.visitSelectionStatement(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.SelectionStatementContext = SelectionStatementContext;\nclass IterationStatementContext extends ParserRuleContext_1.ParserRuleContext {\n    While() { return this.tryGetToken(ClangParser.While, 0); }\n    LeftParen() { return this.getToken(ClangParser.LeftParen, 0); }\n    expression() {\n        return this.tryGetRuleContext(0, ExpressionContext);\n    }\n    RightParen() { return this.getToken(ClangParser.RightParen, 0); }\n    statement() {\n        return this.getRuleContext(0, StatementContext);\n    }\n    Do() { return this.tryGetToken(ClangParser.Do, 0); }\n    Semi() { return this.tryGetToken(ClangParser.Semi, 0); }\n    For() { return this.tryGetToken(ClangParser.For, 0); }\n    forCondition() {\n        return this.tryGetRuleContext(0, ForConditionContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_iterationStatement; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterIterationStatement) {\n            listener.enterIterationStatement(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitIterationStatement) {\n            listener.exitIterationStatement(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitIterationStatement) {\n            return visitor.visitIterationStatement(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.IterationStatementContext = IterationStatementContext;\nclass ForConditionContext extends ParserRuleContext_1.ParserRuleContext {\n    Semi(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Semi);\n        }\n        else {\n            return this.getToken(ClangParser.Semi, i);\n        }\n    }\n    forDeclaration() {\n        return this.tryGetRuleContext(0, ForDeclarationContext);\n    }\n    forExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(ForExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, ForExpressionContext);\n        }\n    }\n    expression() {\n        return this.tryGetRuleContext(0, ExpressionContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_forCondition; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterForCondition) {\n            listener.enterForCondition(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitForCondition) {\n            listener.exitForCondition(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitForCondition) {\n            return visitor.visitForCondition(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ForConditionContext = ForConditionContext;\nclass ForDeclarationContext extends ParserRuleContext_1.ParserRuleContext {\n    declarationSpecifiers() {\n        return this.getRuleContext(0, DeclarationSpecifiersContext);\n    }\n    initDeclaratorList() {\n        return this.tryGetRuleContext(0, InitDeclaratorListContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_forDeclaration; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterForDeclaration) {\n            listener.enterForDeclaration(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitForDeclaration) {\n            listener.exitForDeclaration(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitForDeclaration) {\n            return visitor.visitForDeclaration(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ForDeclarationContext = ForDeclarationContext;\nclass ForExpressionContext extends ParserRuleContext_1.ParserRuleContext {\n    assignmentExpression(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(AssignmentExpressionContext);\n        }\n        else {\n            return this.getRuleContext(i, AssignmentExpressionContext);\n        }\n    }\n    Comma(i) {\n        if (i === undefined) {\n            return this.getTokens(ClangParser.Comma);\n        }\n        else {\n            return this.getToken(ClangParser.Comma, i);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_forExpression; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterForExpression) {\n            listener.enterForExpression(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitForExpression) {\n            listener.exitForExpression(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitForExpression) {\n            return visitor.visitForExpression(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ForExpressionContext = ForExpressionContext;\nclass CompilationUnitContext extends ParserRuleContext_1.ParserRuleContext {\n    EOF() { return this.getToken(ClangParser.EOF, 0); }\n    translationUnit() {\n        return this.tryGetRuleContext(0, TranslationUnitContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_compilationUnit; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterCompilationUnit) {\n            listener.enterCompilationUnit(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitCompilationUnit) {\n            listener.exitCompilationUnit(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitCompilationUnit) {\n            return visitor.visitCompilationUnit(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.CompilationUnitContext = CompilationUnitContext;\nclass TranslationUnitContext extends ParserRuleContext_1.ParserRuleContext {\n    externalDeclaration(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(ExternalDeclarationContext);\n        }\n        else {\n            return this.getRuleContext(i, ExternalDeclarationContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_translationUnit; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterTranslationUnit) {\n            listener.enterTranslationUnit(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitTranslationUnit) {\n            listener.exitTranslationUnit(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitTranslationUnit) {\n            return visitor.visitTranslationUnit(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.TranslationUnitContext = TranslationUnitContext;\nclass ExternalDeclarationContext extends ParserRuleContext_1.ParserRuleContext {\n    functionDefinition() {\n        return this.tryGetRuleContext(0, FunctionDefinitionContext);\n    }\n    declaration() {\n        return this.tryGetRuleContext(0, DeclarationContext);\n    }\n    Semi() { return this.tryGetToken(ClangParser.Semi, 0); }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_externalDeclaration; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterExternalDeclaration) {\n            listener.enterExternalDeclaration(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitExternalDeclaration) {\n            listener.exitExternalDeclaration(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitExternalDeclaration) {\n            return visitor.visitExternalDeclaration(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.ExternalDeclarationContext = ExternalDeclarationContext;\nclass FunctionDefinitionContext extends ParserRuleContext_1.ParserRuleContext {\n    declarator() {\n        return this.getRuleContext(0, DeclaratorContext);\n    }\n    compoundStatement() {\n        return this.getRuleContext(0, CompoundStatementContext);\n    }\n    declarationSpecifiers() {\n        return this.tryGetRuleContext(0, DeclarationSpecifiersContext);\n    }\n    declarationList() {\n        return this.tryGetRuleContext(0, DeclarationListContext);\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_functionDefinition; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterFunctionDefinition) {\n            listener.enterFunctionDefinition(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitFunctionDefinition) {\n            listener.exitFunctionDefinition(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitFunctionDefinition) {\n            return visitor.visitFunctionDefinition(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.FunctionDefinitionContext = FunctionDefinitionContext;\nclass DeclarationListContext extends ParserRuleContext_1.ParserRuleContext {\n    declaration(i) {\n        if (i === undefined) {\n            return this.getRuleContexts(DeclarationContext);\n        }\n        else {\n            return this.getRuleContext(i, DeclarationContext);\n        }\n    }\n    constructor(parent, invokingState) {\n        super(parent, invokingState);\n    }\n    // @Override\n    get ruleIndex() { return ClangParser.RULE_declarationList; }\n    // @Override\n    enterRule(listener) {\n        if (listener.enterDeclarationList) {\n            listener.enterDeclarationList(this);\n        }\n    }\n    // @Override\n    exitRule(listener) {\n        if (listener.exitDeclarationList) {\n            listener.exitDeclarationList(this);\n        }\n    }\n    // @Override\n    accept(visitor) {\n        if (visitor.visitDeclarationList) {\n            return visitor.visitDeclarationList(this);\n        }\n        else {\n            return visitor.visitChildren(this);\n        }\n    }\n}\nexports.DeclarationListContext = DeclarationListContext;\n//# sourceMappingURL=ClangParser.js.map","/**\n * Defined for displaying an external library.\n * @see Library the definition of a Library at AssessmentTypes.ts in an assessment.\n */\nexport type External = {\n  key: number;\n  name: ExternalLibraryName;\n  symbols: string[];\n};\n\nexport enum ExternalLibraryName {\n  NONE = 'NONE',\n  SOUNDS = 'SOUNDS',\n  EV3 = 'EV3' // Remote execution device library\n}\n\nexport type ExternalLibrary = {\n  name: ExternalLibraryName;\n  symbols: string[];\n};\n\n/**\n * Defines which external libraries are available for usage, and what\n * external symbols (exposed functions) are under them.\n */\n\nconst libEntries: Array<[ExternalLibraryName, string[]]> = [\n  [ExternalLibraryName.NONE, []],\n  [ExternalLibraryName.SOUNDS, []]\n];\n\nexport const externalLibraries: Map<string, string[]> = new Map(libEntries);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.simplify = exports.stripIndent = exports.oneLine = void 0;\nfunction templateToString(content, variables) {\n    if (typeof content === 'string') {\n        return content;\n    }\n    return variables.reduce((built, fragment, index) => built + fragment + content[index + 1], content[0]);\n}\nfunction oneLine(content, ...variables) {\n    return templateToString(content, variables)\n        .replace(/(?:\\n(?:\\s*))+/g, ' ')\n        .trim();\n}\nexports.oneLine = oneLine;\n// Strips the \"minimum indent\" from every line in content,\n// then trims whitespace at the beginning and end of the string.\n//\n// two spaces of \"indent\" removed from both lines:\n//   stripIndent('  a\\n  b') == 'a\\nb'\n// only one space of \"indent\" removed from both lines,\n// because the first line only contains a single space of indent:\n//   stripIndent(' a\\n  b') == 'a\\n b'\n// first trims one space of indent from both lines,\n// but later trims another space from the first line\n// as it's at the beginning of the string:\n//   stripIndent('  a\\n b') == 'a\\nb'\nfunction stripIndent(content, ...variables) {\n    const result = templateToString(content, variables);\n    const match = result.match(/^[^\\S\\n]*(?=\\S)/gm);\n    const indent = match && Math.min(...match.map(el => el.length));\n    if (indent) {\n        return result.replace(new RegExp(`^.{${indent}}`, 'gm'), '').trim();\n    }\n    return result.trim();\n}\nexports.stripIndent = stripIndent;\nfunction simplify(content, maxLength = 15, separator = '...') {\n    if (content.length < maxLength) {\n        return content;\n    }\n    const charsToTake = Math.ceil(maxLength - separator.length / 2);\n    return content.slice(0, charsToTake) + ' ... ' + content.slice(charsToTake);\n}\nexports.simplify = simplify;\n//# sourceMappingURL=formatters.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./sourceRunner\"), exports);\n__exportStar(require(\"./utils\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sourceFilesRunner = exports.sourceRunner = void 0;\nconst localImportErrors_1 = require(\"../errors/localImportErrors\");\nconst interpreter_1 = require(\"../interpreter/interpreter\");\nconst hoistAndMergeImports_1 = require(\"../localImports/transformers/hoistAndMergeImports\");\nconst removeExports_1 = require(\"../localImports/transformers/removeExports\");\nconst removeNonSourceModuleImports_1 = require(\"../localImports/transformers/removeNonSourceModuleImports\");\nconst parser_1 = require(\"../parser/parser\");\nconst schedulers_1 = require(\"../schedulers\");\nconst types_1 = require(\"../types\");\nconst validator_1 = require(\"../validator/validator\");\nconst utils_1 = require(\"./utils\");\nconst DEFAULT_SOURCE_OPTIONS = {\n    scheduler: 'async',\n    steps: 1000,\n    stepLimit: 1000,\n    executionMethod: 'auto',\n    variant: types_1.Variant.DEFAULT,\n    originalMaxExecTime: 1000,\n    useSubst: false,\n    isPrelude: false,\n    throwInfiniteLoops: true\n};\nfunction runInterpreter(program, context, options) {\n    const it = (0, interpreter_1.evaluate)(program, context);\n    const scheduler = new schedulers_1.PreemptiveScheduler(options.steps);\n    return scheduler.run(it, context);\n}\nfunction sourceRunner(code, context, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const theOptions = Object.assign(Object.assign({}, DEFAULT_SOURCE_OPTIONS), options);\n        context.variant = (0, utils_1.determineVariant)(context, options);\n        context.errors = [];\n        // Parse and validate\n        const program = (0, parser_1.parse)(code, context);\n        if (!program) {\n            return utils_1.resolvedErrorPromise;\n        }\n        // TODO: Remove this after runners have been refactored.\n        //       These should be done as part of the local imports\n        //       preprocessing step.\n        (0, removeExports_1.removeExports)(program);\n        (0, removeNonSourceModuleImports_1.removeNonSourceModuleImports)(program);\n        (0, hoistAndMergeImports_1.hoistAndMergeImports)(program);\n        (0, validator_1.validateAndAnnotate)(program, context);\n        context.unTypecheckedCode.push(code);\n        if (context.errors.length > 0) {\n            return utils_1.resolvedErrorPromise;\n        }\n        // Handle preludes\n        if (context.prelude !== null) {\n            const prelude = context.prelude;\n            context.prelude = null;\n            yield sourceRunner(prelude, context, Object.assign(Object.assign({}, options), { isPrelude: true }));\n            return sourceRunner(code, context, options);\n        }\n        return runInterpreter(program, context, theOptions);\n    });\n}\nexports.sourceRunner = sourceRunner;\nfunction sourceFilesRunner(files, entrypointFilePath, context, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const entrypointCode = files[entrypointFilePath];\n        if (entrypointCode === undefined) {\n            context.errors.push(new localImportErrors_1.CannotFindModuleError(entrypointFilePath));\n            return utils_1.resolvedErrorPromise;\n        }\n        context.variant = (0, utils_1.determineVariant)(context, options);\n        // TODO: Make use of the preprocessed program AST after refactoring runners.\n        // const preprocessedProgram = preprocessFileImports(files, entrypointFilePath, context)\n        // if (!preprocessedProgram) {\n        //   return resolvedErrorPromise\n        // }\n        return sourceRunner(entrypointCode, context, options);\n    });\n}\nexports.sourceFilesRunner = sourceFilesRunner;\n//# sourceMappingURL=sourceRunner.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.evaluate = exports.evaluators = exports.pushEnvironment = exports.actualValue = void 0;\nconst operators_1 = require(\"../utils/operators\");\nconst rttc = require(\"../utils/rttc\");\nclass Thunk {\n    constructor(exp, env) {\n        this.exp = exp;\n        this.env = env;\n        this.isMemoized = false;\n        this.value = null;\n    }\n}\nfunction* forceIt(val, context) {\n    if (val instanceof Thunk) {\n        if (val.isMemoized)\n            return val.value;\n        (0, exports.pushEnvironment)(context, val.env);\n        const evalRes = yield* actualValue(val.exp, context);\n        popEnvironment(context);\n        val.value = evalRes;\n        val.isMemoized = true;\n        return evalRes;\n    }\n    else\n        return val;\n}\nfunction* actualValue(exp, context) {\n    const evalResult = yield* evaluate(exp, context);\n    const forced = yield* forceIt(evalResult, context);\n    return forced;\n}\nexports.actualValue = actualValue;\nconst handleRuntimeError = (context, error) => {\n    context.errors.push(error);\n    context.runtime.environments = context.runtime.environments.slice(-context.numberOfOuterEnvironments);\n    throw error;\n};\nfunction* visit(context, node) {\n    context.runtime.nodes.unshift(node);\n    yield context;\n}\nfunction* leave(context) {\n    context.runtime.break = false;\n    context.runtime.nodes.shift();\n    yield context;\n}\nconst popEnvironment = (context) => context.runtime.environments.shift();\nconst pushEnvironment = (context, environment) => {\n    context.runtime.environments.unshift(environment);\n    context.runtime.environmentTree.insert(environment);\n};\nexports.pushEnvironment = pushEnvironment;\nfunction* evaluateBlockSatement(context, node) {\n    let result;\n    for (const statement of node.body) {\n        result = yield* evaluate(statement, context);\n    }\n    return result;\n}\n/**\n * WARNING: Do not use object literal shorthands, e.g.\n *   {\n *     *Literal(node: es.Literal, ...) {...},\n *     *ThisExpression(node: es.ThisExpression, ..._ {...},\n *     ...\n *   }\n * They do not minify well, raising uncaught syntax errors in production.\n * See: https://github.com/webpack/webpack/issues/7566\n */\n// tslint:disable:object-literal-shorthand\n// prettier-ignore\nexports.evaluators = {\n    /** Simple Values */\n    Literal: function* (node, _context) {\n        return node.value;\n    },\n    TemplateLiteral: function* (node) {\n        // Expressions like `${1}` are not allowed, so no processing needed\n        return node.quasis[0].value.cooked;\n    },\n    ThisExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    ArrayExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    FunctionExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    ArrowFunctionExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    Identifier: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    CallExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    NewExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    UnaryExpression: function* (node, context) {\n        const value = yield* actualValue(node.argument, context);\n        const error = rttc.checkUnaryExpression(node, node.operator, value);\n        if (error) {\n            return handleRuntimeError(context, error);\n        }\n        return (0, operators_1.evaluateUnaryExpression)(node.operator, value);\n    },\n    BinaryExpression: function* (node, context) {\n        const left = yield* actualValue(node.left, context);\n        const right = yield* actualValue(node.right, context);\n        const error = rttc.checkBinaryExpression(node, node.operator, left, right);\n        if (error) {\n            return handleRuntimeError(context, error);\n        }\n        return (0, operators_1.evaluateBinaryExpression)(node.operator, left, right);\n    },\n    ConditionalExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    LogicalExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    VariableDeclaration: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    ContinueStatement: function* (_node, _context) {\n        throw new Error(`not supported yet: ${_node.type}`);\n    },\n    BreakStatement: function* (_node, _context) {\n        throw new Error(`not supported yet: ${_node.type}`);\n    },\n    ForStatement: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    AssignmentExpression: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    FunctionDeclaration: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    IfStatement: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    ExpressionStatement: function* (node, context) {\n        return yield* evaluate(node.expression, context);\n    },\n    ReturnStatement: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    WhileStatement: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    BlockStatement: function* (node, context) {\n        throw new Error(`not supported yet: ${node.type}`);\n    },\n    Program: function* (node, context) {\n        const result = yield* forceIt(yield* evaluateBlockSatement(context, node), context);\n        return result;\n    }\n};\n// tslint:enable:object-literal-shorthand\nfunction* evaluate(node, context) {\n    const result = yield* exports.evaluators[node.type](node, context);\n    yield* leave(context);\n    return result;\n}\nexports.evaluate = evaluate;\n//# sourceMappingURL=interpreter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hoistAndMergeImports = void 0;\nconst _ = require(\"lodash\");\nconst baseConstructors_1 = require(\"../constructors/baseConstructors\");\nconst contextSpecificConstructors_1 = require(\"../constructors/contextSpecificConstructors\");\nconst typeGuards_1 = require(\"../typeGuards\");\n/**\n * Hoists import declarations to the top of the program & merges duplicate\n * imports for the same module.\n *\n * Note that two modules are the same if and only if their import source\n * is the same. This function does not resolve paths against a base\n * directory. If such a functionality is required, this function will\n * need to be modified.\n *\n * @param program The AST which should have its ImportDeclaration nodes\n *                hoisted & duplicate imports merged.\n */\nconst hoistAndMergeImports = (program) => {\n    var _a;\n    // Separate import declarations from non-import declarations.\n    const importDeclarations = program.body.filter(typeGuards_1.isImportDeclaration);\n    const nonImportDeclarations = program.body.filter((node) => !(0, typeGuards_1.isImportDeclaration)(node));\n    // Merge import sources & specifiers.\n    const importSourceToSpecifiersMap = new Map();\n    for (const importDeclaration of importDeclarations) {\n        const importSource = importDeclaration.source.value;\n        if (typeof importSource !== 'string') {\n            throw new Error('Module names must be strings.');\n        }\n        const specifiers = (_a = importSourceToSpecifiersMap.get(importSource)) !== null && _a !== void 0 ? _a : [];\n        for (const specifier of importDeclaration.specifiers) {\n            // The Acorn parser adds extra information to AST nodes that are not\n            // part of the ESTree types. As such, we need to clone and strip\n            // the import specifier AST nodes to get a canonical representation\n            // that we can use to keep track of whether the import specifier\n            // is a duplicate or not.\n            const strippedSpecifier = (0, contextSpecificConstructors_1.cloneAndStripImportSpecifier)(specifier);\n            // Note that we cannot make use of JavaScript's built-in Set class\n            // as it compares references for objects.\n            const isSpecifierDuplicate = specifiers.filter((specifier) => {\n                return _.isEqual(strippedSpecifier, specifier);\n            }).length !== 0;\n            if (isSpecifierDuplicate) {\n                continue;\n            }\n            specifiers.push(strippedSpecifier);\n        }\n        importSourceToSpecifiersMap.set(importSource, specifiers);\n    }\n    // Convert the merged import sources & specifiers back into import declarations.\n    const mergedImportDeclarations = [];\n    importSourceToSpecifiersMap.forEach((specifiers, importSource) => {\n        mergedImportDeclarations.push((0, baseConstructors_1.createImportDeclaration)(specifiers, (0, baseConstructors_1.createLiteral)(importSource)));\n    });\n    // Hoist the merged import declarations to the top of the program body.\n    program.body = [...mergedImportDeclarations, ...nonImportDeclarations];\n};\nexports.hoistAndMergeImports = hoistAndMergeImports;\n//# sourceMappingURL=hoistAndMergeImports.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneAndStripImportSpecifier = exports.createInvokedFunctionResultVariableDeclaration = exports.createImportedNameDeclaration = exports.createListCallExpression = exports.createPairCallExpression = void 0;\nconst localImport_prelude_1 = require(\"../../stdlib/localImport.prelude\");\nconst baseConstructors_1 = require(\"./baseConstructors\");\n/**\n * Constructs a call to the `pair` function.\n *\n * @param head The head of the pair.\n * @param tail The tail of the pair.\n */\nconst createPairCallExpression = (head, tail) => {\n    return (0, baseConstructors_1.createCallExpression)('pair', [head, tail]);\n};\nexports.createPairCallExpression = createPairCallExpression;\n/**\n * Constructs a call to the `list` function.\n *\n * @param listElements The elements of the list.\n */\nconst createListCallExpression = (listElements) => {\n    return (0, baseConstructors_1.createCallExpression)('list', listElements);\n};\nexports.createListCallExpression = createListCallExpression;\n/**\n * Constructs the AST equivalent of:\n * const importedName = __access_export__(functionName, lookupName);\n *\n * @param functionName The name of the transformed function declaration to import from.\n * @param importedName The name of the import.\n * @param lookupName   The name to lookup in the transformed function declaration.\n */\nconst createImportedNameDeclaration = (functionName, importedName, lookupName) => {\n    const callExpression = (0, baseConstructors_1.createCallExpression)(localImport_prelude_1.accessExportFunctionName, [\n        (0, baseConstructors_1.createIdentifier)(functionName),\n        (0, baseConstructors_1.createLiteral)(lookupName)\n    ]);\n    const variableDeclarator = (0, baseConstructors_1.createVariableDeclarator)(importedName, callExpression);\n    return (0, baseConstructors_1.createVariableDeclaration)([variableDeclarator], 'const');\n};\nexports.createImportedNameDeclaration = createImportedNameDeclaration;\n/**\n * Constructs the AST equivalent of:\n * const variableName = functionName(...functionArgs);\n *\n * @param functionName The name of the transformed function declaration to invoke.\n * @param variableName The name of the variable holding the result of the function invocation.\n * @param functionArgs The arguments to be passed when invoking the function.\n */\nconst createInvokedFunctionResultVariableDeclaration = (functionName, variableName, functionArgs) => {\n    const callExpression = (0, baseConstructors_1.createCallExpression)(functionName, functionArgs);\n    const variableDeclarator = (0, baseConstructors_1.createVariableDeclarator)((0, baseConstructors_1.createIdentifier)(variableName), callExpression);\n    return (0, baseConstructors_1.createVariableDeclaration)([variableDeclarator], 'const');\n};\nexports.createInvokedFunctionResultVariableDeclaration = createInvokedFunctionResultVariableDeclaration;\n/**\n * Clones the import specifier, but only the properties\n * that are part of its ESTree AST type. This is useful for\n * stripping out extraneous information on the import\n * specifier AST nodes (such as the location information\n * that the Acorn parser adds).\n *\n * @param importSpecifier The import specifier to be cloned.\n */\nconst cloneAndStripImportSpecifier = (importSpecifier) => {\n    switch (importSpecifier.type) {\n        case 'ImportSpecifier':\n            return {\n                type: 'ImportSpecifier',\n                local: (0, baseConstructors_1.createIdentifier)(importSpecifier.local.name),\n                imported: (0, baseConstructors_1.createIdentifier)(importSpecifier.imported.name)\n            };\n        case 'ImportDefaultSpecifier':\n            return {\n                type: 'ImportDefaultSpecifier',\n                local: (0, baseConstructors_1.createIdentifier)(importSpecifier.local.name)\n            };\n        case 'ImportNamespaceSpecifier':\n            return {\n                type: 'ImportNamespaceSpecifier',\n                local: (0, baseConstructors_1.createIdentifier)(importSpecifier.local.name)\n            };\n    }\n};\nexports.cloneAndStripImportSpecifier = cloneAndStripImportSpecifier;\n//# sourceMappingURL=contextSpecificConstructors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.localImportPrelude = exports.defaultExportLookupName = exports.accessExportFunctionName = void 0;\nexports.accessExportFunctionName = '__access_export__';\n// We can make use of 'default' to denote that the default export\n// should be accessed because 'default' is a reserved keyword in\n// Source. Specifically, the Acorn parser does not allow 'default'\n// to be used as a name.\nexports.defaultExportLookupName = 'default';\nexports.localImportPrelude = `\nfunction __access_named_export__(named_exports, lookup_name) {\n  if (is_null(named_exports)) {\n    return undefined;\n  } else {\n    const name = head(head(named_exports));\n    const identifier = tail(head(named_exports));\n    if (name === lookup_name) {\n      return identifier;\n    } else {\n      return __access_named_export__(tail(named_exports), lookup_name);\n    }\n  }\n}\n\nfunction ${exports.accessExportFunctionName}(exports, lookup_name) {\n  if (lookup_name === \"${exports.defaultExportLookupName}\") {\n    return head(exports);\n  } else {\n    const named_exports = tail(exports);\n    return __access_named_export__(named_exports, lookup_name);\n  }\n}\n`;\n//# sourceMappingURL=localImport.prelude.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeExports = void 0;\nconst walkers_1 = require(\"../../utils/walkers\");\nconst typeGuards_1 = require(\"../typeGuards\");\n/**\n * Removes all export-related nodes from the AST.\n *\n * Export-related AST nodes are only needed in the local imports pre-processing\n * step to determine which functions/variables/expressions should be made\n * available to other files/modules. After which, they have no functional effect\n * on program evaluation.\n *\n * @param program The AST which should be stripped of export-related nodes.\n */\nconst removeExports = (program) => {\n    (0, walkers_1.ancestor)(program, {\n        // TODO: Handle other export AST nodes.\n        ExportNamedDeclaration(node, _state, ancestors) {\n            // The ancestors array contains the current node, meaning that the\n            // parent node is the second last node of the array.\n            const parent = ancestors[ancestors.length - 2];\n            // The parent node of an ExportNamedDeclaration node must be a Program node.\n            if (parent.type !== 'Program') {\n                return;\n            }\n            const nodeIndex = parent.body.findIndex(n => n === node);\n            if (node.declaration) {\n                // If the ExportNamedDeclaration node contains a declaration, replace\n                // it with the declaration node in its parent node's body.\n                parent.body[nodeIndex] = node.declaration;\n            }\n            else {\n                // Otherwise, remove the ExportNamedDeclaration node in its parent node's body.\n                parent.body.splice(nodeIndex, 1);\n            }\n        },\n        ExportDefaultDeclaration(node, _state, ancestors) {\n            // The ancestors array contains the current node, meaning that the\n            // parent node is the second last node of the array.\n            const parent = ancestors[ancestors.length - 2];\n            // The parent node of an ExportNamedDeclaration node must be a Program node.\n            if (parent.type !== 'Program') {\n                return;\n            }\n            const nodeIndex = parent.body.findIndex(n => n === node);\n            // 'node.declaration' can be either a Declaration or an Expression.\n            if ((0, typeGuards_1.isDeclaration)(node.declaration)) {\n                // If the ExportDefaultDeclaration node contains a declaration, replace\n                // it with the declaration node in its parent node's body.\n                parent.body[nodeIndex] = node.declaration;\n            }\n            else {\n                // Otherwise, the ExportDefaultDeclaration node contains a statement.\n                // Remove the ExportDefaultDeclaration node in its parent node's body.\n                parent.body.splice(nodeIndex, 1);\n            }\n        }\n    });\n};\nexports.removeExports = removeExports;\n//# sourceMappingURL=removeExports.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeNonSourceModuleImports = exports.isSourceModule = void 0;\nconst walkers_1 = require(\"../../utils/walkers\");\nconst filePaths_1 = require(\"../filePaths\");\n/**\n * Returns whether a module name refers to a Source module.\n * We define a Source module name to be any string that is not\n * a file path.\n *\n * Source module import:           `import { x } from \"module\";`\n * Local (relative) module import: `import { x } from \"./module\";`\n * Local (absolute) module import: `import { x } from \"/dir/dir2/module\";`\n *\n * @param moduleName The name of the module.\n */\nconst isSourceModule = (moduleName) => {\n    return !(0, filePaths_1.isFilePath)(moduleName);\n};\nexports.isSourceModule = isSourceModule;\n/**\n * Removes all non-Source module import-related nodes from the AST.\n *\n * All import-related nodes which are not removed in the pre-processing\n * step will be treated by the Source modules loader as a Source module.\n * If a Source module by the same name does not exist, the program\n * evaluation will error out. As such, this function removes all\n * import-related AST nodes which the Source module loader does not\n * support, as well as ImportDeclaration nodes for local module imports.\n *\n * The definition of whether a module is a local module or a Source\n * module depends on the implementation of the `isSourceModule` function.\n *\n * @param program The AST which should be stripped of non-Source module\n *                import-related nodes.\n */\nconst removeNonSourceModuleImports = (program) => {\n    // First pass: remove all import AST nodes which are unused by Source modules.\n    (0, walkers_1.ancestor)(program, {\n        ImportSpecifier(_node, _state, _ancestors) {\n            // Nothing to do here since ImportSpecifier nodes are used by Source modules.\n        },\n        ImportDefaultSpecifier(node, _state, ancestors) {\n            // The ancestors array contains the current node, meaning that the\n            // parent node is the second last node of the array.\n            const parent = ancestors[ancestors.length - 2];\n            // The parent node of an ImportDefaultSpecifier node must be an ImportDeclaration node.\n            if (parent.type !== 'ImportDeclaration') {\n                return;\n            }\n            const nodeIndex = parent.specifiers.findIndex(n => n === node);\n            // Remove the ImportDefaultSpecifier node in its parent node's array of specifiers.\n            // This is because Source modules do not support default imports.\n            parent.specifiers.splice(nodeIndex, 1);\n        },\n        ImportNamespaceSpecifier(node, _state, ancestors) {\n            // The ancestors array contains the current node, meaning that the\n            // parent node is the second last node of the array.\n            const parent = ancestors[ancestors.length - 2];\n            // The parent node of an ImportNamespaceSpecifier node must be an ImportDeclaration node.\n            if (parent.type !== 'ImportDeclaration') {\n                return;\n            }\n            const nodeIndex = parent.specifiers.findIndex(n => n === node);\n            // Remove the ImportNamespaceSpecifier node in its parent node's array of specifiers.\n            // This is because Source modules do not support namespace imports.\n            parent.specifiers.splice(nodeIndex, 1);\n        }\n    });\n    // Operate on a copy of the Program node's body to prevent the walk from missing ImportDeclaration nodes.\n    const programBody = [...program.body];\n    const removeImportDeclaration = (node, ancestors) => {\n        // The ancestors array contains the current node, meaning that the\n        // parent node is the second last node of the array.\n        const parent = ancestors[ancestors.length - 2];\n        // The parent node of an ImportDeclaration node must be a Program node.\n        if (parent.type !== 'Program') {\n            return;\n        }\n        const nodeIndex = programBody.findIndex(n => n === node);\n        // Remove the ImportDeclaration node in its parent node's body.\n        programBody.splice(nodeIndex, 1);\n    };\n    // Second pass: remove all ImportDeclaration nodes for non-Source modules, or that do not\n    // have any specifiers (thus being functionally useless).\n    (0, walkers_1.ancestor)(program, {\n        ImportDeclaration(node, _state, ancestors) {\n            if (typeof node.source.value !== 'string') {\n                throw new Error('Module names must be strings.');\n            }\n            // ImportDeclaration nodes without any specifiers are functionally useless and are thus removed.\n            if (node.specifiers.length === 0) {\n                removeImportDeclaration(node, ancestors);\n                return;\n            }\n            // Non-Source modules should already have been handled in the pre-processing step and are no\n            // longer needed. They must be removed to avoid being treated as Source modules.\n            if (!(0, exports.isSourceModule)(node.source.value)) {\n                removeImportDeclaration(node, ancestors);\n            }\n        }\n    });\n    program.body = programBody;\n};\nexports.removeNonSourceModuleImports = removeNonSourceModuleImports;\n//# sourceMappingURL=removeNonSourceModuleImports.js.map","import { SlingClient } from '@sourceacademy/sling-client';\nimport { Chapter } from 'Clang-slang/dist/types';\nimport { ExternalLibraryName } from 'src/commons/application/types/ExternalTypes';\nimport { WorkspaceLocation } from 'src/commons/workspace/WorkspaceTypes';\n\nimport { Ev3DevicePeripherals } from './RemoteExecutionEv3Types';\n\nexport const REMOTE_EXEC_FETCH_DEVICES = 'REMOTE_EXEC_FETCH_DEVICES';\nexport const REMOTE_EXEC_UPDATE_DEVICES = 'REMOTE_EXEC_UPDATE_DEVICES';\nexport const REMOTE_EXEC_UPDATE_SESSION = 'REMOTE_EXEC_UPDATE_SESSION';\n\nexport const REMOTE_EXEC_CONNECT = 'REMOTE_EXEC_CONNECT';\nexport const REMOTE_EXEC_DISCONNECT = 'REMOTE_EXEC_DISCONNECT';\n\nexport const REMOTE_EXEC_RUN = 'REMOTE_EXEC_RUN';\nexport const REMOTE_EXEC_REPL_INPUT = 'REMOTE_EXEC_REPL_INPUT';\n\nexport interface Device {\n  id: number;\n  title: string;\n  secret: string;\n  type: string;\n  peripherals?: Ev3DevicePeripherals;\n}\n\nexport interface WebSocketEndpointInformation {\n  endpoint: string;\n  clientNamePrefix: string;\n  thingName: string;\n}\n\nexport type DeviceConnection =\n  | { status: 'CONNECTING'; client?: SlingClient; endpoint?: WebSocketEndpointInformation }\n  | { status: 'CONNECTED'; client: SlingClient; endpoint: WebSocketEndpointInformation }\n  | { status: 'FAILED'; error?: string; client?: SlingClient };\n\nexport interface DeviceSession {\n  workspace: WorkspaceLocation;\n  device: Device;\n  connection: DeviceConnection;\n}\n\nexport interface DeviceType {\n  id: string;\n  name: string;\n  internalFunctions: string[];\n  languageChapter: Chapter;\n  deviceLibraryName: ExternalLibraryName;\n}\n\nexport const deviceTypes: DeviceType[] = [\n  {\n    id: 'EV3',\n    name: 'Lego Mindstorms EV3',\n    // This list must be in the same order as the list here:\n    // https://github.com/source-academy/sinter/blob/ev3/devices/ev3/src/ev3_functions.c#L652\n    internalFunctions: [\n      'ev3_pause',\n      'ev3_connected',\n      'ev3_motorA',\n      'ev3_motorB',\n      'ev3_motorC',\n      'ev3_motorD',\n      'ev3_motorGetSpeed',\n      'ev3_motorSetSpeed',\n      'ev3_motorStart',\n      'ev3_motorStop',\n      'ev3_motorSetStopAction',\n      'ev3_motorGetPosition',\n      'ev3_runForTime',\n      'ev3_runToAbsolutePosition',\n      'ev3_runToRelativePosition',\n      'ev3_colorSensor',\n      'ev3_colorSensorRed',\n      'ev3_colorSensorGreen',\n      'ev3_colorSensorBlue',\n      'ev3_reflectedLightIntensity',\n      'ev3_ambientLightIntensity',\n      'ev3_colorSensorGetColor',\n      'ev3_ultrasonicSensor',\n      'ev3_ultrasonicSensorDistance',\n      'ev3_gyroSensor',\n      'ev3_gyroSensorAngle',\n      'ev3_gyroSensorRate',\n      'ev3_touchSensor1',\n      'ev3_touchSensor2',\n      'ev3_touchSensor3',\n      'ev3_touchSensor4',\n      'ev3_touchSensorPressed',\n      'ev3_hello',\n      'ev3_waitForButtonPress',\n      'ev3_speak',\n      'ev3_playSequence',\n      'ev3_ledLeftGreen',\n      'ev3_ledLeftRed',\n      'ev3_ledRightGreen',\n      'ev3_ledRightRed',\n      'ev3_ledGetBrightness',\n      'ev3_ledSetBrightness'\n    ],\n    languageChapter: Chapter.CLANG,\n    deviceLibraryName: ExternalLibraryName.EV3\n  }\n];\n\nexport const deviceTypesById: Map<string, DeviceType> = new Map(\n  deviceTypes.map(type => [type.id, type])\n);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PreemptiveScheduler = void 0;\n/* tslint:disable:max-classes-per-file */\nconst errors_1 = require(\"./errors/errors\");\nclass PreemptiveScheduler {\n    constructor(steps) {\n        this.steps = steps;\n    }\n    run(it, context) {\n        return new Promise((resolve, _reject) => {\n            context.runtime.isRunning = true;\n            // This is used in the evaluation of the REPL during a paused state.\n            // The debugger is turned off while the code evaluates just above the debugger statement.\n            let actuallyBreak = false;\n            let itValue = it.next();\n            const interval = setInterval(() => {\n                let step = 0;\n                try {\n                    while (!itValue.done && step < this.steps) {\n                        step++;\n                        itValue = it.next();\n                        actuallyBreak = context.runtime.break && context.runtime.debuggerOn;\n                        if (actuallyBreak) {\n                            itValue.done = true;\n                        }\n                    }\n                }\n                catch (e) {\n                    checkForStackOverflow(e, context);\n                    context.runtime.isRunning = false;\n                    clearInterval(interval);\n                    resolve({ status: 'error' });\n                }\n                if (itValue.done) {\n                    context.runtime.isRunning = false;\n                    clearInterval(interval);\n                    if (actuallyBreak) {\n                        resolve({\n                            status: 'suspended',\n                            it,\n                            scheduler: this,\n                            context\n                        });\n                    }\n                    else {\n                        resolve({ status: 'finished', context, value: itValue.value });\n                    }\n                }\n            });\n        });\n    }\n}\nexports.PreemptiveScheduler = PreemptiveScheduler;\n/* Checks if the error is a stackoverflow error, and captures it in the\n   context if this is the case */\nfunction checkForStackOverflow(error, context) {\n    if (/Maximum call stack/.test(error.toString())) {\n        const environments = context.runtime.environments;\n        const stacks = [];\n        let counter = 0;\n        for (let i = 0; counter < errors_1.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW && i < environments.length; i++) {\n            if (environments[i].callExpression) {\n                stacks.unshift(environments[i].callExpression);\n                counter++;\n            }\n        }\n        context.errors.push(new errors_1.MaximumStackLimitExceeded(context.runtime.nodes[0], stacks));\n    }\n}\n//# sourceMappingURL=schedulers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAndAnnotate = void 0;\nconst errors_1 = require(\"../errors/errors\");\nconst validityErrors_1 = require(\"../errors/validityErrors\");\nconst astCreator_1 = require(\"../utils/astCreator\");\nconst walkers_1 = require(\"../utils/walkers\");\nclass Declaration {\n    constructor(isConstant) {\n        this.isConstant = isConstant;\n        this.accessedBeforeDeclaration = false;\n    }\n}\nfunction validateAndAnnotate(program, context) {\n    const accessedBeforeDeclarationMap = new Map();\n    const scopeHasCallExpressionMap = new Map();\n    function processBlock(node) {\n        const initialisedIdentifiers = new Map();\n        for (const statement of node.body) {\n            if (statement.type === 'VariableDeclaration') {\n                initialisedIdentifiers.set((0, astCreator_1.getVariableDecarationName)(statement), new Declaration(statement.kind === 'const'));\n            }\n            else if (statement.type === 'FunctionDeclaration') {\n                if (statement.id === null) {\n                    throw new Error('Encountered a FunctionDeclaration node without an identifier. This should have been caught when parsing.');\n                }\n                initialisedIdentifiers.set(statement.id.name, new Declaration(true));\n            }\n        }\n        scopeHasCallExpressionMap.set(node, false);\n        accessedBeforeDeclarationMap.set(node, initialisedIdentifiers);\n    }\n    function processFunction(node) {\n        accessedBeforeDeclarationMap.set(node, new Map(node.params.map(id => [id.name, new Declaration(false)])));\n        scopeHasCallExpressionMap.set(node, false);\n    }\n    // initialise scope of variables\n    (0, walkers_1.ancestor)(program, {\n        Program: processBlock,\n        BlockStatement: processBlock,\n        FunctionDeclaration: processFunction,\n        ArrowFunctionExpression: processFunction,\n        ForStatement(forStatement, _ancestors) {\n            const init = forStatement.init;\n            if (init.type === 'VariableDeclaration') {\n                accessedBeforeDeclarationMap.set(forStatement, new Map([[(0, astCreator_1.getVariableDecarationName)(init), new Declaration(init.kind === 'const')]]));\n                scopeHasCallExpressionMap.set(forStatement, false);\n            }\n        }\n    });\n    function validateIdentifier(id, ancestors) {\n        const name = id.name;\n        const lastAncestor = ancestors[ancestors.length - 2];\n        for (let i = ancestors.length - 1; i >= 0; i--) {\n            const a = ancestors[i];\n            const map = accessedBeforeDeclarationMap.get(a);\n            if (map === null || map === void 0 ? void 0 : map.has(name)) {\n                map.get(name).accessedBeforeDeclaration = true;\n                if (lastAncestor.type === 'AssignmentExpression' && lastAncestor.left === id) {\n                    if (map.get(name).isConstant) {\n                        context.errors.push(new errors_1.ConstAssignment(lastAncestor, name));\n                    }\n                    if (a.type === 'ForStatement' && a.init !== lastAncestor && a.update !== lastAncestor) {\n                        context.errors.push(new validityErrors_1.NoAssignmentToForVariable(lastAncestor));\n                    }\n                }\n                break;\n            }\n        }\n    }\n    const customWalker = Object.assign(Object.assign({}, walkers_1.base), { VariableDeclarator(node, st, c) {\n            // don't visit the id\n            if (node.init) {\n                c(node.init, st, 'Expression');\n            }\n        } });\n    (0, walkers_1.ancestor)(program, {\n        VariableDeclaration(node, ancestors) {\n            const lastAncestor = ancestors[ancestors.length - 2];\n            const name = (0, astCreator_1.getVariableDecarationName)(node);\n            const accessedBeforeDeclaration = accessedBeforeDeclarationMap\n                .get(lastAncestor)\n                .get(name).accessedBeforeDeclaration;\n            node.typability = accessedBeforeDeclaration ? 'Untypable' : 'NotYetTyped';\n        },\n        Identifier: validateIdentifier,\n        FunctionDeclaration(node, ancestors) {\n            // a function declaration can be typed if there are no function calls in the same scope before it\n            const lastAncestor = ancestors[ancestors.length - 2];\n            node.typability = scopeHasCallExpressionMap.get(lastAncestor) ? 'Untypable' : 'NotYetTyped';\n        },\n        Pattern(node, ancestors) {\n            if (node.type === 'Identifier') {\n                validateIdentifier(node, ancestors);\n            }\n            else if (node.type === 'MemberExpression') {\n                if (node.object.type === 'Identifier') {\n                    validateIdentifier(node.object, ancestors);\n                }\n            }\n        },\n        CallExpression(call, ancestors) {\n            for (let i = ancestors.length - 1; i >= 0; i--) {\n                const a = ancestors[i];\n                if (scopeHasCallExpressionMap.has(a)) {\n                    scopeHasCallExpressionMap.set(a, true);\n                    break;\n                }\n            }\n        }\n    }, customWalker);\n    /*\n    simple(program, {\n      VariableDeclaration(node: TypeAnnotatedNode<es.VariableDeclaration>) {\n        console.log(getVariableDecarationName(node) + \" \" + node.typability);\n      },\n      FunctionDeclaration(node: TypeAnnotatedNode<es.FunctionDeclaration>) {\n        console.log(node.id!.name + \" \" + node.typability);\n      }\n    })\n  \n     */\n    return program;\n}\nexports.validateAndAnnotate = validateAndAnnotate;\n//# sourceMappingURL=validator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NoAssignmentToForVariable = void 0;\nconst types_1 = require(\"../types\");\nclass NoAssignmentToForVariable {\n    constructor(node) {\n        this.node = node;\n        this.type = types_1.ErrorType.SYNTAX;\n        this.severity = types_1.ErrorSeverity.ERROR;\n    }\n    get location() {\n        return this.node.loc;\n    }\n    explain() {\n        return 'Assignment to a for loop variable in the for loop is not allowed.';\n    }\n    elaborate() {\n        return this.explain();\n    }\n}\nexports.NoAssignmentToForVariable = NoAssignmentToForVariable;\n//# sourceMappingURL=validityErrors.js.map","export type Notification = {\n  assessment_id?: number;\n  assessment_type?: string;\n  assessment_title?: string;\n  id: number;\n  submission_id?: number;\n  type: NotificationType;\n};\n\nexport enum NotificationTypes {\n  new = 'new',\n  deadline = 'deadline',\n  autograded = 'autograded',\n  graded = 'graded',\n  submitted = 'submitted',\n  unsubmitted = 'unsubmitted',\n  new_message = 'new_message'\n}\n\nexport type NotificationType = keyof typeof NotificationTypes;\n\nexport type NotificationFilterFunction = (notifications: Notification[]) => Notification[];\n","import React, { RefObject } from 'react';\nimport { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\n\nimport { OverallState } from '../application/ApplicationTypes';\nimport Constants from './Constants';\nimport { readLocalStorage, setLocalStorage } from './LocalStorageHelper';\n\n/**\n * This hook sends a request to the backend to fetch the initial state of the field\n *\n * @param requestFn The function that creates a request\n * @param defaultValue T\n */\nexport function useRequest<T>(requestFn: () => Promise<T>, defaultValue: T) {\n  const [value, setValue] = React.useState<T>(defaultValue);\n\n  React.useEffect(() => {\n    (async () => {\n      const fetchedValue = await requestFn();\n      setValue(fetchedValue);\n    })();\n  }, [requestFn]);\n\n  return { value, setValue };\n}\n\n/**\n * This hook creates an input prop that can\n * be attached as props for text fields.\n * When attached as prop, any change in the text field\n * will cause the value of the hook to change\n *\n * @param defaultValue default value of input field\n */\nexport function useInput<T>(defaultValue: T) {\n  const [value, setValue] = React.useState<T>(defaultValue);\n\n  return {\n    value,\n    setValue,\n    inputProps: {\n      value,\n      onChange: (event: any) => {\n        setValue(event.target.value);\n      }\n    }\n  };\n}\n\n/**\n * This hook usage is similar to React.useState, the only difference\n * being that the state is also written to local storage at the specified key on state updates.\n *\n * When calling this hook, the value will take on the stored value in local storage (if any).\n * If this key-value does not exist in local storage yet, the default value will be used.\n */\nexport function useLocalStorageState<T>(\n  key: string,\n  defaultValue: T\n): [T, React.Dispatch<React.SetStateAction<T>>] {\n  const [value, setValue] = React.useState<T>(readLocalStorage(key, defaultValue));\n\n  React.useEffect(() => {\n    setLocalStorage(key, value);\n  }, [key, value]);\n\n  return [value, setValue];\n}\n\n/** Typed version of useSelector. Use this instead of the useSelector hook. */\nexport const useTypedSelector: TypedUseSelectorHook<OverallState> = useSelector;\n/**\n * Dynamically returns the dimensions (width & height) of an HTML element, updating whenever the\n * element is loaded or resized.\n *\n * @param ref A reference to the underlying HTML element.\n */\n\nexport const useDimensions = (ref: RefObject<HTMLElement>): [width: number, height: number] => {\n  const [width, setWidth] = React.useState<number>(0);\n  const [height, setHeight] = React.useState<number>(0);\n\n  const resizeObserver = React.useMemo(\n    () =>\n      new ResizeObserver((entries: ResizeObserverEntry[], observer: ResizeObserver) => {\n        if (entries.length !== 1) {\n          throw new Error(\n            'Expected only a single HTML element to be observed by the ResizeObserver.'\n          );\n        }\n        const contentRect = entries[0].contentRect;\n        setWidth(contentRect.width);\n        setHeight(contentRect.height);\n      }),\n    []\n  );\n\n  React.useEffect(() => {\n    const htmlElement = ref.current;\n    if (htmlElement === null) {\n      return;\n    }\n    resizeObserver.observe(htmlElement);\n    return () => resizeObserver.disconnect();\n  }, [ref, resizeObserver]);\n\n  return [width, height];\n};\n\n/**\n * Returns whether the current view falls under mobile\n * or desktop as defined by the constants file.\n */\nexport const useResponsive = () => {\n  const isMobileBreakpoint = useMediaQuery({ maxWidth: Constants.mobileBreakpoint });\n  return { isMobileBreakpoint };\n};\n","export const readLocalStorage = (key: string, defaultValue?: any) => {\n  const localStorageValue = window.localStorage.getItem(key);\n  return localStorageValue ? JSON.parse(localStorageValue) : defaultValue;\n};\n\nexport const setLocalStorage = (key: string, value: any) => {\n  window.localStorage.setItem(key, JSON.stringify(value));\n};\n","import { Button, Icon, IconName, Intent } from '@blueprintjs/core';\nimport React from 'react';\n\ntype ButtonOptions = {\n  className: string;\n  fullWidth: boolean;\n  iconColor?: string;\n  iconOnRight: boolean;\n  intent: Intent;\n  minimal: boolean;\n  type?: 'submit' | 'reset' | 'button';\n};\n\ntype ControlButtonProps = {\n  label?: string;\n  icon?: IconName;\n  onClick?: () => void;\n  options?: Partial<ButtonOptions>;\n  isDisabled?: boolean;\n};\n\nconst defaultOptions = {\n  className: '',\n  fullWidth: false,\n  iconOnRight: false,\n  intent: Intent.NONE,\n  minimal: true\n};\n\nconst ControlButton: React.FC<ControlButtonProps> = ({\n  label = '',\n  icon,\n  onClick,\n  options = {},\n  isDisabled = false\n}) => {\n  const buttonOptions: ButtonOptions = { ...defaultOptions, ...options };\n  const iconElement = icon && <Icon icon={icon} color={buttonOptions.iconColor} />;\n\n  return (\n    <Button\n      disabled={isDisabled}\n      fill={buttonOptions.fullWidth}\n      intent={buttonOptions.intent}\n      minimal={buttonOptions.minimal}\n      className={buttonOptions.className}\n      type={buttonOptions.type}\n      onClick={onClick}\n      icon={!buttonOptions.iconOnRight && iconElement}\n      rightIcon={buttonOptions.iconOnRight && iconElement}\n    >\n      {label}\n    </Button>\n  );\n};\n\nexport default ControlButton;\n","import { Position } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Tooltip2 } from '@blueprintjs/popover2';\nimport React from 'react';\n\nimport ControlButton from '../ControlButton';\n\ntype ControlButtonRunButtonProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleEditorEval: () => void;\n};\n\ntype StateProps = {\n  key: string;\n  color?: string;\n  className?: string;\n};\n\nexport const ControlBarRunButton: React.FC<ControlButtonRunButtonProps> = props => {\n  return (\n    <Tooltip2 content=\"...or press shift-enter in the editor\" placement={Position.TOP}>\n      <ControlButton\n        label=\"Run\"\n        icon={IconNames.PLAY}\n        onClick={props.handleEditorEval}\n        options={{ iconColor: props.color, className: props.className }}\n      />\n    </Tooltip2>\n  );\n};\n","import { Switch } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport React from 'react';\n\nimport ControlButton from '../ControlButton';\nimport { useResponsive } from '../utils/Hooks';\nimport { ControlBarRunButton } from './ControlBarRunButton';\n\ntype ControlBarAutorunButtonProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleDebuggerPause: () => void;\n  handleDebuggerReset: () => void;\n  handleDebuggerResume: () => void;\n  handleEditorEval: () => void;\n  handleInterruptEval: () => void;\n  handleToggleEditorAutorun?: () => void;\n};\n\ntype StateProps = {\n  isDebugging: boolean;\n  isEditorAutorun?: boolean;\n  isRunning: boolean;\n  key: string;\n  autorunDisabled?: boolean;\n  pauseDisabled?: boolean;\n  sourceChapter?: number;\n};\n\nexport const ControlBarAutorunButtons: React.FC<ControlBarAutorunButtonProps> = props => {\n  const showRunButton = !props.isDebugging && (\n    <ControlBarRunButton\n      handleEditorEval={props.handleEditorEval}\n      // Neon Green: #39FF14\n      color={props.isRunning ? '#39FF14' : undefined}\n      className={props.isRunning ? 'WaitingCursor' : undefined}\n      key=\"run\"\n    />\n  );\n\n  const showAutoRunIndicator = props.isEditorAutorun && (\n    <ControlButton label=\"Auto\" icon={IconNames.AUTOMATIC_UPDATES} />\n  );\n\n  // stop button does not do anything due to the blocking nature of eval methods (e.g. runInContext)\n  // to prevent \"flickering\", we will just disable Stop Button for now\n  const showStopButton = false && (\n    <ControlButton label=\"Stop\" icon={IconNames.STOP} onClick={props.handleInterruptEval} />\n  );\n\n  const showDebuggerPause = !props.pauseDisabled && props.isRunning && !props.isDebugging && (\n    <ControlButton label=\"Pause\" icon={IconNames.STOP} onClick={props.handleDebuggerPause} />\n  );\n\n  const showDebuggerResume = !props.isRunning && props.isDebugging && (\n    <ControlButton\n      label=\"Resume\"\n      icon={IconNames.CHEVRON_RIGHT}\n      onClick={props.handleDebuggerResume}\n    />\n  );\n\n  const showDebuggerReset = (label: string) =>\n    props.isDebugging && (\n      <ControlButton label={label} icon={IconNames.STOP} onClick={props.handleDebuggerReset} />\n    );\n\n  const { isMobileBreakpoint } = useResponsive();\n\n  return isMobileBreakpoint ? (\n    <>\n      {showStopButton}\n      {showDebuggerPause}\n      {showDebuggerResume}\n      {showDebuggerReset('Stop')}\n    </>\n  ) : (\n    <>\n      {!props.autorunDisabled && (\n        <div className=\"Switch\">\n          <Switch\n            label=\"\"\n            checked={props.isEditorAutorun}\n            onChange={props.handleToggleEditorAutorun}\n          />\n        </div>\n      )}\n      {showAutoRunIndicator || showStopButton || showRunButton}\n      {showDebuggerPause}\n      {showDebuggerResume}\n      {showDebuggerReset('Stop Debugger')}\n    </>\n  );\n};\n","import { Button, Classes, Menu, MenuItem } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { ItemListRenderer, ItemRenderer, Select } from '@blueprintjs/select';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport React from 'react';\n\nimport {\n  defaultLanguages,\n  SALanguage,\n  sourceLanguages,\n  styliseSublanguage\n} from '../application/ApplicationTypes';\n\ntype ControlBarChapterSelectProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleChapterSelect?: (i: SALanguage, e?: React.SyntheticEvent<HTMLElement>) => void;\n};\n\ntype StateProps = {\n  sourceChapter: Chapter;\n  sourceVariant: Variant;\n  disabled?: boolean;\n};\n\nconst chapterListRenderer: ItemListRenderer<SALanguage> = ({ itemsParentRef, renderItem }) => {\n  const defaultChoices = defaultLanguages.map(renderItem);\n  return <Menu ulRef={itemsParentRef}>{defaultChoices}</Menu>;\n};\n\nconst chapterRenderer: ItemRenderer<SALanguage> = (lang, { handleClick }) => (\n  <MenuItem key={lang.displayName} onClick={handleClick} text={lang.displayName} />\n);\n\nconst ChapterSelectComponent = Select.ofType<SALanguage>();\n\nexport const ControlBarChapterSelect: React.FC<ControlBarChapterSelectProps> = ({\n  sourceChapter,\n  sourceVariant,\n  handleChapterSelect = () => {},\n  disabled = false\n}) => {\n  return (\n    <ChapterSelectComponent\n      items={sourceLanguages}\n      onItemSelect={handleChapterSelect}\n      itemRenderer={chapterRenderer}\n      itemListRenderer={chapterListRenderer}\n      filterable={false}\n      disabled={disabled}\n    >\n      <Button\n        className={Classes.MINIMAL}\n        text={styliseSublanguage(sourceChapter, sourceVariant)}\n        rightIcon={disabled ? null : IconNames.DOUBLE_CARET_VERTICAL}\n        disabled={disabled}\n      />\n    </ChapterSelectComponent>\n  );\n};\n","import { IconNames } from '@blueprintjs/icons';\nimport React from 'react';\n\nimport ControlButton from '../ControlButton';\n\ntype ControlBarClearButtonProps = {\n  handleReplOutputClear: () => void;\n};\n\nexport const ControlBarClearButton: React.FC<ControlBarClearButtonProps> = ({\n  handleReplOutputClear\n}) => {\n  return <ControlButton label=\"Clear\" icon={IconNames.REMOVE} onClick={handleReplOutputClear} />;\n};\n","import { IconNames } from '@blueprintjs/icons';\nimport { Tooltip2 } from '@blueprintjs/popover2';\nimport React from 'react';\n\nimport ControlButton from '../ControlButton';\n\ntype ControlBarEvalButtonProps = {\n  handleReplEval: () => void;\n  isRunning: boolean;\n};\n\nexport const ControlBarEvalButton: React.FC<ControlBarEvalButtonProps> = ({\n  handleReplEval,\n  isRunning\n}) => {\n  return isRunning ? null : (\n    <Tooltip2 content=\"...or press shift-enter in the REPL\">\n      <ControlButton label=\"Eval\" icon={IconNames.CODE} onClick={handleReplEval} />\n    </Tooltip2>\n  );\n};\n","import { NumericInput, Position } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Tooltip2 } from '@blueprintjs/popover2';\nimport React from 'react';\n\ntype ControlBarExecutionTimeProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleChangeExecTime?: (execTime: number) => void;\n};\n\ntype StateProps = {\n  execTime?: number;\n  key: string;\n};\n\nexport const ControlBarExecutionTime: React.FC<ControlBarExecutionTimeProps> = props => {\n  return (\n    <Tooltip2 content=\"Execution Time\" placement={Position.TOP}>\n      <NumericInput\n        leftIcon={IconNames.TIME}\n        style={{ width: 80 }}\n        min={1000}\n        value={props.execTime}\n        onValueChange={props.handleChangeExecTime}\n      />\n    </Tooltip2>\n  );\n};\n","import Constants from '../utils/Constants';\n\nconst protocolMap = {\n  'http:': 'ws:',\n  'https:': 'wss:'\n};\n\nexport function getSessionUrl(sessionId: string, ws?: boolean): string {\n  const url = new URL(sessionId, Constants.sharedbBackendUrl);\n  if (ws) {\n    url.protocol = protocolMap[url.protocol];\n  }\n  return url.toString();\n}\n\nexport async function checkSessionIdExists(sessionId: string): Promise<boolean> {\n  const resp = await fetch(getSessionUrl(sessionId));\n\n  return resp && resp.ok;\n}\n\nexport async function createNewSession(initial: string): Promise<string> {\n  const resp = await fetch(Constants.sharedbBackendUrl, {\n    method: 'POST',\n    body: initial,\n    headers: { 'Content-Type': 'text/plain' }\n  });\n\n  if (!resp || !resp.ok) {\n    throw new Error(\n      resp ? `Could not create new session: ${await resp.text()}` : 'Unknown error creating session'\n    );\n  }\n\n  return resp.text();\n}\n","import { Classes, Colors, Menu } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Popover2 } from '@blueprintjs/popover2';\nimport * as React from 'react';\nimport * as CopyToClipboard from 'react-copy-to-clipboard';\n\nimport { checkSessionIdExists, createNewSession } from '../collabEditing/CollabEditingHelper';\nimport ControlButton from '../ControlButton';\nimport { showWarningMessage } from '../utils/NotificationsHelper';\n\ntype ControlBarSessionButtonsProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleSetEditorSessionId?: (editorSessionId: string) => void;\n};\n\ntype StateProps = {\n  editorSessionId?: string;\n  editorValue: string;\n  sharedbConnected?: boolean;\n  key: string;\n};\n\ntype State = {\n  joinElemValue: string;\n};\n\nfunction handleError(error: any) {\n  showWarningMessage(`Could not connect: ${(error && error.message) || error || 'Unknown error'}`);\n}\n\nexport class ControlBarSessionButtons extends React.PureComponent<\n  ControlBarSessionButtonsProps,\n  State\n> {\n  private inviteInputElem: React.RefObject<HTMLInputElement>;\n\n  constructor(props: ControlBarSessionButtonsProps) {\n    super(props);\n    this.state = { joinElemValue: '' };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.inviteInputElem = React.createRef();\n    this.selectInviteInputText = this.selectInviteInputText.bind(this);\n  }\n\n  public render() {\n    const handleStartInvite = () => {\n      // FIXME this handler should be a Saga action or at least in a controller\n      if (this.props.editorSessionId === '') {\n        createNewSession(this.props.editorValue || '').then(sessionId => {\n          this.props.handleSetEditorSessionId!(sessionId);\n        }, handleError);\n      }\n    };\n\n    const inviteButtonPopoverContent = (\n      <>\n        <input value={this.props.editorSessionId} readOnly={true} ref={this.inviteInputElem} />\n        <CopyToClipboard text={'' + this.props.editorSessionId}>\n          <ControlButton icon={IconNames.DUPLICATE} onClick={this.selectInviteInputText} />\n        </CopyToClipboard>\n      </>\n    );\n\n    const inviteButton = (\n      <Popover2\n        popoverClassName=\"Popover-share\"\n        inheritDarkTheme={false}\n        content={inviteButtonPopoverContent}\n      >\n        <ControlButton label=\"Invite\" icon={IconNames.GRAPH} onClick={handleStartInvite} />\n      </Popover2>\n    );\n\n    const handleStartJoining = (event: React.FormEvent<HTMLFormElement>) => {\n      event.preventDefault();\n      // FIXME this handler should be a Saga action or at least in a controller\n      checkSessionIdExists(this.state.joinElemValue).then(\n        exists => {\n          if (exists) {\n            this.props.handleSetEditorSessionId!(this.state!.joinElemValue);\n          } else {\n            this.props.handleSetEditorSessionId!('');\n            showWarningMessage('Could not find a session with that ID.');\n          }\n        },\n        error => {\n          this.props.handleSetEditorSessionId!('');\n          handleError(error);\n        }\n      );\n    };\n\n    const joinButtonPopoverContent = (\n      // TODO: this form should use Blueprint\n      <form onSubmit={handleStartJoining}>\n        <input type=\"text\" value={this.state.joinElemValue} onChange={this.handleChange} />\n        <span className={Classes.POPOVER_DISMISS}>\n          <ControlButton icon={IconNames.KEY_ENTER} options={{ type: 'submit' }} />\n        </span>\n      </form>\n    );\n\n    const joinButton = (\n      <Popover2\n        popoverClassName=\"Popover-share\"\n        inheritDarkTheme={false}\n        content={joinButtonPopoverContent}\n      >\n        <ControlButton label=\"Join\" icon={IconNames.LOG_IN} />\n      </Popover2>\n    );\n\n    const leaveButton = (\n      <ControlButton\n        label=\"Leave\"\n        icon={IconNames.FEED}\n        onClick={() => {\n          // FIXME: this handler should be a Saga action or at least in a controller\n          this.props.handleSetEditorSessionId!('');\n          this.setState({ joinElemValue: '' });\n        }}\n      />\n    );\n\n    return (\n      <Popover2\n        content={\n          <Menu large={true}>\n            {inviteButton}\n            {this.props.editorSessionId === '' ? joinButton : leaveButton}\n          </Menu>\n        }\n      >\n        <ControlButton\n          label=\"Session\"\n          icon={IconNames.SOCIAL_MEDIA}\n          options={{\n            iconColor:\n              this.props.editorSessionId === ''\n                ? undefined\n                : this.props.sharedbConnected\n                ? Colors.GREEN3\n                : Colors.RED3\n          }}\n        />\n      </Popover2>\n    );\n  }\n\n  private selectInviteInputText() {\n    if (this.inviteInputElem.current !== null) {\n      this.inviteInputElem.current.focus();\n      this.inviteInputElem.current.select();\n    }\n  }\n\n  private handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ joinElemValue: event.target.value });\n  }\n}\n","import { NonIdealState, Position, Spinner, SpinnerSize, Text } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Popover2, Tooltip2 } from '@blueprintjs/popover2';\nimport * as React from 'react';\nimport * as CopyToClipboard from 'react-copy-to-clipboard';\n\nimport ControlButton from '../ControlButton';\nimport Constants from '../utils/Constants';\n\ntype ControlBarShareButtonProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleGenerateLz?: () => void;\n  handleShortenURL: (s: string) => void;\n  handleUpdateShortURL: (s: string) => void;\n};\n\ntype StateProps = {\n  queryString?: string;\n  shortURL?: string;\n  key: string;\n  isSicp?: boolean;\n};\n\ntype State = {\n  keyword: string;\n  isLoading: boolean;\n};\n\nexport class ControlBarShareButton extends React.PureComponent<ControlBarShareButtonProps, State> {\n  private shareInputElem: React.RefObject<HTMLInputElement>;\n\n  constructor(props: ControlBarShareButtonProps) {\n    super(props);\n    this.selectShareInputText = this.selectShareInputText.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.toggleButton = this.toggleButton.bind(this);\n    this.shareInputElem = React.createRef();\n    this.state = { keyword: '', isLoading: false };\n  }\n\n  public render() {\n    const shareButtonPopoverContent =\n      this.props.queryString === undefined ? (\n        <Text>\n          Share your programs! Type something into the editor (left), then click on this button\n          again.\n        </Text>\n      ) : this.props.isSicp ? (\n        <div>\n          <input defaultValue={this.props.queryString!} readOnly={true} ref={this.shareInputElem} />\n          <Tooltip2 content=\"Copy link to clipboard\">\n            <CopyToClipboard text={this.props.queryString!}>\n              <ControlButton icon={IconNames.DUPLICATE} onClick={this.selectShareInputText} />\n            </CopyToClipboard>\n          </Tooltip2>\n        </div>\n      ) : (\n        <>\n          {!this.props.shortURL || this.props.shortURL === 'ERROR' ? (\n            !this.state.isLoading || this.props.shortURL === 'ERROR' ? (\n              <div>\n                {Constants.urlShortenerBase}&nbsp;\n                <input\n                  placeholder={'custom string (optional)'}\n                  onChange={this.handleChange}\n                  style={{ width: 175 }}\n                />\n                <ControlButton\n                  label=\"Get Link\"\n                  icon={IconNames.SHARE}\n                  onClick={() => {\n                    this.props.handleShortenURL(this.state.keyword);\n                    this.setState({ isLoading: true });\n                  }}\n                />\n              </div>\n            ) : (\n              <div>\n                <NonIdealState\n                  description=\"Generating Shareable Link...\"\n                  icon={<Spinner size={SpinnerSize.SMALL} />}\n                />\n              </div>\n            )\n          ) : (\n            <div key={this.props.shortURL}>\n              <input defaultValue={this.props.shortURL} readOnly={true} ref={this.shareInputElem} />\n              <Tooltip2 content=\"Copy link to clipboard\">\n                <CopyToClipboard text={this.props.shortURL}>\n                  <ControlButton icon={IconNames.DUPLICATE} onClick={this.selectShareInputText} />\n                </CopyToClipboard>\n              </Tooltip2>\n            </div>\n          )}\n        </>\n      );\n\n    return (\n      <Popover2\n        popoverClassName=\"Popover-share\"\n        inheritDarkTheme={false}\n        content={shareButtonPopoverContent}\n      >\n        <Tooltip2 content=\"Get shareable link\" placement={Position.TOP}>\n          <ControlButton label=\"Share\" icon={IconNames.SHARE} onClick={() => this.toggleButton()} />\n        </Tooltip2>\n      </Popover2>\n    );\n  }\n\n  public componentDidUpdate(prevProps: ControlBarShareButtonProps) {\n    if (this.props.shortURL !== prevProps.shortURL) {\n      this.setState({ keyword: '', isLoading: false });\n    }\n  }\n\n  private toggleButton() {\n    if (this.props.handleGenerateLz) {\n      this.props.handleGenerateLz();\n    }\n\n    // reset state\n    this.props.handleUpdateShortURL('');\n    this.setState({ keyword: '', isLoading: false });\n  }\n\n  private handleChange(event: React.FormEvent<HTMLInputElement>) {\n    this.setState({ keyword: event.currentTarget.value });\n  }\n\n  private selectShareInputText() {\n    if (this.shareInputElem.current !== null) {\n      this.shareInputElem.current.focus();\n      this.shareInputElem.current.select();\n    }\n  }\n}\n","import { NumericInput, Position } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Tooltip2 } from '@blueprintjs/popover2';\nimport React from 'react';\n\ntype ControlBarStepLimitProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleChangeStepLimit?: (stepLimit: number) => void;\n};\n\ntype StateProps = {\n  stepLimit?: number;\n  key: string;\n};\n\nexport const ControlBarStepLimit: React.FC<ControlBarStepLimitProps> = props => {\n  return (\n    <Tooltip2 content=\"Step Limit\" placement={Position.TOP}>\n      <NumericInput\n        leftIcon={IconNames.VERTICAL_BAR_CHART_ASC}\n        style={{ width: 80 }}\n        min={500}\n        max={5000}\n        value={props.stepLimit}\n        onValueChange={props.handleChangeStepLimit}\n      />\n    </Tooltip2>\n  );\n};\n","import 'ace-builds/src-noconflict/ext-searchbox';\nimport 'ace-builds/src-noconflict/mode-javascript';\nimport 'Clang-slang/dist/editors/ace/theme/source';\n\nimport { Ace } from 'ace-builds';\nimport { isEqual } from 'lodash';\nimport * as React from 'react';\nimport AceEditor, { IAceEditorProps } from 'react-ace';\nimport { HotKeys } from 'react-hotkeys';\n\nimport {\n  CodeDelta,\n  Input,\n  KeyboardCommand,\n  SelectionRange\n} from '../../features/sourceRecorder/SourceRecorderTypes';\nimport { EditorTabStateProps } from '../editor/Editor';\nimport { Position } from '../editor/EditorTypes';\n\n/**\n * @property editorValue - The string content of the react-ace editor\n * @property handleEditorChange  - A callback function\n *           for the react-ace editor's `onChange`\n * @property handleEvalEditor  - A callback function for evaluation\n *           of the editor's content, using `slang`\n * @property isEditorReadonly - Used for sourcecast only\n */\nexport type SourceRecorderEditorProps = DispatchProps &\n  EditorStateProps &\n  EditorTabStateProps &\n  OwnProps;\n\ntype DispatchProps = {\n  getTimerDuration?: () => number;\n  handleDeclarationNavigate: (cursorPosition: Position) => void;\n  handleEditorEval: () => void;\n  handleEditorValueChange: (newCode: string) => void;\n  handleEditorUpdateBreakpoints: (breakpoints: string[]) => void;\n  handleRecordInput?: (input: Input) => void;\n  handleUpdateHasUnsavedChanges?: (hasUnsavedChanges: boolean) => void;\n  onFocus?: (event: any, editor?: Ace.Editor) => void;\n  onBlur?: (event: any, editor?: Ace.Editor) => void;\n};\n\ntype EditorStateProps = {\n  codeDeltasToApply?: CodeDelta[] | null;\n  editorSessionId: string;\n  isEditorAutorun: boolean;\n  isEditorReadonly: boolean;\n  inputToApply?: Input | null;\n  isPlaying?: boolean;\n  isRecording?: boolean;\n};\n\ntype OwnProps = {\n  setDraggableReplPosition?: () => void; // for the mobile Sourcecast Workspace\n};\n\nclass SourcecastEditor extends React.PureComponent<SourceRecorderEditorProps, {}> {\n  public ShareAce: any;\n  public AceEditor: React.RefObject<AceEditor>;\n  private onChangeMethod: (newCode: string, delta: CodeDelta) => void;\n  private onCursorChange: (selecction: any) => void;\n  private onSelectionChange: (selection: any) => void;\n\n  constructor(props: SourceRecorderEditorProps) {\n    super(props);\n    this.AceEditor = React.createRef();\n    this.ShareAce = null;\n    this.onChangeMethod = (newCode: string, delta: CodeDelta) => {\n      if (this.props.handleUpdateHasUnsavedChanges) {\n        this.props.handleUpdateHasUnsavedChanges(true);\n      }\n      this.props.handleEditorValueChange(newCode);\n      if (this.props.isRecording) {\n        this.props.handleRecordInput!({\n          type: 'codeDelta',\n          time: this.props.getTimerDuration!(),\n          data: delta\n        });\n      }\n      const annotations = this.AceEditor.current!.editor.getSession().getAnnotations();\n      if (this.props.isEditorAutorun && annotations.length === 0) {\n        this.props.handleEditorEval();\n      }\n    };\n    this.onCursorChange = (selection: any) => {\n      if (!this.props.isRecording) {\n        return;\n      }\n      const editorCursorPositionToBeApplied: Position = selection.getCursor();\n      this.props.handleRecordInput!({\n        type: 'cursorPositionChange',\n        time: this.props.getTimerDuration!(),\n        data: editorCursorPositionToBeApplied\n      });\n    };\n    this.onSelectionChange = (selection: any) => {\n      if (!this.props.isRecording) {\n        return;\n      }\n      const range: SelectionRange = selection.getRange();\n      const isBackwards: boolean = selection.isBackwards();\n      if (!isEqual(range.start, range.end)) {\n        this.props.handleRecordInput!({\n          type: 'selectionRangeData',\n          time: this.props.getTimerDuration!(),\n          data: { range, isBackwards }\n        });\n      }\n    };\n  }\n\n  public componentDidUpdate(prevProps: SourceRecorderEditorProps) {\n    const { codeDeltasToApply, inputToApply, newCursorPosition } = this.props;\n\n    if (codeDeltasToApply && codeDeltasToApply !== prevProps.codeDeltasToApply) {\n      this.AceEditor.current!.editor.session.getDocument().applyDeltas(codeDeltasToApply);\n      this.AceEditor.current!.editor.selection.clearSelection();\n    }\n\n    if (newCursorPosition && newCursorPosition !== prevProps.newCursorPosition) {\n      this.moveCursor(newCursorPosition);\n    }\n\n    if (!inputToApply || inputToApply === prevProps.inputToApply) {\n      return;\n    }\n\n    switch (inputToApply.type) {\n      case 'codeDelta':\n        this.AceEditor.current!.editor.session.getDocument().applyDelta(inputToApply.data);\n        this.AceEditor.current!.editor.selection.clearSelection();\n        break;\n      case 'cursorPositionChange':\n        this.moveCursor(inputToApply.data);\n        break;\n      case 'selectionRangeData':\n        const { range, isBackwards } = inputToApply.data;\n        this.AceEditor.current!.editor.selection.setRange(range, isBackwards);\n        break;\n      case 'keyboardCommand':\n        const keyboardCommand = inputToApply.data;\n        switch (keyboardCommand) {\n          case 'run':\n            this.props.handleEditorEval();\n            // Popup mobile draggable repl when there is a recorded 'run' evaluation\n            if (this.props.setDraggableReplPosition) {\n              this.props.setDraggableReplPosition();\n            }\n            break;\n        }\n        break;\n    }\n  }\n\n  public getBreakpoints() {\n    return this.AceEditor.current!.editor.session.getBreakpoints().filter(x => x != null);\n  }\n\n  public componentDidMount() {\n    if (!this.AceEditor || !this.AceEditor.current || !this.AceEditor.current.editor) {\n      return;\n    }\n    const editor = this.AceEditor.current!.editor;\n    const session = editor.getSession();\n\n    editor.on('gutterclick' as any, this.handleGutterClick);\n\n    // Change all info annotations to error annotations\n    session.on('changeAnnotation' as any, this.handleAnnotationChange(session));\n\n    const { onFocus, onBlur } = this.props;\n    if (onFocus) {\n      editor.on('focus', (event: Event) => onFocus(event, editor));\n    }\n    if (onBlur) {\n      editor.on('blur', (event: Event) => onBlur(event, editor));\n    }\n  }\n\n  public componentWillUnmount() {\n    if (this.ShareAce !== null) {\n      // Umounting... Closing websocket\n      this.ShareAce.WS.close();\n    }\n    this.ShareAce = null;\n  }\n\n  public getMarkers = () => {\n    const markerProps: IAceEditorProps['markers'] = [];\n    for (const lineNum of this.props.highlightedLines) {\n      markerProps.push({\n        startRow: lineNum[0],\n        startCol: 0,\n        endRow: lineNum[1],\n        endCol: 1,\n        className: 'myMarker',\n        type: 'fullLine'\n      });\n    }\n    return markerProps;\n  };\n\n  public render() {\n    return (\n      <HotKeys className=\"Editor bp4-card bp4-elevation-0\" handlers={handlers}>\n        <div className=\"row editor-react-ace\">\n          <AceEditor\n            className=\"react-ace\"\n            commands={[\n              {\n                name: 'evaluate',\n                bindKey: {\n                  win: 'Shift-Enter',\n                  mac: 'Shift-Enter'\n                },\n                exec: this.handleEvaluate\n              },\n              {\n                name: 'navigate',\n                bindKey: {\n                  win: 'Ctrl-B',\n                  mac: 'Command-B'\n                },\n                exec: this.handleDeclarationNavigate\n              }\n            ]}\n            editorProps={{\n              $blockScrolling: Infinity\n            }}\n            ref={this.AceEditor}\n            markers={this.getMarkers()}\n            fontSize={17}\n            height=\"100%\"\n            highlightActiveLine={false}\n            mode=\"javascript\"\n            onChange={this.onChangeMethod}\n            onCursorChange={this.onCursorChange}\n            onSelectionChange={this.onSelectionChange}\n            readOnly={this.props.isEditorReadonly}\n            theme=\"source\"\n            value={this.props.editorValue}\n            width=\"100%\"\n            setOptions={{\n              fontFamily: \"'Inconsolata', 'Consolas', monospace\"\n            }}\n          />\n        </div>\n      </HotKeys>\n    );\n  }\n\n  private handleGutterClick = (e: any) => {\n    const target = e.domEvent.target;\n    if (\n      target.className.indexOf('ace_gutter-cell') === -1 ||\n      !e.editor.isFocused() ||\n      e.clientX > 35 + target.getBoundingClientRect().left\n    ) {\n      return;\n    }\n\n    const row = e.getDocumentPosition().row;\n    const content = e.editor.session.getLine(row);\n    const breakpoints = e.editor.session.getBreakpoints(row, 0);\n    if (\n      breakpoints[row] === undefined &&\n      content.length !== 0 &&\n      !content.includes('//') &&\n      !content.includes('debugger;')\n    ) {\n      e.editor.session.setBreakpoint(row);\n    } else {\n      e.editor.session.clearBreakpoint(row);\n    }\n    e.stop();\n    this.props.handleEditorUpdateBreakpoints(e.editor.session.$breakpoints);\n  };\n\n  private handleAnnotationChange = (session: any) => () => {\n    const annotations = session.getAnnotations();\n    let count = 0;\n    for (const anno of annotations) {\n      if (anno.type === 'info') {\n        anno.type = 'error';\n        anno.className = 'ace_error';\n        count++;\n      }\n    }\n    if (count !== 0) {\n      session.setAnnotations(annotations);\n    }\n  };\n\n  private handleEvaluate = () => {\n    this.props.handleEditorEval();\n    if (!this.props.isRecording) {\n      return;\n    }\n    this.props.handleRecordInput!({\n      type: 'keyboardCommand',\n      time: this.props.getTimerDuration!(),\n      data: KeyboardCommand.run\n    });\n  };\n\n  // Used in navigating from occurence to navigation\n  private moveCursor = (position: Position) => {\n    this.AceEditor.current!.editor.selection.clearSelection();\n    this.AceEditor.current!.editor.moveCursorToPosition(position);\n    this.AceEditor.current!.editor.renderer.showCursor();\n    this.AceEditor.current!.editor.renderer.scrollCursorIntoView(position, 0.5);\n  };\n\n  private handleDeclarationNavigate = () => {\n    this.props.handleDeclarationNavigate(this.AceEditor.current!.editor.getCursorPosition());\n  };\n}\n\n/* Override handler, so does not trigger when focus is in editor */\nconst handlers = {\n  goGreen: () => {}\n};\n\nexport default SourcecastEditor;\n","export const keyBindings = {\n  evaluate: {\n    win: 'Shift-Enter',\n    mac: 'Shift-Enter'\n  },\n  navigate: {\n    win: 'Ctrl-B',\n    mac: 'Command-B'\n  },\n  refactor: {\n    win: 'Ctrl-M',\n    mac: 'Command-M'\n  },\n  highlightScope: {\n    win: 'Ctrl-Shift-H',\n    mac: 'Command-Shift-H'\n  },\n  typeInferenceDisplay: {\n    win: 'Ctrl-Shift-M',\n    mac: 'Command-Shift-M'\n  }\n};\n\nexport type KeyFunction = keyof typeof keyBindings;\n","import * as Sentry from '@sentry/browser';\nimport sharedbAce from '@sourceacademy/sharedb-ace';\nimport * as React from 'react';\n\nimport { checkSessionIdExists, getSessionUrl } from '../collabEditing/CollabEditingHelper';\nimport { EditorHook } from './Editor';\n\n// EditorHook structure:\n// EditorHooks grant access to 4 things:\n// inProps are provided by the parent component\n// outProps go into the underlying React-Ace\n// keyBindings allow exporting new hotkeys\n// reactAceRef is the underlying reactAce instance for hooking.\n\nconst useShareAce: EditorHook = (inProps, outProps, keyBindings, reactAceRef) => {\n  // use a ref to refer to any other props so that we run the effect below\n  // *only* when the editorSessionId changes\n  const propsRef = React.useRef(inProps);\n  propsRef.current = inProps;\n\n  const { editorSessionId } = inProps;\n\n  React.useEffect(() => {\n    if (!editorSessionId) {\n      return;\n    }\n\n    const editor = reactAceRef.current!.editor;\n    const ShareAce = new sharedbAce(editorSessionId, {\n      WsUrl: getSessionUrl(editorSessionId, true),\n      pluginWsUrl: null,\n      namespace: 'sa'\n    });\n    ShareAce.on('ready', () => {\n      ShareAce.add(editor, [], []);\n      propsRef.current.handleSetSharedbConnected!(true);\n    });\n    ShareAce.on('error', (path: string, error: any) => {\n      console.error('ShareAce error', error);\n      Sentry.captureException(error);\n    });\n\n    // WebSocket connection status detection logic\n    const WS = ShareAce.WS;\n    // Since interval is used as a closure.\n    // eslint-disable-next-line prefer-const\n    let interval: any;\n    const checkStatus = async () => {\n      if (ShareAce === null) {\n        return;\n      }\n      try {\n        const exists = await checkSessionIdExists(editorSessionId);\n        if (!exists) {\n          clearInterval(interval);\n          WS.close();\n        }\n      } catch {\n        WS.reconnect();\n      }\n    };\n    // Checks connection status every 5sec\n    interval = setInterval(checkStatus, 5000);\n\n    WS.addEventListener('open', () => {\n      propsRef.current.handleSetSharedbConnected!(true);\n    });\n    WS.addEventListener('close', () => {\n      propsRef.current.handleSetSharedbConnected!(false);\n    });\n\n    return () => {\n      clearInterval(interval);\n      for (const connection of Object.values<any>(ShareAce.connections)) {\n        connection.unlisten();\n      }\n      ShareAce.WS.close();\n    };\n  }, [editorSessionId, reactAceRef]);\n};\n\nexport default useShareAce;\n","/* eslint-disable */\nimport * as ace from 'ace-builds/src-noconflict/ace';\nimport { Variant } from 'Clang-slang/dist/types';\n\nexport function HighlightRulesSelector_native(\n  id,\n  variant = Variant.DEFAULT,\n  external = 'NONE',\n  externalLibraries = []\n) {\n  // @ts-ignore\n  function _SourceHighlightRules(acequire, exports, module) {\n    const oop = acequire('../lib/oop');\n    const DocCommentHighlightRules = acequire(\n      './doc_comment_highlight_rules'\n    ).DocCommentHighlightRules;\n    const TextHighlightRules = acequire('./text_highlight_rules').TextHighlightRules;\n    const identifierRegex = '[a-zA-Z\\\\$_\\u00a1-\\uffff][a-zA-Z\\\\d\\\\$_\\u00a1-\\uffff]*';\n    const chapter = variant === Variant.DEFAULT ? id.toString() : id.toString() + '_' + variant;\n\n    // Currently there are no builtin libraries for NativeJS\n    // const builtin_lib = SourceDocumentation.builtins[chapter];\n    const builtin_lib = null;\n\n    function addFromBuiltinLibrary(meta) {\n      if (builtin_lib === null) {\n        return '';\n      }\n      let func = '';\n      for (const name in builtin_lib) {\n        if (builtin_lib[name]['meta'] === meta) {\n          func += '|' + name;\n        }\n      }\n      return func;\n    }\n    function addFromExternalLibrary(meta) {\n      if (externalLibraries === null) {\n        return '';\n      }\n      let func = '';\n      externalLibraries.forEach(node => {\n        if (node.meta === meta) {\n          func += '|' + node.caption;\n        }\n      });\n      return func;\n    }\n    function getAllNames(meta) {\n      const concat = addFromBuiltinLibrary(meta) + addFromExternalLibrary(meta);\n      return concat.substr(1);\n    }\n    const ChapterKeywordSelector = () => {\n      let output = '';\n      return output;\n    };\n    const ChapterForbbidenWordSelector = () => {\n      return 'window|document';\n    };\n    // @ts-ignore\n    const SourceHighlightRules = function (options) {\n      // @ts-ignore\n\n      // Copied from https://github.com/ajaxorg/ace-builds/blob/master/src/mode-javascript.js\n      const keywordMapper = this.createKeywordMapper(\n        {\n          'variable.language':\n            // Purple: for disallowed words\n            'implements|interface|package|private|protected|public|static|' +\n            ChapterForbbidenWordSelector(), // Pseudo\n          keyword:\n            // Orange: for normal keywords\n            'Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|' + // Constructors\n            'Namespace|QName|XML|XMLList|' + // E4X\n            'ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|' +\n            'Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|' +\n            'Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|' + // Errors\n            'SyntaxError|TypeError|URIError|' +\n            'decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|isFinite|' + // Non-constructor functions\n            'isNaN|parseFloat|parseInt|' +\n            'Math|' +\n            'this|arguments|prototype' +\n            'yield|get|set|async|await|' +\n            'enum|eval|' +\n            'true|false|' +\n            'null|Infinity|NaN|undefined|' +\n            'break|case|continue|default|delete|do|else|finally|for|' +\n            'if|in|of|instanceof|new|return|switch|throw|try|typeof|while|with|debugger|' +\n            'escape|with|' +\n            'extends|super|export',\n          'storage.type':\n            // Yellow: for declarations\n            'const|let|var|function|import|class|catch',\n          'support.function': 'alert'\n          // \"constant.language.boolean\": \"true|false\"\n        },\n        'identifier'\n      );\n      const keywordBeforeRegex =\n        'case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void';\n      const escapedRegex =\n        '\\\\\\\\(?:x[0-9a-fA-F]{2}|' + // hex\n        'u[0-9a-fA-F]{4}|' + // unicode\n        'u{[0-9a-fA-F]{1,6}}|' + // es6 unicode\n        '[0-2][0-7]{0,2}|' + // oct\n        '3[0-7][0-7]?|' + // oct\n        '[4-7][0-7]?|' + //oct\n        '.)';\n      // @ts-ignore\n      this.$rules = {\n        no_regex: [\n          DocCommentHighlightRules.getStartRule('doc-start'),\n          comments('no_regex'),\n          {\n            token: 'string',\n            regex: \"'(?=.)\",\n            next: 'qstring'\n          },\n          {\n            token: 'string',\n            regex: '\"(?=.)',\n            next: 'qqstring'\n          },\n          {\n            token: 'constant.numeric',\n            regex: /0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\\b/\n          },\n          {\n            token: 'constant.numeric',\n            regex: /(?:\\d\\d*(?:\\.\\d*)?|\\.\\d+)(?:[eE][+-]?\\d+\\b)?/\n          },\n          {\n            token: [\n              'storage.type',\n              'punctuation.operator',\n              'support.function',\n              'punctuation.operator',\n              'entity.name.function',\n              'text',\n              'keyword.operator'\n            ],\n            regex:\n              '(' + identifierRegex + ')(\\\\.)(prototype)(\\\\.)(' + identifierRegex + ')(\\\\s*)(=)',\n            next: 'function_arguments'\n          },\n          {\n            token: [\n              'storage.type',\n              'punctuation.operator',\n              'entity.name.function',\n              'text',\n              'keyword.operator',\n              'text',\n              'storage.type',\n              'text',\n              'paren.lparen'\n            ],\n            regex:\n              '(' +\n              identifierRegex +\n              ')(\\\\.)(' +\n              identifierRegex +\n              ')(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()',\n            next: 'function_arguments'\n          },\n          {\n            token: [\n              'entity.name.function',\n              'text',\n              'keyword.operator',\n              'text',\n              'storage.type',\n              'text',\n              'paren.lparen'\n            ],\n            regex: '(' + identifierRegex + ')(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()',\n            next: 'function_arguments'\n          },\n          {\n            token: [\n              'storage.type',\n              'punctuation.operator',\n              'entity.name.function',\n              'text',\n              'keyword.operator',\n              'text',\n              'storage.type',\n              'text',\n              'entity.name.function',\n              'text',\n              'paren.lparen'\n            ],\n            regex:\n              '(' +\n              identifierRegex +\n              ')(\\\\.)(' +\n              identifierRegex +\n              ')(\\\\s*)(=)(\\\\s*)(function)(\\\\s+)(\\\\w+)(\\\\s*)(\\\\()',\n            next: 'function_arguments'\n          },\n          {\n            token: ['storage.type', 'text', 'entity.name.function', 'text', 'paren.lparen'],\n            regex: '(function)(\\\\s+)(' + identifierRegex + ')(\\\\s*)(\\\\()',\n            next: 'function_arguments'\n          },\n          {\n            token: [\n              'entity.name.function',\n              'text',\n              'punctuation.operator',\n              'text',\n              'storage.type',\n              'text',\n              'paren.lparen'\n            ],\n            regex: '(' + identifierRegex + ')(\\\\s*)(:)(\\\\s*)(function)(\\\\s*)(\\\\()',\n            next: 'function_arguments'\n          },\n          {\n            token: ['text', 'text', 'storage.type', 'text', 'paren.lparen'],\n            regex: '(:)(\\\\s*)(function)(\\\\s*)(\\\\()',\n            next: 'function_arguments'\n          },\n          {\n            token: 'keyword',\n            regex: 'from(?=\\\\s*(\\'|\"))'\n          },\n          {\n            token: 'keyword',\n            regex: '(?:' + keywordBeforeRegex + ')\\\\b',\n            next: 'start'\n          },\n          {\n            token: ['support.constant'],\n            regex: /that\\b/\n          },\n          {\n            token: keywordMapper,\n            regex: identifierRegex\n          },\n          {\n            token: 'variable.language',\n            regex: /[.](?![.])/,\n            next: 'property'\n          },\n          {\n            token: 'storage.type',\n            regex: /=>/\n          },\n          {\n            token: 'keyword.operator',\n            regex: /--|\\+\\+|\\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\\|\\||\\?:|[!$%&*+\\-~\\/^]=?/,\n            next: 'start'\n          },\n          {\n            token: 'punctuation.operator',\n            regex: /[?:,;.]/,\n            next: 'start'\n          },\n          {\n            token: 'paren.lparen',\n            regex: /[\\[({]/,\n            next: 'start'\n          },\n          {\n            token: 'paren.rparen',\n            regex: /[\\])}]/\n          },\n          {\n            token: 'comment',\n            regex: /^#!.*$/\n          }\n        ],\n        property: [\n          {\n            token: 'text',\n            regex: '\\\\s+'\n          },\n          {\n            token: [\n              'storage.type',\n              'punctuation.operator',\n              'entity.name.function',\n              'text',\n              'keyword.operator',\n              'text',\n              'storage.type',\n              'text',\n              'entity.name.function',\n              'text',\n              'paren.lparen'\n            ],\n            regex:\n              '(' +\n              identifierRegex +\n              ')(\\\\.)(' +\n              identifierRegex +\n              ')(\\\\s*)(=)(\\\\s*)(function)(?:(\\\\s+)(\\\\w+))?(\\\\s*)(\\\\()',\n            next: 'function_arguments'\n          },\n          {\n            token: 'punctuation.operator',\n            regex: /[.](?![.])/\n          },\n          {\n            token: 'variable.language',\n            regex:\n              /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\\b(?=\\()/\n          },\n          {\n            token: 'variable.language.dom',\n            regex:\n              /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\\b(?=\\()/\n          },\n          {\n            token: 'support.constant',\n            regex:\n              /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\\b/\n          },\n          {\n            token: 'identifier',\n            regex: identifierRegex\n          },\n          {\n            regex: '',\n            token: 'empty',\n            next: 'no_regex'\n          }\n        ],\n        start: [\n          DocCommentHighlightRules.getStartRule('doc-start'),\n          comments('start'),\n          {\n            token: 'string.regexp',\n            regex: '\\\\/',\n            next: 'regex'\n          },\n          {\n            token: 'text',\n            regex: '\\\\s+|^$',\n            next: 'start'\n          },\n          {\n            token: 'empty',\n            regex: '',\n            next: 'no_regex'\n          }\n        ],\n        regex: [\n          {\n            token: 'regexp.keyword.operator',\n            regex: '\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)'\n          },\n          {\n            token: 'string.regexp',\n            regex: '/[sxngimy]*',\n            next: 'no_regex'\n          },\n          {\n            token: 'invalid',\n            regex: /\\{\\d+\\b,?\\d*\\}[+*]|[+*$^?][+*]|[$^][?]|\\?{3,}/\n          },\n          {\n            token: 'constant.language.escape',\n            regex: /\\(\\?[:=!]|\\)|\\{\\d+\\b,?\\d*\\}|[+*]\\?|[()$^+*?.]/\n          },\n          {\n            token: 'constant.language.delimiter',\n            regex: /\\|/\n          },\n          {\n            token: 'constant.language.escape',\n            regex: /\\[\\^?/,\n            next: 'regex_character_class'\n          },\n          {\n            token: 'empty',\n            regex: '$',\n            next: 'no_regex'\n          },\n          {\n            defaultToken: 'string.regexp'\n          }\n        ],\n        regex_character_class: [\n          {\n            token: 'regexp.charclass.keyword.operator',\n            regex: '\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)'\n          },\n          {\n            token: 'constant.language.escape',\n            regex: ']',\n            next: 'regex'\n          },\n          {\n            token: 'constant.language.escape',\n            regex: '-'\n          },\n          {\n            token: 'empty',\n            regex: '$',\n            next: 'no_regex'\n          },\n          {\n            defaultToken: 'string.regexp.charachterclass'\n          }\n        ],\n        function_arguments: [\n          {\n            token: 'variable.parameter',\n            regex: identifierRegex\n          },\n          {\n            token: 'punctuation.operator',\n            regex: '[, ]+'\n          },\n          {\n            token: 'punctuation.operator',\n            regex: '$'\n          },\n          {\n            token: 'empty',\n            regex: '',\n            next: 'no_regex'\n          }\n        ],\n        qqstring: [\n          {\n            token: 'constant.language.escape',\n            regex: escapedRegex\n          },\n          {\n            token: 'string',\n            regex: '\\\\\\\\$',\n            consumeLineEnd: true\n          },\n          {\n            token: 'string',\n            regex: '\"|$',\n            next: 'no_regex'\n          },\n          {\n            defaultToken: 'string'\n          }\n        ],\n        qstring: [\n          {\n            token: 'constant.language.escape',\n            regex: escapedRegex\n          },\n          {\n            token: 'string',\n            regex: '\\\\\\\\$',\n            consumeLineEnd: true\n          },\n          {\n            token: 'string',\n            regex: \"'|$\",\n            next: 'no_regex'\n          },\n          {\n            defaultToken: 'string'\n          }\n        ]\n      };\n      if (!options || !options.noES6) {\n        // @ts-ignore\n        this.$rules.no_regex.unshift(\n          {\n            regex: '[{}]',\n            // @ts-ignore\n            onMatch: function (val, state, stack) {\n              this.next = val == '{' ? this.nextState : '';\n              if (val == '{' && stack.length) {\n                stack.unshift('start', state);\n              } else if (val == '}' && stack.length) {\n                stack.shift();\n                this.next = stack.shift();\n                if (this.next.indexOf('string') != -1 || this.next.indexOf('jsx') != -1)\n                  return 'paren.quasi.end';\n              }\n              return val == '{' ? 'paren.lparen' : 'paren.rparen';\n            },\n            nextState: 'start'\n          },\n          {\n            token: 'string.quasi.start',\n            regex: /`/,\n            push: [\n              {\n                token: 'constant.language.escape',\n                regex: escapedRegex\n              },\n              {\n                token: 'paren.quasi.start',\n                regex: /\\${/,\n                push: 'start'\n              },\n              {\n                token: 'string.quasi.end',\n                regex: /`/,\n                next: 'pop'\n              },\n              {\n                defaultToken: 'string.quasi'\n              }\n            ]\n          }\n        );\n        if (!options || options.jsx != false)\n          // @ts-ignore\n          JSX.call(this);\n      }\n      // @ts-ignore\n      this.embedRules(DocCommentHighlightRules, 'doc-', [\n        DocCommentHighlightRules.getEndRule('no_regex')\n      ]);\n      // @ts-ignore\n      this.normalizeRules();\n    };\n    oop.inherits(SourceHighlightRules, TextHighlightRules);\n    function JSX() {\n      const tagRegex = identifierRegex.replace('\\\\d', '\\\\d\\\\-');\n      const jsxTag = {\n        // @ts-ignore\n        onMatch: function (val, state, stack) {\n          const offset = val.charAt(1) == '/' ? 2 : 1;\n          if (offset == 1) {\n            if (state != this.nextState) stack.unshift(this.next, this.nextState, 0);\n            else stack.unshift(this.next);\n            stack[2]++;\n          } else if (offset == 2) {\n            if (state == this.nextState) {\n              stack[1]--;\n              if (!stack[1] || stack[1] < 0) {\n                stack.shift();\n                stack.shift();\n              }\n            }\n          }\n          return [\n            {\n              type: 'meta.tag.punctuation.' + (offset == 1 ? '' : 'end-') + 'tag-open.xml',\n              value: val.slice(0, offset)\n            },\n            {\n              type: 'meta.tag.tag-name.xml',\n              value: val.substr(offset)\n            }\n          ];\n        },\n        regex: '</?' + tagRegex + '',\n        next: 'jsxAttributes',\n        nextState: 'jsx'\n      };\n      // @ts-ignore\n      this.$rules.start.unshift(jsxTag);\n      const jsxJsRule = {\n        regex: '{',\n        token: 'paren.quasi.start',\n        push: 'start'\n      };\n      // @ts-ignore\n      this.$rules.jsx = [jsxJsRule, jsxTag, { include: 'reference' }, { defaultToken: 'string' }];\n      // @ts-ignore\n      this.$rules.jsxAttributes = [\n        {\n          token: 'meta.tag.punctuation.tag-close.xml',\n          regex: '/?>',\n          // @ts-ignore\n          onMatch: function (value, currentState, stack) {\n            if (currentState == stack[0]) stack.shift();\n            if (value.length == 2) {\n              if (stack[0] == this.nextState) stack[1]--;\n              if (!stack[1] || stack[1] < 0) {\n                stack.splice(0, 2);\n              }\n            }\n            // @ts-ignore\n            this.next = stack[0] || 'start';\n            return [{ type: this.token, value: value }];\n          },\n          nextState: 'jsx'\n        },\n        jsxJsRule,\n        comments('jsxAttributes'),\n        {\n          token: 'entity.other.attribute-name.xml',\n          regex: tagRegex\n        },\n        {\n          token: 'keyword.operator.attribute-equals.xml',\n          regex: '='\n        },\n        {\n          token: 'text.tag-whitespace.xml',\n          regex: '\\\\s+'\n        },\n        {\n          token: 'string.attribute-value.xml',\n          regex: \"'\",\n          stateName: 'jsx_attr_q',\n          push: [\n            { token: 'string.attribute-value.xml', regex: \"'\", next: 'pop' },\n            { include: 'reference' },\n            { defaultToken: 'string.attribute-value.xml' }\n          ]\n        },\n        {\n          token: 'string.attribute-value.xml',\n          regex: '\"',\n          stateName: 'jsx_attr_qq',\n          push: [\n            { token: 'string.attribute-value.xml', regex: '\"', next: 'pop' },\n            { include: 'reference' },\n            { defaultToken: 'string.attribute-value.xml' }\n          ]\n        },\n        jsxTag\n      ];\n      // @ts-ignore\n      this.$rules.reference = [\n        {\n          token: 'constant.language.escape.reference.xml',\n          regex: '(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)'\n        }\n      ];\n    }\n    // @ts-ignore\n    function comments(next) {\n      return [\n        {\n          token: 'comment',\n          regex: /\\/\\*/,\n          next: [\n            DocCommentHighlightRules.getTagRule(),\n            { token: 'comment', regex: '\\\\*\\\\/', next: next || 'pop' },\n            { defaultToken: 'comment', caseInsensitive: true }\n          ]\n        },\n        {\n          token: 'comment',\n          regex: '\\\\/\\\\/',\n          next: [\n            DocCommentHighlightRules.getTagRule(),\n            { token: 'comment', regex: '$|^', next: next || 'pop' },\n            { defaultToken: 'comment', caseInsensitive: true }\n          ]\n        }\n      ];\n    }\n    exports.SourceHighlightRules = SourceHighlightRules;\n  }\n  const name = id.toString() + variant + external;\n  // @ts-ignore\n  ace.define(\n    'ace/mode/source_highlight_rules' + name,\n    [\n      'require',\n      'exports',\n      'module',\n      'ace/lib/oop',\n      'ace/mode/doc_comment_highlight_rules',\n      'ace/mode/text_highlight_rules'\n    ],\n    _SourceHighlightRules\n  );\n}\n","import { SourceDocumentation } from 'CLang-slang';\nimport { deviceTypes } from 'src/features/remoteExecution/RemoteExecutionTypes';\n\nimport { externalLibraries } from '../application/types/ExternalTypes';\n\nconst externalLibrariesDocumentation = {};\n\nconst MAX_CAPTION_LENGTH = 27;\n\nfunction shortenCaption(name: string): string {\n  if (name.length <= MAX_CAPTION_LENGTH) {\n    return name;\n  }\n\n  return (name = name.substring(0, MAX_CAPTION_LENGTH - 3) + '...');\n}\n\nfunction mapExternalLibraryName(name: string) {\n  if (name in SourceDocumentation.ext_lib) {\n    return {\n      caption: shortenCaption(name),\n      value: name,\n      meta: SourceDocumentation.ext_lib[name].meta,\n      docHTML: SourceDocumentation.ext_lib[name].description\n    };\n  } else {\n    return {\n      caption: shortenCaption(name),\n      value: name,\n      meta: 'const'\n    };\n  }\n}\n\nfor (const [lib, names] of externalLibraries) {\n  externalLibrariesDocumentation[lib] = names.map(mapExternalLibraryName);\n}\n\n// Add remote device libraries\nfor (const deviceType of deviceTypes) {\n  externalLibrariesDocumentation[deviceType.deviceLibraryName] =\n    deviceType.internalFunctions.map(mapExternalLibraryName);\n}\n\nconst builtinDocumentation = {};\n\nObject.entries(SourceDocumentation.builtins).forEach((chapterDoc: any) => {\n  const [chapter, docs] = chapterDoc;\n  builtinDocumentation[chapter] = Object.entries(docs).map((entry: any) => {\n    const [name, info] = entry;\n    return {\n      caption: shortenCaption(name),\n      value: name,\n      meta: info.meta,\n      docHTML: info.description\n    };\n  });\n});\n\nexport const Documentation = {\n  builtins: builtinDocumentation,\n  externalLibraries: externalLibrariesDocumentation\n};\n","import { ModeSelector } from 'Clang-slang/dist/editors/ace/modes/source';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\n\nimport { HighlightRulesSelector_native } from '../../features/fullJS/fullJSHighlight';\nimport { Documentation } from '../documentation/Documentation';\n/**\n * This _modifies global state_ and defines a new Ace mode globally, if it does not already exist.\n *\n * You can call this directly in render functions.\n */\nexport const selectMode = (chapter: Chapter, variant: Variant, library: string) => {\n  if (\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    typeof ace.define.modules[`ace/mode/${getModeString(chapter, variant, library)}`]?.Mode ===\n    'function'\n  ) {\n    return;\n  }\n\n  HighlightRulesSelector_native(\n    chapter,\n    variant,\n    library,\n    Documentation.externalLibraries[library]\n  );\n  ModeSelector(chapter, variant, library);\n};\n\nexport const getModeString = (chapter: Chapter, variant: Variant, library: string) => {\n  return `source${chapter}${variant}${library}`;\n};\n","import React from 'react';\n\nexport enum EditorBinding {\n  NONE = '',\n  VIM = 'vim',\n  EMACS = 'emacs'\n}\n\nexport type WorkspaceSettings = {\n  editorBinding: EditorBinding;\n};\n\nexport const defaultWorkspaceSettings: WorkspaceSettings = {\n  editorBinding: EditorBinding.NONE\n};\n\n/**\n * The WorkspaceSettingsContext stores the local storage-based application settings.\n *\n * The local storage state is initialized in Application.tsx via the useLocalStorageState hook.\n */\nexport const WorkspaceSettingsContext = React.createContext<\n  [WorkspaceSettings, React.Dispatch<React.SetStateAction<WorkspaceSettings>>] | null\n>(null);\n","/* eslint-disable simple-import-sort/imports */\nimport { Ace, require as acequire } from 'ace-builds';\nimport 'ace-builds/src-noconflict/ext-language_tools';\nimport 'ace-builds/src-noconflict/ext-searchbox';\nimport 'Clang-slang/dist/editors/ace/theme/source';\n\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport * as React from 'react';\nimport AceEditor, { IAceEditorProps, IEditorProps } from 'react-ace';\nimport * as AceBuilds from 'ace-builds';\nimport { HotKeys } from 'react-hotkeys';\n\nimport { keyBindings, KeyFunction } from './EditorHotkeys';\nimport { AceMouseEvent, HighlightedLines, Position } from './EditorTypes';\n\n// =============== Hooks ===============\n// TODO: Should further refactor into EditorBase + different variants.\n// Ideally, hooks should be specified by the parent component instead.\nimport useShareAce from './UseShareAce';\nimport { getModeString, selectMode } from '../utils/AceHelper';\nimport { EditorBinding, WorkspaceSettingsContext } from '../WorkspaceSettingsContext';\n\nexport type EditorKeyBindingHandlers = { [name in KeyFunction]?: () => void };\nexport type EditorHook = (\n  inProps: Readonly<EditorProps>,\n  outProps: IAceEditorProps,\n  keyBindings: EditorKeyBindingHandlers,\n  reactAceRef: React.MutableRefObject<AceEditor | null>\n) => void;\n\nexport type EditorProps = DispatchProps & EditorStateProps & EditorTabStateProps & OnEvent;\n\ntype DispatchProps = {\n  handleDeclarationNavigate: (cursorPosition: Position) => void;\n  handleEditorEval: () => void;\n  handleEditorValueChange: (newCode: string) => void;\n  handleEditorUpdateBreakpoints: (breakpoints: string[]) => void;\n  handlePromptAutocomplete: (row: number, col: number, callback: any) => void;\n  handleSendReplInputToOutput?: (newOutput: string) => void;\n  handleSetSharedbConnected?: (connected: boolean) => void;\n  handleUpdateHasUnsavedChanges?: (hasUnsavedChanges: boolean) => void;\n};\n\ntype EditorStateProps = {\n  editorSessionId: string;\n  isEditorAutorun: boolean;\n  sourceChapter?: Chapter;\n  externalLibraryName?: string;\n  sourceVariant?: Variant;\n  hooks?: EditorHook[];\n};\n\nexport type EditorTabStateProps = {\n  editorValue: string;\n  highlightedLines: HighlightedLines[];\n  breakpoints: string[];\n  newCursorPosition?: Position;\n};\n\ntype LocalStateProps = {\n  editorBinding: EditorBinding;\n};\n\ntype OnEvent = {\n  onSelectionChange?: (value: any, event?: any) => void;\n  onCursorChange?: (value: any, event?: any) => void;\n  onInput?: (event?: any) => void;\n  onLoad?: (editor: Ace.Editor) => void;\n  onValidate?: (annotations: Ace.Annotation[]) => void;\n  onBeforeLoad?: (ace: typeof AceBuilds) => void;\n  onChange?: (value: string, event?: any) => void;\n  onSelection?: (selectedText: string, event?: any) => void;\n  onCopy?: (value: string) => void;\n  onPaste?: (value: string) => void;\n  onFocus?: (event: any, editor?: Ace.Editor) => void;\n  onBlur?: (event: any, editor?: Ace.Editor) => void;\n  onScroll?: (editor: IEditorProps) => void;\n};\n\nconst EventT: Array<keyof OnEvent> = [\n  'onSelectionChange',\n  'onCursorChange',\n  'onInput',\n  'onLoad',\n  'onValidate',\n  'onBeforeLoad',\n  'onChange',\n  'onSelection',\n  'onCopy',\n  'onPaste',\n  'onFocus',\n  'onBlur',\n  'onScroll'\n];\n\nconst getMarkers = (\n  highlightedLines: EditorTabStateProps['highlightedLines']\n): IAceEditorProps['markers'] => {\n  return highlightedLines.map(lineNums => ({\n    startRow: lineNums[0],\n    startCol: 0,\n    endRow: lineNums[1],\n    endCol: 1,\n    className: 'myMarker',\n    type: 'fullLine'\n  }));\n};\n\nconst makeHandleGutterClick =\n  (handleEditorUpdateBreakpoints: DispatchProps['handleEditorUpdateBreakpoints']) =>\n  (e: AceMouseEvent) => {\n    const target = e.domEvent.target! as HTMLDivElement;\n    if (\n      target.className.indexOf('ace_gutter-cell') === -1 ||\n      !e.editor.isFocused() ||\n      e.clientX > 35 + target.getBoundingClientRect().left\n    ) {\n      return;\n    }\n\n    // Breakpoint related.\n    const row = e.getDocumentPosition().row;\n    const content = e.editor.session.getLine(row);\n    const breakpoints = e.editor.session.getBreakpoints();\n    if (\n      breakpoints[row] === undefined &&\n      content.length !== 0 &&\n      !content.includes('//') &&\n      !content.includes('debugger;')\n    ) {\n      e.editor.session.setBreakpoint(row, undefined!);\n    } else {\n      e.editor.session.clearBreakpoint(row);\n    }\n    e.stop();\n    handleEditorUpdateBreakpoints(e.editor.session.getBreakpoints());\n  };\n\n// Note: This is untestable/unused because JS-hint has been removed.\nconst makeHandleAnnotationChange = (session: Ace.EditSession) => () => {\n  const annotations = session.getAnnotations();\n  let count = 0;\n  for (const anno of annotations) {\n    if (anno.type === 'info') {\n      anno.type = 'error';\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore // Probably some undocumented type\n      anno.className = 'ace_error';\n      count++;\n    }\n  }\n  if (count !== 0) {\n    session.setAnnotations(annotations);\n  }\n};\n\nconst makeCompleter = (handlePromptAutocomplete: DispatchProps['handlePromptAutocomplete']) => ({\n  getCompletions: (\n    editor: Ace.Editor,\n    session: Ace.EditSession,\n    pos: Ace.Point,\n    prefix: string,\n    callback: () => void\n  ) => {\n    // Don't prompt if prefix starts with number\n    if (prefix && /\\d/.test(prefix.charAt(0))) {\n      callback();\n      return;\n    }\n\n    // Cursor col is insertion location i.e. last char col + 1\n    handlePromptAutocomplete(pos.row + 1, pos.column, callback);\n  }\n});\n\nconst moveCursor = (editor: AceEditor['editor'], position: Position) => {\n  editor.selection.clearSelection();\n  editor.moveCursorToPosition(position);\n  editor.renderer.showCursor();\n  editor.renderer.scrollCursorIntoView(position, 0.5);\n};\n\n/* Override handler, so does not trigger when focus is in editor */\nconst handlers = {\n  goGreen: () => {}\n};\n\nconst EditorBase = React.memo((props: EditorProps & LocalStateProps) => {\n  const reactAceRef: React.MutableRefObject<AceEditor | null> = React.useRef(null);\n\n  // Refs for things that technically shouldn't change... but just in case.\n  const handleEditorUpdateBreakpointsRef = React.useRef(props.handleEditorUpdateBreakpoints);\n  const handlePromptAutocompleteRef = React.useRef(props.handlePromptAutocomplete);\n\n  React.useEffect(() => {\n    handleEditorUpdateBreakpointsRef.current = props.handleEditorUpdateBreakpoints;\n    handlePromptAutocompleteRef.current = props.handlePromptAutocomplete;\n  }, [props.handleEditorUpdateBreakpoints, props.handlePromptAutocomplete]);\n\n  // Handles input into AceEditor causing app to scroll to the top on iOS Safari\n  React.useEffect(() => {\n    const isIOS = /iPhone|iPad|iPod/.test(navigator.userAgent);\n    if (isIOS) {\n      document.body.style.position = 'fixed';\n      document.body.style.width = '100%';\n    }\n\n    return () => {\n      document.body.style.position = '';\n      document.body.style.width = '';\n    };\n  }, []);\n\n  const [sourceChapter, sourceVariant, externalLibraryName] = [\n    props.sourceChapter || Chapter.CLANG,\n    props.sourceVariant || Variant.DEFAULT,\n    props.externalLibraryName || 'NONE'\n  ];\n\n  // this function defines the Ace language and highlighting mode for the\n  // given combination of chapter, variant and external library. it CANNOT be\n  // put in useEffect as it MUST be called before the mode is set on the Ace\n  // editor, and use(Layout)Effect runs after that happens.\n  //\n  // this used to be in useMemo, but selectMode now checks if the mode is\n  // already defined and doesn't do it, so it is now OK to keep calling this\n  // unconditionally.\n  selectMode(sourceChapter, sourceVariant, externalLibraryName);\n\n  React.useLayoutEffect(() => {\n    if (!reactAceRef.current) {\n      return;\n    }\n    const editor = reactAceRef.current.editor;\n    const session = editor.getSession();\n    // NOTE: Everything in this function is designed to run exactly ONCE per instance of react-ace.\n    // The () => ref.current() are designed to use the latest instance only.\n\n    // NOTE: the two `any`s below are because the Ace editor typedefs are\n    // hopelessly incomplete\n    editor.on(\n      'gutterclick' as any,\n      makeHandleGutterClick((...args) => handleEditorUpdateBreakpointsRef.current(...args)) as any\n    );\n\n    // Change all info annotations to error annotations\n    session.on('changeAnnotation' as any, makeHandleAnnotationChange(session));\n\n    // Start autocompletion\n    acequire('ace/ext/language_tools').setCompleters([\n      makeCompleter((...args) => handlePromptAutocompleteRef.current(...args))\n    ]);\n    // This should run exactly once.\n  }, []);\n\n  React.useLayoutEffect(() => {\n    if (!reactAceRef.current) {\n      return;\n    }\n    const newCursorPosition = props.newCursorPosition;\n    if (newCursorPosition) {\n      moveCursor(reactAceRef.current.editor, newCursorPosition);\n    }\n  }, [props.newCursorPosition]);\n\n  const {\n    handleUpdateHasUnsavedChanges,\n    handleEditorValueChange,\n    isEditorAutorun,\n    handleEditorEval\n  } = props;\n  const keyHandlers: EditorKeyBindingHandlers = {\n    evaluate: handleEditorEval\n  };\n\n  const aceEditorProps: IAceEditorProps = {\n    className: 'react-ace',\n    editorProps: {\n      $blockScrolling: Infinity\n    },\n    markers: React.useMemo(() => getMarkers(props.highlightedLines), [props.highlightedLines]),\n    fontSize: 17,\n    height: '100%',\n    highlightActiveLine: false,\n    mode: getModeString(sourceChapter, sourceVariant, externalLibraryName),\n    theme: 'source',\n    value: props.editorValue,\n    width: '100%',\n    setOptions: {\n      enableBasicAutocompletion: true,\n      enableLiveAutocompletion: true,\n      fontFamily: \"'Inconsolata', 'Consolas', monospace\"\n    },\n    keyboardHandler: props.editorBinding\n  };\n\n  // Hooks must not change after an editor is instantiated, so to prevent that\n  // we store the original value and always use that only\n  const [hooks] = React.useState(props.hooks);\n  if (hooks) {\n    // Note: the following is extremely non-standard use of hooks\n    // DO NOT refactor this into any form where the hook is called from a lambda\n    for (const hook of hooks) {\n      hook(props, aceEditorProps, keyHandlers, reactAceRef);\n    }\n  }\n\n  const hooksOnChange = aceEditorProps.onChange;\n\n  aceEditorProps.onChange = React.useCallback(\n    (newCode: string, delta: Ace.Delta) => {\n      if (!reactAceRef.current) {\n        return;\n      }\n      handleEditorValueChange(newCode);\n      if (handleUpdateHasUnsavedChanges) {\n        handleUpdateHasUnsavedChanges(true);\n      }\n      const annotations = reactAceRef.current.editor.getSession().getAnnotations();\n      if (isEditorAutorun && annotations.length === 0) {\n        handleEditorEval();\n      }\n      hooksOnChange && hooksOnChange(newCode, delta);\n    },\n    [\n      handleEditorValueChange,\n      handleUpdateHasUnsavedChanges,\n      isEditorAutorun,\n      hooksOnChange,\n      handleEditorEval\n    ]\n  );\n\n  aceEditorProps.commands = Object.entries(keyHandlers)\n    .filter(([_, exec]) => exec)\n    .map(([name, exec]) => ({ name, bindKey: keyBindings[name], exec: exec! }));\n\n  // Merge in .onEvent ace editor props\n  // This prevents user errors such as\n  // TRYING TO ADD AN ONCHANGE PROP WHICH KILLS THE ABOVE ONCHANGE.\n  // **triggered**\n  EventT.forEach(eventT => {\n    const propFn = props[eventT];\n    if (propFn) {\n      /* eslint-disable */\n\n      const currFn = aceEditorProps[eventT];\n      if (!currFn) {\n        // Typescript isn't smart enough to know that the types of both LHS/RHS are the same.\n        // @ts-ignore\n        aceEditorProps[eventT] = propFn;\n      } else {\n        aceEditorProps[eventT] = function (...args: any[]) {\n          // Impossible to define a function which takes in the arbitrary number of correct arguments...\n          // @ts-ignore\n          currFn(...args);\n          // @ts-ignore\n          propFn(...args);\n        };\n      }\n      /* eslint-enable */\n    }\n  });\n\n  return (\n    <HotKeys className=\"Editor bp4-card bp4-elevation-0\" handlers={handlers}>\n      <div className=\"row editor-react-ace\">\n        <AceEditor {...aceEditorProps} ref={reactAceRef} />\n      </div>\n    </HotKeys>\n  );\n});\n\n// don't create a new list every render.\nconst hooks = [useShareAce];\n\nconst Editor: React.FC<EditorProps> = (props: EditorProps) => {\n  const [workspaceSettings] = React.useContext(WorkspaceSettingsContext)!;\n\n  return <EditorBase {...props} editorBinding={workspaceSettings.editorBinding} hooks={hooks} />;\n};\n\nexport default Editor;\n","// Necessary to prevent \"ReferenceError: ace is not defined\" error.\n// See https://github.com/securingsincity/react-ace/issues/1233 (although there is no explanation).\nimport 'ace-builds/src-noconflict/ace';\n\nimport _ from 'lodash';\nimport React from 'react';\n\nimport SourcecastEditor, {\n  SourceRecorderEditorProps\n} from '../sourceRecorder/SourceRecorderEditor';\nimport { EditorTabState } from '../workspace/WorkspaceTypes';\nimport Editor, { EditorProps, EditorTabStateProps } from './Editor';\n\nexport type NormalEditorContainerProps = Omit<EditorProps, keyof EditorTabStateProps> & {\n  editorVariant: 'normal';\n  editorTabs: EditorTabStateProps[];\n};\n\nexport type SourcecastEditorContainerProps = Omit<\n  SourceRecorderEditorProps,\n  keyof EditorTabStateProps\n> & {\n  editorVariant: 'sourcecast';\n  editorTabs: EditorTabStateProps[];\n};\n\nexport type EditorContainerProps = NormalEditorContainerProps | SourcecastEditorContainerProps;\n\nexport const convertEditorTabStateToProps = (editorTab: EditorTabState): EditorTabStateProps => {\n  return {\n    editorValue: editorTab.value,\n    ..._.pick(editorTab, 'highlightedLines', 'breakpoints', 'newCursorPosition')\n  };\n};\n\nconst createNormalEditorTab =\n  (editorProps: Omit<EditorProps, keyof EditorTabStateProps>) =>\n  (editorTabStateProps: EditorTabStateProps) => {\n    return <Editor {...editorProps} {...editorTabStateProps} />;\n  };\n\nconst createSourcecastEditorTab =\n  (editorProps: Omit<SourceRecorderEditorProps, keyof EditorTabStateProps>) =>\n  (editorTabStateProps: EditorTabStateProps) => {\n    return <SourcecastEditor {...editorProps} {...editorTabStateProps} />;\n  };\n\nconst EditorContainer: React.FC<EditorContainerProps> = (props: EditorContainerProps) => {\n  let createEditorTab;\n  if (props.editorVariant === 'sourcecast') {\n    const { editorVariant, editorTabs, ...editorProps } = props;\n    createEditorTab = createSourcecastEditorTab(editorProps);\n  } else {\n    const { editorVariant, editorTabs, ...editorProps } = props;\n    createEditorTab = createNormalEditorTab(editorProps);\n  }\n  // TODO: Implement editor tabs.\n  return createEditorTab(props.editorTabs[0]);\n};\n\nexport default EditorContainer;\n","import { Classes } from '@blueprintjs/core';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { Converter } from 'showdown';\n\ntype MarkdownProps = {\n  className?: string;\n  content: string;\n  openLinksInNewWindow?: boolean;\n  simplifiedAutoLink?: boolean;\n  strikethrough?: boolean;\n  tasklists?: boolean;\n};\n\nconst Markdown: React.FC<MarkdownProps> = props => {\n  const converter = new Converter({\n    tables: true,\n    simplifiedAutoLink: props.simplifiedAutoLink,\n    strikethrough: props.strikethrough,\n    tasklists: props.tasklists,\n    openLinksInNewWindow: props.openLinksInNewWindow\n  });\n\n  return (\n    <div\n      className={classNames(props.className ? props.className : 'md', Classes.RUNNING_TEXT)}\n      dangerouslySetInnerHTML={{ __html: converter.makeHtml(props.content) }}\n    />\n  );\n};\n\nexport default React.memo(Markdown);\n","import { Classes } from '@blueprintjs/core';\nimport classNames from 'classnames';\nimport React from 'react';\n\nexport type ControlBarProps = {\n  editorButtons: Array<JSX.Element | null>;\n  flowButtons?: Array<JSX.Element | null>;\n  editingWorkspaceButtons?: Array<JSX.Element | null>;\n};\n\nconst ControlBar: React.FC<ControlBarProps> = props => {\n  const editorControl = (\n    <div className={classNames('ControlBar_editor', Classes.BUTTON_GROUP)}>\n      {props.editorButtons}\n    </div>\n  );\n\n  const flowControl = props.flowButtons && (\n    <div className={classNames('ControlBar_flow', Classes.BUTTON_GROUP)}>{props.flowButtons}</div>\n  );\n\n  const editingWorkspaceControl = (\n    <div className={classNames('ControlBar_editingWorkspace', Classes.BUTTON_GROUP)}>\n      {props.editingWorkspaceButtons}\n    </div>\n  );\n\n  return (\n    <div className=\"ControlBar\">\n      {editorControl}\n      {flowControl}\n      {editingWorkspaceControl}\n    </div>\n  );\n};\n\nexport default ControlBar;\n","import { Button, Card, Intent } from '@blueprintjs/core';\nimport * as React from 'react';\n\nimport { IMCQQuestion } from '../assessment/AssessmentTypes';\nimport Markdown from '../Markdown';\nimport { showSuccessMessage, showWarningMessage } from '../utils/NotificationsHelper';\n\nexport type McqChooserProps = {\n  mcq: IMCQQuestion;\n  handleMCQSubmit: (choiceId: number) => void;\n};\n\nclass McqChooser extends React.PureComponent<McqChooserProps, {}> {\n  public render() {\n    const options = this.props.mcq.choices.map((choice, i) => (\n      <Button\n        key={i}\n        className=\"mcq-option col-xs-12\"\n        active={i === this.props.mcq.answer}\n        intent={this.getButtonIntent(i, this.props.mcq.answer, this.props.mcq.solution)}\n        onClick={this.onButtonClickFactory(i)}\n        minimal={true}\n      >\n        <Markdown content={choice.content} />\n      </Button>\n    ));\n    return (\n      <div className=\"MCQChooser row\">\n        <Card className=\"mcq-content-parent col-xs-12 middle-xs\">\n          <div className=\"row mcq-options-parent between-xs\">{options}</div>\n        </Card>\n      </div>\n    );\n  }\n\n  /**\n   * A function to generate an onClick function that causes\n   * and mcq submission with a given answer id.\n   *\n   * Post-condition: the local state will be updated to store the\n   * mcq option selected, and a notification will be displayed with\n   * a hint, if the question is ungraded.\n   *\n   * @param i the id of the answer\n   */\n  private onButtonClickFactory = (i: number) => (e: any) => {\n    if (i !== this.props.mcq.answer) {\n      this.props.handleMCQSubmit(i);\n    }\n    const shouldDisplayMessage = this.props.mcq.solution !== null && this.props.mcq.choices[i].hint;\n    if (shouldDisplayMessage) {\n      const hintElement = (\n        <Markdown className=\"markdown-notification\" content={this.props.mcq.choices[i].hint!} />\n      );\n      if (i === this.props.mcq.solution) {\n        showSuccessMessage(hintElement, 4000);\n      } else {\n        showWarningMessage(hintElement, 4000);\n      }\n    }\n  };\n\n  /**\n   * Handles the logic for what intent an MCQ option should show up as.\n   * This is dependent on the presence of an actual solution (for ungraded assessments),\n   * the current selection, and whether the selected option is active.\n   *\n   * @param currentOption the current button key, corresponding to a choice ID\n   * @param chosenOption the mcq option that is chosen in the state, i.e what should show up as \"selected\"\n   * @param solution the solution to the mcq, if any\n   */\n  private getButtonIntent = (\n    currentOption: number,\n    chosenOption: number | null,\n    solution?: number\n  ): Intent => {\n    const active = currentOption === chosenOption;\n    const correctOptionSelected = active && solution !== undefined && currentOption === solution;\n    if (solution === undefined) {\n      return Intent.NONE;\n    } else if (active && correctOptionSelected) {\n      return Intent.SUCCESS;\n    } else if (active && !correctOptionSelected) {\n      return Intent.DANGER;\n    } else {\n      return Intent.NONE;\n    }\n  };\n}\n\nexport default McqChooser;\n","import { Classes } from '@blueprintjs/core';\nimport { Ace } from 'ace-builds';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport AceEditor from 'react-ace';\nimport ReactAce from 'react-ace/lib/ace';\nimport MediaQuery from 'react-responsive';\n\nimport { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport { getModeString, selectMode } from '../utils/AceHelper';\n// source mode and chapter imported in Editor.tsx\n\nexport type ReplInputProps = DispatchProps & StateProps & OwnProps;\n\ntype DispatchProps = {\n  handleBrowseHistoryDown: () => void;\n  handleBrowseHistoryUp: () => void;\n  handleReplValueChange: (newCode: string) => void;\n  handleReplEval: () => void;\n  onFocus?: (editor: Ace.Editor) => void;\n  onBlur?: () => void;\n};\n\ntype StateProps = {\n  replValue: string;\n  sourceChapter: Chapter;\n  sourceVariant: Variant;\n  externalLibrary: ExternalLibraryName;\n  disableScrolling?: boolean;\n};\n\ntype OwnProps = {\n  replButtons: Array<JSX.Element | null>;\n};\n\nexport const ReplInput: React.FC<ReplInputProps> = (props: ReplInputProps) => {\n  const { onFocus, onBlur } = props;\n\n  const replInput = React.useRef<ReactAce>(null);\n  const replInputBottom = React.useRef<HTMLDivElement>(null);\n\n  const execBrowseHistoryDown: () => void = props.handleBrowseHistoryDown;\n  const execBrowseHistoryUp: () => void = props.handleBrowseHistoryUp;\n  const execEvaluate = () => {\n    props.handleReplEval();\n    if (replInputBottom.current && !props.disableScrolling) {\n      /**\n       * Ensures the REPL AceEditor input is always in view even after multiple REPL eval calls.\n       * This feature is disabled in the mobile workspace as it interferes with the UX of the DraggableRepl.\n       */\n      replInputBottom.current.scrollIntoView();\n    }\n  };\n\n  React.useEffect(() => {\n    if (!replInput.current) {\n      return;\n    }\n    const editor = replInput.current.editor;\n    if (onFocus) {\n      editor.on('focus', () => onFocus(editor));\n    }\n    if (onBlur) {\n      editor.on('blur', onBlur);\n    }\n  });\n\n  React.useEffect(() => {\n    if (!replInputBottom.current || props.disableScrolling) {\n      return;\n    }\n    if (replInputBottom.current.clientWidth >= window.innerWidth - 50) {\n      /* There is a bug where\n       *   if the workspace has been resized via re-resizable such that the\n       *   has disappeared off the screen, width 63\n       * then\n       *   calling scrollIntoView would cause the Repl to suddenly take up 100%\n       *   of the screen width. This pushes the editor off-screen so that the\n       *   user can no longer resize the workspace at all\n       * Fix: the if condition is true when the Repl has dissapeared off-screen.\n       *   (-15 to account for the scrollbar */\n    } else {\n      replInputBottom.current.scrollIntoView();\n    }\n  });\n\n  // see the comment above this same call in Editor.tsx\n  selectMode(props.sourceChapter, props.sourceVariant, props.externalLibrary);\n\n  const replButtons = () => props.replButtons;\n\n  return (\n    <>\n      <AceEditor\n        className=\"repl-react-ace react-ace\"\n        mode={getModeString(props.sourceChapter, props.sourceVariant, props.externalLibrary)}\n        theme=\"source\"\n        height=\"1px\"\n        width=\"100%\"\n        value={props.replValue}\n        onChange={props.handleReplValueChange}\n        commands={[\n          {\n            name: 'browseHistoryDown',\n            bindKey: {\n              win: 'Down',\n              mac: 'Down'\n            },\n            exec: execBrowseHistoryDown\n          },\n          {\n            name: 'browseHistoryUp',\n            bindKey: {\n              win: 'Up',\n              mac: 'Up'\n            },\n            exec: execBrowseHistoryUp\n          },\n          {\n            name: 'evaluate',\n            bindKey: {\n              win: 'Shift-Enter',\n              mac: 'Shift-Enter'\n            },\n            exec: execEvaluate\n          }\n        ]}\n        minLines={1}\n        maxLines={20}\n        fontSize={17}\n        highlightActiveLine={false}\n        showGutter={false}\n        showPrintMargin={false}\n        setOptions={{\n          fontFamily: \"'Inconsolata', 'Consolas', monospace\"\n        }}\n        ref={replInput}\n      />\n      <div className={classNames(Classes.BUTTON_GROUP, Classes.DARK)}>{replButtons()}</div>\n      <MediaQuery minWidth={769}>\n        <div ref={replInputBottom} />\n      </MediaQuery>\n    </>\n  );\n};\n","import { Card, Classes, Pre } from '@blueprintjs/core';\nimport { Ace } from 'ace-builds';\nimport { parseError } from 'Clang-slang';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { HotKeys } from 'react-hotkeys';\n\nimport { InterpreterOutput } from '../application/ApplicationTypes';\nimport { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport { ReplInput } from './ReplInput';\nimport { OutputProps } from './ReplTypes';\n\nexport type ReplProps = DispatchProps & StateProps & OwnProps;\n\ntype StateProps = {\n  output: InterpreterOutput[];\n  replValue: string;\n  hidden?: boolean;\n  inputHidden?: boolean;\n  usingSubst?: boolean;\n  sourceChapter: Chapter;\n  sourceVariant: Variant;\n  externalLibrary: ExternalLibraryName;\n  disableScrolling?: boolean;\n};\n\ntype DispatchProps = {\n  handleBrowseHistoryDown: () => void;\n  handleBrowseHistoryUp: () => void;\n  handleReplEval: () => void;\n  handleReplValueChange: (newCode: string) => void;\n  onFocus?: (editor: Ace.Editor) => void;\n  onBlur?: () => void;\n};\n\ntype OwnProps = {\n  replButtons: Array<JSX.Element | null>;\n};\n\nconst Repl: React.FC<ReplProps> = (props: ReplProps) => {\n  const cards = props.output.map((slice, index) => (\n    <Output output={slice} key={index} usingSubst={props.usingSubst ?? false} />\n  ));\n  return (\n    <div className=\"Repl\" style={{ display: props.hidden ? 'none' : undefined }}>\n      <div className=\"repl-output-parent\">\n        {cards}\n        {!props.inputHidden && (\n          <HotKeys\n            className={classNames('repl-input-parent', 'row', Classes.CARD, Classes.ELEVATION_0)}\n            handlers={handlers}\n          >\n            <ReplInput {...props} />\n          </HotKeys>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport const Output: React.FC<OutputProps> = (props: OutputProps) => {\n  switch (props.output.type) {\n    case 'code':\n      return (\n        <Card>\n          <Pre className=\"code-output\">{props.output.value}</Pre>\n        </Card>\n      );\n    case 'running':\n      return (\n        <Card>\n          <Pre className=\"log-output\">{props.output.consoleLogs.join('\\n')}</Pre>\n        </Card>\n      );\n    case 'result':\n      // We check if we are using Stepper, so we can process the REPL results properly\n      if (props.usingSubst && props.output.value instanceof Array) {\n        return (\n          <Card>\n            <Pre className=\"log-output\">Check out the Stepper tab!</Pre>\n          </Card>\n        );\n      } else if (props.output.consoleLogs.length === 0) {\n        return (\n          <Card>\n            <Pre className=\"result-output\">{props.output.value}</Pre>\n          </Card>\n        );\n      } else {\n        return (\n          <Card>\n            <Pre className=\"log-output\">{props.output.consoleLogs.join('\\n')}</Pre>\n            <Pre className=\"result-output\">{props.output.value}</Pre>\n          </Card>\n        );\n      }\n    case 'errors':\n      if (props.output.consoleLogs.length === 0) {\n        return (\n          <Card>\n            <Pre className=\"error-output\">{parseError(props.output.errors)}</Pre>\n          </Card>\n        );\n      } else {\n        return (\n          <Card>\n            <Pre className=\"log-output\">{props.output.consoleLogs.join('\\n')}</Pre>\n            <br />\n            <Pre className=\"error-output\">{parseError(props.output.errors)}</Pre>\n          </Card>\n        );\n      }\n    default:\n      return <Card>''</Card>;\n  }\n};\n\n/* Override handler, so does not trigger when focus is in editor */\nconst handlers = {\n  goGreen: () => {}\n};\n\nexport default Repl;\n","import React from 'react';\nimport Draggable, { DraggableEventHandler } from 'react-draggable';\n\nimport Repl, { ReplProps } from '../repl/Repl';\n\ntype DraggableReplProps = {\n  position: { x: number; y: number };\n  onDrag: DraggableEventHandler;\n  disabled: boolean;\n  replProps: ReplProps;\n};\n\nconst DraggableRepl: React.FC<DraggableReplProps> = (props: DraggableReplProps) => {\n  return (\n    <Draggable\n      axis=\"y\"\n      handle=\"#dragHandle\"\n      position={props.position}\n      bounds={{ top: -500, left: 0, right: 0, bottom: 0 }}\n      onDrag={props.onDrag}\n      disabled={props.disabled}\n    >\n      <div className=\"mobile-draggable\">\n        {!props.disabled ? (\n          <div className=\"handle enabled\" id=\"dragHandle\">\n            {['1', '2', '3'].map(i => (\n              <div className=\"circle\" key={i} />\n            ))}\n          </div>\n        ) : (\n          <div className=\"handle disabled\" id=\"draghandle\">\n            {['1', '2', '3'].map(i => (\n              <div className=\"circle\" key={i} />\n            ))}\n          </div>\n        )}\n        <div className=\"REPL-content\">\n          <Repl {...props.replProps} />\n        </div>\n      </div>\n    </Draggable>\n  );\n};\n\nexport default DraggableRepl;\n","import { Ace } from 'ace-builds';\nimport React from 'react';\nimport Draggable, { DraggableEvent, DraggableEventHandler } from 'react-draggable';\nimport Keyboard from 'react-simple-keyboard';\n\nexport type MobileKeyboardProps = OwnProps;\n\ntype OwnProps = {\n  targetKeyboardInput: Ace.Editor | null;\n};\n\nconst MobileKeyboard: React.FC<MobileKeyboardProps> = props => {\n  const [isKeyboardShown, setIsKeyoardShown] = React.useState(false);\n  const [buttonContent, setButtonContent] = React.useState('ᐸ');\n  const [keyboardPosition, setKeyboardPosition] = React.useState({ x: 0, y: 0 });\n  const [selectedIndex, setSelectedIndex] = React.useState(1);\n\n  const onDrag: DraggableEventHandler = (\n    e: DraggableEvent,\n    position: { x: number; y: number }\n  ): void => {\n    setKeyboardPosition(position);\n  };\n\n  const handlePreventDefault = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    event.preventDefault();\n  };\n\n  const handleHiding = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    if (isKeyboardShown) {\n      //do hiding\n      document.getElementById('mobile-keyboard-toggle')!.style.setProperty('display', 'none');\n      document.getElementById('mobile-floating-toggle')!.style.setProperty('width', '42px');\n      document.getElementById('mobile-floating-toggle')!.style.setProperty('opacity', '0.6');\n      setButtonContent('ᐸ');\n      setIsKeyoardShown(false);\n    } else {\n      //do showing\n      document.getElementById('mobile-keyboard-toggle')!.style.setProperty('display', 'flex');\n      document.getElementById('mobile-floating-toggle')!.style.setProperty('width', '99%');\n      document.getElementById('mobile-floating-toggle')!.style.setProperty('opacity', '1');\n      setButtonContent('ᐳ');\n      setIsKeyoardShown(true);\n    }\n  };\n\n  const handleRowToggle = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    setSelectedIndex((selectedIndex + 1) % 3);\n    const keyboardClass = document.getElementsByClassName('simple-keyboard-shortcut');\n    Array.from(keyboardClass as HTMLCollectionOf<HTMLElement>)[0].style.top =\n      -selectedIndex * 45 + 'px';\n  };\n\n  const handleKeyPress = (button: string) => {\n    if (!props.targetKeyboardInput) {\n      return;\n    }\n    const editor = props.targetKeyboardInput;\n    if (button === '{arrowleft}') {\n      editor.navigateLeft();\n    } else if (button === '{arrowright}') {\n      editor.navigateRight();\n    } else if (button === '{bksp}') {\n      editor.remove('left');\n    } else if (button === '{tab}') {\n      editor.insert('\\t');\n    } else if (['+', '-', '*', '/', '%', '=>', '===', '&&', '||'].includes(button)) {\n      editor.insert(' ' + button + ' ');\n    } else {\n      editor.insert(button);\n    }\n  };\n\n  const keyboardProps = {\n    onKeyPress: handleKeyPress,\n    baseClass: 'simple-keyboard-shortcut',\n    layout: {\n      default: [\n        '{ } ( ) \" \\' _ => ;',\n        '{tab} && || ! < > = ===',\n        '+ - * / % // {arrowleft} {arrowright}'\n      ]\n    },\n    buttonTheme: [\n      {\n        class: 'mobile-navigation',\n        buttons: '{arrowleft} {arrowright}'\n      },\n      {\n        class: 'big-buttons',\n        buttons: '=== &&'\n      }\n    ],\n    theme: 'hg-theme-default',\n    preventMouseDownDefault: true,\n    disableCaretPositioning: false\n  };\n\n  return (\n    <Draggable\n      axis=\"y\"\n      handle=\"#floating-dragHandle\"\n      position={keyboardPosition}\n      bounds={{ top: -200, left: 0, right: 0, bottom: +200 }}\n      onDrag={onDrag}\n    >\n      <div className=\"mobile-floating-keyboard\" id=\"mobile-floating-toggle\">\n        <button\n          className=\"mobile-floating-toggle\"\n          onClick={handleHiding}\n          onMouseDown={handlePreventDefault}\n        >\n          {buttonContent}\n        </button>\n\n        <div className=\"mobile-keyboard-toggle-container\" id=\"mobile-keyboard-toggle\">\n          <div className=\"mobile-keyboard-container\">\n            <Keyboard {...keyboardProps} />\n          </div>\n          <button\n            className=\"mobile-keyboard-row-toggle\"\n            onClick={handleRowToggle}\n            onMouseDown={handlePreventDefault}\n          >\n            ⤸\n          </button>\n        </div>\n\n        <div id=\"floating-dragHandle\">:</div>\n      </div>\n    </Draggable>\n  );\n};\n\nexport default MobileKeyboard;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { DebuggerContext, WorkspaceLocation } from '../workspace/WorkspaceTypes';\nimport { ModuleSideContent, SideContentTab, SideContentType } from './SideContentTypes';\n\nconst currentlyActiveTabsLabel: Map<WorkspaceLocation, string[]> = new Map<\n  WorkspaceLocation,\n  string[]\n>();\n\n/**\n * Returns an array of SideContentTabs to be spawned\n * @param debuggerContext - DebuggerContext object from redux store\n */\nexport const getDynamicTabs = (debuggerContext: DebuggerContext): SideContentTab[] => {\n  const tabsToSpawn = getModuleTabs(debuggerContext).filter(tab => tab.toSpawn(debuggerContext));\n  // Convert ModuleSideContent to SideContentTab.\n  const spawnedTabs: SideContentTab[] = [\n    ...tabsToSpawn.map(tab => ({\n      ...tab,\n      body: tab.body(debuggerContext),\n      // set tab.id as module\n      id: SideContentType.module\n    }))\n  ];\n  // only set if debuggerContext.workspaceLocation is not undefined\n  if (debuggerContext.workspaceLocation) {\n    currentlyActiveTabsLabel.set(\n      debuggerContext.workspaceLocation,\n      spawnedTabs.map(tab => tab.label)\n    );\n  }\n  return spawnedTabs;\n};\n\n/**\n * Extracts included Modules' side contents from DebuggerContext.\n * @param debuggerContext - DebuggerContext object from redux store\n */\nexport const getModuleTabs = (debuggerContext: DebuggerContext): ModuleSideContent[] => {\n  // Check if Clang-slang's context object is null\n  if (debuggerContext.context == null) {\n    return [];\n  }\n\n  // Get module contexts\n  const rawModuleContexts = debuggerContext.context.moduleContexts;\n  if (rawModuleContexts == null) {\n    return [];\n  }\n\n  // Pass React into functions\n  const moduleTabs: ModuleSideContent[] = Object.values(rawModuleContexts).flatMap(\n    context => context.tabs?.map((tab: any) => tab(React, ReactDOM)) ?? []\n  );\n\n  return moduleTabs;\n};\n","import { TabId } from '@blueprintjs/core';\nimport React from 'react';\n\nimport { useTypedSelector } from '../utils/Hooks';\nimport { DebuggerContext, WorkspaceLocation } from '../workspace/WorkspaceTypes';\nimport { getDynamicTabs } from './SideContentHelper';\nimport { SideContentTab, SideContentType } from './SideContentTypes';\n\n/**\n * Generates an icon id given a TabId.\n * Used to set and remove the 'side-content-tab-alert' style to the tabs.\n */\nexport const generateIconId = (tabId: TabId) => `${tabId}-icon`;\n\n/**\n * @property onChange A function that is called whenever the\n * active tab is changed by the user.\n *\n * @property tabs An array of SideContentTabs.\n *  The tabs will be rendered in order of the array.\n *  If this array is empty, no tabs will be rendered.\n */\nexport type GenericSideContentProps = DispatchProps &\n  StateProps & {\n    renderFunction: (\n      dynamicTabs: SideContentTab[],\n      changeTabsCallback: (\n        newTabId: SideContentType,\n        prevTabId: SideContentType,\n        event: React.MouseEvent<HTMLElement>\n      ) => void\n    ) => React.ReactElement;\n  };\n\ntype DispatchProps = {\n  // Optional due to uncontrolled tab component in EditingWorkspace\n  onChange?: (\n    newTabId: SideContentType,\n    prevTabId: SideContentType,\n    event: React.MouseEvent<HTMLElement>\n  ) => void;\n};\n\ntype StateProps = {\n  tabs: {\n    beforeDynamicTabs: SideContentTab[];\n    afterDynamicTabs: SideContentTab[];\n  };\n  workspaceLocation?: WorkspaceLocation;\n};\n\nconst GenericSideContent = (props: GenericSideContentProps) => {\n  const { tabs, onChange } = props;\n  const [dynamicTabs, setDynamicTabs] = React.useState(\n    tabs.beforeDynamicTabs.concat(tabs.afterDynamicTabs)\n  );\n\n  // Fetch debuggerContext from store\n  const debuggerContext = useTypedSelector(\n    state => props.workspaceLocation && state.workspaces[props.workspaceLocation].debuggerContext\n  );\n  React.useEffect(() => {\n    const allActiveTabs = tabs.beforeDynamicTabs\n      .concat(getDynamicTabs(debuggerContext || ({} as DebuggerContext)))\n      .concat(tabs.afterDynamicTabs);\n    setDynamicTabs(allActiveTabs);\n  }, [tabs, debuggerContext]);\n\n  const changeTabsCallback = React.useCallback(\n    (\n      newTabId: SideContentType,\n      prevTabId: SideContentType,\n      event: React.MouseEvent<HTMLElement>\n    ): void => {\n      /**\n       * Remove the 'side-content-tab-alert' class that causes tabs flash.\n       * To be run when tabs are changed.\n       * Currently this style is only used for the \"Env Visualizer\" tab.\n       */\n      const resetAlert = (prevTabId: TabId) => {\n        const iconId = generateIconId(prevTabId);\n        const icon = document.getElementById(iconId);\n\n        // The new selected tab will still have the \"side-content-tab-alert\" class, but the CSS hides it\n        if (icon) {\n          icon.classList.remove('side-content-tab-alert');\n        }\n      };\n\n      if (onChange === undefined) {\n        resetAlert(prevTabId);\n      } else {\n        onChange(newTabId, prevTabId, event);\n        resetAlert(prevTabId);\n      }\n    },\n    [onChange]\n  );\n\n  return props.renderFunction(dynamicTabs, changeTabsCallback);\n};\n\nexport default GenericSideContent;\n","import * as _ from 'lodash';\n\n/**\n * Performs a deep comparison between the previous & next props state\n * to determine if they are equivalent. For use with the `React.memo`\n * higher order component.\n *\n * @param prevProps The previous state of the props passed into a component.\n * @param nextProps The next state of the props passed into a component\n */\nexport const propsAreEqual = <T>(prevProps: T, nextProps: T): boolean =>\n  _.isEqual(prevProps, nextProps);\n","import { Button, Classes } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Popover2 } from '@blueprintjs/popover2';\nimport classNames from 'classnames';\n\nimport { ControlBarProps } from '../../controlBar/ControlBar';\n\nconst MobileControlBar: React.FC<ControlBarProps> = props => {\n  const controlBarMenu = (\n    <div className=\"mobile-control-bar\">\n      {props.editorButtons}\n      {props.flowButtons}\n      {props.editingWorkspaceButtons}\n    </div>\n  );\n\n  return (\n    <Popover2 content={controlBarMenu} autoFocus={false}>\n      <Button\n        icon={IconNames.COG}\n        className={classNames(Classes.MINIMAL, 'mobile-control-bar-button')}\n      />\n    </Popover2>\n  );\n};\n\nexport default MobileControlBar;\n","import { Classes, Icon, Tab, Tabs } from '@blueprintjs/core';\nimport { Tooltip2 } from '@blueprintjs/popover2';\nimport classNames from 'classnames';\nimport React from 'react';\n\nimport { ControlBarProps } from '../../controlBar/ControlBar';\nimport GenericSideContent, {\n  generateIconId,\n  GenericSideContentProps\n} from '../../sideContent/GenericSideContent';\nimport { SideContentTab, SideContentType } from '../../sideContent/SideContentTypes';\nimport { propsAreEqual } from '../../utils/MemoizeHelper';\nimport { WorkspaceLocation } from '../../workspace/WorkspaceTypes';\nimport MobileControlBar from './MobileControlBar';\n\nexport type MobileSideContentProps = Omit<GenericSideContentProps, 'renderFunction'> &\n  Required<Pick<GenericSideContentProps, 'onChange'>> &\n  StateProps &\n  MobileControlBarProps;\n\ntype StateProps = {\n  selectedTabId: SideContentType;\n  renderActiveTabPanelOnly?: boolean;\n};\n\ntype MobileControlBarProps = {\n  mobileControlBarProps: ControlBarProps;\n};\n\nconst renderTab = (tab: SideContentTab, isIOS: boolean, workspaceLocation?: WorkspaceLocation) => {\n  const iconSize = 20;\n  const tabId = tab.id === undefined ? tab.label : tab.id;\n  const tabTitle: JSX.Element = (\n    <Tooltip2\n      content={tab.label}\n      onOpening={() => {\n        // Handles iOS hover requiring double taps to press the button\n        if (isIOS) {\n          document.getElementById(generateIconId(tabId))?.click();\n        }\n      }}\n    >\n      <div className=\"side-content-tooltip\" id={generateIconId(tabId)}>\n        <Icon icon={tab.iconName} iconSize={iconSize} />\n      </div>\n    </Tooltip2>\n  );\n\n  return (\n    <Tab\n      key={tabId}\n      id={tabId}\n      title={tabTitle}\n      disabled={tab.disabled}\n      className=\"side-content-tab\"\n    />\n  );\n};\n\nconst MobileSideContent: React.FC<MobileSideContentProps> = React.memo(\n  ({ selectedTabId, renderActiveTabPanelOnly, mobileControlBarProps, ...otherProps }) => {\n    const isIOS = /iPhone|iPod/.test(navigator.platform);\n\n    /**\n     * renderedPanels is not memoized since a change in selectedTabId (when changing tabs)\n     * would force React.useMemo to recompute the nullary function anyway\n     */\n    const renderedPanels = (dynamicTabs: SideContentTab[]) => {\n      // TODO: Fix the CSS of all the panels (e.g. subst_visualizer)\n      const renderPanel = (tab: SideContentTab, workspaceLocation?: WorkspaceLocation) => {\n        if (!tab.body) return;\n\n        const tabBody: JSX.Element = workspaceLocation\n          ? {\n              ...tab.body,\n              props: {\n                ...tab.body.props,\n                workspaceLocation\n              }\n            }\n          : tab.body;\n\n        // Render the other panels only when their corresponding tab is selected\n        return (\n          <div\n            className={\n              tab.id === selectedTabId ? 'mobile-selected-panel' : 'mobile-unselected-panel'\n            }\n            key={tab.id}\n          >\n            {tabBody}\n          </div>\n        );\n      };\n\n      return dynamicTabs.map(tab => renderPanel(tab, otherProps.workspaceLocation));\n    };\n\n    return (\n      <GenericSideContent\n        {...otherProps}\n        renderFunction={(dynamicTabs, changeTabsCallback) => {\n          return (\n            <>\n              {renderedPanels(dynamicTabs)}\n              <div className=\"mobile-tabs-container\">\n                <Tabs\n                  id=\"mobile-side-content\"\n                  onChange={changeTabsCallback}\n                  renderActiveTabPanelOnly={renderActiveTabPanelOnly}\n                  selectedTabId={selectedTabId}\n                  className={classNames(Classes.DARK, 'mobile-side-content')}\n                >\n                  {dynamicTabs.map(tab => renderTab(tab, isIOS, otherProps.workspaceLocation))}\n\n                  {/* Render the bottom ControlBar 'Cog' button only in the Playground or Sicp Workspace */}\n                  {(otherProps.workspaceLocation === 'playground' ||\n                    otherProps.workspaceLocation === 'sicp') && (\n                    <MobileControlBar {...mobileControlBarProps} />\n                  )}\n                </Tabs>\n              </div>\n            </>\n          );\n        }}\n      />\n    );\n  },\n  propsAreEqual\n);\n\nexport default MobileSideContent;\n","import { FocusStyleManager } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Ace } from 'ace-builds';\nimport React from 'react';\nimport { DraggableEvent } from 'react-draggable';\nimport { useMediaQuery } from 'react-responsive';\nimport { Prompt } from 'react-router';\n\nimport ControlBar from '../controlBar/ControlBar';\nimport EditorContainer, { EditorContainerProps } from '../editor/EditorContainer';\nimport McqChooser, { McqChooserProps } from '../mcqChooser/McqChooser';\nimport { ReplProps } from '../repl/Repl';\nimport { SideBarTab } from '../sideBar/SideBar';\nimport { SideContentTab, SideContentType } from '../sideContent/SideContentTypes';\nimport DraggableRepl from './DraggableRepl';\nimport MobileKeyboard from './MobileKeyboard';\nimport MobileSideContent, { MobileSideContentProps } from './mobileSideContent/MobileSideContent';\n\nexport type MobileWorkspaceProps = StateProps;\n\ntype StateProps = {\n  editorContainerProps?: EditorContainerProps; // Either editorProps or mcqProps must be provided\n  hasUnsavedChanges?: boolean; // Not used in Playground\n  mcqProps?: McqChooserProps; // Not used in Playground\n  replProps: ReplProps;\n  sideBarProps: {\n    tabs: SideBarTab[];\n  };\n  mobileSideContentProps: MobileSideContentProps;\n};\n\nconst MobileWorkspace: React.FC<MobileWorkspaceProps> = props => {\n  const isAndroid = /Android/.test(navigator.userAgent);\n  const isPortrait = useMediaQuery({ orientation: 'portrait' });\n  const [draggableReplPosition, setDraggableReplPosition] = React.useState({ x: 0, y: 0 });\n\n  // For disabling draggable Repl when in stepper tab\n  const [isDraggableReplDisabled, setIsDraggableReplDisabled] = React.useState(false);\n\n  // Get rid of the focus border on blueprint components\n  FocusStyleManager.onlyShowFocusOnTabs();\n\n  // Handles the panel height when the mobile top controlbar is rendered in the Assessment Workspace\n  React.useEffect(() => {\n    if (props.mobileSideContentProps.workspaceLocation === 'assessment') {\n      document.documentElement.style.setProperty(\n        '--mobile-panel-height',\n        'calc(100% - 100px - 1.1rem)'\n      );\n    }\n\n    return () => {\n      document.documentElement.style.setProperty('--mobile-panel-height', 'calc(100% - 70px)');\n    };\n    // This effect should only trigger once during the initial rendering of the workspace\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /**\n   * The following effect prevents the bottom MobileSideContent tabs from floating above the\n   * soft keyboard on Android devices. This is due to the viewport height changing when the soft\n   * keyboard is up on Android devices. IOS devices are not affected.\n   */\n  React.useEffect(() => {\n    if (isPortrait && isAndroid) {\n      document.documentElement.style.setProperty('overflow', 'auto');\n      const metaViewport = document.querySelector('meta[name=viewport]');\n      metaViewport!.setAttribute(\n        'content',\n        'height=' + window.innerHeight + ', width=device-width'\n      );\n    }\n\n    // Reset above CSS and hides draggable Repl on orientation change\n    return () => {\n      if (isAndroid) {\n        document.documentElement.style.setProperty('overflow', 'hidden');\n        const metaViewport = document.querySelector('meta[name=viewport]');\n        metaViewport!.setAttribute(\n          'content',\n          'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'\n        );\n      }\n      handleHideRepl();\n    };\n  }, [isPortrait, isAndroid]);\n\n  const [targetKeyboardInput, setTargetKeyboardInput] = React.useState<Ace.Editor | null>(null);\n\n  const clearTargetKeyboardInput = () => setTargetKeyboardInput(null);\n\n  const enableMobileKeyboardForEditor = (props: EditorContainerProps): EditorContainerProps => {\n    const onFocus = (event: any, editor?: Ace.Editor) => {\n      if (props.onFocus) {\n        props.onFocus(event, editor);\n      }\n      if (!editor) {\n        return;\n      }\n      setTargetKeyboardInput(editor);\n    };\n    const onBlur = (event: any, editor?: Ace.Editor) => {\n      if (props.onBlur) {\n        props.onBlur(event, editor);\n      }\n      clearTargetKeyboardInput();\n    };\n    return {\n      ...props,\n      onFocus,\n      onBlur\n    };\n  };\n\n  const enableMobileKeyboardForRepl = (props: ReplProps): ReplProps => {\n    const onFocus = (editor: Ace.Editor) => {\n      if (props.onFocus) {\n        props.onFocus(editor);\n      }\n      setTargetKeyboardInput(editor);\n    };\n    const onBlur = () => {\n      if (props.onBlur) {\n        props.onBlur();\n      }\n      clearTargetKeyboardInput();\n    };\n    return {\n      ...props,\n      onFocus,\n      onBlur\n    };\n  };\n\n  const createWorkspaceInput = () => {\n    if (props.editorContainerProps) {\n      const editorContainerProps = {\n        ...props.editorContainerProps\n      };\n      if (editorContainerProps.editorVariant === 'sourcecast') {\n        editorContainerProps.setDraggableReplPosition = () => handleShowRepl(-100);\n      }\n      return <EditorContainer {...enableMobileKeyboardForEditor(props.editorContainerProps)} />;\n    } else {\n      return <McqChooser {...props.mcqProps!} />;\n    }\n  };\n\n  /**\n   * The following 3 'react-draggable' handlers include the updating of CSS variable:\n   * '--mobile-repl-height'.\n   *\n   * 'position: absolute' for the 'react-draggable' component is used in conjunction with the\n   * modification of the mobile browser's meta viewport height to ensure that the draggable\n   * component (and bottom MobileSideContentTabs) remain at the bottom of the screen when the\n   * keyboard is up on Android devices. This is because viewport height changes by default when\n   * the keyboard is up on Android devices, causing unexpected UI distortions. IOS devices do\n   * not have this problem.\n   * ('position: fixed' does not work as the element would then be positioned relative to the\n   * browser window, and would still be 'pushed up' by the keyboard)\n   *\n   * Since 'position: absolute' elements take up 'full space', we have to dynamically update the\n   * height of the entire draggable component ('--mobile-repl-height') to ensure that the draggable\n   * component is 'properly closed' and does not continue to display content underneath the\n   * MobileSideContentTabs.\n   *\n   * This also ensures proper scrolling of overflowing Repl outputs inside the dynamically resizing\n   * draggable component.\n   */\n  const onDrag = (e: DraggableEvent, position: { x: number; y: number }): void => {\n    document.documentElement.style.setProperty(\n      '--mobile-repl-height',\n      Math.max(-position.y, 0) + 'px'\n    );\n    setDraggableReplPosition(position);\n  };\n\n  const handleShowRepl = (offset: number) => {\n    document.documentElement.style.setProperty('--mobile-repl-height', Math.max(-offset, 0) + 'px');\n    setDraggableReplPosition({ x: 0, y: offset });\n  };\n\n  const handleHideRepl = () => {\n    setDraggableReplPosition({ x: 0, y: 0 });\n    document.documentElement.style.setProperty('--mobile-repl-height', '0px');\n  };\n\n  const handleTabChangeForRepl = (newTabId: SideContentType, prevTabId: SideContentType) => {\n    // Evaluate program upon pressing the run tab.\n    if (newTabId === SideContentType.mobileEditorRun) {\n      props.editorContainerProps?.handleEditorEval();\n    }\n\n    // Show the REPL upon pressing the run tab if the previous tab is not listed below.\n    if (\n      newTabId === SideContentType.mobileEditorRun &&\n      !(\n        prevTabId === SideContentType.substVisualizer ||\n        prevTabId === SideContentType.autograder ||\n        prevTabId === SideContentType.testcases\n      )\n    ) {\n      handleShowRepl(-300);\n    } else {\n      handleHideRepl();\n    }\n\n    // Disable draggable REPL when on the files & stepper tab.\n    if (\n      newTabId === SideContentType.files ||\n      newTabId === SideContentType.substVisualizer ||\n      (prevTabId === SideContentType.substVisualizer &&\n        newTabId === SideContentType.mobileEditorRun)\n    ) {\n      setIsDraggableReplDisabled(true);\n    } else {\n      setIsDraggableReplDisabled(false);\n    }\n  };\n\n  // Convert sidebar tabs with a side content tab ID into side content tabs.\n  const sideBarTabs: SideContentTab[] = props.sideBarProps.tabs.filter(tab => tab.id !== undefined);\n\n  const mobileEditorTab: SideContentTab = React.useMemo(\n    () => ({\n      label: 'Editor',\n      iconName: IconNames.EDIT,\n      body: null,\n      id: SideContentType.mobileEditor\n    }),\n    []\n  );\n\n  const mobileRunTab: SideContentTab = React.useMemo(\n    () => ({\n      label: 'Run',\n      iconName: IconNames.PLAY,\n      body: null,\n      id: SideContentType.mobileEditorRun\n    }),\n    []\n  );\n\n  const updatedMobileSideContentProps = () => {\n    return {\n      ...props.mobileSideContentProps,\n      onChange: (\n        newTabId: SideContentType,\n        prevTabId: SideContentType,\n        event: React.MouseEvent<HTMLElement>\n      ) => {\n        props.mobileSideContentProps.onChange(newTabId, prevTabId, event);\n        handleTabChangeForRepl(newTabId, prevTabId);\n      },\n      tabs: {\n        beforeDynamicTabs: [\n          ...sideBarTabs,\n          mobileEditorTab,\n          ...props.mobileSideContentProps.tabs.beforeDynamicTabs\n        ],\n        afterDynamicTabs: [...props.mobileSideContentProps.tabs.afterDynamicTabs, mobileRunTab]\n      }\n    };\n  };\n\n  const inAssessmentWorkspace =\n    props.mobileSideContentProps.workspaceLocation === 'assessment' ||\n    props.mobileSideContentProps.workspaceLocation === 'githubAssessment';\n\n  return (\n    <div className=\"workspace mobile-workspace\">\n      {props.hasUnsavedChanges ? (\n        <Prompt\n          message={'You have changes that may not be saved. Are you sure you want to leave?'}\n        />\n      ) : null}\n\n      {/* Render the top ControlBar when it is the Assessment Workspace */}\n      {inAssessmentWorkspace && (\n        <ControlBar {...props.mobileSideContentProps.mobileControlBarProps} />\n      )}\n\n      <div>\n        <div className=\"mobile-editor-panel\">{createWorkspaceInput()}</div>\n        <MobileSideContent {...updatedMobileSideContentProps()} />\n      </div>\n\n      <DraggableRepl\n        key=\"repl\"\n        position={draggableReplPosition}\n        onDrag={onDrag}\n        disabled={isDraggableReplDisabled}\n        replProps={enableMobileKeyboardForRepl(props.replProps)}\n      />\n\n      <MobileKeyboard targetKeyboardInput={targetKeyboardInput} />\n    </div>\n  );\n};\n\nexport default MobileWorkspace;\n","import { Chapter, Variant } from 'Clang-slang/dist/types';\n\nimport { Links } from './Constants';\n\nconst MAIN_INTRODUCTION = `\nWelcome to the Source Academy playground!\n`;\n\nconst HOTKEYS_INTRODUCTION = `\n\nIn the editor on the left, you can use the [_Ace keyboard shortcuts_](${Links.aceHotkeys}) \nand also the [_Source Academy keyboard shortcuts_](${Links.sourceHotkeys}).\n\n`;\n\nconst generateIntroductionText = (sourceChapter: Chapter, sourceVariant: Variant) => {\n  return MAIN_INTRODUCTION + HOTKEYS_INTRODUCTION;\n};\n\nexport const generateSourceIntroduction = (sourceChapter: Chapter, sourceVariant: Variant) => {\n  return generateIntroductionText(sourceChapter, sourceVariant);\n};\n","import { AssessmentType } from '../assessment/AssessmentTypes';\n\n/**\n * Converts an AssessmentType into a string for use in URLs.\n */\nexport const assessmentTypeLink = (assessmentType: AssessmentType): string =>\n  assessmentType.toLowerCase().replace(/\\W+/g, '_');\n\n/** Converts an optional string\n *  parameter into an integer or null value.\n *\n *  @param {string} str - An optional string to be\n *    converted to an integer.\n */\nexport const stringParamToInt = (str?: string): number | null => {\n  if (str === undefined) {\n    return null;\n  }\n  const num = parseInt(str, 10);\n  return Number.isInteger(num) ? num : null;\n};\n","import { Card, Icon, IconName } from '@blueprintjs/core';\nimport classNames from 'classnames';\nimport React from 'react';\n\nimport { SideContentType } from '../sideContent/SideContentTypes';\n\n/**\n * @property label The displayed name of the tab.\n * @property body The element to be rendered inside the sidebar tab.\n * @property iconName The name of the displayed icon.\n * @property id The ID of the tab when displayed as a side content on the mobile view.\n *              Omit if the tab should only be shown in the sidebar on the desktop view.\n */\nexport type SideBarTab = {\n  label: string;\n  body: JSX.Element;\n  iconName: IconName;\n  id?: SideContentType;\n};\n\nexport type SideBarProps = {\n  tabs: SideBarTab[];\n  isExpanded: boolean;\n  expandSideBar: () => void;\n  collapseSideBar: () => void;\n};\n\nconst SideBar: React.FC<SideBarProps> = (props: SideBarProps) => {\n  const { tabs, isExpanded, expandSideBar, collapseSideBar } = props;\n\n  const [selectedTabIndex, setSelectedTabIndex] = React.useState<number>(0);\n\n  const handleTabSelection = (tabIndex: number) => {\n    if (selectedTabIndex === tabIndex) {\n      if (isExpanded) {\n        collapseSideBar();\n      } else {\n        expandSideBar();\n      }\n      return;\n    }\n    setSelectedTabIndex(tabIndex);\n    expandSideBar();\n  };\n\n  // Do not render the sidebar if there are no tabs.\n  if (tabs.length === 0) {\n    return <div className=\"sidebar-container\" />;\n  }\n\n  return (\n    <div className=\"sidebar-container\">\n      <div className=\"tab-container\">\n        {tabs.map((tab, index) => (\n          <Card\n            key={index}\n            className={classNames('tab', { selected: isExpanded && selectedTabIndex === index })}\n            onClick={() => handleTabSelection(index)}\n          >\n            <Icon className=\"tab-icon\" icon={tab.iconName} size={14} />\n            {tab.label}\n          </Card>\n        ))}\n      </div>\n      {selectedTabIndex !== null && <Card className=\"panel\">{tabs[selectedTabIndex].body}</Card>}\n    </div>\n  );\n};\n\nexport default SideBar;\n","import { Card, Icon, Tab, TabProps, Tabs } from '@blueprintjs/core';\nimport { Tooltip2 } from '@blueprintjs/popover2';\nimport * as React from 'react';\n\nimport { propsAreEqual } from '../utils/MemoizeHelper';\nimport { assertType } from '../utils/TypeHelper';\nimport { WorkspaceLocation } from '../workspace/WorkspaceTypes';\nimport GenericSideContent, { generateIconId, GenericSideContentProps } from './GenericSideContent';\nimport { SideContentTab, SideContentType } from './SideContentTypes';\n\n/**\n * @property onChange A function that is called whenever the\n * active tab is changed by the user.\n *\n * @property tabs An array of SideContentTabs.\n *  The tabs will be rendered in order of the array.\n *  If this array is empty, no tabs will be rendered.\n *\n * @property renderActiveTabPanelOnly Set this property to\n * true to enable unmounting of tab panels whenever tabs are\n * switched. If it is left undefined, the value will default\n * to false, and the tab panels will all be loaded with the\n * mounting of the SideContent component. Switching tabs\n * will merely hide them from view.\n */\nexport type SideContentProps = Omit<GenericSideContentProps, 'renderFunction'> & StateProps;\n\ntype StateProps = {\n  selectedTabId?: SideContentType; // Optional due to uncontrolled tab component in EditingWorkspace\n  renderActiveTabPanelOnly?: boolean;\n  editorWidth?: string;\n  sideContentHeight?: number;\n};\n\n/**\n * Adds 'side-content-tab-alert' style to newly spawned module tabs or HTML Display tab\n */\nconst generateClassName = (id: string | undefined) =>\n  id === SideContentType.module || id === SideContentType.htmlDisplay\n    ? 'side-content-tooltip side-content-tab-alert'\n    : 'side-content-tooltip';\n\nconst renderTab = (\n  tab: SideContentTab,\n  workspaceLocation?: WorkspaceLocation,\n  editorWidth?: string,\n  sideContentHeight?: number\n) => {\n  const iconSize = 20;\n  const tabId = tab.id === undefined || tab.id === SideContentType.module ? tab.label : tab.id;\n  const tabTitle = (\n    <Tooltip2 content={tab.label}>\n      <div className={generateClassName(tab.id)} id={generateIconId(tabId)}>\n        <Icon icon={tab.iconName} iconSize={iconSize} />\n      </div>\n    </Tooltip2>\n  );\n  const tabProps = assertType<TabProps>()({\n    id: tabId,\n    title: tabTitle,\n    disabled: tab.disabled,\n    className: 'side-content-tab'\n  });\n\n  if (!tab.body) {\n    return <Tab key={tabId} {...tabProps} />;\n  }\n\n  const tabBody: JSX.Element = workspaceLocation\n    ? {\n        ...tab.body,\n        props: {\n          ...tab.body.props,\n          workspaceLocation,\n          editorWidth,\n          sideContentHeight\n        }\n      }\n    : tab.body;\n  const tabPanel: JSX.Element = <div className=\"side-content-text\">{tabBody}</div>;\n\n  return <Tab key={tabId} {...tabProps} panel={tabPanel} />;\n};\n\nconst SideContent: React.FC<SideContentProps> = React.memo(\n  ({ selectedTabId, renderActiveTabPanelOnly, editorWidth, sideContentHeight, ...otherProps }) => {\n    return (\n      <GenericSideContent\n        {...otherProps}\n        renderFunction={(dynamicTabs, changeTabsCallback) => (\n          <div className=\"side-content\">\n            <Card>\n              <div className=\"side-content-tabs\">\n                <Tabs\n                  id=\"side-content-tabs\"\n                  onChange={changeTabsCallback}\n                  renderActiveTabPanelOnly={renderActiveTabPanelOnly}\n                  selectedTabId={selectedTabId}\n                >\n                  {dynamicTabs.map(tab =>\n                    renderTab(tab, otherProps.workspaceLocation, editorWidth, sideContentHeight)\n                  )}\n                </Tabs>\n              </div>\n            </Card>\n          </div>\n        )}\n      />\n    );\n  },\n  propsAreEqual\n);\n\nexport default SideContent;\n","import { FocusStyleManager } from '@blueprintjs/core';\nimport { Enable, NumberSize, Resizable, ResizableProps, ResizeCallback } from 're-resizable';\nimport { Direction } from 're-resizable/lib/resizer';\nimport * as React from 'react';\nimport { Prompt } from 'react-router';\n\nimport ControlBar, { ControlBarProps } from '../controlBar/ControlBar';\nimport EditorContainer, { EditorContainerProps } from '../editor/EditorContainer';\nimport McqChooser, { McqChooserProps } from '../mcqChooser/McqChooser';\nimport Repl, { ReplProps } from '../repl/Repl';\nimport SideBar, { SideBarTab } from '../sideBar/SideBar';\nimport SideContent, { SideContentProps } from '../sideContent/SideContent';\nimport { useDimensions } from '../utils/Hooks';\n\nexport type WorkspaceProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleSideContentHeightChange: (height: number) => void;\n};\n\ntype StateProps = {\n  // Either editorProps or mcqProps must be provided\n  controlBarProps: ControlBarProps;\n  editorContainerProps?: EditorContainerProps;\n  hasUnsavedChanges?: boolean;\n  mcqProps?: McqChooserProps;\n  replProps: ReplProps;\n  sideBarProps: {\n    tabs: SideBarTab[];\n  };\n  sideContentHeight?: number;\n  sideContentProps: SideContentProps;\n  sideContentIsResizeable?: boolean;\n};\n\nconst Workspace: React.FC<WorkspaceProps> = props => {\n  const sideBarResizable = React.useRef<Resizable | null>(null);\n  const contentContainerDiv = React.useRef<HTMLDivElement | null>(null);\n  const editorDividerDiv = React.useRef<HTMLDivElement | null>(null);\n  const leftParentResizable = React.useRef<Resizable | null>(null);\n  const maxDividerHeight = React.useRef<number | null>(null);\n  const sideDividerDiv = React.useRef<HTMLDivElement | null>(null);\n  const [contentContainerWidth] = useDimensions(contentContainerDiv);\n  const [lastExpandedSideBarWidth, setLastExpandedSideBarWidth] = React.useState<number>(200);\n  const [isSideBarExpanded, setIsSideBarExpanded] = React.useState<boolean>(false);\n\n  const sideBarCollapsedWidth = 40;\n\n  const expandSideBar = () => {\n    setIsSideBarExpanded(true);\n    const sideBar = sideBarResizable.current;\n    if (sideBar === null) {\n      throw Error('Reference to SideBar not found when expanding.');\n    }\n    sideBar.updateSize({ width: lastExpandedSideBarWidth, height: '100%' });\n  };\n\n  const collapseSideBar = () => {\n    setIsSideBarExpanded(false);\n    const sideBar = sideBarResizable.current;\n    if (sideBar === null) {\n      throw Error('Reference to SideBar not found when collapsing.');\n    }\n    sideBar.updateSize({ width: sideBarCollapsedWidth, height: '100%' });\n  };\n\n  FocusStyleManager.onlyShowFocusOnTabs();\n\n  React.useEffect(() => {\n    if (props.sideContentIsResizeable && maxDividerHeight.current === null) {\n      maxDividerHeight.current = sideDividerDiv.current!.clientHeight;\n    }\n  });\n\n  const sideBarResizableProps = () => {\n    const onResizeStop: ResizeCallback = (\n      event: MouseEvent | TouchEvent,\n      direction: Direction,\n      elementRef: HTMLElement,\n      delta: NumberSize\n    ) => {\n      const sideBarWidth = elementRef.clientWidth;\n      if (sideBarWidth !== sideBarCollapsedWidth) {\n        setLastExpandedSideBarWidth(sideBarWidth);\n      }\n    };\n    const isSideBarRendered = props.sideBarProps.tabs.length !== 0;\n    const minWidth = isSideBarRendered ? sideBarCollapsedWidth : 'auto';\n    return {\n      enable: isSideBarRendered ? rightResizeOnly : noResize,\n      minWidth,\n      maxWidth: '50%',\n      onResize: toggleSideBarDividerDisplay,\n      onResizeStop,\n      ref: sideBarResizable,\n      defaultSize: { width: minWidth, height: '100%' }\n    } as ResizableProps;\n  };\n\n  const editorResizableProps = () => {\n    return {\n      className: 'resize-editor left-parent',\n      enable: rightResizeOnly,\n      minWidth: 0,\n      onResize: toggleEditorDividerDisplay,\n      ref: leftParentResizable,\n      defaultSize: { width: '50%', height: '100%' },\n      as: undefined as any // re-resizable bug - wrong typedef\n    } as ResizableProps;\n  };\n\n  const sideContentResizableProps = () => {\n    const onResizeStop: ResizeCallback = (_a, _b, ref) =>\n      props.handleSideContentHeightChange(ref.clientHeight);\n    return {\n      bounds: 'parent',\n      className: 'resize-side-content',\n      enable: bottomResizeOnly,\n      onResize: toggleDividerDisplay,\n      onResizeStop\n    } as ResizableProps;\n  };\n\n  const toggleSideBarDividerDisplay: ResizeCallback = (\n    event: MouseEvent | TouchEvent,\n    direction: Direction,\n    elementRef: HTMLElement,\n    delta: NumberSize\n  ) => {\n    const minWidthThreshold = 100;\n    const sideBarWidth = elementRef.clientWidth;\n    if (sideBarWidth < minWidthThreshold) {\n      const sideBar = sideBarResizable.current;\n      if (sideBar === null) {\n        throw Error('Reference to SideBar not found when resizing.');\n      }\n      sideBar.updateSize({ width: 40, height: '100%' });\n      setIsSideBarExpanded(false);\n    } else {\n      setIsSideBarExpanded(true);\n    }\n  };\n\n  /**\n   * Snaps the left-parent resizable to 100% or 0% when percentage width goes\n   * above 95% or below 5% respectively. Also changes the editor divider width\n   * in the case of < 5%.\n   */\n  const toggleEditorDividerDisplay: ResizeCallback = (_a, _b, ref) => {\n    const leftThreshold = 5;\n    const rightThreshold = 95;\n    const editorWidthPercentage =\n      ((ref as HTMLDivElement).clientWidth / contentContainerWidth) * 100;\n    // update resizable size\n    if (editorWidthPercentage > rightThreshold) {\n      leftParentResizable.current!.updateSize({ width: '100%', height: '100%' });\n    } else if (editorWidthPercentage < leftThreshold) {\n      leftParentResizable.current!.updateSize({ width: '0%', height: '100%' });\n    }\n  };\n\n  /**\n   * Hides the side-content-divider div when side-content is resized downwards\n   * so that it's bottom border snaps flush with editor's bottom border\n   */\n  const toggleDividerDisplay: ResizeCallback = (_a, _b, ref) => {\n    maxDividerHeight.current =\n      sideDividerDiv.current!.clientHeight > maxDividerHeight.current!\n        ? sideDividerDiv.current!.clientHeight\n        : maxDividerHeight.current;\n    const resizableHeight = (ref as HTMLDivElement).clientHeight;\n    const rightParentHeight = (ref.parentNode as HTMLDivElement).clientHeight;\n    if (resizableHeight + maxDividerHeight.current! + 2 > rightParentHeight) {\n      sideDividerDiv.current!.style.display = 'none';\n    } else {\n      sideDividerDiv.current!.style.display = 'initial';\n    }\n  };\n\n  /**\n   * Pre-condition: `props.editorProps`\n   * XOR `props.mcq` are defined.\n   */\n  const createWorkspaceInput = (props: WorkspaceProps) => {\n    if (props.editorContainerProps) {\n      return <EditorContainer {...props.editorContainerProps} />;\n    } else {\n      return <McqChooser {...props.mcqProps!} />;\n    }\n  };\n\n  const sideContent = <SideContent {...props.sideContentProps} />;\n  const resizableSideContent = (\n    <Resizable {...sideContentResizableProps()}>\n      {sideContent}\n      <div className=\"side-content-divider\" ref={sideDividerDiv} />\n    </Resizable>\n  );\n\n  return (\n    <div className=\"workspace\">\n      {props.hasUnsavedChanges ? (\n        <Prompt\n          message={'You have changes that may not be saved. Are you sure you want to leave?'}\n        />\n      ) : null}\n      <ControlBar {...props.controlBarProps} />\n      <div className=\"workspace-parent\">\n        <Resizable {...sideBarResizableProps()}>\n          <SideBar\n            {...props.sideBarProps}\n            isExpanded={isSideBarExpanded}\n            expandSideBar={expandSideBar}\n            collapseSideBar={collapseSideBar}\n          />\n        </Resizable>\n        <div className=\"row content-parent\" ref={contentContainerDiv}>\n          <div className=\"editor-divider\" ref={editorDividerDiv} />\n          <Resizable {...editorResizableProps()}>{createWorkspaceInput(props)}</Resizable>\n          <div className=\"right-parent\">\n            {props.sideContentIsResizeable === undefined || props.sideContentIsResizeable\n              ? resizableSideContent\n              : sideContent}\n            <Repl {...props.replProps} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst rightResizeOnly: Enable = { right: true };\nconst bottomResizeOnly: Enable = { bottom: true };\nconst noResize: Enable = {};\n\nexport default Workspace;\n","import { Chapter } from 'Clang-slang/dist/types';\nimport { v4 as uuid } from 'uuid';\n\nimport { ExternalLibraryName } from '../../commons/application/types/ExternalTypes';\nimport { Input as RecorderInput } from '../sourceRecorder/SourceRecorderTypes';\n\nexport const playgroundQuestionId: number = -1;\n\ntype PlaybackInitial = {\n  chapter: Chapter;\n  externalLibrary?: ExternalLibraryName;\n  editorValue: string;\n};\n\ntype PlaybackInitialTagged = PlaybackInitial & {\n  type: 'init';\n  time: number;\n};\n\ntype Input = RecorderInput | PlaybackInitialTagged;\n\nconst questionIdLookup: { [id: string]: string } = {};\n\n// ------------------- EXTERNAL API -------------------\n\nconst cadetLoggerUrl = process.env.REACT_APP_CADET_LOGGER;\nexport function log(id: string, input: Input) {\n  if (process.env.NODE_ENV === 'test' || !cadetLoggerUrl) {\n    return;\n  } // This is set statically\n  saveRecord({\n    ...input,\n    questionId: questionIdLookup[id],\n    sessionId: id\n  });\n}\n\n// Creates a session, then logs it.\nexport function initSession(questionId: string, initialState: PlaybackInitial): string {\n  const id = uuid();\n  questionIdLookup[id] = questionId;\n  log(id, {\n    ...initialState,\n    type: 'init',\n    time: Date.now()\n  });\n  return id;\n}\n\n// ------------------- INDEXEDDB API -------------------\ntype LogRecord = Input & {\n  sessionId: string;\n  questionId: string;\n  time: number;\n};\n\n// Yes, past tense. For when it is inside the log.\nexport type LoggedRecord = LogRecord & { id: number };\n\nconst VERSION = 1;\nconst DB_NAME = 'evtlogs';\nconst STORE_NAME = 'logs';\nconst getDB = memoize((): Promise<IDBDatabase> => {\n  return new Promise((resolve, reject) => {\n    // Make a request\n    const request = indexedDB.open(DB_NAME, VERSION);\n    // hook the onsuccess\n    request.onsuccess = evt => {\n      resolve(request.result);\n    };\n\n    request.onerror = evt => {\n      console.error('Failed to get db', evt);\n      reject(request.error);\n    };\n\n    // Set it up if necessary (on upgrade)\n    request.onupgradeneeded = evt => {\n      // Create the database here\n      const db: IDBDatabase = (evt?.target as any).result; // Bug with the types...\n      db.createObjectStore(STORE_NAME, {\n        keyPath: 'id', // Entry id, only used to figure out the last transfered value\n        autoIncrement: true\n      });\n    };\n  });\n});\n\nfunction saveRecord(record: LogRecord) {\n  return new Promise((resolve, reject) => {\n    getDB().then(db => {\n      const transaction = db.transaction([STORE_NAME], 'readwrite');\n      transaction.oncomplete = resolve;\n      transaction.onerror = reject;\n\n      const objectStore = transaction.objectStore(STORE_NAME);\n      /*const request = */ objectStore.add(record);\n      // Can actually check for request success.\n    });\n  });\n}\n\n// Retrieving and uploading records\n// This forces it to be singleton,\n// preventing multiple uploads without a lock.\n\nexport function getRecords(): Promise<LoggedRecord[]> {\n  return new Promise((resolve, reject) => {\n    getDB().then(db => {\n      const transaction = db.transaction([STORE_NAME], 'readwrite');\n      const objectStore = transaction.objectStore(STORE_NAME);\n      objectStore.getAll().onsuccess = function (evt) {\n        const result = (evt?.target as any).result;\n        resolve(result);\n      };\n    });\n  });\n}\n\nexport function deleteRecordsUpto(id: number) {\n  return new Promise((resolve, reject) => {\n    getDB().then(db => {\n      const transaction = db.transaction([STORE_NAME], 'readwrite');\n      const range = IDBKeyRange.bound(0, id, false, false);\n      const objectStore = transaction.objectStore(STORE_NAME);\n      objectStore.delete(range);\n      transaction.oncomplete = resolve;\n      transaction.onerror = reject;\n    });\n  });\n}\n\n// Importing lodash for this is apparently a bad idea.\n// This saves 70kb. Out of 72kb.\nfunction memoize<T>(fn: () => T) {\n  let answer: T | null = null;\n  return () => {\n    if (!answer) {\n      answer = fn();\n      return answer;\n    } else {\n      return answer;\n    }\n  };\n}\n","import { Classes } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Octokit } from '@octokit/rest';\nimport { Ace, Range } from 'ace-builds';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport classNames from 'classnames';\nimport _, { isEqual } from 'lodash';\nimport { decompressFromEncodedURIComponent } from 'lz-string';\nimport * as React from 'react';\nimport { HotKeys } from 'react-hotkeys';\nimport { useDispatch } from 'react-redux';\nimport { RouteComponentProps, useHistory, useLocation } from 'react-router';\nimport {\n  beginDebuggerPause,\n  beginInterruptExecution,\n  debuggerReset,\n  debuggerResume\n} from 'src/commons/application/actions/InterpreterActions';\nimport {\n  setEditorSessionId,\n  setSharedbConnected\n} from 'src/commons/collabEditing/CollabEditingActions';\nimport { useResponsive, useTypedSelector } from 'src/commons/utils/Hooks';\nimport {\n  browseReplHistoryDown,\n  browseReplHistoryUp,\n  changeSideContentHeight,\n  changeStepLimit,\n  evalEditor,\n  navigateToDeclaration,\n  promptAutocomplete,\n  sendReplInputToOutput,\n  toggleEditorAutorun,\n  updateReplValue\n} from 'src/commons/workspace/WorkspaceActions';\nimport { WorkspaceLocation } from 'src/commons/workspace/WorkspaceTypes';\nimport {\n  generateLzString,\n  shortenURL,\n  updateShortURL\n} from 'src/features/playground/PlaygroundActions';\n\nimport {\n  InterpreterOutput,\n  isSourceLanguage,\n  sourceLanguages\n} from '../../commons/application/ApplicationTypes';\nimport { ExternalLibraryName } from '../../commons/application/types/ExternalTypes';\nimport { ControlBarAutorunButtons } from '../../commons/controlBar/ControlBarAutorunButtons';\nimport { ControlBarChapterSelect } from '../../commons/controlBar/ControlBarChapterSelect';\nimport { ControlBarClearButton } from '../../commons/controlBar/ControlBarClearButton';\nimport { ControlBarEvalButton } from '../../commons/controlBar/ControlBarEvalButton';\nimport { ControlBarExecutionTime } from '../../commons/controlBar/ControlBarExecutionTime';\nimport { ControlBarSessionButtons } from '../../commons/controlBar/ControlBarSessionButton';\nimport { ControlBarShareButton } from '../../commons/controlBar/ControlBarShareButton';\nimport { ControlBarStepLimit } from '../../commons/controlBar/ControlBarStepLimit';\nimport {\n  convertEditorTabStateToProps,\n  NormalEditorContainerProps\n} from '../../commons/editor/EditorContainer';\nimport { Position } from '../../commons/editor/EditorTypes';\nimport Markdown from '../../commons/Markdown';\nimport MobileWorkspace, {\n  MobileWorkspaceProps\n} from '../../commons/mobileWorkspace/MobileWorkspace';\nimport { SideContentTab, SideContentType } from '../../commons/sideContent/SideContentTypes';\nimport { Links } from '../../commons/utils/Constants';\nimport { generateSourceIntroduction } from '../../commons/utils/IntroductionHelper';\nimport { stringParamToInt } from '../../commons/utils/ParamParseHelper';\nimport { parseQuery } from '../../commons/utils/QueryHelper';\nimport Workspace, { WorkspaceProps } from '../../commons/workspace/Workspace';\nimport { EditorTabState } from '../../commons/workspace/WorkspaceTypes';\nimport { initSession, log } from '../../features/eventLogging';\nimport { GitHubSaveInfo } from '../../features/github/GitHubTypes';\nimport { PersistenceFile } from '../../features/persistence/PersistenceTypes';\nimport {\n  CodeDelta,\n  Input,\n  SelectionRange\n} from '../../features/sourceRecorder/SourceRecorderTypes';\n\nexport type PlaygroundProps = OwnProps &\n  DispatchProps &\n  StateProps &\n  RouteComponentProps<{}> & {\n    workspaceLocation?: WorkspaceLocation;\n  };\n\nexport type OwnProps = {\n  isSicpEditor?: boolean;\n  initialEditorValueHash?: string;\n  prependLength?: number;\n  handleCloseEditor?: () => void;\n};\n\nexport type DispatchProps = {\n  handleChangeExecTime: (execTime: number) => void;\n  handleChapterSelect: (chapter: Chapter, variant: Variant) => void;\n  handleEditorValueChange: (val: string) => void;\n  handleEditorUpdateBreakpoints: (breakpoints: string[]) => void;\n  handleReplEval: () => void;\n  handleReplOutputClear: () => void;\n  handleUsingSubst: (usingSubst: boolean) => void;\n};\n\nexport type StateProps = {\n  activeEditorTabIndex: number | null;\n  editorTabs: EditorTabState[];\n  editorSessionId: string;\n  execTime: number;\n  isEditorAutorun: boolean;\n  isRunning: boolean;\n  isDebugging: boolean;\n  enableDebugging: boolean;\n  output: InterpreterOutput[];\n  queryString?: string;\n  shortURL?: string;\n  replValue: string;\n  sideContentHeight?: number;\n  playgroundSourceChapter: number;\n  playgroundSourceVariant: Variant;\n  courseSourceChapter?: number;\n  courseSourceVariant?: Variant;\n  stepLimit: number;\n  sharedbConnected: boolean;\n  usingSubst: boolean;\n  persistenceUser: string | undefined;\n  persistenceFile: PersistenceFile | undefined;\n  githubOctokitObject: { octokit: Octokit | undefined };\n  githubSaveInfo: GitHubSaveInfo;\n};\n\nconst keyMap = { goGreen: 'h u l k' };\n\nexport async function handleHash(hash: string, props: PlaygroundProps) {\n  const qs = parseQuery(hash);\n\n  const chapter = stringParamToInt(qs.chap) || undefined;\n  const programLz = qs.lz ?? qs.prgrm;\n  const program = programLz && decompressFromEncodedURIComponent(programLz);\n  if (program) {\n    props.handleEditorValueChange(program);\n  }\n  const variant: Variant =\n    sourceLanguages.find(\n      language => language.chapter === chapter && language.variant === qs.variant\n    )?.variant ?? Variant.DEFAULT;\n  if (chapter) {\n    props.handleChapterSelect(chapter, variant);\n  }\n\n  const execTime = Math.max(stringParamToInt(qs.exec || '1000') || 1000, 1000);\n  if (execTime) {\n    props.handleChangeExecTime(execTime);\n  }\n}\n\nconst Playground: React.FC<PlaygroundProps> = ({ workspaceLocation = 'playground', ...props }) => {\n  const { isSicpEditor } = props;\n  const { isMobileBreakpoint } = useResponsive();\n  const propsRef = React.useRef(props);\n  propsRef.current = props;\n\n  const dispatch = useDispatch();\n\n  const [deviceSecret, setDeviceSecret] = React.useState<string | undefined>();\n  const location = useLocation();\n  const history = useHistory();\n  const searchParams = new URLSearchParams(location.search);\n  const shouldAddDevice = searchParams.get('add_device');\n\n  // Hide search query from URL to maintain an illusion of security. The device secret\n  // is still exposed via the 'Referer' header when requesting external content (e.g. Google API fonts)\n  if (shouldAddDevice && !deviceSecret) {\n    setDeviceSecret(shouldAddDevice);\n    history.replace(location.pathname);\n  }\n\n  const [, setLastEdit] = React.useState(new Date());\n  const [isGreen, setIsGreen] = React.useState(false);\n  const [selectedTab, setSelectedTab] = React.useState(\n    shouldAddDevice ? SideContentType.remoteExecution : SideContentType.introduction\n  );\n  const [hasBreakpoints, setHasBreakpoints] = React.useState(false);\n  const [sessionId, setSessionId] = React.useState(() =>\n    initSession('playground', {\n      // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n      editorValue: propsRef.current.editorTabs[0].value,\n      chapter: propsRef.current.playgroundSourceChapter\n    })\n  );\n\n  const usingRemoteExecution =\n    useTypedSelector(state => !!state.session.remoteExecutionSession) && !isSicpEditor;\n  // this is still used by remote execution (EV3)\n  // specifically, for the editor Ctrl+B to work\n  const externalLibraryName = useTypedSelector(\n    state => state.workspaces.playground.externalLibrary\n  );\n\n  React.useEffect(() => {\n    // When the editor session Id changes, then treat it as a new session.\n    setSessionId(\n      initSession('playground', {\n        // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n        editorValue: propsRef.current.editorTabs[0].value,\n        chapter: propsRef.current.playgroundSourceChapter\n      })\n    );\n  }, [props.editorSessionId]);\n\n  const hash = isSicpEditor ? props.initialEditorValueHash : props.location.hash;\n\n  React.useEffect(() => {\n    if (!hash) {\n      // If not a accessing via shared link, use the Source chapter and variant in the current course\n      if (props.courseSourceChapter && props.courseSourceVariant) {\n        propsRef.current.handleChapterSelect(props.courseSourceChapter, props.courseSourceVariant);\n      }\n      return;\n    }\n    handleHash(hash, propsRef.current);\n  }, [hash, props.courseSourceChapter, props.courseSourceVariant]);\n\n  /**\n   * Handles toggling of relevant SideContentTabs when mobile breakpoint it hit\n   */\n  React.useEffect(() => {\n    if (isMobileBreakpoint && desktopOnlyTabIds.includes(selectedTab)) {\n      setSelectedTab(SideContentType.mobileEditor);\n    } else if (!isMobileBreakpoint && mobileOnlyTabIds.includes(selectedTab)) {\n      setSelectedTab(SideContentType.introduction);\n    }\n  }, [isMobileBreakpoint, selectedTab]);\n\n  const handlers = React.useMemo(\n    () => ({\n      goGreen: () => setIsGreen(!isGreen)\n    }),\n    [isGreen]\n  );\n\n  const onEditorValueChange = React.useCallback(val => {\n    setLastEdit(new Date());\n    propsRef.current.handleEditorValueChange(val);\n  }, []);\n\n  const onChangeTabs = React.useCallback(\n    (\n      newTabId: SideContentType,\n      prevTabId: SideContentType,\n      event: React.MouseEvent<HTMLElement>\n    ) => {\n      if (newTabId === prevTabId) {\n        return;\n      }\n\n      const { handleUsingSubst, handleReplOutputClear, playgroundSourceChapter } = propsRef.current;\n\n      /**\n       * Do nothing when clicking the mobile 'Run' tab while on the stepper tab.\n       */\n      if (\n        !(\n          prevTabId === SideContentType.substVisualizer &&\n          newTabId === SideContentType.mobileEditorRun\n        )\n      ) {\n        if (playgroundSourceChapter <= 2 && newTabId === SideContentType.substVisualizer) {\n          handleUsingSubst(true);\n        }\n\n        if (prevTabId === SideContentType.substVisualizer && !hasBreakpoints) {\n          handleReplOutputClear();\n          handleUsingSubst(false);\n        }\n\n        setSelectedTab(newTabId);\n      }\n    },\n    [hasBreakpoints]\n  );\n\n  const pushLog = React.useCallback(\n    (newInput: Input) => {\n      log(sessionId, newInput);\n    },\n    [sessionId]\n  );\n\n  const handleEditorEval = React.useCallback(\n    () => dispatch(evalEditor(workspaceLocation)),\n    [dispatch, workspaceLocation]\n  );\n\n  const autorunButtons = React.useMemo(() => {\n    return (\n      <ControlBarAutorunButtons\n        {..._.pick(props, 'isDebugging', 'isEditorAutorun', 'isRunning')}\n        handleInterruptEval={() => dispatch(beginInterruptExecution(workspaceLocation))}\n        handleToggleEditorAutorun={() => dispatch(toggleEditorAutorun(workspaceLocation))}\n        handleEditorEval={handleEditorEval}\n        handleDebuggerPause={() => dispatch(beginDebuggerPause(workspaceLocation))}\n        handleDebuggerReset={() => dispatch(debuggerReset(workspaceLocation))}\n        handleDebuggerResume={() => dispatch(debuggerResume(workspaceLocation))}\n        key=\"autorun\"\n        autorunDisabled={usingRemoteExecution}\n        sourceChapter={props.playgroundSourceChapter}\n        // Disable pause for non-Source languages since they cannot be paused\n        pauseDisabled={usingRemoteExecution || !isSourceLanguage(props.playgroundSourceChapter)}\n      />\n    );\n  }, [dispatch, handleEditorEval, props, usingRemoteExecution, workspaceLocation]);\n\n  const chapterSelectHandler = React.useCallback(\n    ({ chapter, variant }: { chapter: Chapter; variant: Variant }, e: any) => {\n      const { handleUsingSubst, handleReplOutputClear, handleChapterSelect } = propsRef.current;\n      if ((chapter <= 2 && hasBreakpoints) || selectedTab === SideContentType.substVisualizer) {\n        handleUsingSubst(true);\n      }\n      if (chapter > 2) {\n        handleReplOutputClear();\n        handleUsingSubst(false);\n      }\n\n      const input: Input = {\n        time: Date.now(),\n        type: 'chapterSelect',\n        data: chapter\n      };\n\n      pushLog(input);\n\n      handleChapterSelect(chapter, variant);\n    },\n    [hasBreakpoints, selectedTab, pushLog]\n  );\n\n  const chapterSelect = React.useMemo(\n    () => (\n      <ControlBarChapterSelect\n        handleChapterSelect={chapterSelectHandler}\n        sourceChapter={props.playgroundSourceChapter}\n        sourceVariant={props.playgroundSourceVariant}\n        key=\"chapter\"\n        disabled={usingRemoteExecution}\n      />\n    ),\n    [\n      chapterSelectHandler,\n      props.playgroundSourceChapter,\n      props.playgroundSourceVariant,\n      usingRemoteExecution\n    ]\n  );\n\n  const clearButton = React.useMemo(\n    () =>\n      selectedTab === SideContentType.substVisualizer ? null : (\n        <ControlBarClearButton\n          handleReplOutputClear={props.handleReplOutputClear}\n          key=\"clear_repl\"\n        />\n      ),\n    [props.handleReplOutputClear, selectedTab]\n  );\n\n  const evalButton = React.useMemo(\n    () =>\n      selectedTab === SideContentType.substVisualizer ? null : (\n        <ControlBarEvalButton\n          handleReplEval={props.handleReplEval}\n          isRunning={props.isRunning}\n          key=\"eval_repl\"\n        />\n      ),\n    [props.handleReplEval, props.isRunning, selectedTab]\n  );\n\n  const executionTime = React.useMemo(\n    () => (\n      <ControlBarExecutionTime\n        execTime={props.execTime}\n        handleChangeExecTime={props.handleChangeExecTime}\n        key=\"execution_time\"\n      />\n    ),\n    [props.execTime, props.handleChangeExecTime]\n  );\n\n  const stepperStepLimit = React.useMemo(\n    () => (\n      <ControlBarStepLimit\n        stepLimit={props.stepLimit}\n        handleChangeStepLimit={limit => dispatch(changeStepLimit(limit, workspaceLocation))}\n        key=\"step_limit\"\n      />\n    ),\n    [dispatch, props.stepLimit, workspaceLocation]\n  );\n\n  const { handleEditorValueChange } = props;\n\n  // No point memoing this, it uses props.editorValue\n  const sessionButtons = (\n    <ControlBarSessionButtons\n      editorSessionId={props.editorSessionId}\n      // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n      editorValue={props.editorTabs[0].value}\n      handleSetEditorSessionId={id => dispatch(setEditorSessionId(workspaceLocation, id))}\n      sharedbConnected={props.sharedbConnected}\n      key=\"session\"\n    />\n  );\n\n  const shareButton = React.useMemo(() => {\n    const queryString = isSicpEditor\n      ? Links.playground + '#' + props.initialEditorValueHash\n      : props.queryString;\n    return (\n      <ControlBarShareButton\n        handleGenerateLz={() => dispatch(generateLzString())}\n        handleShortenURL={s => dispatch(shortenURL(s))}\n        handleUpdateShortURL={s => dispatch(updateShortURL(s))}\n        queryString={queryString}\n        shortURL={props.shortURL}\n        isSicp={isSicpEditor}\n        key=\"share\"\n      />\n    );\n  }, [dispatch, isSicpEditor, props.initialEditorValueHash, props.queryString, props.shortURL]);\n\n  const playgroundIntroductionTab: SideContentTab = React.useMemo(\n    () => ({\n      label: 'Introduction',\n      iconName: IconNames.HOME,\n      body: (\n        <Markdown\n          content={generateSourceIntroduction(\n            props.playgroundSourceChapter,\n            props.playgroundSourceVariant\n          )}\n          openLinksInNewWindow={true}\n        />\n      ),\n      id: SideContentType.introduction\n    }),\n    [props.playgroundSourceChapter, props.playgroundSourceVariant]\n  );\n\n  const tabs = React.useMemo(() => {\n    const tabs: SideContentTab[] = [playgroundIntroductionTab];\n\n    return tabs;\n  }, [playgroundIntroductionTab]);\n\n  // Remove Intro and Remote Execution tabs for mobile\n  const mobileTabs = [...tabs].filter(({ id }) => !(id && desktopOnlyTabIds.includes(id)));\n\n  const onLoadMethod = React.useCallback(\n    (editor: Ace.Editor) => {\n      const addFold = () => {\n        editor.getSession().addFold('    ', new Range(1, 0, props.prependLength!, 0));\n        editor.renderer.off('afterRender', addFold);\n      };\n\n      editor.renderer.on('afterRender', addFold);\n    },\n    [props.prependLength]\n  );\n\n  const onChangeMethod = React.useCallback(\n    (newCode: string, delta: CodeDelta) => {\n      handleEditorValueChange(newCode);\n\n      const input: Input = {\n        time: Date.now(),\n        type: 'codeDelta',\n        data: delta\n      };\n\n      pushLog(input);\n    },\n    [handleEditorValueChange, pushLog]\n  );\n\n  const onCursorChangeMethod = React.useCallback(\n    (selection: any) => {\n      const input: Input = {\n        time: Date.now(),\n        type: 'cursorPositionChange',\n        data: selection.getCursor()\n      };\n\n      pushLog(input);\n    },\n    [pushLog]\n  );\n\n  const onSelectionChangeMethod = React.useCallback(\n    (selection: any) => {\n      const range: SelectionRange = selection.getRange();\n      const isBackwards: boolean = selection.isBackwards();\n      if (!isEqual(range.start, range.end)) {\n        const input: Input = {\n          time: Date.now(),\n          type: 'selectionRangeData',\n          data: { range, isBackwards }\n        };\n\n        pushLog(input);\n      }\n    },\n    [pushLog]\n  );\n\n  const handleEditorUpdateBreakpoints = React.useCallback(\n    (breakpoints: string[]) => {\n      // get rid of holes in array\n      const numberOfBreakpoints = breakpoints.filter(arrayItem => !!arrayItem).length;\n      if (numberOfBreakpoints > 0) {\n        setHasBreakpoints(true);\n        if (propsRef.current.playgroundSourceChapter <= 2) {\n          /**\n           * There are breakpoints set on Source Chapter 2, so we set the\n           * Redux state for the editor to evaluate to the substituter\n           */\n\n          propsRef.current.handleUsingSubst(true);\n        }\n      }\n      if (numberOfBreakpoints === 0) {\n        setHasBreakpoints(false);\n\n        if (selectedTab !== SideContentType.substVisualizer) {\n          propsRef.current.handleReplOutputClear();\n          propsRef.current.handleUsingSubst(false);\n        }\n      }\n      propsRef.current.handleEditorUpdateBreakpoints(breakpoints);\n    },\n    [selectedTab]\n  );\n\n  const replDisabled = usingRemoteExecution;\n\n  const editorContainerProps: NormalEditorContainerProps = {\n    ..._.pick(props, 'editorSessionId', 'isEditorAutorun'),\n    editorVariant: 'normal',\n    editorTabs: props.editorTabs.map(convertEditorTabStateToProps),\n    handleDeclarationNavigate: (cursorPosition: Position) =>\n      dispatch(navigateToDeclaration(workspaceLocation, cursorPosition)),\n    handleEditorEval,\n    handlePromptAutocomplete: (row: number, col: number, callback: any) =>\n      dispatch(promptAutocomplete(workspaceLocation, row, col, callback)),\n    handleSendReplInputToOutput: (code: string) =>\n      dispatch(sendReplInputToOutput(code, workspaceLocation)),\n    handleSetSharedbConnected: (connected: boolean) =>\n      dispatch(setSharedbConnected(workspaceLocation, connected)),\n    onChange: onChangeMethod,\n    onCursorChange: onCursorChangeMethod,\n    onSelectionChange: onSelectionChangeMethod,\n    onLoad: isSicpEditor && props.prependLength ? onLoadMethod : undefined,\n    sourceChapter: props.playgroundSourceChapter,\n    externalLibraryName,\n    sourceVariant: props.playgroundSourceVariant,\n    handleEditorValueChange: onEditorValueChange,\n    handleEditorUpdateBreakpoints: handleEditorUpdateBreakpoints\n  };\n\n  const replProps = {\n    ..._.pick(props, 'output', 'replValue', 'handleReplEval', 'usingSubst'),\n    handleBrowseHistoryDown: () => dispatch(browseReplHistoryDown(workspaceLocation)),\n    handleBrowseHistoryUp: () => dispatch(browseReplHistoryUp(workspaceLocation)),\n    handleReplValueChange: (newValue: string) =>\n      dispatch(updateReplValue(newValue, workspaceLocation)),\n    sourceChapter: props.playgroundSourceChapter,\n    sourceVariant: props.playgroundSourceVariant,\n    externalLibrary: ExternalLibraryName.NONE, // temporary placeholder as we phase out libraries\n    hidden: selectedTab === SideContentType.substVisualizer,\n    inputHidden: replDisabled,\n    replButtons: [replDisabled ? null : evalButton, clearButton],\n    disableScrolling: isSicpEditor\n  };\n\n  const sideBarProps = {\n    tabs: [\n      // TODO: Re-enable on master once the feature is production-ready.\n      // {\n      //   label: 'Files',\n      //   body: <FileSystemView basePath=\"/playground\" />,\n      //   iconName: IconNames.FOLDER_CLOSE,\n      //   id: SideContentType.files\n      // }\n    ]\n  };\n\n  const workspaceProps: WorkspaceProps = {\n    controlBarProps: {\n      editorButtons: [\n        autorunButtons,\n        chapterSelect,\n        usingRemoteExecution || !isSourceLanguage(props.playgroundSourceChapter)\n          ? null\n          : props.usingSubst\n          ? stepperStepLimit\n          : executionTime\n      ]\n    },\n    editorContainerProps: editorContainerProps,\n    handleSideContentHeightChange: change =>\n      dispatch(changeSideContentHeight(change, workspaceLocation)),\n    replProps: replProps,\n    sideBarProps: sideBarProps,\n    sideContentHeight: props.sideContentHeight,\n    sideContentProps: {\n      selectedTabId: selectedTab,\n      onChange: onChangeTabs,\n      tabs: {\n        beforeDynamicTabs: tabs,\n        afterDynamicTabs: []\n      },\n      workspaceLocation: isSicpEditor ? 'sicp' : 'playground',\n      sideContentHeight: props.sideContentHeight\n    },\n    sideContentIsResizeable: selectedTab !== SideContentType.substVisualizer\n  };\n\n  const mobileWorkspaceProps: MobileWorkspaceProps = {\n    editorContainerProps: editorContainerProps,\n    replProps: replProps,\n    sideBarProps: sideBarProps,\n    mobileSideContentProps: {\n      mobileControlBarProps: {\n        editorButtons: [\n          autorunButtons,\n          chapterSelect,\n          shareButton,\n          isSicpEditor ? null : sessionButtons\n        ]\n      },\n      selectedTabId: selectedTab,\n      onChange: onChangeTabs,\n      tabs: {\n        beforeDynamicTabs: mobileTabs,\n        afterDynamicTabs: []\n      },\n      workspaceLocation: isSicpEditor ? 'sicp' : 'playground'\n    }\n  };\n\n  return isMobileBreakpoint ? (\n    <div className={classNames('Playground', Classes.DARK, isGreen ? 'GreenScreen' : undefined)}>\n      <MobileWorkspace {...mobileWorkspaceProps} />\n    </div>\n  ) : (\n    <HotKeys\n      className={classNames('Playground', Classes.DARK, isGreen ? 'GreenScreen' : undefined)}\n      keyMap={keyMap}\n      handlers={handlers}\n    >\n      <Workspace {...workspaceProps} />\n    </HotKeys>\n  );\n};\n\nconst mobileOnlyTabIds: readonly SideContentType[] = [\n  SideContentType.mobileEditor,\n  SideContentType.mobileEditorRun\n];\nconst desktopOnlyTabIds: readonly SideContentType[] = [SideContentType.introduction];\n\nexport default Playground;\n","import * as qs from 'query-string';\nimport { isArray } from 'util';\n\nexport interface IParsedQuery {\n  [key: string]: string | undefined;\n}\n\n/**\n * Parse a query string into an object.\n *\n * This is a wrapper for query-string that disables array and null parsing (so\n * the object has only strings).\n */\nexport function parseQuery(query: string): IParsedQuery {\n  const parsed = qs.parse(query);\n  for (const [key, val] of Object.entries(parsed)) {\n    if (isArray(val)) {\n      parsed[key] = val.join(',');\n    } else if (val === null) {\n      delete parsed[key];\n    }\n  }\n\n  return parsed as IParsedQuery;\n}\n","import { Chapter, Variant } from 'Clang-slang/dist/types';\nimport _ from 'lodash';\nimport { connect, MapDispatchToProps, MapStateToProps } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { bindActionCreators, Dispatch } from 'redux';\n\nimport { OverallState } from '../../commons/application/ApplicationTypes';\nimport {\n  changeExecTime,\n  chapterSelect,\n  clearReplOutput,\n  evalRepl,\n  setEditorBreakpoint,\n  toggleUsingSubst,\n  updateEditorValue\n} from '../../commons/workspace/WorkspaceActions';\nimport { WorkspaceLocation } from '../../commons/workspace/WorkspaceTypes';\nimport Playground, { DispatchProps, StateProps } from './Playground';\n\nconst mapStateToProps: MapStateToProps<StateProps, {}, OverallState> = state => ({\n  ..._.pick(\n    state.workspaces.playground,\n    'activeEditorTabIndex',\n    'editorTabs',\n    'editorSessionId',\n    'execTime',\n    'stepLimit',\n    'isEditorAutorun',\n    'isRunning',\n    'isDebugging',\n    'enableDebugging',\n    'output',\n    'replValue',\n    'sideContentHeight',\n    'sharedbConnected',\n    'usingSubst'\n  ),\n  queryString: state.playground.queryString,\n  shortURL: state.playground.shortURL,\n  playgroundSourceChapter: Chapter.CLANG,\n  playgroundSourceVariant: state.workspaces.playground.context.variant,\n  courseSourceChapter: state.session.sourceChapter,\n  courseSourceVariant: state.session.sourceVariant,\n  persistenceUser: state.session.googleUser,\n  persistenceFile: state.playground.persistenceFile,\n  githubOctokitObject: state.session.githubOctokitObject,\n  githubSaveInfo: state.playground.githubSaveInfo\n});\n\nconst workspaceLocation: WorkspaceLocation = 'playground';\n\nconst mapDispatchToProps: MapDispatchToProps<DispatchProps, {}> = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      handleChangeExecTime: (execTime: number) => changeExecTime(execTime, workspaceLocation),\n      handleChapterSelect: (chapter: Chapter, variant: Variant) =>\n        chapterSelect(chapter, variant, workspaceLocation),\n      handleEditorValueChange: (val: string) => updateEditorValue(val, workspaceLocation),\n      handleEditorUpdateBreakpoints: (breakpoints: string[]) =>\n        setEditorBreakpoint(breakpoints, workspaceLocation),\n      handleReplEval: () => evalRepl(workspaceLocation),\n      handleReplOutputClear: () => clearReplOutput(workspaceLocation),\n      handleUsingSubst: (usingSubst: boolean) => toggleUsingSubst(usingSubst, workspaceLocation)\n    },\n    dispatch\n  );\n\nconst PlaygroundContainer = () => {\n  const Component = withRouter(connect(mapStateToProps, mapDispatchToProps)(Playground));\n  return <Component workspaceLocation={workspaceLocation} />;\n};\n\nexport default PlaygroundContainer;\n","import { Callout, ProgressBar } from '@blueprintjs/core';\nimport { IconName } from '@blueprintjs/icons';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport { AssessmentOverview, AssessmentType } from '../assessment/AssessmentTypes';\nimport { assessmentTypeLink } from '../utils/ParamParseHelper';\n\ntype ProfileCardProps = DispatchProps & StateProps;\n\ntype StateProps = {\n  item: AssessmentOverview;\n  courseId?: number;\n};\n\ntype DispatchProps = {\n  getFrac: (num: number, den: number) => number;\n  parseColour: (frac: number) => string;\n  renderIcon: (category: AssessmentType) => IconName;\n};\n\nconst ProfileCard: React.FC<ProfileCardProps> = props => {\n  const { item } = props;\n\n  const isInvalidXP = item.maxXp <= 0 && item.xp === 0;\n\n  const xpDetails = (\n    <div className=\"xp-details\">\n      <div className=\"title\">XP</div>\n      <div className=\"value\">\n        {item.xp} / {item.maxXp}\n      </div>\n      <ProgressBar\n        animate={false}\n        className={'value-bar' + props.parseColour(props.getFrac(item.xp, item.maxXp))}\n        stripes={false}\n        value={props.getFrac(item.xp, item.maxXp)}\n      />\n    </div>\n  );\n\n  return (\n    // Make each card navigate the user to the respective assessment\n    <NavLink\n      className=\"profile-summary-navlink\"\n      key={`${item.title}-${item.id}`}\n      target=\"_blank\"\n      to={`/courses/${props.courseId}/${assessmentTypeLink(item.type)}/${item.id}/0`}\n      activeClassName=\"profile-summary-navlink\"\n    >\n      <Callout\n        className=\"profile-summary-callout\"\n        key={`${item.title}-${item.id}`}\n        icon={props.renderIcon(item.type)}\n        title={item.title}\n      >\n        {isInvalidXP ? '' : xpDetails}\n      </Callout>\n    </NavLink>\n  );\n};\n\nexport default ProfileCard;\n","import { Drawer, DrawerSize, NonIdealState, Spinner } from '@blueprintjs/core';\nimport { IconName, IconNames } from '@blueprintjs/icons';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { fetchAssessmentOverviews, fetchTotalXp } from '../application/actions/SessionActions';\nimport { Role } from '../application/ApplicationTypes';\nimport {\n  AssessmentConfiguration,\n  AssessmentOverview,\n  AssessmentStatuses,\n  AssessmentType,\n  GradingStatuses\n} from '../assessment/AssessmentTypes';\nimport Constants from '../utils/Constants';\nimport { useTypedSelector } from '../utils/Hooks';\nimport ProfileCard from './ProfileCard';\n\nexport type ProfileProps = OwnProps;\n\ntype StateProps = {\n  name?: string;\n  role?: Role;\n  assessmentOverviews?: AssessmentOverview[];\n  assessmentConfigurations?: AssessmentConfiguration[];\n  xp?: number;\n  courseId?: number;\n};\n\ntype OwnProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nconst Profile: React.FC<ProfileProps> = props => {\n  // FIXME: `xp` is actually of type number | undefined here!\n  // Fix the session type, then remove the typecast below\n  const { name, role, assessmentOverviews, assessmentConfigurations, xp, courseId } =\n    useTypedSelector(state => state.session) as StateProps;\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (name && role && !assessmentOverviews) {\n      // If assessment overviews are not loaded, fetch them\n      dispatch(fetchAssessmentOverviews());\n    }\n  }, [assessmentOverviews, dispatch, name, role, xp]);\n\n  useEffect(() => {\n    if (courseId && !xp) {\n      dispatch(fetchTotalXp());\n    }\n  }, [courseId, dispatch, xp]);\n\n  const [isLoaded, setIsLoaded] = useState(name && role && assessmentOverviews);\n\n  useEffect(() => {\n    setIsLoaded(name && role && assessmentOverviews);\n  }, [assessmentOverviews, name, role]);\n\n  // Render\n  let content: JSX.Element;\n\n  if (!isLoaded) {\n    content = <NonIdealState description=\"Loading...\" icon={<Spinner />} />;\n  } else {\n    // Check if there are any closed assessments, else render a placeholder <div>\n    const numClosed = assessmentOverviews!.filter(\n      item => item.status === AssessmentStatuses.submitted\n    ).length;\n\n    const userXp = xp || 0;\n    const caFulfillmentLevel = Constants.caFulfillmentLevel;\n    const fullXp = caFulfillmentLevel * 1000;\n\n    const userDetails = (\n      <div className=\"profile-header\">\n        <div className=\"profile-username\">\n          <div className=\"name\">{name}</div>\n          <div className=\"role\">{role}</div>\n        </div>\n      </div>\n    );\n\n    if (numClosed === 0) {\n      content = (\n        <div className=\"profile-content\">\n          {userDetails}\n          <div className=\"profile-placeholder\">\n            There are no closed assessments to render grade and XP of.\n          </div>\n        </div>\n      );\n    } else {\n      // Performs boundary checks if denominator is 0 or if it exceeds 1 (100%)\n      const getFrac = (num: number, den: number): number => {\n        return den <= 0 || num / den > 1 ? 1 : num / den;\n      };\n\n      // Given a fraction between 0 and 1 inclusive, returns a className to apply colour with CSS\n      const parseColour = (frac: number): string => {\n        return frac < 0\n          ? ''\n          : frac >= 0.8\n          ? ' progress-steelblue'\n          : frac >= 0.45\n          ? ' progress-deepskyblue'\n          : ' progress-skyblue';\n      };\n\n      // Given an assessment category, return its icon\n      const renderIcon = (assessmentType: AssessmentType) => {\n        const icons: IconName[] = [\n          IconNames.FLAME,\n          IconNames.LIGHTBULB,\n          IconNames.PREDICTIVE_ANALYSIS,\n          IconNames.COMPARISON,\n          IconNames.MANUAL\n        ];\n        if (assessmentConfigurations) {\n          const index = assessmentConfigurations.findIndex(c => c.type === assessmentType);\n\n          // For rendering hidden assessments not visible to the student\n          // e.g. studio participation marks\n          return index > 0 ? icons[index] : IconNames.PULSE;\n        } else {\n          // Should never hit this case as there are no assessments, submissions or answers\n          // if there are no assessmentTypes\n          return IconNames.PULSE;\n        }\n      };\n\n      // Build condensed assessment cards from an array of assessments\n      const summaryCallouts = assessmentOverviews!\n        .filter(\n          item =>\n            item.status === AssessmentStatuses.submitted &&\n            (item.gradingStatus === GradingStatuses.graded ||\n              item.gradingStatus === GradingStatuses.excluded)\n        )\n        .map((assessment, index) => {\n          return (\n            <ProfileCard\n              key={index}\n              item={assessment}\n              getFrac={getFrac}\n              parseColour={parseColour}\n              renderIcon={renderIcon}\n              courseId={courseId}\n            />\n          );\n        });\n\n      content = (\n        <div className=\"profile-content\">\n          {userDetails}\n\n          <div className=\"profile-progress\">\n            <div className=\"profile-xp\">\n              <Spinner\n                className={'profile-spinner' + parseColour(getFrac(userXp, fullXp))}\n                size={144}\n                value={getFrac(userXp, fullXp)}\n              />\n              <div className=\"type\">XP Progress</div>\n              <div className=\"total-value\">\n                {userXp} / {fullXp}*\n              </div>\n              <div className=\"percentage\">{(getFrac(userXp, fullXp) * 100).toFixed(2)}%</div>\n            </div>\n          </div>\n          <div className=\"profile-xp-footer\">\n            *{fullXp}XP needed to reach full CA level of {caFulfillmentLevel}\n          </div>\n          <div className=\"profile-callouts\">{summaryCallouts}</div>\n        </div>\n      );\n    }\n  }\n\n  return (\n    <Drawer\n      className=\"profile\"\n      icon={IconNames.USER}\n      isCloseButtonShown={true}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      title=\"User Profile\"\n      position=\"left\"\n      size={DrawerSize.SMALL}\n    >\n      {content}\n    </Drawer>\n  );\n};\n\nexport default Profile;\n","import { Classes, Dialog } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport * as React from 'react';\n\nimport { Links } from '../utils/Constants';\n\ntype DialogProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nconst DropdownAbout: React.SFC<DialogProps> = props => (\n  <Dialog\n    className=\"about\"\n    icon={IconNames.HELP}\n    isCloseButtonShown={true}\n    isOpen={props.isOpen}\n    onClose={props.onClose}\n    title=\"About\"\n  >\n    <div className={Classes.DIALOG_BODY}>\n      <div className=\"abt\">\n        <p>\n          The <i>Source Academy</i> is a computer-mediated learning environment for studying the\n          structure and interpretation of computer programs. Students write and run their programs\n          in their web browser, using sublanguages of JavaScript called{' '}\n          <a href={Links.sourceDocs}>Source</a>, designed for the textbook{' '}\n          <a href={Links.textbook}>\n            Structure and Interpretation of Computer Programs, JavaScript Edition\n          </a>\n          .\n        </p>\n        <p>\n          The Source Academy is available under the Apache License 2.0 at the GitHub organisation{' '}\n          <a href={Links.githubOrg}>source-academy</a>. More information and resources are available\n          at the <a href={Links.about}>about pages</a> of the Source Academy.\n        </p>\n      </div>\n    </div>\n  </Dialog>\n);\n\nexport default DropdownAbout;\n","import { Classes, Dialog, HTMLSelect } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport * as React from 'react';\n\nimport { Role } from '../application/ApplicationTypes';\nimport { UserCourse } from '../application/types/SessionTypes';\nimport { history } from '../utils/HistoryHelper';\n\ntype DialogProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  courses: UserCourse[];\n  courseId?: number;\n};\n\nconst DropdownCourses: React.FC<DialogProps> = props => {\n  const { courses } = props;\n\n  const options = courses.map(course => ({\n    value: course.courseId,\n    label: course.courseName.concat(!course.viewable ? ' - disabled' : ''),\n    disabled: !course.viewable && course.role !== Role.Admin\n  }));\n\n  const onChangeHandler = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    history.push(`/courses/${e.currentTarget.value}`);\n    props.onClose();\n  };\n\n  return (\n    <Dialog\n      className=\"my-courses\"\n      icon={IconNames.PROPERTIES}\n      isCloseButtonShown={true}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      title=\"My Courses\"\n    >\n      <div className={Classes.DIALOG_BODY}>\n        <div>Select a course to switch to:</div>\n        <HTMLSelect\n          value={props.courseId}\n          options={options}\n          fill\n          onChange={onChangeHandler}\n          disabled={courses.length <= 1}\n        />\n      </div>\n    </Dialog>\n  );\n};\n\nexport default DropdownCourses;\n","import {\n  Divider,\n  FormGroup,\n  H2,\n  H3,\n  InputGroup,\n  Switch,\n  Tab,\n  Tabs,\n  TextArea\n} from '@blueprintjs/core';\nimport * as React from 'react';\nimport { useResponsive } from 'src/commons/utils/Hooks';\n\nimport { UpdateCourseConfiguration } from '../../../../commons/application/types/SessionTypes';\nimport Markdown from '../../../../commons/Markdown';\n\nexport type CourseConfigPanelProps = OwnProps;\n\ntype OwnProps = {\n  courseConfiguration: UpdateCourseConfiguration;\n  setCourseConfiguration: (courseConfiguration: UpdateCourseConfiguration) => void;\n};\n\nexport enum CourseHelpTextEditorTab {\n  WRITE = 'WRITE',\n  PREVIEW = 'PREVIEW'\n}\n\nconst CourseConfigPanel: React.FC<CourseConfigPanelProps> = props => {\n  const { isMobileBreakpoint } = useResponsive();\n  const [courseHelpTextSelectedTab, setCourseHelpTextSelectedTab] =\n    React.useState<CourseHelpTextEditorTab>(CourseHelpTextEditorTab.WRITE);\n\n  const {\n    courseName,\n    courseShortName,\n    viewable,\n    enableGame,\n    enableAchievements,\n    enableSourcecast,\n    moduleHelpText\n  } = props.courseConfiguration;\n\n  const writePanel = (\n    <TextArea\n      id=\"moduleHelpText\"\n      className=\"input-textarea\"\n      fill={true}\n      value={moduleHelpText || ''}\n      onChange={e =>\n        props.setCourseConfiguration({\n          ...props.courseConfiguration,\n          moduleHelpText: e.target.value\n        })\n      }\n    />\n  );\n\n  const previewPanel = (\n    <div className=\"input-markdown\">\n      <Markdown content={moduleHelpText || ''} openLinksInNewWindow />\n    </div>\n  );\n\n  const onChangeTabs = React.useCallback(\n    (\n      newTabId: CourseHelpTextEditorTab,\n      prevTabId: CourseHelpTextEditorTab,\n      event: React.MouseEvent<HTMLElement>\n    ) => {\n      if (newTabId === prevTabId) {\n        return;\n      }\n      setCourseHelpTextSelectedTab(newTabId);\n    },\n    [setCourseHelpTextSelectedTab]\n  );\n\n  return (\n    <div className=\"course-configuration\">\n      <H2>{courseName}</H2>\n      <H3>{courseShortName}</H3>\n      <div className=\"inputs\">\n        <div className=\"text\">\n          <FormGroup\n            helperText=\"Please enter the course name that will be used for course selection.\"\n            inline={true}\n            label=\"Course Name\"\n            labelFor=\"courseName\"\n          >\n            <InputGroup\n              id=\"courseName\"\n              defaultValue={courseName}\n              onChange={e =>\n                props.setCourseConfiguration({\n                  ...props.courseConfiguration,\n                  courseName: e.target.value\n                })\n              }\n            />\n          </FormGroup>\n          <FormGroup\n            helperText=\"Please enter the course short name. This will be displayed on the top left.\"\n            inline={true}\n            label=\"Course Short Name\"\n            labelFor=\"courseShortName\"\n          >\n            <InputGroup\n              id=\"courseShortName\"\n              defaultValue={courseShortName}\n              onChange={e =>\n                props.setCourseConfiguration({\n                  ...props.courseConfiguration,\n                  courseShortName: e.target.value\n                })\n              }\n            />\n          </FormGroup>\n          <FormGroup\n            helperText=\"Please enter the module help text that will be used in the course help dialog.\"\n            inline={true}\n            label=\"Module Help Text\"\n            labelFor=\"moduleHelpText\"\n          >\n            <Tabs\n              selectedTabId={courseHelpTextSelectedTab}\n              onChange={onChangeTabs}\n              className=\"module-help-text-tabs\"\n            >\n              <Tab id={CourseHelpTextEditorTab.WRITE} title=\"Write\" />\n              <Tab id={CourseHelpTextEditorTab.PREVIEW} title=\"Preview\" />\n            </Tabs>\n            {courseHelpTextSelectedTab === CourseHelpTextEditorTab.WRITE && writePanel}\n            {courseHelpTextSelectedTab === CourseHelpTextEditorTab.PREVIEW && previewPanel}\n          </FormGroup>\n        </div>\n        {!isMobileBreakpoint && <Divider />}\n        <div className=\"booleans\">\n          <Switch\n            checked={viewable}\n            label=\"Viewable\"\n            onChange={e =>\n              props.setCourseConfiguration({\n                ...props.courseConfiguration,\n                viewable: (e.target as HTMLInputElement).checked\n              })\n            }\n          />\n          <Switch\n            checked={enableGame}\n            label=\"Enable Game\"\n            onChange={e =>\n              props.setCourseConfiguration({\n                ...props.courseConfiguration,\n                enableGame: (e.target as HTMLInputElement).checked\n              })\n            }\n          />\n          <Switch\n            checked={enableAchievements}\n            label=\"Enable Achievements\"\n            onChange={e =>\n              props.setCourseConfiguration({\n                ...props.courseConfiguration,\n                enableAchievements: (e.target as HTMLInputElement).checked\n              })\n            }\n          />\n          <Switch\n            checked={enableSourcecast}\n            label=\"Enable Sourcecast\"\n            onChange={e =>\n              props.setCourseConfiguration({\n                ...props.courseConfiguration,\n                enableSourcecast: (e.target as HTMLInputElement).checked\n              })\n            }\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CourseConfigPanel;\n","import {\n  Button,\n  Classes,\n  Dialog,\n  FormGroup,\n  HTMLSelect,\n  InputGroup,\n  Switch,\n  Tab,\n  Tabs,\n  Text,\n  TextArea\n} from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport * as React from 'react';\n\nimport { CourseHelpTextEditorTab } from '../../pages/academy/adminPanel/subcomponents/CourseConfigPanel';\nimport { sourceLanguages } from '../application/ApplicationTypes';\nimport { UpdateCourseConfiguration } from '../application/types/SessionTypes';\nimport Markdown from '../Markdown';\nimport { showWarningMessage } from '../utils/NotificationsHelper';\n\ntype DialogProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  handleCreateCourse: (courseConfig: UpdateCourseConfiguration) => void;\n};\n\nconst DropdownCreateCourse: React.FC<DialogProps> = props => {\n  const [courseConfig, setCourseConfig] = React.useState<UpdateCourseConfiguration>({\n    courseName: '',\n    courseShortName: '',\n    viewable: true,\n    enableGame: true,\n    enableAchievements: true,\n    enableSourcecast: true,\n    sourceChapter: Chapter.CLANG,\n    sourceVariant: Variant.DEFAULT,\n    moduleHelpText: ''\n  });\n\n  const [courseHelpTextSelectedTab, setCourseHelpTextSelectedTab] =\n    React.useState<CourseHelpTextEditorTab>(CourseHelpTextEditorTab.WRITE);\n\n  const sourceChapterOptions = [{ value: Chapter.CLANG }];\n\n  const sourceVariantOptions = (chapter: Chapter) =>\n    sourceLanguages\n      .filter(e => e.chapter === chapter)\n      .map(e => {\n        return {\n          label: e.variant.replace(/^\\w/, c => c.toUpperCase()),\n          value: e.variant\n        };\n      });\n\n  const submitHandler = () => {\n    // Validate that courseName is not an empty string\n    if (courseConfig.courseName === '') {\n      showWarningMessage('Course Name cannot be empty!');\n      return;\n    }\n    props.handleCreateCourse(courseConfig);\n    props.onClose();\n  };\n\n  const onChangeTabs = React.useCallback(\n    (\n      newTabId: CourseHelpTextEditorTab,\n      prevTabId: CourseHelpTextEditorTab,\n      event: React.MouseEvent<HTMLElement>\n    ) => {\n      if (newTabId === prevTabId) {\n        return;\n      }\n      setCourseHelpTextSelectedTab(newTabId);\n    },\n    [setCourseHelpTextSelectedTab]\n  );\n\n  return (\n    <Dialog\n      className=\"create-course\"\n      icon={IconNames.ADD}\n      isCloseButtonShown={true}\n      canOutsideClickClose={false}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      title=\"Create Course\"\n    >\n      <div className={Classes.DIALOG_BODY}>\n        <div>\n          <b>Create your own Source Academy course and manage your own learners!</b>\n        </div>\n        <br />\n        <FormGroup\n          helperText=\"Please enter the course name that will be used for course selection\"\n          label=\"Course Name\"\n          labelInfo=\"(* required)\"\n          labelFor=\"courseName\"\n        >\n          <InputGroup\n            id=\"courseName\"\n            value={courseConfig.courseName}\n            onChange={e =>\n              setCourseConfig({\n                ...courseConfig,\n                courseName: e.target.value\n              })\n            }\n          />\n        </FormGroup>\n        <FormGroup\n          helperText=\"Usually the module code of the course. This will be displayed on the top left.\"\n          label={'Course Short Name'}\n          labelInfo=\"(optional)\"\n          labelFor=\"courseShortName\"\n        >\n          <InputGroup\n            id=\"courseShortName\"\n            value={courseConfig.courseShortName}\n            onChange={e =>\n              setCourseConfig({\n                ...courseConfig,\n                courseShortName: e.target.value\n              })\n            }\n          />\n        </FormGroup>\n        <FormGroup\n          helperText=\"The module help text will be used in the course help dialog.\"\n          labelFor=\"moduleHelpText\"\n        >\n          <Text tagName=\"span\">Module Help Text&nbsp;</Text>\n          <Text tagName=\"span\" className=\"optional-text\">\n            (optional)\n          </Text>\n          <Tabs\n            selectedTabId={courseHelpTextSelectedTab}\n            onChange={onChangeTabs}\n            className=\"module-help-text-tabs\"\n          >\n            <Tab id={CourseHelpTextEditorTab.WRITE} title=\"Write\" />\n            <Tab id={CourseHelpTextEditorTab.PREVIEW} title=\"Preview\" />\n          </Tabs>\n          {courseHelpTextSelectedTab === CourseHelpTextEditorTab.WRITE && (\n            <TextArea\n              id=\"moduleHelpText\"\n              className=\"input-textarea\"\n              fill={true}\n              value={courseConfig.moduleHelpText}\n              onChange={e =>\n                setCourseConfig({\n                  ...courseConfig,\n                  moduleHelpText: e.target.value\n                })\n              }\n            />\n          )}\n          {courseHelpTextSelectedTab === CourseHelpTextEditorTab.PREVIEW && (\n            <div className=\"input-markdown\">\n              <Markdown content={courseConfig.moduleHelpText || ''} openLinksInNewWindow />\n            </div>\n          )}\n        </FormGroup>\n\n        <div className=\"boolean-container\">\n          <div>\n            <Switch\n              checked={courseConfig.viewable}\n              inline\n              label=\"Viewable\"\n              onChange={e =>\n                setCourseConfig({\n                  ...courseConfig,\n                  viewable: (e.target as HTMLInputElement).checked\n                })\n              }\n            />\n            <Switch\n              checked={courseConfig.enableAchievements}\n              inline\n              label=\"Enable Achievements\"\n              onChange={e =>\n                setCourseConfig({\n                  ...courseConfig,\n                  enableAchievements: (e.target as HTMLInputElement).checked\n                })\n              }\n            />\n          </div>\n          <div>\n            <Switch\n              checked={courseConfig.enableGame}\n              inline\n              label=\"Enable Game\"\n              onChange={e =>\n                setCourseConfig({\n                  ...courseConfig,\n                  enableGame: (e.target as HTMLInputElement).checked\n                })\n              }\n            />\n\n            <Switch\n              checked={courseConfig.enableSourcecast}\n              inline\n              label=\"Enable Sourcecast\"\n              onChange={e =>\n                setCourseConfig({\n                  ...courseConfig,\n                  enableSourcecast: (e.target as HTMLInputElement).checked\n                })\n              }\n            />\n          </div>\n        </div>\n        <div>\n          <FormGroup\n            label=\"Default Source Chapter\"\n            labelInfo=\"(configurable later on)\"\n            labelFor=\"source-chapter\"\n          >\n            <HTMLSelect\n              id=\"source-chapter\"\n              options={sourceChapterOptions}\n              value={courseConfig.sourceChapter}\n              onChange={e => {\n                setCourseConfig({\n                  ...courseConfig,\n                  sourceChapter: parseInt(e.target.value)\n                });\n              }}\n              fill\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"Default Source Variant\"\n            labelInfo=\"(configurable later on)\"\n            labelFor=\"source-variant\"\n          >\n            <HTMLSelect\n              id=\"source-variant\"\n              options={sourceVariantOptions(courseConfig.sourceChapter!)}\n              value={courseConfig.sourceVariant}\n              onChange={e => {\n                setCourseConfig({\n                  ...courseConfig,\n                  sourceVariant: e.target.value as Variant\n                });\n              }}\n              fill\n            />\n          </FormGroup>\n        </div>\n        <div className=\"create-course-button-container\">\n          <Button text=\"Create Course\" onClick={submitHandler} />\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default DropdownCreateCourse;\n","import { Classes, Dialog } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport * as React from 'react';\n\nimport Markdown from '../Markdown';\nimport { Links } from '../utils/Constants';\nimport { useTypedSelector } from '../utils/Hooks';\n\ntype DialogProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nconst DropdownHelp: React.SFC<DialogProps> = props => {\n  const moduleHelpText = useTypedSelector(store => store.session.moduleHelpText);\n\n  return (\n    <Dialog\n      className=\"help\"\n      icon={IconNames.ERROR}\n      isCloseButtonShown={true}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      title=\"Help\"\n    >\n      <div className={Classes.DIALOG_BODY}>\n        {moduleHelpText ? (\n          <Markdown content={moduleHelpText} openLinksInNewWindow />\n        ) : (\n          <>\n            <p>\n              We recommend recent updates of the browsers <b>Google Chrome</b>,{' '}\n              <b>Microsoft Edge</b>, or <b>Mozilla Firefox</b> to visit the Source Academy.\n            </p>\n            <p>\n              If you encounter issues with the Source Academy using these browsers, please use the\n              issue system of the{' '}\n              <a href={Links.githubIssues}>Source Academy frontend repository on GitHub</a>.\n            </p>\n          </>\n        )}\n      </div>\n    </Dialog>\n  );\n};\nexport default DropdownHelp;\n","import { Classes, Dialog, FormGroup, HTMLSelect, Icon, PopoverPosition } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Tooltip2 } from '@blueprintjs/popover2';\nimport { useContext, useMemo } from 'react';\n\nimport { EditorBinding, WorkspaceSettingsContext } from '../WorkspaceSettingsContext';\n\ntype DialogProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nconst DropdownSettings: React.FC<DialogProps> = props => {\n  const [workspaceSettings, setWorkspaceSettings] = useContext(WorkspaceSettingsContext)!;\n\n  const options = useMemo(\n    () => [\n      {\n        label: 'None',\n        value: EditorBinding.NONE\n      },\n      {\n        label: 'Vim',\n        value: EditorBinding.VIM\n      },\n      {\n        label: 'Emacs',\n        value: EditorBinding.EMACS\n      }\n    ],\n    []\n  );\n\n  const handleEditorBindingChange: React.ChangeEventHandler<HTMLSelectElement> = e => {\n    setWorkspaceSettings({\n      ...workspaceSettings,\n      // Typecast to EditorBinding here is ok since the HTMLSelect only contains 'EditorBinding' options\n      editorBinding: e.target.value as EditorBinding\n    });\n  };\n\n  return (\n    <Dialog\n      className=\"settings\"\n      icon={IconNames.COG}\n      isCloseButtonShown={true}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      title=\"Settings\"\n    >\n      <div className={Classes.DIALOG_BODY}>\n        <FormGroup label=\"Editor Binding: \" labelFor=\"editor-binding\" inline>\n          <HTMLSelect\n            id=\"editor-binding\"\n            options={options}\n            value={workspaceSettings.editorBinding}\n            onChange={handleEditorBindingChange}\n          />\n          <Tooltip2\n            position={PopoverPosition.TOP}\n            className=\"form-field-help-text\"\n            content={\n              \"Optional editor bindings for advanced users. Set to 'None' for default text editor behaviour.\"\n            }\n          >\n            <Icon icon=\"help\" />\n          </Tooltip2>\n        </FormGroup>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default DropdownSettings;\n","import { Menu, MenuItem, Position } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Popover2 } from '@blueprintjs/popover2';\nimport React, { useState } from 'react';\n\nimport { UpdateCourseConfiguration, UserCourse } from '../application/types/SessionTypes';\nimport ControlButton from '../ControlButton';\nimport Profile from '../profile/Profile';\nimport DropdownAbout from './DropdownAbout';\nimport DropdownCourses from './DropdownCourses';\nimport DropdownCreateCourse from './DropdownCreateCourse';\nimport DropdownHelp from './DropdownHelp';\nimport DropdownSettings from './DropdownSettings';\n\ntype DropdownProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleLogOut: () => void;\n  handleCreateCourse: (courseConfig: UpdateCourseConfiguration) => void;\n};\n\ntype StateProps = {\n  name?: string;\n  courses: UserCourse[];\n  courseId?: number;\n};\n\nconst Dropdown: React.FC<DropdownProps> = props => {\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [isAboutOpen, setIsAboutOpen] = useState(false);\n  const [isHelpOpen, setIsHelpOpen] = useState(false);\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\n  const [isMyCoursesOpen, setIsMyCoursesOpen] = useState(false);\n  const [isCreateCourseOpen, setIsCreateCourseOpen] = useState(false);\n\n  function menu(props: DropdownProps) {\n    const profile =\n      props.name && props.courseId != null ? (\n        <MenuItem icon={IconNames.USER} onClick={toggleProfileOpen} text={titleCase(props.name)} />\n      ) : null;\n\n    const myCourses = props.name ? (\n      <MenuItem icon={IconNames.PROPERTIES} onClick={toggleMyCoursesOpen} text=\"My Courses\" />\n    ) : null;\n\n    const createCourse = props.name ? (\n      <MenuItem icon={IconNames.ADD} onClick={toggleCreateCourseOpen} text=\"Create Course\" />\n    ) : null;\n\n    const logout = props.name ? (\n      <MenuItem icon={IconNames.LOG_OUT} text=\"Logout\" onClick={props.handleLogOut} />\n    ) : null;\n\n    return (\n      <Menu>\n        {profile}\n        {myCourses}\n        {createCourse}\n        <MenuItem icon={IconNames.COG} onClick={toggleSettingsOpen} text=\"Settings\" />\n        <MenuItem icon={IconNames.HELP} onClick={toggleAboutOpen} text=\"About\" />\n        <MenuItem icon={IconNames.ERROR} onClick={toggleHelpOpen} text=\"Help\" />\n        {logout}\n      </Menu>\n    );\n  }\n\n  const toggleSettingsOpen = () => {\n    setIsSettingsOpen(oldValue => !oldValue);\n  };\n\n  const toggleAboutOpen = () => {\n    setIsAboutOpen(oldValue => !oldValue);\n  };\n\n  const toggleHelpOpen = () => setIsHelpOpen(oldValue => !oldValue);\n\n  const toggleProfileOpen = () => setIsProfileOpen(oldValue => !oldValue);\n\n  const toggleMyCoursesOpen = () => setIsMyCoursesOpen(oldValue => !oldValue);\n\n  const toggleCreateCourseOpen = () => setIsCreateCourseOpen(oldValue => !oldValue);\n\n  return (\n    <>\n      <Popover2 content={menu(props)} inheritDarkTheme={false} placement={Position.BOTTOM}>\n        <ControlButton icon={IconNames.CARET_DOWN} />\n      </Popover2>\n      <DropdownSettings isOpen={isSettingsOpen} onClose={toggleSettingsOpen} />\n      <DropdownAbout isOpen={isAboutOpen} onClose={toggleAboutOpen} />\n      <DropdownHelp isOpen={isHelpOpen} onClose={toggleHelpOpen} />\n      {props.name ? (\n        <DropdownCourses\n          isOpen={isMyCoursesOpen}\n          onClose={toggleMyCoursesOpen}\n          courses={props.courses}\n          courseId={props.courseId}\n        />\n      ) : null}\n      {props.name ? (\n        <DropdownCreateCourse\n          isOpen={isCreateCourseOpen}\n          onClose={toggleCreateCourseOpen}\n          handleCreateCourse={props.handleCreateCourse}\n        />\n      ) : null}\n      {props.name ? <Profile isOpen={isProfileOpen} onClose={toggleProfileOpen} /> : null}\n    </>\n  );\n};\n\nconst titleCase = (str: string) =>\n  str.replace(/\\w\\S*/g, wrd => wrd.charAt(0).toUpperCase() + wrd.substr(1).toLowerCase());\n\nexport default Dropdown;\n","import { AssessmentType } from '../assessment/AssessmentTypes';\nimport { Notification, NotificationFilterFunction } from './NotificationBadgeTypes';\n\n/**\n * @return A function that takes in an array of notification and filters it by assessment id.\n */\nexport function filterNotificationsByAssessment(assessmentId: number): NotificationFilterFunction {\n  return (notifications: Notification[]) =>\n    notifications.filter(n => !n.submission_id && n.assessment_id === assessmentId);\n}\n\n/**\n * @return A function that takes in an array of notification and filters it by submission id.\n */\nexport function filterNotificationsBySubmission(submissionId: number): NotificationFilterFunction {\n  return (notifications: Notification[]) =>\n    notifications.filter(n => n.submission_id === submissionId);\n}\n\n/**\n * Notifications will be filtered to one of the Assessment types of the currently selected\n * course, or the Grading type.\n *\n * Notifications with a submission id belongs to the Grading type.\n *\n * @return A function that takes in an array of notification and filters it by the type of notification.\n */\nexport function filterNotificationsByType(\n  assessmentType: AssessmentType\n): NotificationFilterFunction {\n  return (notifications: Notification[]) =>\n    notifications.filter(n => {\n      if (assessmentType === 'Grading') {\n        return n.submission_id !== undefined;\n      }\n      return !n.submission_id && assessmentType === n.assessment_type;\n    });\n}\n\n/**\n * @return A function that takes in an array of notification and filters it by notification id.\n */\nexport function filterNotificationsById(id: number): NotificationFilterFunction {\n  return (notifications: Notification[]) => notifications.filter(n => n.id === id);\n}\n","import { Intent, PopoverInteractionKind, Position, Tag } from '@blueprintjs/core';\nimport { Popover2 } from '@blueprintjs/popover2';\nimport * as React from 'react';\n\nimport { filterNotificationsById } from './NotificationBadgeHelper';\nimport {\n  Notification,\n  NotificationFilterFunction,\n  NotificationType,\n  NotificationTypes\n} from './NotificationBadgeTypes';\n\ntype NotificationBadgeProps = DispatchProps & StateProps & OwnProps;\n\nexport type DispatchProps = {\n  handleAcknowledgeNotifications: (withFilter?: NotificationFilterFunction) => void;\n};\n\ntype OwnProps = {\n  className?: string;\n  disableHover?: boolean; // Set to true to disable popover content\n  large?: boolean; // Set to true to use large style\n  notificationFilter?: (notifications: Notification[]) => Notification[];\n};\n\nexport type StateProps = {\n  notifications: Notification[];\n};\n\nconst NotificationBadge: React.SFC<NotificationBadgeProps> = props => {\n  const notifications = props.notificationFilter\n    ? props.notificationFilter(props.notifications)\n    : props.notifications;\n\n  if (!notifications.length) {\n    return null;\n  }\n\n  const notificationIcon = (\n    <Tag intent={Intent.DANGER} round={true} large={props.large}>\n      {notifications.length}\n    </Tag>\n  );\n\n  if (!props.disableHover) {\n    const makeNotificationTag = (notification: Notification) => {\n      const onRemove = () =>\n        props.handleAcknowledgeNotifications(filterNotificationsById(notification.id));\n\n      return (\n        <Tag\n          className=\"row badge-tag\"\n          key={`${notification.id}`}\n          minimal={true}\n          multiline={true}\n          onRemove={onRemove}\n        >\n          {makeNotificationMessage(notification.type)}\n        </Tag>\n      );\n    };\n\n    const notificationTags = <div className=\"col\">{notifications.map(makeNotificationTag)}</div>;\n\n    return (\n      <Popover2\n        className={props.className}\n        content={notificationTags}\n        interactionKind={PopoverInteractionKind.HOVER}\n        placement={Position.RIGHT}\n        hoverOpenDelay={50}\n        hoverCloseDelay={50}\n        lazy={true}\n      >\n        {notificationIcon}\n      </Popover2>\n    );\n  }\n\n  return notificationIcon;\n};\n\nconst makeNotificationMessage = (type: NotificationType) => {\n  switch (type) {\n    case NotificationTypes.new:\n      return 'This assessment is new.';\n    case NotificationTypes.deadline:\n      return 'This assessment is closing soon.';\n    case NotificationTypes.autograded:\n      return 'This assessment has been autograded.';\n    case NotificationTypes.submitted:\n      return 'This submission is new.';\n    case NotificationTypes.unsubmitted:\n      return 'This assessment has been unsubmitted.';\n    case NotificationTypes.graded:\n      return 'This assessment has been manually graded.';\n    case NotificationTypes.new_message:\n      return 'There are new messages.';\n    default:\n      return 'Unknown notification';\n  }\n};\n\nexport default NotificationBadge;\n","import { connect, MapDispatchToProps, MapStateToProps } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\n\nimport { acknowledgeNotifications } from '../application/actions/SessionActions';\nimport { OverallState } from '../application/ApplicationTypes';\nimport NotificationBadge, { DispatchProps, StateProps } from './NotificationBadge';\n\nconst mapStateToProps: MapStateToProps<StateProps, {}, OverallState> = state => ({\n  notifications: state.session.notifications\n});\n\nconst mapDispatchToProps: MapDispatchToProps<DispatchProps, {}> = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      handleAcknowledgeNotifications: acknowledgeNotifications\n    },\n    dispatch\n  );\n\nconst NotificationBadgeContainer = connect(mapStateToProps, mapDispatchToProps)(NotificationBadge);\n\nexport default NotificationBadgeContainer;\n","import { Alignment, Classes, Icon, Navbar, NavbarGroup } from '@blueprintjs/core';\nimport { IconName, IconNames } from '@blueprintjs/icons';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { AssessmentType } from 'src/commons/assessment/AssessmentTypes';\nimport { assessmentTypeLink } from 'src/commons/utils/ParamParseHelper';\n\nimport { Role } from '../../application/ApplicationTypes';\nimport NotificationBadgeContainer from '../../notificationBadge/NotificationBadgeContainer';\nimport { filterNotificationsByType } from '../../notificationBadge/NotificationBadgeHelper';\n\ntype OwnProps = {\n  courseId: number;\n  role: Role;\n  assessmentTypes?: AssessmentType[];\n};\n\nconst AcademyNavigationBar: React.FunctionComponent<OwnProps> = props => (\n  <Navbar className=\"NavigationBar secondary-navbar\">\n    <NavbarGroup align={Alignment.LEFT}>\n      {props.assessmentTypes?.map((assessmentType, idx) => (\n        <NavLink\n          to={`/courses/${props.courseId}/${assessmentTypeLink(assessmentType)}`}\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n          key={idx}\n        >\n          <Icon icon={icons[idx]} />\n          <div className=\"navbar-button-text hidden-xs hidden-sm\">{assessmentType}</div>\n          <NotificationBadgeContainer\n            notificationFilter={filterNotificationsByType(assessmentType)}\n            disableHover={true}\n          />\n        </NavLink>\n      ))}\n    </NavbarGroup>\n    {props.role === Role.Admin || props.role === Role.Staff ? (\n      <NavbarGroup align={Alignment.RIGHT}>\n        <NavLink\n          to={`/courses/${props.courseId}/groundcontrol`}\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n        >\n          <Icon icon={IconNames.SATELLITE} />\n          <div className=\"navbar-button-text hidden-xs hidden-sm\">Ground Control</div>\n        </NavLink>\n\n        <NavLink\n          to={`/courses/${props.courseId}/dashboard`}\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n        >\n          <Icon icon={IconNames.GLOBE} />\n          <div className=\"navbar-button-text hidden-xs hidden-sm\">Dashboard</div>\n        </NavLink>\n\n        <NavLink\n          to={`/courses/${props.courseId}/sourcereel`}\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n        >\n          <Icon icon={IconNames.MOBILE_VIDEO} />\n          <div className=\"navbar-button-text hidden-xs hidden-sm hidden-md\">Sourcereel</div>\n        </NavLink>\n\n        {props.role === Role.Admin && (\n          <NavLink\n            to={`/courses/${props.courseId}/xpcalculation`}\n            activeClassName={Classes.ACTIVE}\n            className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n          >\n            <Icon icon={IconNames.CALCULATOR} />\n            <div className=\"navbar-button-text hidden-xs hidden-sm\">XP Calculation</div>\n          </NavLink>\n        )}\n\n        <NavLink\n          to={`/courses/${props.courseId}/grading`}\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n        >\n          <Icon icon={IconNames.ENDORSED} />\n          <div className=\"navbar-button-text hidden-xs hidden-sm hidden-md\">Grading</div>\n          <NotificationBadgeContainer\n            notificationFilter={filterNotificationsByType('Grading')}\n            disableHover={true}\n          />\n        </NavLink>\n\n        <NavLink\n          to={`/courses/${props.courseId}/storysimulator`}\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n        >\n          <Icon icon={IconNames.CROWN} />\n          <div className=\"navbar-button-text hidden-xs hidden-sm hidden-md\">Story Simulator</div>\n        </NavLink>\n\n        {props.role === Role.Admin && (\n          <NavLink\n            to={`/courses/${props.courseId}/adminpanel`}\n            activeClassName={Classes.ACTIVE}\n            className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n          >\n            <Icon icon={IconNames.SETTINGS} />\n            <div className=\"navbar-button-text hidden-xs hidden-sm hidden-md hidden-lg\">\n              Admin Panel\n            </div>\n          </NavLink>\n        )}\n      </NavbarGroup>\n    ) : null}\n  </Navbar>\n);\n\nexport const icons: IconName[] = [\n  IconNames.FLAME,\n  IconNames.LIGHTBULB,\n  IconNames.PREDICTIVE_ANALYSIS,\n  IconNames.COMPARISON,\n  IconNames.MANUAL,\n  IconNames.GRAPH,\n  IconNames.LAB_TEST,\n  IconNames.CALCULATOR\n];\n\nexport default AcademyNavigationBar;\n","import { Classes, Drawer, Icon } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Role } from 'src/commons/application/ApplicationTypes';\nimport Constants from 'src/commons/utils/Constants';\nimport { assessmentTypeLink } from 'src/commons/utils/ParamParseHelper';\n\nimport { AssessmentType } from '../../assessment/AssessmentTypes';\nimport NotificationBadgeContainer from '../../notificationBadge/NotificationBadgeContainer';\nimport { filterNotificationsByType } from '../../notificationBadge/NotificationBadgeHelper';\nimport { icons } from './AcademyNavigationBar';\n\ntype NavigationBarMobileSideMenuProps = DrawerProps & OwnProps;\n\ntype DrawerProps = {\n  name?: string;\n  role?: Role;\n  isOpen: boolean;\n  onClose: () => void;\n  handleGitHubLogIn: () => void;\n  handleGitHubLogOut: () => void;\n};\n\ntype OwnProps = {\n  enableAchievements?: boolean;\n  enableSourcecast?: boolean;\n  assessmentTypes?: AssessmentType[];\n  courseId?: number;\n};\n\nconst NavigationBarMobileSideMenu: React.FC<NavigationBarMobileSideMenuProps> = props => (\n  <Drawer\n    isOpen={props.isOpen}\n    position=\"left\"\n    onClose={props.onClose}\n    title=\"\"\n    className={Classes.DARK}\n  >\n    {props.role ? (\n      props.assessmentTypes?.map((assessmentType, idx) => (\n        <NavLink\n          to={`/courses/${props.courseId}/${assessmentTypeLink(assessmentType)}`}\n          activeClassName={Classes.ACTIVE}\n          className={classNames(\n            'NavigationBar__link__mobile',\n            Classes.BUTTON,\n            Classes.MINIMAL,\n            Classes.LARGE\n          )}\n          onClick={props.onClose}\n          key={idx}\n        >\n          <Icon icon={icons[idx]} />\n          <div>{assessmentType}</div>\n          <NotificationBadgeContainer\n            notificationFilter={filterNotificationsByType(assessmentType)}\n            disableHover={true}\n          />\n        </NavLink>\n      ))\n    ) : (\n      <></>\n    )}\n\n    {props.role && props.enableSourcecast && (\n      <NavLink\n        activeClassName={Classes.ACTIVE}\n        className={classNames(\n          'NavigationBar__link__mobile',\n          Classes.BUTTON,\n          Classes.MINIMAL,\n          Classes.LARGE\n        )}\n        to={`/courses/${props.courseId}/sourcecast`}\n        onClick={props.onClose}\n      >\n        <Icon icon={IconNames.MUSIC} />\n        <div>Sourcecast</div>\n      </NavLink>\n    )}\n\n    {props.role && (\n      <NavLink\n        activeClassName={Classes.ACTIVE}\n        className={classNames(\n          'NavigationBar__link__mobile',\n          Classes.BUTTON,\n          Classes.MINIMAL,\n          Classes.LARGE\n        )}\n        to=\"/playground\"\n        onClick={props.onClose}\n      >\n        <Icon icon={IconNames.CODE} />\n        <div>Playground</div>\n      </NavLink>\n    )}\n\n    {Constants.enableGitHubAssessments && (\n      <NavLink\n        activeClassName={Classes.ACTIVE}\n        className={classNames(\n          'NavigationBar__link_mobile',\n          Classes.BUTTON,\n          Classes.MINIMAL,\n          Classes.LARGE\n        )}\n        to=\"/githubassessments\"\n        onClick={props.onClose}\n      >\n        <Icon icon={IconNames.BRIEFCASE} />\n        <div className=\"navbar-button-text\">Classroom</div>\n      </NavLink>\n    )}\n    {props.name && (\n      <NavLink\n        activeClassName={Classes.ACTIVE}\n        className={classNames(\n          'NavigationBar__link_mobile',\n          Classes.BUTTON,\n          Classes.MINIMAL,\n          Classes.LARGE\n        )}\n        to={`/sicpjs/`}\n        onClick={props.onClose}\n      >\n        <Icon icon={IconNames.BOOK} />\n        <div className=\"navbar-button-text\">SICP JS</div>\n      </NavLink>\n    )}\n    {props.role && props.enableAchievements && (\n      <NavLink\n        activeClassName={Classes.ACTIVE}\n        className={classNames(\n          'NavigationBar__link__mobile',\n          Classes.BUTTON,\n          Classes.MINIMAL,\n          Classes.LARGE\n        )}\n        to={`/courses/${props.courseId}/achievements`}\n        onClick={props.onClose}\n      >\n        <Icon icon={IconNames.MOUNTAIN} />\n        <div>Achievements</div>\n      </NavLink>\n    )}\n  </Drawer>\n);\n\nexport default NavigationBarMobileSideMenu;\n","import {\n  Alignment,\n  Button,\n  Classes,\n  Drawer,\n  FocusStyleManager,\n  Icon,\n  Navbar,\n  NavbarDivider,\n  NavbarGroup,\n  NavbarHeading,\n  Position\n} from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Popover2 } from '@blueprintjs/popover2';\nimport classNames from 'classnames';\nimport { Location } from 'history';\nimport * as React from 'react';\nimport { match, NavLink, Route, Switch, useLocation } from 'react-router-dom';\n\nimport { Role } from '../application/ApplicationTypes';\nimport { UpdateCourseConfiguration, UserCourse } from '../application/types/SessionTypes';\nimport { AssessmentType } from '../assessment/AssessmentTypes';\nimport Dropdown from '../dropdown/Dropdown';\nimport NotificationBadgeContainer from '../notificationBadge/NotificationBadgeContainer';\nimport { filterNotificationsByType } from '../notificationBadge/NotificationBadgeHelper';\nimport Constants from '../utils/Constants';\nimport { useResponsive } from '../utils/Hooks';\nimport { assessmentTypeLink } from '../utils/ParamParseHelper';\nimport AcademyNavigationBar, { icons } from './subcomponents/AcademyNavigationBar';\nimport NavigationBarMobileSideMenu from './subcomponents/NavigationBarMobileSideMenu';\n\ntype NavigationBarProps = DispatchProps & StateProps;\n\ntype DispatchProps = {\n  handleLogOut: () => void;\n  handleGitHubLogIn: () => void;\n  handleGitHubLogOut: () => void;\n  handleCreateCourse: (courseConfig: UpdateCourseConfiguration) => void;\n};\n\ntype StateProps = {\n  role?: Role;\n  name?: string;\n  courses: UserCourse[];\n  courseId?: number;\n  courseShortName?: string;\n  enableAchievements?: boolean;\n  enableSourcecast?: boolean;\n  assessmentTypes?: AssessmentType[];\n};\n\nconst matchSourcecastAchievement = /^\\/courses\\/\\d+\\/(sourcecast|achievements)/;\nconst matchExceptSourcecastAchievement = (match: match | null, location: Location) => {\n  if (!match) {\n    return false;\n  }\n\n  if (matchSourcecastAchievement.test(location.pathname)) {\n    return false;\n  }\n\n  return true;\n};\n\nconst NavigationBar: React.FC<NavigationBarProps> = props => {\n  const [mobileSideMenuOpen, setMobileSideMenuOpen] = React.useState(false);\n  const { isMobileBreakpoint } = useResponsive();\n  const location = useLocation();\n\n  FocusStyleManager.onlyShowFocusOnTabs();\n\n  // Handles both the desktop and mobile versions of the playground-only left navbar group\n  const playgroundOnlyNavbarLeft = Constants.enableGitHubAssessments ? (\n    isMobileBreakpoint ? (\n      <>\n        <NavbarGroup align={Alignment.LEFT}>\n          <Button\n            onClick={() => setMobileSideMenuOpen(!mobileSideMenuOpen)}\n            icon={IconNames.MENU}\n            large={true}\n            minimal={true}\n          />\n          <NavLink\n            className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n            to=\"/\"\n          >\n            <Icon icon={IconNames.SYMBOL_DIAMOND} />\n            <NavbarHeading style={{ paddingBottom: '0px' }}>Source Academy</NavbarHeading>\n          </NavLink>\n          <Drawer\n            isOpen={mobileSideMenuOpen}\n            position=\"left\"\n            onClose={() => setMobileSideMenuOpen(false)}\n            title=\"\"\n            className={Classes.DARK}\n          >\n            <NavLink\n              activeClassName={Classes.ACTIVE}\n              className={classNames(\n                'NavigationBar__link__mobile',\n                Classes.BUTTON,\n                Classes.MINIMAL,\n                Classes.LARGE\n              )}\n              to=\"/playground\"\n              onClick={() => setMobileSideMenuOpen(false)}\n            >\n              <Icon icon={IconNames.CODE} />\n              <div>Playground</div>\n            </NavLink>\n            <NavLink\n              activeClassName={Classes.ACTIVE}\n              className={classNames(\n                'NavigationBar__link__mobile',\n                Classes.BUTTON,\n                Classes.MINIMAL,\n                Classes.LARGE\n              )}\n              to=\"/githubassessments/missions\"\n              onClick={() => setMobileSideMenuOpen(false)}\n            >\n              <Icon icon={IconNames.BRIEFCASE} />\n              <div>Classroom</div>\n            </NavLink>\n          </Drawer>\n        </NavbarGroup>\n      </>\n    ) : (\n      <NavbarGroup align={Alignment.LEFT}>\n        <NavLink\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link__mobile', Classes.BUTTON, Classes.MINIMAL)}\n          to=\"/playground\"\n        >\n          <Icon icon={IconNames.CODE} />\n          <div>Playground</div>\n        </NavLink>\n        <NavLink\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link__mobile', Classes.BUTTON, Classes.MINIMAL)}\n          to=\"/githubassessments\"\n        >\n          <Icon icon={IconNames.BRIEFCASE} />\n          <div>Classroom</div>\n        </NavLink>\n      </NavbarGroup>\n    )\n  ) : (\n    <NavbarGroup align={Alignment.LEFT}>\n      <NavLink\n        activeClassName={Classes.ACTIVE}\n        className={classNames('NavigationBar__link__mobile', Classes.BUTTON, Classes.MINIMAL)}\n        to=\"/playground\"\n      >\n        <Icon icon={IconNames.CODE} />\n        <div>Playground</div>\n      </NavLink>\n    </NavbarGroup>\n  );\n\n  // Handles the Source Academy @ NUS left mobile navbar group\n  const mobileNavbarLeft = (\n    <NavbarGroup align={Alignment.LEFT}>\n      {(props.role || Constants.enableGitHubAssessments) && (\n        <Button\n          onClick={() => setMobileSideMenuOpen(!mobileSideMenuOpen)}\n          icon={IconNames.MENU}\n          large={true}\n          minimal={true}\n        />\n      )}\n\n      <NavLink\n        className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n        activeClassName={Classes.ACTIVE}\n        to={props.courseId == null ? '/welcome' : `/courses/${props.courseId}`}\n      >\n        <Icon icon={IconNames.SYMBOL_DIAMOND} />\n        <NavbarHeading style={{ paddingBottom: '0px' }}>\n          {props.courseShortName || 'Source Academy @ NUS'}\n        </NavbarHeading>\n      </NavLink>\n\n      {(props.role || Constants.enableGitHubAssessments) && (\n        <NavigationBarMobileSideMenu\n          name={props.name}\n          role={props.role}\n          courseId={props.courseId}\n          enableAchievements={props.enableAchievements}\n          enableSourcecast={props.enableSourcecast}\n          assessmentTypes={props.assessmentTypes}\n          isOpen={mobileSideMenuOpen}\n          onClose={() => setMobileSideMenuOpen(false)}\n          handleGitHubLogIn={() => props.handleGitHubLogIn}\n          handleGitHubLogOut={() => props.handleGitHubLogOut}\n        />\n      )}\n    </NavbarGroup>\n  );\n\n  const desktopNavbarLeftPopoverContent = (\n    <Navbar>\n      <NavbarGroup>\n        {props.assessmentTypes?.map((assessmentType, idx) => (\n          <NavLink\n            to={`/courses/${props.courseId}/${assessmentTypeLink(assessmentType)}`}\n            activeClassName={Classes.ACTIVE}\n            className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n            key={assessmentType}\n          >\n            <Icon icon={icons[idx]} />\n            <div className=\"navbar-button-text\">{assessmentType}</div>\n            <NotificationBadgeContainer\n              notificationFilter={filterNotificationsByType(assessmentType)}\n              disableHover={true}\n            />\n          </NavLink>\n        ))}\n      </NavbarGroup>\n    </Navbar>\n  );\n\n  const desktopLogoButton = (\n    <NavLink\n      activeClassName={Classes.ACTIVE}\n      className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n      to={props.courseId == null ? '/welcome' : `/courses/${props.courseId}`}\n      isActive={matchExceptSourcecastAchievement}\n    >\n      <Icon icon={IconNames.SYMBOL_DIAMOND} />\n      <NavbarHeading style={{ paddingBottom: '0px' }}>\n        {props.courseShortName || 'Source Academy @ NUS'}\n      </NavbarHeading>\n    </NavLink>\n  );\n\n  const enableDesktopPopoverIn = [\n    '/playground',\n    '/contributors',\n    `/courses/${props.courseId}/sourcecast`,\n    `/courses/${props.courseId}/achievements`\n  ];\n  const enableDesktopPopover =\n    props.courseId != null && !!enableDesktopPopoverIn.find(x => location.pathname.startsWith(x));\n\n  // Handles the Source Academy @ NUS left desktop navbar group\n  const desktopNavbarLeft = (\n    <NavbarGroup align={Alignment.LEFT}>\n      {enableDesktopPopover ? (\n        <Popover2\n          position={Position.BOTTOM_RIGHT}\n          interactionKind=\"hover\"\n          content={desktopNavbarLeftPopoverContent}\n          popoverClassName={'desktop-navbar-popover'}\n        >\n          {desktopLogoButton}\n        </Popover2>\n      ) : (\n        desktopLogoButton\n      )}\n\n      {props.role && props.enableSourcecast && (\n        <NavLink\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n          to={`/courses/${props.courseId}/sourcecast`}\n        >\n          <Icon icon={IconNames.MUSIC} />\n          <div className=\"navbar-button-text\">Sourcecast</div>\n        </NavLink>\n      )}\n      {props.role && (\n        <NavLink\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n          to=\"/playground\"\n        >\n          <Icon icon={IconNames.CODE} />\n          <div className=\"navbar-button-text\">Playground</div>\n        </NavLink>\n      )}\n      {Constants.enableGitHubAssessments && (\n        <NavLink\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n          to=\"/githubassessments\"\n        >\n          <Icon icon={IconNames.BRIEFCASE} />\n          <div className=\"navbar-button-text\">Classroom</div>\n        </NavLink>\n      )}\n      {props.name}\n      {props.role && props.enableAchievements && (\n        <NavLink\n          activeClassName={Classes.ACTIVE}\n          className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n          to={`/courses/${props.courseId}/achievements`}\n        >\n          <Icon icon={IconNames.MOUNTAIN} />\n          <div className=\"navbar-button-text\">Achievements</div>\n        </NavLink>\n      )}\n    </NavbarGroup>\n  );\n\n  const commonNavbarRight = (\n    <NavbarGroup align={Alignment.RIGHT}>\n      <NavLink\n        activeClassName={Classes.ACTIVE}\n        className={classNames('NavigationBar__link', Classes.BUTTON, Classes.MINIMAL)}\n        to=\"/contributors\"\n      >\n        <Icon icon={IconNames.HEART} />\n      </NavLink>\n\n      <div className=\"visible-xs\">\n        <NavbarDivider className=\"thin-divider\" />\n      </div>\n      <div className=\"hidden-xs\">\n        <NavbarDivider className=\"default-divider\" />\n      </div>\n\n      <Dropdown\n        handleLogOut={props.handleLogOut}\n        handleCreateCourse={props.handleCreateCourse}\n        courses={props.courses}\n        courseId={props.courseId}\n        name={props.name}\n      />\n    </NavbarGroup>\n  );\n\n  return (\n    <>\n      <Navbar className={classNames('NavigationBar', 'primary-navbar', Classes.DARK)}>\n        {Constants.playgroundOnly\n          ? playgroundOnlyNavbarLeft\n          : isMobileBreakpoint\n          ? mobileNavbarLeft\n          : desktopNavbarLeft}\n        {commonNavbarRight}\n      </Navbar>\n\n      <Switch>\n        <Route path=\"/playground\" />\n        <Route path=\"/githubassessments\" />\n        <Route path=\"/contributors\" />\n        <Route path=\"/courses/:courseId/sourcecast\" />\n        <Route path=\"/courses/:courseId/achievements\" />\n        <Route>\n          {!Constants.playgroundOnly && props.role && !isMobileBreakpoint && (\n            <AcademyNavigationBar\n              role={props.role}\n              assessmentTypes={props.assessmentTypes}\n              courseId={props.courseId!}\n            />\n          )}\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport default NavigationBar;\n","import { Button, Classes, Dialog, H4, Intent } from '@blueprintjs/core';\nimport moment from 'moment';\nimport * as React from 'react';\nimport { RouteComponentProps } from 'react-router';\n\n// import Academy from '../../pages/academy/Academy';\n// import Contributors from '../../pages/contributors/Contributors';\n// import Disabled from '../../pages/disabled/Disabled';\n// import GitHubClassroom from '../../pages/githubAssessments/GitHubClassroom';\n// import GitHubCallback from '../../pages/githubCallback/GitHubCallback';\n// import Login from '../../pages/login/Login';\n// import MissionControlContainer from '../../pages/missionControl/MissionControlContainer';\n// import NotFound from '../../pages/notFound/NotFound';\nimport Playground from '../../pages/playground/PlaygroundContainer';\n// import Welcome from '../../pages/welcome/Welcome';\nimport { AssessmentConfiguration } from '../assessment/AssessmentTypes';\nimport NavigationBar from '../navigationBar/NavigationBar';\nimport Constants from '../utils/Constants';\nimport { useLocalStorageState } from '../utils/Hooks';\nimport { defaultWorkspaceSettings, WorkspaceSettingsContext } from '../WorkspaceSettingsContext';\nimport { Role } from './ApplicationTypes';\nimport { UpdateCourseConfiguration, UserCourse } from './types/SessionTypes';\n\nexport type ApplicationProps = DispatchProps & StateProps & RouteComponentProps<{}>;\n\nexport type DispatchProps = {\n  handleLogOut: () => void;\n  handleGitHubLogIn: () => void;\n  handleGitHubLogOut: () => void;\n  fetchUserAndCourse: () => void;\n  handleCreateCourse: (courseConfig: UpdateCourseConfiguration) => void;\n  updateCourseResearchAgreement: (agreedToResearch: boolean) => void;\n};\n\nexport type StateProps = {\n  role?: Role;\n  name?: string;\n  courses: UserCourse[];\n  courseId?: number;\n  courseShortName?: string;\n  enableAchievements?: boolean;\n  enableSourcecast?: boolean;\n  assessmentConfigurations?: AssessmentConfiguration[];\n  agreedToResearch?: boolean | null;\n};\n\n// const loginPath = <Route path=\"/login\" component={Login} key=\"login\" />;\n\nconst Application: React.FC<ApplicationProps> = props => {\n  const intervalId = React.useRef<number | undefined>(undefined);\n  const [isDisabled, setIsDisabled] = React.useState(computeDisabledState());\n  const isMobile = /iPhone|iPad|Android/.test(navigator.userAgent);\n  const isPWA = window.matchMedia('(display-mode: standalone)').matches; // Checks if user is accessing from the PWA\n  const browserDimensions = React.useRef({ height: 0, width: 0 });\n\n  const [workspaceSettings, setWorkspaceSettings] = useLocalStorageState(\n    Constants.workspaceSettingsLocalStorageKey,\n    defaultWorkspaceSettings\n  );\n\n  //   const isLoggedIn = typeof props.name === 'string';\n  //   const isCourseLoaded = isLoggedIn && typeof props.role === 'string';\n\n  // Effect to fetch the latest user info and course configurations from the backend on refresh,\n  // if the user was previously logged in\n  React.useEffect(() => {\n    if (props.name) {\n      props.fetchUserAndCourse();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    if (Constants.disablePeriods.length > 0) {\n      intervalId.current = window.setInterval(() => {\n        const disabled = computeDisabledState();\n        if (isDisabled !== disabled) {\n          setIsDisabled(disabled);\n        }\n      }, 5000);\n    }\n\n    return () => {\n      if (intervalId.current) {\n        window.clearInterval(intervalId.current);\n      }\n    };\n  }, [isDisabled]);\n\n  /**\n   * The following effect prevents the mobile browser interface from hiding on scroll by setting the\n   * application height to the window's innerHeight, even after orientation changes. This ensures that\n   * the app UI does not break due to the hiding of the browser interface when the user is not on the PWA.\n   *\n   * Note: When the soft keyboard is up on Android devices, the viewport height decreases and triggers\n   * the 'resize' event. The conditional in orientationChangeHandler checks specifically for this, and\n   * does not update the application height when the Android keyboard triggers the resize event. IOS\n   * devices are not affected.\n   */\n  React.useEffect(() => {\n    const orientationChangeHandler = () => {\n      if (\n        !(\n          window.innerHeight < browserDimensions.current.height &&\n          window.innerWidth === browserDimensions.current.width\n        )\n      ) {\n        // If it is not an Android soft keyboard triggering the resize event, update the application height.\n        document.documentElement.style.setProperty(\n          '--application-height',\n          window.innerHeight + 'px'\n        );\n      }\n      browserDimensions.current = { height: window.innerHeight, width: window.innerWidth };\n    };\n\n    if (!isPWA && isMobile) {\n      orientationChangeHandler();\n      window.addEventListener('resize', orientationChangeHandler);\n    }\n\n    return () => {\n      if (!isPWA && isMobile) {\n        window.removeEventListener('resize', orientationChangeHandler);\n      }\n    };\n  }, [isPWA, isMobile]);\n\n  // Paths common to both deployments\n  //   const commonPaths = [\n  //     <Route path=\"/contributors\" component={Contributors} key=\"contributors\" />,\n  //     <Route path=\"/callback/github\" component={GitHubCallback} key=\"githubCallback\" />,\n  //     Constants.enableGitHubAssessments ? (\n  //       <Route\n  //         path=\"/githubassessments\"\n  //         render={() => (\n  //           <GitHubClassroom\n  //             handleGitHubLogIn={props.handleGitHubLogIn}\n  //             handleGitHubLogOut={props.handleGitHubLogOut}\n  //           />\n  //         )}\n  //         key=\"githubAssessments\"\n  //       />\n  //     ) : null\n  //   ];\n\n  //   const isDisabledEffective = !['staff', 'admin'].includes(props.role!) && isDisabled;\n\n  return (\n    <WorkspaceSettingsContext.Provider value={[workspaceSettings, setWorkspaceSettings]}>\n      <div className=\"Application\">\n        <NavigationBar\n          handleLogOut={props.handleLogOut}\n          handleGitHubLogIn={props.handleGitHubLogIn}\n          handleGitHubLogOut={props.handleGitHubLogOut}\n          handleCreateCourse={props.handleCreateCourse}\n          role={props.role}\n          name={props.name}\n          courses={props.courses}\n          courseId={props.courseId}\n          courseShortName={props.courseShortName}\n          enableAchievements={props.enableAchievements}\n          enableSourcecast={props.enableSourcecast}\n          assessmentTypes={React.useMemo(\n            () => props.assessmentConfigurations?.map(c => c.type),\n            [props.assessmentConfigurations]\n          )}\n        />\n        <div className=\"Application__main\">\n          <Playground />\n          {/* {isDisabledEffective && (\n            <Switch>\n              {!Constants.playgroundOnly && loginPath}\n              {!isCourseLoaded && !Constants.playgroundOnly\n                ? [\n                    <Route path=\"/courses\" render={redirectToLogin} key={0} />,\n                    <Route exact={true} path=\"/\" render={redirectToLogin} key={1} />\n                  ]\n                : []}\n              <Route>\n                <Disabled reason={typeof isDisabled === 'string' ? isDisabled : undefined} />\n              </Route>\n            </Switch>\n          )}\n          {!isDisabledEffective && Constants.playgroundOnly && (\n            <Switch>\n              {commonPaths}\n              <Route path=\"/playground\" component={Playground} />\n              <Route exact={true} path=\"/\">\n                <Redirect to=\"/playground\" />\n              </Route>\n              <Route component={NotFound} />\n            </Switch>\n          )}\n          {!isDisabledEffective && !Constants.playgroundOnly && (\n            <Switch>\n              {loginPath}\n              {commonPaths}\n              <Route path={'/courses/:courseId(\\\\d+)?'} render={toAcademy(props)} />\n              <Route path=\"/welcome\" render={ensureUserAndRouteTo(props, <Welcome />)} />\n              <Route\n                path={'/mission-control/:assessmentId(-?\\\\d+)?/:questionId(\\\\d+)?'}\n                component={MissionControlContainer}\n              />\n              <Route\n                path=\"/playground\"\n                render={ensureUserAndRoleAndRouteTo(props, <Playground />)}\n              />\n\n              <Redirect\n                from=\"/\"\n                exact={true}\n                to={props.courseId != null ? `/courses/${props.courseId}` : '/welcome'}\n              />\n              {props.courseId != null && [\n                <Redirect\n                  from=\"/sourcecast/:splat?\"\n                  to={`/courses/${props.courseId}/sourcecast/:splat?`}\n                  key=\"legacy-sourcecast\"\n                />,\n                <Redirect\n                  from=\"/achievements/:splat?\"\n                  to={`/courses/${props.courseId}/achievements/:splat?`}\n                  key=\"legacy-achievements\"\n                />,\n                <Redirect\n                  from=\"/academy/:splat?\"\n                  to={`/courses/${props.courseId}/:splat?`}\n                  key=\"legacy-academy\"\n                />\n              ]}\n              <Route component={NotFound} />\n            </Switch>\n          )} */}\n        </div>\n\n        {/* agreedToResearch has a default value of undefined in the store.\n            It will take on null/true/false when the backend returns. */}\n        {Constants.showResearchPrompt && props.agreedToResearch === null && (\n          <div className=\"research-prompt\">\n            <Dialog\n              className={Classes.DARK}\n              title=\"Agreement to Participate in Educational Research\"\n              canOutsideClickClose={false}\n              canEscapeKeyClose={false}\n              isCloseButtonShown={false}\n              isOpen\n            >\n              <div className={Classes.DIALOG_BODY}>\n                <H4>Welcome to your new Source Academy @ NUS course!</H4>\n                <div>\n                  Here at Source Academy @ NUS, our mission is to bring out the beauty and fun in\n                  programming and the ideas behind programming, and to make these ideas universally\n                  accessible. This includes educational research!\n                </div>\n                <br />\n                <div>\n                  We collect programs that students run in Source Academy @ NUS and store them\n                  anonymously for our research. You are free to opt out of this collection, with no\n                  penalty for you whatsoever. Contact your course instructor if you have questions\n                  or concerns about this research.\n                </div>\n              </div>\n              <div className={Classes.DIALOG_FOOTER}>\n                <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                  <Button\n                    text=\"I would like to opt out\"\n                    onClick={() => props.updateCourseResearchAgreement(false)}\n                  />\n                  <Button\n                    text=\"I consent!\"\n                    intent={Intent.SUCCESS}\n                    onClick={() => props.updateCourseResearchAgreement(true)}\n                  />\n                </div>\n              </div>\n            </Dialog>\n          </div>\n        )}\n      </div>\n    </WorkspaceSettingsContext.Provider>\n  );\n};\n\n// const redirectToLogin = () => <Redirect to=\"/login\" />;\n// const redirectToWelcome = () => <Redirect to=\"/welcome\" />;\n\n/**\n * A user routes to /academy,\n *  1. If the user is logged in, render the Academy component\n *  2. If the user is not logged in, redirect to /login\n */\n// const toAcademy = ({ name, role }: ApplicationProps) =>\n//   name === undefined ? redirectToLogin : role === undefined ? redirectToWelcome : () => <Academy />;\n\n/**\n * Routes a user to the specified route,\n *  1. If the user is logged in, render the specified component\n *  2. If the user is not logged in, redirect to /login\n */\n// const ensureUserAndRouteTo = ({ name }: ApplicationProps, to: JSX.Element) =>\n//   name === undefined ? redirectToLogin : () => to;\n\n/**\n * Routes a user to the specified route,\n *  1. If the user is logged in and has a latest viewed course, render the\n *     specified component\n *  2. If the user is not logged in, redirect to /login\n *  3. If the user is logged in, but does not have a course, redirect to /welcome\n */\n// const ensureUserAndRoleAndRouteTo = ({ name, role }: ApplicationProps, to: JSX.Element) =>\n//   name === undefined ? redirectToLogin : role === undefined ? redirectToWelcome : () => to;\n\nfunction computeDisabledState() {\n  const now = moment();\n  for (const { start, end, reason } of Constants.disablePeriods) {\n    if (start.isBefore(now) && end.isAfter(now)) {\n      return reason || true;\n    }\n  }\n  return false;\n}\n\nexport default Application;\n","import { connect, MapDispatchToProps, MapStateToProps } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { createCourse } from 'src/features/academy/AcademyActions';\n\nimport { logOut } from './actions/CommonsActions';\nimport {\n  fetchUserAndCourse,\n  loginGitHub,\n  logoutGitHub,\n  updateCourseResearchAgreement\n} from './actions/SessionActions';\nimport Application, { DispatchProps, StateProps } from './Application';\nimport { OverallState } from './ApplicationTypes';\n\n/**\n * Provides the title of the application for display.\n * An object with the relevant properties must be\n * returned instead of an object of type @type {IApplicationProps},\n * as the routing properties of @type {RouteComponentProps} are\n * provided using the withRouter() method below.\n */\nconst mapStateToProps: MapStateToProps<StateProps, {}, OverallState> = state => ({\n  role: state.session.role,\n  name: state.session.name,\n  courses: state.session.courses,\n  courseId: state.session.courseId,\n  courseShortName: state.session.courseShortName,\n  enableAchievements: state.session.enableAchievements,\n  enableSourcecast: state.session.enableSourcecast,\n  assessmentConfigurations: state.session.assessmentConfigurations,\n  agreedToResearch: state.session.agreedToResearch\n});\n\nconst mapDispatchToProps: MapDispatchToProps<DispatchProps, {}> = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      handleLogOut: logOut,\n      handleGitHubLogIn: loginGitHub,\n      handleGitHubLogOut: logoutGitHub,\n      fetchUserAndCourse: fetchUserAndCourse,\n      handleCreateCourse: createCourse,\n      updateCourseResearchAgreement: updateCourseResearchAgreement\n    },\n    dispatch\n  );\n\nconst ApplicationContainer = withRouter(connect(mapStateToProps, mapDispatchToProps)(Application));\n\nexport default ApplicationContainer;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL || '', window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL || ''}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      // Check for updates every 5 minutes\n      setInterval(() => {\n        try {\n          registration.update();\n        } catch {}\n      }, 300_000);\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { BFSRequire, configure } from 'browserfs';\nimport { ApiError } from 'browserfs/dist/node/core/api_error';\nimport { FSModule } from 'browserfs/dist/node/core/FS';\nimport React, { createContext, ReactNode, useState } from 'react';\n\nexport const FileSystemContext = createContext<FSModule | undefined>(undefined);\n\ntype FileSystemProviderProps = {\n  children: ReactNode;\n};\n\nconst FileSystemProvider: React.FC<FileSystemProviderProps> = ({ children }) => {\n  const [fileSystem, setFileSystem] = useState<FSModule>();\n\n  configure(\n    {\n      fs: 'MountableFileSystem',\n      options: {\n        '/playground': {\n          fs: 'IndexedDB',\n          options: {\n            storeName: 'playground'\n          }\n        }\n      }\n    },\n    (err: ApiError | null | undefined) => {\n      if (err) {\n        console.error(err);\n      }\n      setFileSystem(BFSRequire('fs'));\n    }\n  );\n\n  return <FileSystemContext.Provider value={fileSystem}>{children}</FileSystemContext.Provider>;\n};\n\nexport default FileSystemProvider;\n","import 'src/styles/index.scss';\n\nimport * as Sentry from '@sentry/browser';\n// import { setModulesStaticURL } from 'Clang-slang/dist/modules/moduleLoader';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { Router } from 'react-router-dom';\nimport ApplicationContainer from 'src/commons/application/ApplicationContainer';\nimport Constants, { Links } from 'src/commons/utils/Constants';\nimport { history } from 'src/commons/utils/HistoryHelper';\nimport { showWarningMessage } from 'src/commons/utils/NotificationsHelper';\nimport { register as registerServiceWorker } from 'src/commons/utils/RegisterServiceWorker';\nimport { triggerSyncLogs } from 'src/features/eventLogging/client';\nimport { store } from 'src/pages/createStore';\n\nimport FileSystemProvider from './pages/fileSystem/FileSystemProvider';\n\nif (Constants.sentryDsn) {\n  Sentry.init({\n    dsn: Constants.sentryDsn,\n    environment: Constants.sourceAcademyEnvironment,\n    release: `cadet-frontend@${Constants.sourceAcademyVersion}`\n  });\n  const userId = store.getState().session.userId;\n  Sentry.setUser(typeof userId !== 'undefined' ? { id: userId.toString() } : null);\n}\n\nconst rootContainer = document.getElementById('root') as HTMLElement;\n(window as any).__REDUX_STORE__ = store; // need this for slang's display\nconsole.log(\n  `%cSource Academy ${Constants.sourceAcademyEnvironment}-${Constants.sourceAcademyVersion}; ` +\n    `Please visit ${Links.githubIssues} to report bugs or issues.`,\n  'font-weight: bold;'\n);\n\n// setModulesStaticURL(Constants.moduleBackendUrl);\n// console.log(`Using module backend: ${Constants.moduleBackendUrl}`);\n\nrender(\n  <Provider store={store}>\n    <FileSystemProvider>\n      <Router history={history}>\n        <ApplicationContainer />\n      </Router>\n    </FileSystemProvider>\n  </Provider>,\n  rootContainer\n);\n\nregisterServiceWorker({\n  onUpdate: () => {\n    showWarningMessage(\n      'A new version of Source Academy is available. Please refresh the browser.',\n      0\n    );\n  }\n});\n\nif (Constants.cadetLoggerUrl) {\n  // Seriously: registerServiceWorker onSuccess and onUpdate are separate paths.\n  // Neither of them actually fire in localhost...\n  const sync = () => triggerSyncLogs(store.getState().session.accessToken);\n  navigator.serviceWorker.ready.then(() => {\n    setInterval(sync, Constants.cadetLoggerInterval);\n  });\n}\n","export const SYNC_LOGS = 'SYNC_LOGS';\n\nexport function triggerSyncLogs(accessToken?: string) {\n  if (!accessToken) {\n    return;\n  }\n  navigator.serviceWorker.controller?.postMessage({ type: SYNC_LOGS, accessToken });\n}\n","/** history is created and exported here instead of in src/index.tsx as jest\n * would otherwise throw an error. See: https://stackoverflow.com/a/42611909/6910451\n */\nimport { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();\n","import { Octokit } from '@octokit/rest';\nimport {\n  GetResponseDataTypeFromEndpointMethod,\n  GetResponseTypeFromEndpointMethod\n} from '@octokit/types';\n\nimport { actions } from '../../commons/utils/ActionsHelper';\nimport { showSimpleConfirmDialog } from '../../commons/utils/DialogHelper';\nimport { showSuccessMessage, showWarningMessage } from '../../commons/utils/NotificationsHelper';\nimport { store } from '../../pages/createStore';\n\n/**\n * Exchanges the Access Code with the back-end to receive an Auth-Token\n *\n * @param {string} backendLink The address where the back-end microservice is deployed\n * @param {string} messageBody The message body. Must be URL-encoded\n * @return {Promise<Response>} A promise for a HTML response with an 'auth_token' field\n */\nexport async function exchangeAccessCode(\n  backendLink: string,\n  messageBody: string\n): Promise<Response> {\n  return await fetch(backendLink, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n    },\n    body: messageBody\n  });\n}\n\n/**\n * Returns the Octokit instance saved in session state.\n *\n * This function allows for mocking Octokit behaviour in tests.\n */\nexport function getGitHubOctokitInstance(): any {\n  const octokitObject = store.getState().session.githubOctokitObject;\n  if (octokitObject === undefined) {\n    return undefined;\n  } else {\n    return octokitObject.octokit;\n  }\n}\n\nexport async function checkIfFileCanBeOpened(\n  octokit: Octokit,\n  repoOwner: string,\n  repoName: string,\n  filePath: string\n) {\n  if (octokit === undefined) {\n    showWarningMessage('Please log in and try again', 2000);\n    return false;\n  }\n\n  if (filePath === '') {\n    showWarningMessage('Please select a file!', 2000);\n    return false;\n  }\n\n  type GetContentData = GetResponseDataTypeFromEndpointMethod<typeof octokit.repos.getContent>;\n  let files: GetContentData;\n\n  try {\n    type GetContentResponse = GetResponseTypeFromEndpointMethod<typeof octokit.repos.getContent>;\n    const results: GetContentResponse = await octokit.repos.getContent({\n      owner: repoOwner,\n      repo: repoName,\n      path: filePath\n    });\n\n    files = results.data;\n  } catch (err) {\n    showWarningMessage('Connection denied or file does not exist.', 2000);\n    console.error(err);\n    return false;\n  }\n\n  if (Array.isArray(files)) {\n    showWarningMessage(\"Can't open folder as a file!\", 2000);\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Returns an object containing 2 properties: 'canBeSaved' and 'saveType'.\n * 'canBeSaved' is a boolean that represents whether we should proceed with the save.\n * If the file can be saved, then 'saveType' is either 'Create' or 'Overwrite'.\n *\n * @param octokit The Octokit instance for the authenticated user\n * @param repoOwner The owner of the repository where the file is to be saved\n * @param repoName The name of the repository\n * @param filePath The filepath where the file will be saved to\n */\nexport async function checkIfFileCanBeSavedAndGetSaveType(\n  octokit: Octokit,\n  repoOwner: string,\n  repoName: string,\n  filePath: string\n) {\n  let saveType = '';\n\n  if (filePath === '') {\n    showWarningMessage('No file name given.', 2000);\n    return { canBeSaved: false, saveType: saveType };\n  }\n\n  if (octokit === undefined) {\n    showWarningMessage('Please log in and try again', 2000);\n    return { canBeSaved: false, saveType: saveType };\n  }\n\n  let files;\n\n  try {\n    type GetContentResponse = GetResponseTypeFromEndpointMethod<typeof octokit.repos.getContent>;\n    const results: GetContentResponse = await octokit.repos.getContent({\n      owner: repoOwner,\n      repo: repoName,\n      path: filePath\n    });\n\n    files = results.data;\n    saveType = 'Overwrite';\n  } catch (err) {\n    // 404 status means that the file could not be found.\n    // In this case, the dialog should still continue as the user should be given\n    // the option of creating a new file on their remote repository.\n    if (err.status !== 404) {\n      showWarningMessage('Connection denied or file does not exist.', 2000);\n      console.error(err);\n      return { canBeSaved: false, saveType: saveType };\n    }\n    saveType = 'Create';\n  }\n\n  if (Array.isArray(files)) {\n    showWarningMessage(\"Can't save over a folder!\", 2000);\n    return { canBeSaved: false, saveType: saveType };\n  }\n\n  return { canBeSaved: true, saveType: saveType };\n}\n\nexport async function checkIfUserAgreesToOverwriteEditorData() {\n  return await showSimpleConfirmDialog({\n    contents: (\n      <div>\n        <p>Warning: opening this file will overwrite the text data in the editor.</p>\n        <p>Please click 'Confirm' to continue, or 'Cancel' to go back.</p>\n      </div>\n    ),\n    negativeLabel: 'Cancel',\n    positiveIntent: 'primary',\n    positiveLabel: 'Confirm'\n  });\n}\n\nexport async function checkIfUserAgreesToPerformOverwritingSave() {\n  return await showSimpleConfirmDialog({\n    contents: (\n      <div>\n        <p>Warning: You are saving over an existing file in the repository.</p>\n        <p>Please click 'Confirm' to continue, or 'Cancel' to go back.</p>\n      </div>\n    ),\n    negativeLabel: 'Cancel',\n    positiveIntent: 'primary',\n    positiveLabel: 'Confirm'\n  });\n}\n\nexport async function openFileInEditor(\n  octokit: Octokit,\n  repoOwner: string,\n  repoName: string,\n  filePath: string\n) {\n  if (octokit === undefined) return;\n\n  type GetContentResponse = GetResponseTypeFromEndpointMethod<typeof octokit.repos.getContent>;\n  const results: GetContentResponse = await octokit.repos.getContent({\n    owner: repoOwner,\n    repo: repoName,\n    path: filePath\n  });\n\n  const content = (results.data as any).content;\n\n  if (content) {\n    const newEditorValue = Buffer.from(content, 'base64').toString();\n    store.dispatch(actions.updateEditorValue(newEditorValue, 'playground'));\n    store.dispatch(actions.playgroundUpdateGitHubSaveInfo(repoName, filePath, new Date()));\n    showSuccessMessage('Successfully loaded file!', 1000);\n  }\n}\n\nexport async function performOverwritingSave(\n  octokit: Octokit,\n  repoOwner: string,\n  repoName: string,\n  filePath: string,\n  githubName: string | null,\n  githubEmail: string | null,\n  commitMessage: string,\n  content: string\n) {\n  if (octokit === undefined) return;\n\n  githubEmail = githubEmail || 'No public email provided';\n  githubName = githubName || 'Source Academy User';\n  commitMessage = commitMessage || 'Changes made from Source Academy';\n  content = content || '';\n\n  const contentEncoded = Buffer.from(content, 'utf8').toString('base64');\n\n  try {\n    type GetContentResponse = GetResponseTypeFromEndpointMethod<typeof octokit.repos.getContent>;\n    const results: GetContentResponse = await octokit.repos.getContent({\n      owner: repoOwner,\n      repo: repoName,\n      path: filePath\n    });\n\n    type GetContentData = GetResponseDataTypeFromEndpointMethod<typeof octokit.repos.getContent>;\n    const files: GetContentData = results.data;\n\n    // Cannot save over folder\n    if (Array.isArray(files)) {\n      return;\n    }\n\n    const sha = files.sha;\n\n    await octokit.repos.createOrUpdateFileContents({\n      owner: repoOwner,\n      repo: repoName,\n      path: filePath,\n      message: commitMessage,\n      content: contentEncoded,\n      sha: sha,\n      committer: { name: githubName, email: githubEmail },\n      author: { name: githubName, email: githubEmail }\n    });\n    store.dispatch(actions.playgroundUpdateGitHubSaveInfo(repoName, filePath, new Date()));\n    showSuccessMessage('Successfully saved file!', 1000);\n  } catch (err) {\n    console.error(err);\n    showWarningMessage('Something went wrong when trying to save the file.', 1000);\n  }\n}\n\nexport async function performCreatingSave(\n  octokit: Octokit,\n  repoOwner: string,\n  repoName: string,\n  filePath: string,\n  githubName: string | null,\n  githubEmail: string | null,\n  commitMessage: string,\n  content: string\n) {\n  if (octokit === undefined) return;\n\n  githubEmail = githubEmail || 'No public email provided';\n  githubName = githubName || 'Source Academy User';\n  commitMessage = commitMessage || 'Changes made from Source Academy';\n  content = content || '';\n\n  const contentEncoded = Buffer.from(content, 'utf8').toString('base64');\n\n  try {\n    await octokit.repos.createOrUpdateFileContents({\n      owner: repoOwner,\n      repo: repoName,\n      path: filePath,\n      message: commitMessage,\n      content: contentEncoded,\n      committer: { name: githubName, email: githubEmail },\n      author: { name: githubName, email: githubEmail }\n    });\n    store.dispatch(actions.playgroundUpdateGitHubSaveInfo(repoName, filePath, new Date()));\n    showSuccessMessage('Successfully created file!', 1000);\n  } catch (err) {\n    console.error(err);\n    showWarningMessage('Something went wrong when trying to save the file.', 1000);\n  }\n}\n\nexport async function performFolderDeletion(\n  octokit: Octokit,\n  repoOwner: string,\n  repoName: string,\n  filePath: string,\n  githubName: string | null,\n  githubEmail: string | null,\n  commitMessage: string\n) {\n  if (octokit === undefined) return;\n\n  githubEmail = githubEmail || 'No public email provided';\n  githubName = githubName || 'Source Academy User';\n  commitMessage = commitMessage || 'Changes made from Source Academy';\n\n  try {\n    const results = await octokit.repos.getContent({\n      owner: repoOwner,\n      repo: repoName,\n      path: filePath\n    });\n\n    const files = results.data;\n\n    // This function must apply deletion to an entire folder\n    if (!Array.isArray(files)) {\n      showWarningMessage('Something went wrong when trying to delete the folder.', 1000);\n      return;\n    }\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n\n      await octokit.repos.deleteFile({\n        owner: repoOwner,\n        repo: repoName,\n        path: file.path,\n        message: commitMessage,\n        sha: file.sha\n      });\n    }\n\n    showSuccessMessage('Successfully deleted folder!', 1000);\n  } catch (err) {\n    console.error(err);\n    showWarningMessage('Something went wrong when trying to delete the folder.', 1000);\n  }\n}\n","import { PersistenceFile } from '../persistence/PersistenceTypes';\n\nexport const CHANGE_QUERY_STRING = 'CHANGE_QUERY_STRING';\nexport const GENERATE_LZ_STRING = 'GENERATE_LZ_STRING';\nexport const SHORTEN_URL = 'SHORTEN_URL';\nexport const UPDATE_SHORT_URL = 'UPDATE_SHORT_URL';\nexport const PLAYGROUND_UPDATE_GITHUB_SAVE_INFO = 'PLAYGROUND_UPDATE_GITHUB_SAVE_INFO';\nexport const PLAYGROUND_UPDATE_PERSISTENCE_FILE = 'PLAYGROUND_UPDATE_PERSISTENCE_FILE';\n\nexport type PlaygroundState = {\n  readonly queryString?: string;\n  readonly shortURL?: string;\n  readonly persistenceFile?: PersistenceFile;\n  readonly githubSaveInfo: { repoName: string; filePath: string };\n};\n","/* tslint:disable: ban-types*/\nimport createSlangContext from 'Clang-slang/dist/createContext';\nimport { Context, Value, Variant } from 'Clang-slang/dist/types';\nimport { stringify } from 'Clang-slang/dist/utils/stringify';\nimport { difference, keys } from 'lodash';\nimport EnvVisualizer from 'src/features/envVisualizer/EnvVisualizer';\n\nimport DataVisualizer from '../../features/dataVisualizer/dataVisualizer';\nimport { Data } from '../../features/dataVisualizer/dataVisualizerTypes';\nimport DisplayBufferService from './DisplayBufferService';\n\n/**\n * This file contains wrappers for certain functions\n * in the @source-academy/slang module.\n *\n * Use this file especially when attempting to create a slang Context.\n */\n\n/**\n * Function that takes a value and displays it in the interpreter.\n * It uses the calc-slang stringify to convert values into a \"nicer\"\n * output. e.g. [1, 2, 3] displays as [1, 2, 3].\n * An action is dispatched using the redux store reference\n * within the global window object.\n *\n * @param value the value to be displayed\n * @param workspaceLocation used to determine\n *   which REPL the value shows up in.\n */\nfunction display(value: Value, str: string, workspaceLocation: any) {\n  display((str === undefined ? '' : str + ' ') + stringify(value), '', workspaceLocation);\n  return value;\n}\n\n/**\n * Function that takes a value and displays it in the interpreter.\n * The value is displayed however full JS would convert it to a string.\n * e.g. [1, 2, 3] would be displayed as 1,2,3.\n * An action is dispatched using the redux store reference\n * within the global window object.\n *\n * @param value the value to be displayed\n * @param workspaceLocation used to determine\n *   which REPL the value shows up in.\n */\nfunction rawDisplay(value: Value, str: string, workspaceLocation: any) {\n  const output = (str === undefined ? '' : str + ' ') + String(value);\n  DisplayBufferService.push(output, workspaceLocation);\n\n  return value;\n}\n\n/**\n * A function to prompt the user using a popup.\n * The function is not called 'prompt' to prevent shadowing.\n *\n * @param value the value to be displayed as a prompt\n */\nfunction cadetPrompt(value: any) {\n  return prompt(value);\n}\n\n/**\n * A function to alert the user using the browser's alert()\n * function.\n *\n * @param value the value to alert the user with\n */\nfunction cadetAlert(value: any) {\n  alert(stringify(value));\n}\n\n/**\n * A dummy function to pass into createContext.\n * An actual implementation will have to be added\n * with the data visualizer implementation. See #187\n *\n * @param args the data to be visualized.\n */\nfunction visualizeData(...args: Data[]) {\n  try {\n    // Pass in args[0] since args is in the form; [(Array of drawables), \"playground\"]\n    DataVisualizer.drawData(args[0]);\n\n    // If there is only one arg, just print out the first arg in REPL, instead of [first arg]\n    return args[0].length === 1 ? args[0][0] : args[0];\n  } catch (err) {\n    console.log(err);\n    throw new Error('Data visualizer is not enabled');\n  }\n}\n\nexport function visualizeEnv({ context }: { context: Context }) {\n  try {\n    EnvVisualizer.drawEnv(context);\n  } catch (err) {\n    throw new Error('Env visualizer is not enabled');\n  }\n}\n\nexport function highlightClean() {\n  if ((window as any).Inspector) {\n    (window as any).Inspector.highlightClean();\n  } else {\n    throw new Error('Inspector not loaded');\n  }\n}\n\nexport function highlightLine(line: number) {\n  if ((window as any).Inspector) {\n    (window as any).Inspector.highlightLine(line);\n  } else {\n    throw new Error('Inspector not loaded');\n  }\n}\n\nexport const externalBuiltIns = {\n  display,\n  rawDisplay,\n  prompt: cadetPrompt,\n  alert: cadetAlert,\n  visualiseList: visualizeData\n};\n\n/**\n * A wrapper around calc-slang's createContext. This\n * provides the original function with the required\n * externalBuiltIns, such as display and prompt.\n */\nexport function createContext<T>(\n  externals: string[],\n  externalContext: T,\n  variant: Variant = Variant.DEFAULT\n) {\n  return createSlangContext<T>(variant, externals, externalContext);\n}\n\n// Given a Context, returns a privileged Context that when referenced,\n// intercepts reads from the underlying Context and returns desired values\nexport function makeElevatedContext(context: Context) {\n  function ProxyFrame() {}\n  ProxyFrame.prototype = context.runtime.environments[0].head;\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const fakeFrame: { [key: string]: any } = new ProxyFrame();\n  // Explanation: Proxy doesn't work for defineProperty in use-strict.\n  // The calc-slang will defineProperty on loadStandardLibraries\n  // Creating a raw JS object and setting prototype will allow defineProperty on the child\n  // while reflection should work on parent.\n\n  const proxyGlobalEnv = new Proxy(context.runtime.environments[0], {\n    get(target, prop: string | symbol, receiver) {\n      if (prop === 'head') {\n        return fakeFrame;\n      }\n      return target[prop];\n    }\n  });\n\n  const proxyEnvs = new Proxy(context.runtime.environments, {\n    get(target, prop, receiver) {\n      if (prop === '0') {\n        return proxyGlobalEnv;\n      }\n      return target[prop];\n    }\n  });\n\n  const proxyRuntime = new Proxy(context.runtime, {\n    get(target, prop, receiver) {\n      if (prop === 'environments') {\n        return proxyEnvs;\n      }\n      return target[prop];\n    }\n  });\n\n  const elevatedContext = new Proxy(context, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'chapter':\n          return 4;\n        case 'runtime':\n          return proxyRuntime;\n        default:\n          return target[prop];\n      }\n    }\n  });\n\n  return elevatedContext;\n}\n\nexport function getDifferenceInMethods(elevatedContext: Context, context: Context) {\n  const eFrame = elevatedContext.runtime.environments[0].head;\n  const frame = context.runtime.environments[0].head;\n  return difference(keys(eFrame), keys(frame));\n}\n\nexport function getStoreExtraMethodsString(toRemove: string[], unblockKey: string) {\n  return `const _____${unblockKey} = [${toRemove.join(', ')}];`;\n}\n\nexport function getRestoreExtraMethodsString(removed: string[], unblockKey: string) {\n  const store = `_____${unblockKey}`;\n  return removed\n    .map((x, key) => (x === 'makeUndefinedErrorFunction' ? '' : `const ${x} = ${store}[${key}];`))\n    .join('\\n');\n}\n\nexport function getBlockExtraMethodsString(toRemove: string[]) {\n  return toRemove\n    .map(x =>\n      x === 'makeUndefinedErrorFunction' ? '' : `const ${x} = makeUndefinedErrorFunction('${x}');`\n    )\n    .join('\\n');\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createContext = exports.interrupt = exports.resume = exports.runFilesInContext = exports.runInContext = exports.hasDeclaration = exports.findDeclaration = exports.parseError = exports.SourceDocumentation = void 0;\nconst source_map_1 = require(\"source-map\");\nconst createContext_1 = require(\"./createContext\");\nexports.createContext = createContext_1.default;\nconst errors_1 = require(\"./errors/errors\");\nconst finder_1 = require(\"./finder\");\nconst parser_1 = require(\"./parser/parser\");\nvar docTooltip_1 = require(\"./editors/ace/docTooltip\");\nObject.defineProperty(exports, \"SourceDocumentation\", { enumerable: true, get: function () { return docTooltip_1.SourceDocumentation; } });\nconst localImportErrors_1 = require(\"./errors/localImportErrors\");\nconst filePaths_1 = require(\"./localImports/filePaths\");\nconst runner_1 = require(\"./runner\");\n// needed to work on browsers\nif (typeof window !== 'undefined') {\n    // @ts-ignore\n    source_map_1.SourceMapConsumer.initialize({\n        'lib/mappings.wasm': 'https://unpkg.com/source-map@0.7.3/lib/mappings.wasm'\n    });\n}\nfunction parseError(errors) {\n    const errorMessagesArr = errors.map(error => {\n        const line = error.location ? error.location.start.line : '<unknown>';\n        const explanation = error.explain();\n        return line < 1 ? explanation : `Line ${line}: ${explanation}`;\n    });\n    return errorMessagesArr.join('\\n');\n}\nexports.parseError = parseError;\nfunction findDeclaration(code, context, loc) {\n    const program = (0, parser_1.parse)(code, context);\n    if (!program) {\n        return null;\n    }\n    const identifierNode = (0, finder_1.findIdentifierNode)(program, context, loc);\n    if (!identifierNode) {\n        return null;\n    }\n    const declarationNode = (0, finder_1.findDeclarationNode)(program, identifierNode);\n    if (!declarationNode || identifierNode === declarationNode) {\n        return null;\n    }\n    return declarationNode.loc;\n}\nexports.findDeclaration = findDeclaration;\nfunction hasDeclaration(code, context, loc) {\n    const program = (0, parser_1.parse)(code, context);\n    if (!program) {\n        return false;\n    }\n    const identifierNode = (0, finder_1.findIdentifierNode)(program, context, loc);\n    if (!identifierNode) {\n        return false;\n    }\n    const declarationNode = (0, finder_1.findDeclarationNode)(program, identifierNode);\n    if (declarationNode == null || declarationNode.loc == null) {\n        return false;\n    }\n    return true;\n}\nexports.hasDeclaration = hasDeclaration;\nfunction runInContext(code, context, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const defaultFilePath = '/default.js';\n        const files = {};\n        files[defaultFilePath] = code;\n        return runFilesInContext(files, defaultFilePath, context, options);\n    });\n}\nexports.runInContext = runInContext;\nfunction runFilesInContext(files, entrypointFilePath, context, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        for (const filePath in files) {\n            const filePathError = (0, filePaths_1.validateFilePath)(filePath);\n            if (filePathError !== null) {\n                context.errors.push(filePathError);\n                return runner_1.resolvedErrorPromise;\n            }\n        }\n        const code = files[entrypointFilePath];\n        if (code === undefined) {\n            context.errors.push(new localImportErrors_1.CannotFindModuleError(entrypointFilePath));\n            return runner_1.resolvedErrorPromise;\n        }\n        return (0, runner_1.sourceFilesRunner)(files, entrypointFilePath, context, options);\n    });\n}\nexports.runFilesInContext = runFilesInContext;\nfunction resume(result) {\n    if (result.status === 'finished' || result.status === 'error') {\n        return result;\n    }\n    else {\n        return result.scheduler.run(result.it, result.context);\n    }\n}\nexports.resume = resume;\nfunction interrupt(context) {\n    const globalEnvironment = context.runtime.environments[context.runtime.environments.length - 1];\n    context.runtime.environments = [globalEnvironment];\n    context.runtime.isRunning = false;\n    context.errors.push(new errors_1.InterruptedError(context.runtime.nodes[0]));\n}\nexports.interrupt = interrupt;\n//# sourceMappingURL=index.js.map","import { AssessmentOverview } from 'src/commons/assessment/AssessmentTypes';\nimport { action } from 'typesafe-actions';\n\nimport {\n  AchievementGoal,\n  AchievementItem,\n  AchievementUser,\n  ADD_EVENT,\n  BULK_UPDATE_ACHIEVEMENTS,\n  BULK_UPDATE_GOALS,\n  EventType,\n  GET_ACHIEVEMENTS,\n  GET_GOALS,\n  GET_OWN_GOALS,\n  GET_USER_ASSESSMENT_OVERVIEWS,\n  GET_USERS,\n  GoalDefinition,\n  GoalProgress,\n  HANDLE_EVENT,\n  REMOVE_ACHIEVEMENT,\n  REMOVE_GOAL,\n  SAVE_ACHIEVEMENTS,\n  SAVE_GOALS,\n  SAVE_USER_ASSESSMENT_OVERVIEWS,\n  SAVE_USERS,\n  UPDATE_GOAL_PROGRESS,\n  UPDATE_OWN_GOAL_PROGRESS\n} from './AchievementTypes';\n\nexport const bulkUpdateAchievements = (achievements: AchievementItem[]) =>\n  action(BULK_UPDATE_ACHIEVEMENTS, achievements);\n\nexport const bulkUpdateGoals = (goals: GoalDefinition[]) => action(BULK_UPDATE_GOALS, goals);\n\nexport const getAchievements = () => action(GET_ACHIEVEMENTS);\n\nexport const getGoals = (studentCourseRegId: number) => action(GET_GOALS, studentCourseRegId);\n\nexport const getOwnGoals = () => action(GET_OWN_GOALS);\n\nexport const getUserAssessmentOverviews = (studentCourseRegId: number) =>\n  action(GET_USER_ASSESSMENT_OVERVIEWS, studentCourseRegId);\n\nexport const getUsers = () => action(GET_USERS);\n\nexport const removeAchievement = (uuid: string) => action(REMOVE_ACHIEVEMENT, uuid);\n\nexport const removeGoal = (uuid: string) => action(REMOVE_GOAL, uuid);\n\nexport const updateOwnGoalProgress = (progress: GoalProgress) =>\n  action(UPDATE_OWN_GOAL_PROGRESS, progress);\n\nexport const addEvent = (eventNames: EventType[]) => action(ADD_EVENT, eventNames);\n\nexport const handleEvent = (loggedEvents: EventType[][]) => action(HANDLE_EVENT, loggedEvents);\n\nexport const updateGoalProgress = (studentCourseRegId: number, progress: GoalProgress) =>\n  action(UPDATE_GOAL_PROGRESS, { studentCourseRegId, progress });\n\n/*\n  Note: This updates the frontend Achievement Redux store.\n  Please refer to AchievementReducer to find out more. \n*/\nexport const saveAchievements = (achievements: AchievementItem[]) =>\n  action(SAVE_ACHIEVEMENTS, achievements);\n\n/*\n  Note: This updates the frontend Achievement Redux store.\n  Please refer to AchievementReducer to find out more. \n*/\nexport const saveGoals = (goals: AchievementGoal[]) => action(SAVE_GOALS, goals);\n\n/*\n  Note: This updates the frontend Achievement Redux store.\n  Please refer to AchievementReducer to find out more. \n*/\nexport const saveUsers = (users: AchievementUser[]) => action(SAVE_USERS, users);\n\n/*\n  Note: This updates the frontend Achievement Redux store.\n  Please refer to AchievementReducer to find out more. \n*/\nexport const saveUserAssessmentOverviews = (assessmentOverviews: AssessmentOverview[]) =>\n  action(SAVE_USER_ASSESSMENT_OVERVIEWS, assessmentOverviews);\n","import { action } from 'typesafe-actions';\n\nimport {\n  FETCH_GROUP_GRADING_SUMMARY,\n  GradingSummary,\n  UPDATE_GROUP_GRADING_SUMMARY\n} from './DashboardTypes';\n\nexport const fetchGroupGradingSummary = () => action(FETCH_GROUP_GRADING_SUMMARY);\n\nexport const updateGroupGradingSummary = (gradingSummary: GradingSummary) =>\n  action(UPDATE_GROUP_GRADING_SUMMARY, gradingSummary);\n","import { action } from 'typesafe-actions';\n\nimport {\n  CHANGE_DATE_ASSESSMENT,\n  DELETE_ASSESSMENT,\n  PUBLISH_ASSESSMENT,\n  UPLOAD_ASSESSMENT\n} from './GroundControlTypes';\n\nexport const changeDateAssessment = (id: number, openAt: string, closeAt: string) =>\n  action(CHANGE_DATE_ASSESSMENT, { id, openAt, closeAt });\n\nexport const deleteAssessment = (id: number) => action(DELETE_ASSESSMENT, id);\n\nexport const publishAssessment = (togglePublishTo: boolean, id: number) =>\n  action(PUBLISH_ASSESSMENT, { id, togglePublishTo });\n\nexport const uploadAssessment = (file: File, forceUpdate: boolean, assessmentConfigId: number) =>\n  action(UPLOAD_ASSESSMENT, { file, forceUpdate, assessmentConfigId });\n","import { action } from 'typesafe-actions';\n\nimport {\n  PERSISTENCE_INITIALISE,\n  PERSISTENCE_OPEN_PICKER,\n  PERSISTENCE_SAVE_FILE,\n  PERSISTENCE_SAVE_FILE_AS,\n  PersistenceFile\n} from './PersistenceTypes';\n\nexport const persistenceOpenPicker = () => action(PERSISTENCE_OPEN_PICKER);\n\nexport const persistenceSaveFile = (file: PersistenceFile) => action(PERSISTENCE_SAVE_FILE, file);\n\nexport const persistenceSaveFileAs = () => action(PERSISTENCE_SAVE_FILE_AS);\n\nexport const persistenceInitialise = () => action(PERSISTENCE_INITIALISE);\n","import { action } from 'typesafe-actions';\n\nimport { WorkspaceLocation } from '../../commons/workspace/WorkspaceTypes';\nimport {\n  Device,\n  DeviceSession,\n  REMOTE_EXEC_CONNECT,\n  REMOTE_EXEC_DISCONNECT,\n  REMOTE_EXEC_FETCH_DEVICES,\n  REMOTE_EXEC_REPL_INPUT,\n  REMOTE_EXEC_RUN,\n  REMOTE_EXEC_UPDATE_DEVICES,\n  REMOTE_EXEC_UPDATE_SESSION\n} from './RemoteExecutionTypes';\n\nexport const remoteExecFetchDevices = () => action(REMOTE_EXEC_FETCH_DEVICES);\n\nexport const remoteExecUpdateDevices = (devices: Device[]) =>\n  action(REMOTE_EXEC_UPDATE_DEVICES, devices);\n\nexport const remoteExecUpdateSession = (session?: DeviceSession) =>\n  action(REMOTE_EXEC_UPDATE_SESSION, session);\n\nexport const remoteExecConnect = (workspace: WorkspaceLocation, device: Device) =>\n  action(REMOTE_EXEC_CONNECT, { workspace, device });\n\nexport const remoteExecDisconnect = () => action(REMOTE_EXEC_DISCONNECT);\n\nexport const remoteExecRun = (program: string) => action(REMOTE_EXEC_RUN, program);\n\nexport const remoteExecReplInput = (input: string) => action(REMOTE_EXEC_REPL_INPUT, input);\n","import { action } from 'typesafe-actions';\n\nimport { WorkspaceLocation } from '../../../commons/workspace/WorkspaceTypes';\nimport { SourcecastData } from '../SourceRecorderTypes';\nimport { FETCH_SOURCECAST_INDEX, UPDATE_SOURCECAST_INDEX } from './SourcecastTypes';\n\nexport const fetchSourcecastIndex = (workspaceLocation: WorkspaceLocation) =>\n  action(FETCH_SOURCECAST_INDEX, {\n    workspaceLocation\n  });\n\nexport const updateSourcecastIndex = (\n  index: SourcecastData[],\n  workspaceLocation: WorkspaceLocation\n) =>\n  action(UPDATE_SOURCECAST_INDEX, {\n    index,\n    workspaceLocation\n  });\n","import { action } from 'typesafe-actions';\n\nimport { WorkspaceLocation } from '../../commons/workspace/WorkspaceTypes';\nimport {\n  CodeDelta,\n  Input,\n  PlaybackData,\n  PlaybackStatus,\n  SAVE_SOURCECAST_DATA,\n  SET_CODE_DELTAS_TO_APPLY,\n  SET_CURRENT_PLAYER_TIME,\n  SET_INPUT_TO_APPLY,\n  SET_SOURCECAST_DATA,\n  SET_SOURCECAST_PLAYBACK_DURATION,\n  SET_SOURCECAST_PLAYBACK_STATUS\n} from './SourceRecorderTypes';\n\nexport const saveSourcecastData = (\n  title: string,\n  description: string,\n  uid: string,\n  audio: Blob,\n  playbackData: PlaybackData,\n  workspaceLocation: WorkspaceLocation\n) =>\n  action(SAVE_SOURCECAST_DATA, {\n    title,\n    description,\n    uid,\n    audio,\n    audioUrl: window.URL.createObjectURL(audio),\n    playbackData,\n    workspaceLocation\n  });\n\nexport const setCurrentPlayerTime = (playerTime: number, workspaceLocation: WorkspaceLocation) =>\n  action(SET_CURRENT_PLAYER_TIME, {\n    playerTime,\n    workspaceLocation\n  });\n\nexport const setCodeDeltasToApply = (deltas: CodeDelta[], workspaceLocation: WorkspaceLocation) =>\n  action(SET_CODE_DELTAS_TO_APPLY, {\n    deltas,\n    workspaceLocation\n  });\n\nexport const setInputToApply = (inputToApply: Input, workspaceLocation: WorkspaceLocation) =>\n  action(SET_INPUT_TO_APPLY, {\n    inputToApply,\n    workspaceLocation\n  });\n\nexport const setSourcecastData = (\n  title: string,\n  description: string,\n  uid: string,\n  audioUrl: string,\n  playbackData: PlaybackData,\n  workspaceLocation: WorkspaceLocation\n) =>\n  action(SET_SOURCECAST_DATA, {\n    title,\n    description,\n    uid,\n    audioUrl,\n    playbackData,\n    workspaceLocation\n  });\n\nexport const setSourcecastDuration = (duration: number, workspaceLocation: WorkspaceLocation) =>\n  action(SET_SOURCECAST_PLAYBACK_DURATION, {\n    duration,\n    workspaceLocation\n  });\n\nexport const setSourcecastStatus = (\n  playbackStatus: PlaybackStatus,\n  workspaceLocation: WorkspaceLocation\n) =>\n  action(SET_SOURCECAST_PLAYBACK_STATUS, {\n    playbackStatus,\n    workspaceLocation\n  });\n","import { action } from 'typesafe-actions';\n\nimport { WorkspaceLocation } from '../../../commons/workspace/WorkspaceTypes';\nimport { Input, PlaybackData } from '../SourceRecorderTypes';\nimport {\n  DELETE_SOURCECAST_ENTRY,\n  RECORD_INIT,\n  RECORD_INPUT,\n  RESET_INPUTS,\n  TIMER_PAUSE,\n  TIMER_RESET,\n  TIMER_RESUME,\n  TIMER_START,\n  TIMER_STOP\n} from './SourcereelTypes';\n\nexport const deleteSourcecastEntry = (id: number, workspaceLocation: WorkspaceLocation) =>\n  action(DELETE_SOURCECAST_ENTRY, {\n    id,\n    workspaceLocation\n  });\n\nexport const recordInit = (initData: PlaybackData['init'], workspaceLocation: WorkspaceLocation) =>\n  action(RECORD_INIT, {\n    initData,\n    workspaceLocation\n  });\n\nexport const recordInput = (input: Input, workspaceLocation: WorkspaceLocation) =>\n  action(RECORD_INPUT, {\n    input,\n    workspaceLocation\n  });\n\nexport const resetInputs = (inputs: Input[], workspaceLocation: WorkspaceLocation) =>\n  action(RESET_INPUTS, {\n    inputs,\n    workspaceLocation\n  });\n\nexport const timerPause = (workspaceLocation: WorkspaceLocation) =>\n  action(TIMER_PAUSE, {\n    timeNow: Date.now(),\n    workspaceLocation\n  });\n\nexport const timerReset = (workspaceLocation: WorkspaceLocation) =>\n  action(TIMER_RESET, {\n    workspaceLocation\n  });\n\nexport const timerResume = (timeBefore: number, workspaceLocation: WorkspaceLocation) =>\n  action(TIMER_RESUME, {\n    timeBefore,\n    timeNow: Date.now(),\n    workspaceLocation\n  });\n\nexport const timerStart = (workspaceLocation: WorkspaceLocation) =>\n  action(TIMER_START, {\n    timeNow: Date.now(),\n    workspaceLocation\n  });\n\nexport const timerStop = (workspaceLocation: WorkspaceLocation) =>\n  action(TIMER_STOP, {\n    timeNow: Date.now(),\n    workspaceLocation\n  });\n","import { ActionType } from 'typesafe-actions';\n\nimport * as CommonsActions from '../../commons/application/actions/CommonsActions';\nimport * as InterpreterActions from '../../commons/application/actions/InterpreterActions';\nimport * as SessionActions from '../../commons/application/actions/SessionActions';\nimport * as CollabEditingActions from '../../commons/collabEditing/CollabEditingActions';\nimport * as WorkspaceActions from '../../commons/workspace/WorkspaceActions';\nimport * as AcademyActions from '../../features/academy/AcademyActions';\nimport * as AchievementActions from '../../features/achievement/AchievementActions';\nimport * as DashboardActions from '../../features/dashboard/DashboardActions';\nimport * as GroundControlActions from '../../features/groundControl/GroundControlActions';\nimport * as PersistenceActions from '../../features/persistence/PersistenceActions';\nimport * as PlaygroundActions from '../../features/playground/PlaygroundActions';\nimport * as RemoteExecutionActions from '../../features/remoteExecution/RemoteExecutionActions';\nimport * as SourcecastActions from '../../features/sourceRecorder/sourcecast/SourcecastActions';\nimport * as SourceRecorderActions from '../../features/sourceRecorder/SourceRecorderActions';\nimport * as SourcereelActions from '../../features/sourceRecorder/sourcereel/SourcereelActions';\n\nexport const actions = {\n  ...AchievementActions,\n  ...CommonsActions,\n  ...CollabEditingActions,\n  ...DashboardActions,\n  ...InterpreterActions,\n  ...PlaygroundActions,\n  ...SessionActions,\n  ...SourcecastActions,\n  ...SourceRecorderActions,\n  ...SourcereelActions,\n  ...WorkspaceActions,\n  ...GroundControlActions,\n  ...AcademyActions,\n  ...PersistenceActions,\n  ...RemoteExecutionActions\n};\n\nexport type SourceActionType = ActionType<typeof actions>;\n","import { action } from 'typesafe-actions'; // EDITED\n\nimport { Grading, GradingOverview } from '../../../features/grading/GradingTypes';\nimport {\n  Assessment,\n  AssessmentConfiguration,\n  AssessmentOverview,\n  ContestEntry\n} from '../../assessment/AssessmentTypes';\nimport { MissionRepoData } from '../../githubAssessments/GitHubMissionTypes';\nimport {\n  Notification,\n  NotificationFilterFunction\n} from '../../notificationBadge/NotificationBadgeTypes';\nimport { generateOctokitInstance } from '../../utils/GitHubPersistenceHelper';\nimport { Role } from '../ApplicationTypes';\nimport {\n  ACKNOWLEDGE_NOTIFICATIONS,\n  AdminPanelCourseRegistration,\n  CourseRegistration,\n  DELETE_ASSESSMENT_CONFIG,\n  DELETE_USER_COURSE_REGISTRATION,\n  FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS,\n  FETCH_ALL_USER_XP,\n  FETCH_ASSESSMENT,\n  FETCH_ASSESSMENT_ADMIN,\n  FETCH_ASSESSMENT_CONFIGS,\n  FETCH_ASSESSMENT_OVERVIEWS,\n  FETCH_AUTH,\n  FETCH_COURSE_CONFIG,\n  FETCH_GRADING,\n  FETCH_GRADING_OVERVIEWS,\n  FETCH_NOTIFICATIONS,\n  FETCH_TOTAL_XP,\n  FETCH_TOTAL_XP_ADMIN,\n  FETCH_USER_AND_COURSE,\n  LOGIN,\n  LOGIN_GITHUB,\n  LOGOUT_GITHUB,\n  LOGOUT_GOOGLE,\n  REAUTOGRADE_ANSWER,\n  REAUTOGRADE_SUBMISSION,\n  REMOVE_GITHUB_OCTOKIT_OBJECT_AND_ACCESS_TOKEN,\n  SET_ADMIN_PANEL_COURSE_REGISTRATIONS,\n  SET_ASSESSMENT_CONFIGURATIONS,\n  SET_COURSE_CONFIGURATION,\n  SET_COURSE_REGISTRATION,\n  SET_GITHUB_ACCESS_TOKEN,\n  SET_GITHUB_ASSESSMENT,\n  SET_GITHUB_OCTOKIT_OBJECT,\n  SET_GOOGLE_USER,\n  SET_TOKENS,\n  SET_USER,\n  SUBMIT_ANSWER,\n  SUBMIT_ASSESSMENT,\n  SUBMIT_GRADING,\n  SUBMIT_GRADING_AND_CONTINUE,\n  Tokens,\n  UNSUBMIT_SUBMISSION,\n  UPDATE_ALL_USER_XP,\n  UPDATE_ASSESSMENT,\n  UPDATE_ASSESSMENT_CONFIGS,\n  UPDATE_ASSESSMENT_OVERVIEWS,\n  UPDATE_COURSE_CONFIG,\n  UPDATE_COURSE_RESEARCH_AGREEMENT,\n  UPDATE_GRADING,\n  UPDATE_GRADING_OVERVIEWS,\n  UPDATE_LATEST_VIEWED_COURSE,\n  UPDATE_NOTIFICATIONS,\n  UPDATE_TOTAL_XP,\n  UPDATE_USER_ROLE,\n  UpdateCourseConfiguration,\n  User\n} from '../types/SessionTypes';\n\nexport const fetchAuth = (code: string, providerId?: string) =>\n  action(FETCH_AUTH, { code, providerId });\n\nexport const fetchUserAndCourse = () => action(FETCH_USER_AND_COURSE);\n\nexport const fetchCourseConfig = () => action(FETCH_COURSE_CONFIG);\n\nexport const fetchAssessment = (assessmentId: number) => action(FETCH_ASSESSMENT, assessmentId);\n\nexport const fetchAssessmentAdmin = (assessmentId: number, courseRegId: number) =>\n  action(FETCH_ASSESSMENT_ADMIN, { assessmentId, courseRegId });\n\nexport const fetchAssessmentOverviews = () => action(FETCH_ASSESSMENT_OVERVIEWS);\n\nexport const fetchTotalXp = () => action(FETCH_TOTAL_XP);\n\nexport const fetchTotalXpAdmin = (courseRegId: number) => action(FETCH_TOTAL_XP_ADMIN, courseRegId);\n\nexport const fetchAllUserXp = () => action(FETCH_ALL_USER_XP);\n\nexport const fetchGrading = (submissionId: number) => action(FETCH_GRADING, submissionId);\n\n/**\n * @param filterToGroup - param when set to true, only shows submissions under the group\n * of the grader\n */\nexport const fetchGradingOverviews = (filterToGroup = true) =>\n  action(FETCH_GRADING_OVERVIEWS, filterToGroup);\n\nexport const login = (providerId: string) => action(LOGIN, providerId);\n\nexport const logoutGoogle = () => action(LOGOUT_GOOGLE);\n\nexport const loginGitHub = () => action(LOGIN_GITHUB);\n\nexport const logoutGitHub = () => action(LOGOUT_GITHUB);\n\nexport const setTokens = ({ accessToken, refreshToken }: Tokens) =>\n  action(SET_TOKENS, {\n    accessToken,\n    refreshToken\n  });\n\nexport const setUser = (user: User) => action(SET_USER, user);\n\nexport const setCourseConfiguration = (courseConfiguration: UpdateCourseConfiguration) =>\n  action(SET_COURSE_CONFIGURATION, courseConfiguration);\n\nexport const setCourseRegistration = (courseRegistration: Partial<CourseRegistration>) =>\n  action(SET_COURSE_REGISTRATION, courseRegistration);\n\nexport const setAssessmentConfigurations = (assessmentConfigurations: AssessmentConfiguration[]) =>\n  action(SET_ASSESSMENT_CONFIGURATIONS, assessmentConfigurations);\n\nexport const setAdminPanelCourseRegistrations = (\n  courseRegistrations: AdminPanelCourseRegistration[]\n) => action(SET_ADMIN_PANEL_COURSE_REGISTRATIONS, courseRegistrations);\n\nexport const setGoogleUser = (user?: string) => action(SET_GOOGLE_USER, user);\n\nexport const setGitHubAssessment = (missionRepoData: MissionRepoData) =>\n  action(SET_GITHUB_ASSESSMENT, missionRepoData);\n\nexport const setGitHubOctokitObject = (authToken?: string) =>\n  action(SET_GITHUB_OCTOKIT_OBJECT, generateOctokitInstance(authToken || ''));\n\nexport const setGitHubAccessToken = (authToken?: string) =>\n  action(SET_GITHUB_ACCESS_TOKEN, authToken);\n\nexport const removeGitHubOctokitObjectAndAccessToken = () =>\n  action(REMOVE_GITHUB_OCTOKIT_OBJECT_AND_ACCESS_TOKEN);\n\nexport const submitAnswer = (id: number, answer: string | number | ContestEntry[]) =>\n  action(SUBMIT_ANSWER, {\n    id,\n    answer\n  });\n\nexport const submitAssessment = (id: number) => action(SUBMIT_ASSESSMENT, id);\n\nexport const submitGrading = (\n  submissionId: number,\n  questionId: number,\n  xpAdjustment: number = 0,\n  comments?: string\n) =>\n  action(SUBMIT_GRADING, {\n    submissionId,\n    questionId,\n    xpAdjustment,\n    comments\n  });\n\nexport const submitGradingAndContinue = (\n  submissionId: number,\n  questionId: number,\n  xpAdjustment: number = 0,\n  comments?: string\n) =>\n  action(SUBMIT_GRADING_AND_CONTINUE, {\n    submissionId,\n    questionId,\n    xpAdjustment,\n    comments\n  });\n\nexport const reautogradeSubmission = (submissionId: number) =>\n  action(REAUTOGRADE_SUBMISSION, submissionId);\n\nexport const reautogradeAnswer = (submissionId: number, questionId: number) =>\n  action(REAUTOGRADE_ANSWER, { submissionId, questionId });\n\nexport const updateAssessmentOverviews = (overviews: AssessmentOverview[]) =>\n  action(UPDATE_ASSESSMENT_OVERVIEWS, overviews);\n\nexport const updateTotalXp = (totalXp: number) => action(UPDATE_TOTAL_XP, totalXp);\n\nexport const updateAllUserXp = (allUserXp: string[][]) => action(UPDATE_ALL_USER_XP, allUserXp);\n\nexport const updateAssessment = (assessment: Assessment) => action(UPDATE_ASSESSMENT, assessment);\n\nexport const updateGradingOverviews = (overviews: GradingOverview[]) =>\n  action(UPDATE_GRADING_OVERVIEWS, overviews);\n\n/**\n * An extra id parameter is included here because of\n * no id for Grading.\n */\nexport const updateGrading = (submissionId: number, grading: Grading) =>\n  action(UPDATE_GRADING, {\n    submissionId,\n    grading\n  });\n\nexport const unsubmitSubmission = (submissionId: number) =>\n  action(UNSUBMIT_SUBMISSION, {\n    submissionId\n  });\n\n/**\n * Notification actions\n */\n\nexport const fetchNotifications = () => action(FETCH_NOTIFICATIONS);\n\nexport const acknowledgeNotifications = (withFilter?: NotificationFilterFunction) =>\n  action(ACKNOWLEDGE_NOTIFICATIONS, {\n    withFilter\n  });\n\nexport const updateNotifications = (notifications: Notification[]) =>\n  action(UPDATE_NOTIFICATIONS, notifications);\n\nexport const updateLatestViewedCourse = (courseId: number) =>\n  action(UPDATE_LATEST_VIEWED_COURSE, { courseId });\n\nexport const updateCourseConfig = (courseConfiguration: UpdateCourseConfiguration) =>\n  action(UPDATE_COURSE_CONFIG, courseConfiguration);\n\nexport const fetchAssessmentConfigs = () => action(FETCH_ASSESSMENT_CONFIGS);\n\nexport const updateAssessmentConfigs = (assessmentConfigs: AssessmentConfiguration[]) =>\n  action(UPDATE_ASSESSMENT_CONFIGS, assessmentConfigs);\n\nexport const deleteAssessmentConfig = (assessmentConfig: AssessmentConfiguration) =>\n  action(DELETE_ASSESSMENT_CONFIG, assessmentConfig);\n\nexport const fetchAdminPanelCourseRegistrations = () =>\n  action(FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS);\n\nexport const updateUserRole = (courseRegId: number, role: Role) =>\n  action(UPDATE_USER_ROLE, { courseRegId, role });\n\nexport const deleteUserCourseRegistration = (courseRegId: number) =>\n  action(DELETE_USER_COURSE_REGISTRATION, { courseRegId });\n\nexport const updateCourseResearchAgreement = (agreedToResearch: boolean) =>\n  action(UPDATE_COURSE_RESEARCH_AGREEMENT, { agreedToResearch });\n","import { action } from 'typesafe-actions';\n\nimport { PersistenceFile } from '../persistence/PersistenceTypes';\nimport {\n  CHANGE_QUERY_STRING,\n  GENERATE_LZ_STRING,\n  PLAYGROUND_UPDATE_GITHUB_SAVE_INFO,\n  PLAYGROUND_UPDATE_PERSISTENCE_FILE,\n  SHORTEN_URL,\n  UPDATE_SHORT_URL\n} from './PlaygroundTypes';\n\nexport const generateLzString = () => action(GENERATE_LZ_STRING);\n\nexport const shortenURL = (keyword: string) => action(SHORTEN_URL, keyword);\n\nexport const updateShortURL = (shortURL: string) => action(UPDATE_SHORT_URL, shortURL);\n\nexport const changeQueryString = (queryString: string) => action(CHANGE_QUERY_STRING, queryString);\n\nexport const playgroundUpdatePersistenceFile = (file?: PersistenceFile) =>\n  action(PLAYGROUND_UPDATE_PERSISTENCE_FILE, file);\n\nexport const playgroundUpdateGitHubSaveInfo = (\n  repoName: string,\n  filePath: string,\n  lastSaved: Date\n) => action(PLAYGROUND_UPDATE_GITHUB_SAVE_INFO, { repoName, filePath, lastSaved });\n","import {\n  Button,\n  Classes,\n  Dialog,\n  IButtonProps,\n  IconName,\n  IDialogProps,\n  Intent\n} from '@blueprintjs/core';\nimport classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface ConfirmDialogProps<T> {\n  icon?: IconName;\n  title?: string;\n  contents?: React.ReactNode;\n  choices: Array<{ key: T; label: string; intent?: Intent; props?: IButtonProps }>;\n  largeButtons?: boolean;\n  escapeResponse?: T;\n  onResponse: (response: T) => void;\n  isOpen?: boolean;\n  props?: Omit<IDialogProps, 'isOpen'>;\n}\n\nexport function ConfirmDialog<T>(\n  props: ConfirmDialogProps<T>\n): React.ReactElement<ConfirmDialogProps<T>> {\n  const buttons = props.choices.map((choice, i) => (\n    <Button\n      key={i}\n      onClick={() => props.onResponse && props.onResponse(choice.key)}\n      intent={choice.intent}\n      fill={props.largeButtons}\n      className={classNames(props.largeButtons && 'large-button')}\n      {...choice.props}\n    >\n      {choice.label}\n    </Button>\n  ));\n  const { escapeResponse } = props;\n  const escapeHandler =\n    typeof escapeResponse === 'undefined'\n      ? undefined\n      : () => props.onResponse && props.onResponse(escapeResponse);\n  return (\n    <Dialog\n      className={classNames(Classes.DARK, 'ConfirmDialog')}\n      title={props.title}\n      isCloseButtonShown={typeof props.title === 'undefined' ? undefined : false}\n      canEscapeKeyClose={!!escapeHandler}\n      onClose={escapeHandler}\n      isOpen={props.isOpen}\n      icon={props.icon}\n      {...props.props}\n    >\n      <div className={Classes.DIALOG_BODY}>{props.contents}</div>\n      <div className={Classes.DIALOG_FOOTER}>\n        {props.largeButtons && buttons}\n        {!props.largeButtons && <div className={Classes.DIALOG_FOOTER_ACTIONS}>{buttons}</div>}\n      </div>\n    </Dialog>\n  );\n}\n","import { InputGroup, Intent } from '@blueprintjs/core';\nimport * as React from 'react';\n\nimport { ConfirmDialog, ConfirmDialogProps } from './ConfirmDialog';\n\nexport interface PromptDialogProps<T>\n  extends Omit<ConfirmDialogProps<T>, 'onResponse' | 'choices'> {\n  defaultValue?: string;\n  enterResponse?: T;\n  onResponse: (buttonResponse: T, value: string) => void;\n  validationFunction?: (value: string) => boolean;\n  choices: Array<ConfirmDialogProps<T>['choices'][0] & { disableOnInvalid?: boolean }>;\n}\n\nexport function PromptDialog<T>(\n  props: PromptDialogProps<T>\n): React.ReactElement<PromptDialogProps<T>> {\n  const { enterResponse, validationFunction } = props;\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const [isValid, setIsValid] = React.useState(\n    !validationFunction || validationFunction(props.defaultValue || '')\n  );\n  React.useEffect(() => {\n    if (!inputRef.current) {\n      return;\n    }\n\n    setIsValid(!validationFunction || validationFunction(inputRef.current.value));\n  }, [validationFunction]);\n\n  const returnResponse = (buttonResponse: T) => {\n    if (\n      buttonResponse === props.escapeResponse ||\n      !validationFunction ||\n      validationFunction(inputRef.current!.value)\n    ) {\n      props.onResponse(buttonResponse, inputRef.current?.value || '');\n    }\n  };\n\n  const choices: typeof props.choices = props.choices.map(choice => ({\n    ...choice,\n    props: {\n      ...choice.props,\n      disabled: choice.disableOnInvalid && !isValid\n    }\n  }));\n  const handleEnter = enterResponse\n    ? (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (e.keyCode === 13) {\n          returnResponse(enterResponse);\n        }\n      }\n    : undefined;\n  const handleValidate = validationFunction\n    ? (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (validationFunction(e.target.value) !== isValid) {\n          setIsValid(!isValid);\n        }\n      }\n    : undefined;\n  return (\n    <ConfirmDialog\n      {...props}\n      onResponse={returnResponse}\n      choices={choices}\n      contents={\n        <>\n          {props.contents}\n          <InputGroup\n            autoFocus\n            defaultValue={props.defaultValue}\n            inputRef={inputRef}\n            onKeyDown={handleEnter}\n            onChange={handleValidate}\n            intent={isValid ? Intent.NONE : Intent.DANGER}\n          />\n        </>\n      }\n    />\n  );\n}\n","import { IconName, Intent } from '@blueprintjs/core';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { ConfirmDialog, ConfirmDialogProps } from '../dialogs/ConfirmDialog';\nimport { PromptDialog, PromptDialogProps } from '../dialogs/PromptDialog';\n\n// The below is based off the Blueprint Toaster:\n// https://github.com/palantir/blueprint/blob/develop/packages/core/src/components/toast/toaster.tsx\n\ninterface DialogHelperState {\n  dialog: ReturnType<typeof React.createElement> | null;\n  dialogOnClose: (() => void) | null;\n}\n\nclass DialogHelper extends React.PureComponent<{}, DialogHelperState> {\n  public state: DialogHelperState = {\n    dialog: null,\n    dialogOnClose: null\n  };\n\n  public static create(): DialogHelper {\n    const containerElement = document.createElement('div');\n    document.body.appendChild(containerElement);\n    const dialogHelper = ReactDOM.render<{}>(<DialogHelper />, containerElement) as DialogHelper;\n    if (dialogHelper == null) {\n      throw new Error('Could not create DialogHelper - are you in a React lifecycle method?');\n    }\n    return dialogHelper;\n  }\n\n  public show(dialog: DialogHelperState['dialog'], onClose?: () => void) {\n    this.setState(() => ({ dialog, dialogOnClose: onClose || null }));\n  }\n\n  public close() {\n    if (this.state.dialogOnClose) {\n      this.state.dialogOnClose();\n    }\n    this.setState(() => ({ dialog: null, dialogOnClose: null }));\n  }\n\n  public render() {\n    return this.state.dialog;\n  }\n}\n\nconst singleton = DialogHelper.create();\n\nexport function showDialog(dialog: DialogHelperState['dialog'], dialogOnClose?: () => void) {\n  singleton.show(dialog, dialogOnClose);\n}\n\nexport function closeDialog() {\n  singleton.close();\n}\n\nexport function promisifyDialog<P, R>(\n  DialogComponent: React.ComponentType<P>,\n  propFn: (resolve: (response: R) => void) => P\n): Promise<R> {\n  return new Promise<R>((resolve, reject) => {\n    showDialog(<DialogComponent {...propFn(resolve)} />, reject);\n  }).finally(closeDialog);\n}\n\nexport function showConfirmDialog<T>(\n  props: Omit<ConfirmDialogProps<T>, 'onResponse'> &\n    Partial<Pick<ConfirmDialogProps<T>, 'onResponse'>>\n): Promise<T> {\n  return promisifyDialog<ConfirmDialogProps<T>, T>(ConfirmDialog, resolve => ({\n    ...props,\n    onResponse: resolve,\n    isOpen: true\n  }));\n}\n\nexport interface SimpleConfirmDialogProps {\n  icon?: IconName;\n  title?: string;\n  contents?: React.ReactNode;\n  positiveLabel?: string;\n  positiveIntent?: Intent;\n  negativeLabel?: string;\n  props?: Partial<ConfirmDialogProps<boolean>>;\n}\n\nexport function showSimpleConfirmDialog(props: SimpleConfirmDialogProps): Promise<boolean> {\n  return showConfirmDialog<boolean>({\n    title: props.title,\n    contents: props.contents,\n    choices: [\n      { key: false, label: props.negativeLabel || 'No' },\n      {\n        key: true,\n        label: props.positiveLabel || 'Yes',\n        intent: props.positiveIntent || Intent.SUCCESS,\n        props: { type: 'submit' }\n      }\n    ],\n    escapeResponse: false,\n    icon: props.icon,\n    ...props.props\n  });\n}\n\nexport interface SimpleErrorDialogProps {\n  title?: string;\n  contents?: React.ReactNode;\n  label?: string;\n  props?: Partial<ConfirmDialogProps<boolean>>;\n}\n\nexport function showSimpleErrorDialog(props: SimpleErrorDialogProps): Promise<boolean> {\n  return showConfirmDialog<boolean>({\n    title: props.title,\n    contents: props.contents,\n    choices: [\n      {\n        key: true,\n        label: props.label || 'OK',\n        intent: Intent.PRIMARY,\n        props: { type: 'submit' }\n      }\n    ],\n    escapeResponse: false,\n    icon: 'error',\n    ...props.props\n  });\n}\n\nexport function showSimplePromptDialog(props: {\n  title?: string;\n  contents?: React.ReactNode;\n  positiveLabel?: string;\n  negativeLabel?: string;\n  props?: Partial<PromptDialogProps<boolean>>;\n}) {\n  return promisifyDialog<PromptDialogProps<boolean>, { buttonResponse: boolean; value: string }>(\n    PromptDialog,\n    resolve => ({\n      title: props.title,\n      contents: props.contents,\n      choices: [\n        { key: false, label: props.negativeLabel || 'Cancel' },\n        {\n          key: true,\n          label: props.positiveLabel || 'Accept',\n          intent: Intent.SUCCESS,\n          disableOnInvalid: true\n        }\n      ],\n      escapeResponse: false,\n      enterResponse: true,\n      onResponse: (buttonResponse, value) => resolve({ buttonResponse, value }),\n      isOpen: true,\n      ...props.props\n    })\n  );\n}\n","import { WorkspaceState } from '../../../commons/workspace/WorkspaceTypes';\nimport {\n  CodeDelta,\n  Input,\n  PlaybackData,\n  PlaybackStatus,\n  SourcecastData\n} from '../SourceRecorderTypes';\n\nexport const FETCH_SOURCECAST_INDEX = 'FETCH_SOURCECAST_INDEX';\nexport const SET_IS_EDITOR_READONLY = 'SET_IS_EDITOR_READONLY';\nexport const UPDATE_SOURCECAST_INDEX = 'UPDATE_SOURCECAST_INDEX';\n\ntype SourcecastWorkspaceAttr = {\n  readonly audioUrl: string;\n  readonly codeDeltasToApply: CodeDelta[] | null;\n  readonly currentPlayerTime: number;\n  readonly description: string | null;\n  readonly inputToApply: Input | null;\n  readonly playbackData: PlaybackData;\n  readonly playbackDuration: number;\n  readonly playbackStatus: PlaybackStatus;\n  readonly sourcecastIndex: SourcecastData[] | null;\n  readonly title: string | null;\n  readonly uid: string | null;\n};\nexport type SourcecastWorkspaceState = SourcecastWorkspaceAttr & WorkspaceState;\n","import { Reducer } from 'redux';\n\nimport { defaultAcademy } from '../../commons/application/ApplicationTypes';\nimport { LOG_OUT } from '../../commons/application/types/CommonsTypes';\nimport { SourceActionType } from '../../commons/utils/ActionsHelper';\nimport { AcademyState, SAVE_CANVAS } from './AcademyTypes';\n\nexport const AcademyReducer: Reducer<AcademyState> = (\n  state = defaultAcademy,\n  action: SourceActionType\n) => {\n  switch (action.type) {\n    case LOG_OUT:\n      return defaultAcademy;\n    case SAVE_CANVAS:\n      return {\n        ...state,\n        gameCanvas: action.payload\n      };\n    default:\n      return state;\n  }\n};\n","import { Reducer } from 'redux';\n\nimport { defaultAchievement } from '../../commons/application/ApplicationTypes';\nimport { SourceActionType } from '../../commons/utils/ActionsHelper';\nimport {\n  AchievementState,\n  SAVE_ACHIEVEMENTS,\n  SAVE_GOALS,\n  SAVE_USER_ASSESSMENT_OVERVIEWS,\n  SAVE_USERS\n} from './AchievementTypes';\n\nexport const AchievementReducer: Reducer<AchievementState> = (\n  state = defaultAchievement,\n  action: SourceActionType\n) => {\n  switch (action.type) {\n    case SAVE_ACHIEVEMENTS:\n      return {\n        ...state,\n        achievements: action.payload\n      };\n    case SAVE_GOALS:\n      return {\n        ...state,\n        goals: action.payload\n      };\n    case SAVE_USERS:\n      return {\n        ...state,\n        users: action.payload\n      };\n    case SAVE_USER_ASSESSMENT_OVERVIEWS:\n      return {\n        ...state,\n        assessmentOverviews: action.payload\n      };\n    default:\n      return state;\n  }\n};\n","import { Reducer } from 'redux';\n\nimport { defaultDashboard } from '../../commons/application/ApplicationTypes';\nimport { SourceActionType } from '../../commons/utils/ActionsHelper';\nimport { DashboardState, UPDATE_GROUP_GRADING_SUMMARY } from './DashboardTypes';\n\nexport const DashboardReducer: Reducer<DashboardState> = (\n  state = defaultDashboard,\n  action: SourceActionType\n) => {\n  switch (action.type) {\n    case UPDATE_GROUP_GRADING_SUMMARY:\n      return {\n        ...state,\n        gradingSummary: action.payload\n      };\n    default:\n      return state;\n  }\n};\n","import { Reducer } from 'redux';\n\nimport { defaultPlayground } from '../../commons/application/ApplicationTypes';\nimport { SourceActionType } from '../../commons/utils/ActionsHelper';\nimport {\n  CHANGE_QUERY_STRING,\n  PLAYGROUND_UPDATE_GITHUB_SAVE_INFO,\n  PLAYGROUND_UPDATE_PERSISTENCE_FILE,\n  PlaygroundState,\n  UPDATE_SHORT_URL\n} from './PlaygroundTypes';\n\nexport const PlaygroundReducer: Reducer<PlaygroundState> = (\n  state = defaultPlayground,\n  action: SourceActionType\n) => {\n  switch (action.type) {\n    case CHANGE_QUERY_STRING:\n      return {\n        ...state,\n        queryString: action.payload\n      };\n    case UPDATE_SHORT_URL:\n      return {\n        ...state,\n        shortURL: action.payload\n      };\n    case PLAYGROUND_UPDATE_GITHUB_SAVE_INFO:\n      return {\n        ...state,\n        githubSaveInfo: action.payload\n      };\n    case PLAYGROUND_UPDATE_PERSISTENCE_FILE:\n      return {\n        ...state,\n        persistenceFile: action.payload\n      };\n    default:\n      return state;\n  }\n};\n","import { SourceActionType } from '../../../commons/utils/ActionsHelper';\nimport {\n  SAVE_SOURCECAST_DATA,\n  SET_CODE_DELTAS_TO_APPLY,\n  SET_CURRENT_PLAYER_TIME,\n  SET_INPUT_TO_APPLY,\n  SET_SOURCECAST_DATA,\n  SET_SOURCECAST_PLAYBACK_DURATION,\n  SET_SOURCECAST_PLAYBACK_STATUS\n} from '../SourceRecorderTypes';\nimport { SourcecastWorkspaceState, UPDATE_SOURCECAST_INDEX } from './SourcecastTypes';\n\nexport const SourcecastReducer = (\n  state: SourcecastWorkspaceState,\n  action: SourceActionType\n): SourcecastWorkspaceState => {\n  switch (action.type) {\n    case SAVE_SOURCECAST_DATA:\n      return {\n        ...state,\n        title: action.payload.title,\n        description: action.payload.description,\n        uid: action.payload.uid,\n        audioUrl: action.payload.audioUrl,\n        playbackData: action.payload.playbackData\n      };\n    case SET_CURRENT_PLAYER_TIME:\n      return {\n        ...state,\n        currentPlayerTime: action.payload.playerTime\n      };\n    case SET_CODE_DELTAS_TO_APPLY:\n      return {\n        ...state,\n        codeDeltasToApply: action.payload.deltas\n      };\n    case SET_INPUT_TO_APPLY:\n      return {\n        ...state,\n        inputToApply: action.payload.inputToApply\n      };\n    case SET_SOURCECAST_DATA:\n      return {\n        ...state,\n        title: action.payload.title,\n        description: action.payload.description,\n        uid: action.payload.uid,\n        audioUrl: action.payload.audioUrl,\n        playbackData: action.payload.playbackData\n      };\n    case SET_SOURCECAST_PLAYBACK_DURATION:\n      return {\n        ...state,\n        playbackDuration: action.payload.duration\n      };\n    case SET_SOURCECAST_PLAYBACK_STATUS:\n      return {\n        ...state,\n        playbackStatus: action.payload.playbackStatus\n      };\n    case UPDATE_SOURCECAST_INDEX:\n      return {\n        ...state,\n        sourcecastIndex: action.payload.index\n      };\n    default:\n      return state;\n  }\n};\n","import { SourceActionType } from '../../../commons/utils/ActionsHelper';\nimport { RecordingStatus } from '../SourceRecorderTypes';\nimport {\n  RECORD_INIT,\n  RECORD_INPUT,\n  RESET_INPUTS,\n  SourcereelWorkspaceState,\n  TIMER_PAUSE,\n  TIMER_RESET,\n  TIMER_RESUME,\n  TIMER_START,\n  TIMER_STOP\n} from './SourcereelTypes';\n\nexport const SourcereelReducer = (state: SourcereelWorkspaceState, action: SourceActionType) => {\n  switch (action.type) {\n    case RECORD_INIT:\n      return {\n        ...state,\n        playbackData: {\n          init: action.payload.initData,\n          inputs: []\n        }\n      };\n    case RECORD_INPUT:\n      return {\n        ...state,\n        playbackData: {\n          ...state.playbackData,\n          inputs: [...state.playbackData.inputs, action.payload.input]\n        }\n      };\n    case RESET_INPUTS:\n      return {\n        ...state,\n        playbackData: {\n          ...state.playbackData,\n          inputs: action.payload.inputs\n        }\n      };\n    case TIMER_PAUSE:\n      return {\n        ...state,\n        recordingStatus: RecordingStatus.paused,\n        timeElapsedBeforePause:\n          state.timeElapsedBeforePause + action.payload.timeNow - state.timeResumed\n      };\n    case TIMER_RESET:\n      return {\n        ...state,\n        recordingStatus: RecordingStatus.notStarted,\n        timeElapsedBeforePause: 0,\n        timeResumed: 0\n      };\n    case TIMER_RESUME:\n      return {\n        ...state,\n        recordingStatus: RecordingStatus.recording,\n        timeElapsedBeforePause:\n          action.payload.timeBefore >= 0 ? action.payload.timeBefore : state.timeElapsedBeforePause,\n        timeResumed: action.payload.timeNow\n      };\n    case TIMER_START:\n      return {\n        ...state,\n        recordingStatus: RecordingStatus.recording,\n        timeElapsedBeforePause: 0,\n        timeResumed: action.payload.timeNow\n      };\n    case TIMER_STOP:\n      return {\n        ...state,\n        recordingStatus: RecordingStatus.finished,\n        timeElapsedBeforePause: 0,\n        timeResumed: 0\n      };\n    default:\n      return state;\n  }\n};\n","import { stringify } from 'Clang-slang/dist/utils/stringify';\nimport { Reducer } from 'redux';\n\nimport { SourcecastReducer } from '../../features/sourceRecorder/sourcecast/SourcecastReducer';\nimport { SET_IS_EDITOR_READONLY } from '../../features/sourceRecorder/sourcecast/SourcecastTypes';\nimport { SourcereelReducer } from '../../features/sourceRecorder/sourcereel/SourcereelReducer';\nimport {\n  CodeOutput,\n  createDefaultWorkspace,\n  defaultWorkspaceManager,\n  ErrorOutput,\n  InterpreterOutput,\n  ResultOutput\n} from '../application/ApplicationTypes';\nimport { LOG_OUT } from '../application/types/CommonsTypes';\nimport {\n  DEBUG_RESET,\n  DEBUG_RESUME,\n  END_DEBUG_PAUSE,\n  END_INTERRUPT_EXECUTION,\n  EVAL_INTERPRETER_ERROR,\n  EVAL_INTERPRETER_SUCCESS,\n  EVAL_TESTCASE_FAILURE,\n  EVAL_TESTCASE_SUCCESS,\n  HANDLE_CONSOLE_LOG,\n  HIGHLIGHT_LINE\n} from '../application/types/InterpreterTypes';\nimport { Testcase } from '../assessment/AssessmentTypes';\nimport { SET_EDITOR_SESSION_ID, SET_SHAREDB_CONNECTED } from '../collabEditing/CollabEditingTypes';\nimport { NOTIFY_PROGRAM_EVALUATED } from '../sideContent/SideContentTypes';\nimport { SourceActionType } from '../utils/ActionsHelper';\nimport Constants from '../utils/Constants';\nimport { createContext } from '../utils/JsSlangHelper';\nimport {\n  BROWSE_REPL_HISTORY_DOWN,\n  BROWSE_REPL_HISTORY_UP,\n  CHANGE_EXEC_TIME,\n  CHANGE_EXTERNAL_LIBRARY,\n  CHANGE_SIDE_CONTENT_HEIGHT,\n  CHANGE_STEP_LIMIT,\n  CLEAR_REPL_INPUT,\n  CLEAR_REPL_OUTPUT,\n  CLEAR_REPL_OUTPUT_LAST,\n  END_CLEAR_CONTEXT,\n  EVAL_EDITOR,\n  EVAL_REPL,\n  MOVE_CURSOR,\n  RESET_TESTCASE,\n  RESET_WORKSPACE,\n  SEND_REPL_INPUT_TO_OUTPUT,\n  TOGGLE_EDITOR_AUTORUN,\n  TOGGLE_USING_SUBST,\n  UPDATE_ACTIVE_EDITOR_TAB,\n  UPDATE_CURRENT_ASSESSMENT_ID,\n  UPDATE_CURRENT_SUBMISSION_ID,\n  UPDATE_EDITOR_BREAKPOINTS,\n  UPDATE_EDITOR_VALUE,\n  UPDATE_HAS_UNSAVED_CHANGES,\n  UPDATE_REPL_VALUE,\n  UPDATE_SUBLANGUAGE,\n  UPDATE_WORKSPACE,\n  WorkspaceLocation,\n  WorkspaceManagerState\n} from './WorkspaceTypes';\n\n/**\n * Takes in a IWorkspaceManagerState and maps it to a new state. The\n * pre-conditions are that\n *   - There exists an IWorkspaceState in the IWorkspaceManagerState of the key\n *     `location`.\n *   - `location` is defined (and exists) as a property 'workspaceLocation' in\n *     the action's payload.\n */\nexport const WorkspaceReducer: Reducer<WorkspaceManagerState> = (\n  state = defaultWorkspaceManager,\n  action: SourceActionType\n) => {\n  const workspaceLocation: WorkspaceLocation = (action as any).payload\n    ? (action as any).payload.workspaceLocation\n    : 'assessment';\n  let newOutput: InterpreterOutput[];\n  let lastOutput: InterpreterOutput;\n\n  switch (workspaceLocation) {\n    case 'sourcecast':\n      const sourcecastState = SourcecastReducer(state.sourcecast, action);\n      if (sourcecastState === state.sourcecast) {\n        break;\n      }\n      return {\n        ...state,\n        sourcecast: sourcecastState\n      };\n    case 'sourcereel':\n      const sourcereelState = SourcereelReducer(state.sourcereel, action);\n      if (sourcereelState === state.sourcereel) {\n        break;\n      }\n      return {\n        ...state,\n        sourcereel: sourcereelState\n      };\n    default:\n      break;\n  }\n\n  switch (action.type) {\n    case BROWSE_REPL_HISTORY_DOWN:\n      if (state[workspaceLocation].replHistory.browseIndex === null) {\n        // Not yet started browsing history, nothing to do\n        return state;\n      } else if (state[workspaceLocation].replHistory.browseIndex !== 0) {\n        // Browsing history, and still have earlier records to show\n        const newIndex = state[workspaceLocation].replHistory.browseIndex! - 1;\n        const newReplValue = state[workspaceLocation].replHistory.records[newIndex];\n        return {\n          ...state,\n          [workspaceLocation]: {\n            ...state[workspaceLocation],\n            replValue: newReplValue,\n            replHistory: {\n              ...state[workspaceLocation].replHistory,\n              browseIndex: newIndex\n            }\n          }\n        };\n      } else {\n        // Browsing history, no earlier records to show; return replValue to\n        // the last value when user started browsing\n        const newIndex = null;\n        const newReplValue = state[workspaceLocation].replHistory.originalValue;\n        const newRecords = state[workspaceLocation].replHistory.records.slice();\n        return {\n          ...state,\n          [workspaceLocation]: {\n            ...state[workspaceLocation],\n            replValue: newReplValue,\n            replHistory: {\n              browseIndex: newIndex,\n              records: newRecords,\n              originalValue: ''\n            }\n          }\n        };\n      }\n    case BROWSE_REPL_HISTORY_UP:\n      const lastRecords = state[workspaceLocation].replHistory.records;\n      const lastIndex = state[workspaceLocation].replHistory.browseIndex;\n      if (\n        lastRecords.length === 0 ||\n        (lastIndex !== null && lastRecords[lastIndex + 1] === undefined)\n      ) {\n        // There is no more later history to show\n        return state;\n      } else if (lastIndex === null) {\n        // Not yet started browsing, initialise the index & array\n        const newIndex = 0;\n        const newRecords = lastRecords.slice();\n        const originalValue = state[workspaceLocation].replValue;\n        const newReplValue = newRecords[newIndex];\n        return {\n          ...state,\n          [workspaceLocation]: {\n            ...state[workspaceLocation],\n            replValue: newReplValue,\n            replHistory: {\n              ...state[workspaceLocation].replHistory,\n              browseIndex: newIndex,\n              records: newRecords,\n              originalValue\n            }\n          }\n        };\n      } else {\n        // Browsing history, and still have later history to show\n        const newIndex = lastIndex + 1;\n        const newReplValue = lastRecords[newIndex];\n        return {\n          ...state,\n          [workspaceLocation]: {\n            ...state[workspaceLocation],\n            replValue: newReplValue,\n            replHistory: {\n              ...state[workspaceLocation].replHistory,\n              browseIndex: newIndex\n            }\n          }\n        };\n      }\n    case CHANGE_EXEC_TIME:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          execTime: action.payload.execTime\n        }\n      };\n    case CHANGE_SIDE_CONTENT_HEIGHT:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          sideContentHeight: action.payload.height\n        }\n      };\n    case CHANGE_STEP_LIMIT:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          stepLimit: action.payload.stepLimit\n        }\n      };\n    case CLEAR_REPL_INPUT:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          replValue: ''\n        }\n      };\n    case CLEAR_REPL_OUTPUT_LAST:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          output: state[workspaceLocation].output.slice(0, -1)\n        }\n      };\n    case CLEAR_REPL_OUTPUT:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          output: []\n        }\n      };\n    case END_CLEAR_CONTEXT:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          context: createContext<WorkspaceLocation>(\n            action.payload.library.external.symbols,\n            workspaceLocation,\n            action.payload.library.variant\n          ),\n          globals: action.payload.library.globals,\n          externalLibrary: action.payload.library.external.name\n        }\n      };\n    case SEND_REPL_INPUT_TO_OUTPUT:\n      // CodeOutput properties exist in parallel with workspaceLocation\n      newOutput = state[workspaceLocation].output.concat(action.payload as CodeOutput);\n      let newReplHistoryRecords: string[];\n      if (action.payload.value !== '') {\n        newReplHistoryRecords = [action.payload.value].concat(\n          state[workspaceLocation].replHistory.records\n        );\n      } else {\n        newReplHistoryRecords = state[workspaceLocation].replHistory.records;\n      }\n      if (newReplHistoryRecords.length > Constants.maxBrowseIndex) {\n        newReplHistoryRecords.pop();\n      }\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          output: newOutput,\n          replHistory: {\n            ...state[workspaceLocation].replHistory,\n            records: newReplHistoryRecords\n          }\n        }\n      };\n    case CHANGE_EXTERNAL_LIBRARY:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          externalLibrary: action.payload.newExternal\n        }\n      };\n    case HANDLE_CONSOLE_LOG:\n      /* Possible cases:\n       * (1) state[workspaceLocation].output === [], i.e. state[workspaceLocation].output[-1] === undefined\n       * (2) state[workspaceLocation].output[-1] is not RunningOutput\n       * (3) state[workspaceLocation].output[-1] is RunningOutput */\n      lastOutput = state[workspaceLocation].output[state[workspaceLocation].output.length - 1];\n      if (lastOutput === undefined || lastOutput.type !== 'running') {\n        // New block of output.\n        newOutput = state[workspaceLocation].output.concat({\n          type: 'running',\n          consoleLogs: [...action.payload.logString]\n        });\n      } else {\n        const updatedLastOutput = {\n          type: lastOutput.type,\n          consoleLogs: lastOutput.consoleLogs.concat(action.payload.logString)\n        };\n        newOutput = state[workspaceLocation].output.slice(0, -1);\n        newOutput.push(updatedLastOutput);\n      }\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          output: newOutput\n        }\n      };\n    case LOG_OUT:\n      // Preserve the playground workspace even after log out\n      const playgroundWorkspace = state.playground;\n      return {\n        ...defaultWorkspaceManager,\n        playground: playgroundWorkspace\n      };\n    case EVAL_EDITOR:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          isRunning: true,\n          isDebugging: false\n        }\n      };\n    case EVAL_REPL:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          isRunning: true\n        }\n      };\n    case EVAL_INTERPRETER_SUCCESS:\n      const execType = state[workspaceLocation].context.executionMethod;\n      const newOutputEntry: Partial<ResultOutput> = {\n        type: action.payload.type as 'result' | undefined,\n        value: execType === 'interpreter' ? action.payload.value : stringify(action.payload.value)\n      };\n\n      lastOutput = state[workspaceLocation].output.slice(-1)[0];\n      if (lastOutput !== undefined && lastOutput.type === 'running') {\n        newOutput = state[workspaceLocation].output.slice(0, -1).concat({\n          consoleLogs: lastOutput.consoleLogs,\n          ...newOutputEntry\n        } as ResultOutput);\n      } else {\n        newOutput = state[workspaceLocation].output.concat({\n          consoleLogs: [],\n          ...newOutputEntry\n        } as ResultOutput);\n      }\n\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          output: newOutput,\n          isRunning: false\n        }\n      };\n    case EVAL_TESTCASE_SUCCESS:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          editorTestcases: state[workspaceLocation].editorTestcases.map(\n            (testcase: Testcase, i: any) => {\n              if (i === action.payload.index) {\n                return {\n                  ...testcase,\n                  result: action.payload.value,\n                  errors: undefined\n                };\n              } else {\n                return testcase;\n              }\n            }\n          ),\n          isRunning: false\n        }\n      };\n    case EVAL_TESTCASE_FAILURE:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          editorTestcases: state[workspaceLocation].editorTestcases.map(\n            (testcase: Testcase, i: number) => {\n              if (i === action.payload.index) {\n                return {\n                  ...testcase,\n                  result: undefined,\n                  errors: action.payload.value\n                };\n              }\n              return testcase;\n            }\n          )\n        }\n      };\n    case EVAL_INTERPRETER_ERROR:\n      lastOutput = state[workspaceLocation].output.slice(-1)[0];\n      if (lastOutput !== undefined && lastOutput.type === 'running') {\n        newOutput = state[workspaceLocation].output.slice(0, -1).concat({\n          type: action.payload.type,\n          errors: action.payload.errors,\n          consoleLogs: lastOutput.consoleLogs\n        } as ErrorOutput);\n      } else {\n        newOutput = state[workspaceLocation].output.concat({\n          type: action.payload.type,\n          errors: action.payload.errors,\n          consoleLogs: []\n        } as ErrorOutput);\n      }\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          output: newOutput,\n          isRunning: false,\n          isDebugging: false\n        }\n      };\n    /**\n     * Called to signal the end of an interruption,\n     * i.e called after the interpreter is told to stop interruption,\n     * to cause UI changes.\n     */\n    case END_INTERRUPT_EXECUTION:\n      /**\n       * Set the isRunning property of the\n       * context to false, to ensure a re-render.\n       * Also in case the async calc-slang interrupt()\n       * function does not finish interrupting before\n       * this action is called.\n       */\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          isRunning: false,\n          isDebugging: false\n        }\n      };\n    case END_DEBUG_PAUSE:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          isRunning: false,\n          isDebugging: true\n        }\n      };\n    case DEBUG_RESUME:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          isRunning: true,\n          isDebugging: false\n        }\n      };\n    case DEBUG_RESET:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          isRunning: false,\n          isDebugging: false\n        }\n      };\n    case RESET_TESTCASE:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          editorTestcases: state[workspaceLocation].editorTestcases.map(\n            (testcase: Testcase, i: any) => {\n              if (i === action.payload.index) {\n                return {\n                  ...testcase,\n                  result: undefined,\n                  errors: undefined\n                };\n              } else {\n                return testcase;\n              }\n            }\n          )\n        }\n      };\n\n    /**\n     * Resets the workspace to default settings,\n     * including the calc-slang Context. Apply\n     * any specified settings (workspaceOptions)\n     */\n    case RESET_WORKSPACE:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          ...createDefaultWorkspace(workspaceLocation),\n          ...action.payload.workspaceOptions\n        }\n      };\n    /**\n     * Updates workspace without changing anything\n     * which has not been specified\n     */\n    case UPDATE_WORKSPACE:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          ...action.payload.workspaceOptions\n        }\n      };\n    case SET_EDITOR_SESSION_ID:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          editorSessionId: action.payload.editorSessionId\n        }\n      };\n\n    case SET_IS_EDITOR_READONLY:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          isEditorReadonly: action.payload.isEditorReadonly\n        }\n      };\n    case SET_SHAREDB_CONNECTED:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          sharedbConnected: action.payload.connected\n        }\n      };\n    case TOGGLE_EDITOR_AUTORUN:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          isEditorAutorun: !state[workspaceLocation].isEditorAutorun\n        }\n      };\n    case TOGGLE_USING_SUBST:\n      if (workspaceLocation === 'playground' || workspaceLocation === 'sicp') {\n        return {\n          ...state,\n          [workspaceLocation]: {\n            ...state[workspaceLocation],\n            usingSubst: action.payload.usingSubst\n          }\n        };\n      } else {\n        return state;\n      }\n    case UPDATE_CURRENT_ASSESSMENT_ID:\n      return {\n        ...state,\n        assessment: {\n          ...state.assessment,\n          currentAssessment: action.payload.assessmentId,\n          currentQuestion: action.payload.questionId\n        }\n      };\n    case UPDATE_CURRENT_SUBMISSION_ID:\n      return {\n        ...state,\n        grading: {\n          ...state.grading,\n          currentSubmission: action.payload.submissionId,\n          currentQuestion: action.payload.questionId\n        }\n      };\n    case UPDATE_ACTIVE_EDITOR_TAB:\n      const activeEditorTabIndex = state[workspaceLocation].activeEditorTabIndex;\n      // Do not modify the workspace state if there is no active editor tab.\n      if (activeEditorTabIndex === null) {\n        return state;\n      }\n      const updatedEditorTabs = [...state[workspaceLocation].editorTabs];\n      updatedEditorTabs[activeEditorTabIndex] = {\n        ...updatedEditorTabs[activeEditorTabIndex],\n        ...action.payload.activeEditorTabOptions\n      };\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          editorTabs: updatedEditorTabs\n        }\n      };\n    case UPDATE_EDITOR_BREAKPOINTS:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n          editorTabs: [\n            { ...state[workspaceLocation].editorTabs[0], breakpoints: action.payload.breakpoints }\n          ]\n        }\n      };\n    case UPDATE_EDITOR_VALUE:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n          editorTabs: [\n            { ...state[workspaceLocation].editorTabs[0], value: action.payload.newEditorValue }\n          ]\n        }\n      };\n    case HIGHLIGHT_LINE:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n          editorTabs: [\n            {\n              ...state[workspaceLocation].editorTabs[0],\n              highlightedLines: action.payload.highlightedLines\n            }\n          ]\n        }\n      };\n    case MOVE_CURSOR:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n          editorTabs: [\n            {\n              ...state[workspaceLocation].editorTabs[0],\n              newCursorPosition: action.payload.cursorPosition\n            }\n          ]\n        }\n      };\n    case UPDATE_REPL_VALUE:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          replValue: action.payload.newReplValue\n        }\n      };\n    case UPDATE_HAS_UNSAVED_CHANGES:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          hasUnsavedChanges: action.payload.hasUnsavedChanges\n        }\n      };\n    case UPDATE_SUBLANGUAGE:\n      return {\n        ...state,\n        playground: {\n          ...state.playground,\n          context: {\n            ...state.playground.context,\n            chapter: action.payload.sublang.chapter,\n            variant: action.payload.sublang.variant\n          }\n        }\n      };\n    case NOTIFY_PROGRAM_EVALUATED:\n      return {\n        ...state,\n        [workspaceLocation]: {\n          ...state[workspaceLocation],\n          debuggerContext: {\n            ...state[workspaceLocation].debuggerContext,\n            result: action.payload.result,\n            lastDebuggerResult: action.payload.lastDebuggerResult,\n            code: action.payload.code,\n            context: action.payload.context,\n            workspaceLocation: action.payload.workspaceLocation\n          }\n        }\n      };\n    default:\n      return state;\n  }\n};\n","import { Action, Reducer } from 'redux';\n\nimport { ApplicationState, defaultApplication } from './ApplicationTypes';\n\nexport const ApplicationReducer: Reducer<ApplicationState> = (\n  state = defaultApplication,\n  action: Action\n) => {\n  return state;\n};\n","import { Reducer } from 'redux';\n\nimport {\n  REMOTE_EXEC_UPDATE_DEVICES,\n  REMOTE_EXEC_UPDATE_SESSION\n} from '../../../features/remoteExecution/RemoteExecutionTypes';\nimport { SourceActionType } from '../../utils/ActionsHelper';\nimport { defaultSession } from '../ApplicationTypes';\nimport { LOG_OUT } from '../types/CommonsTypes';\nimport {\n  REMOVE_GITHUB_OCTOKIT_OBJECT_AND_ACCESS_TOKEN,\n  SessionState,\n  SET_ADMIN_PANEL_COURSE_REGISTRATIONS,\n  SET_ASSESSMENT_CONFIGURATIONS,\n  SET_COURSE_CONFIGURATION,\n  SET_COURSE_REGISTRATION,\n  SET_GITHUB_ACCESS_TOKEN,\n  SET_GITHUB_ASSESSMENT,\n  SET_GITHUB_OCTOKIT_OBJECT,\n  SET_GOOGLE_USER,\n  SET_TOKENS,\n  SET_USER,\n  UPDATE_ALL_USER_XP,\n  UPDATE_ASSESSMENT,\n  UPDATE_ASSESSMENT_OVERVIEWS,\n  UPDATE_GRADING,\n  UPDATE_GRADING_OVERVIEWS,\n  UPDATE_NOTIFICATIONS,\n  UPDATE_TOTAL_XP\n} from '../types/SessionTypes';\n\nexport const SessionsReducer: Reducer<SessionState> = (\n  state = defaultSession,\n  action: SourceActionType\n) => {\n  switch (action.type) {\n    case LOG_OUT:\n      return defaultSession;\n    case SET_GITHUB_ASSESSMENT:\n      return {\n        ...state,\n        githubAssessment: action.payload\n      };\n    case SET_GITHUB_OCTOKIT_OBJECT:\n      return {\n        ...state,\n        githubOctokitObject: { octokit: action.payload }\n      };\n    case SET_GITHUB_ACCESS_TOKEN:\n      return {\n        ...state,\n        githubAccessToken: action.payload\n      };\n    case SET_GOOGLE_USER:\n      return {\n        ...state,\n        googleUser: action.payload\n      };\n    case SET_TOKENS:\n      return {\n        ...state,\n        ...action.payload\n      };\n    case SET_USER:\n      return {\n        ...state,\n        ...action.payload\n      };\n    case SET_COURSE_CONFIGURATION:\n      return {\n        ...state,\n        ...action.payload\n      };\n    case SET_COURSE_REGISTRATION:\n      return {\n        ...state,\n        ...action.payload\n      };\n    case SET_ASSESSMENT_CONFIGURATIONS:\n      return {\n        ...state,\n        assessmentConfigurations: action.payload\n      };\n    case SET_ADMIN_PANEL_COURSE_REGISTRATIONS:\n      return {\n        ...state,\n        userCourseRegistrations: action.payload\n      };\n    case UPDATE_ASSESSMENT:\n      const newAssessments = new Map(state.assessments);\n      newAssessments.set(action.payload.id, action.payload);\n      return {\n        ...state,\n        assessments: newAssessments\n      };\n    case UPDATE_ASSESSMENT_OVERVIEWS:\n      return {\n        ...state,\n        assessmentOverviews: action.payload\n      };\n    case UPDATE_TOTAL_XP:\n      return { ...state, xp: action.payload };\n    case UPDATE_ALL_USER_XP:\n      return { ...state, allUserXp: action.payload };\n    case UPDATE_GRADING:\n      const newGradings = new Map(state.gradings);\n      newGradings.set(action.payload.submissionId, action.payload.grading);\n      return {\n        ...state,\n        gradings: newGradings\n      };\n    case UPDATE_GRADING_OVERVIEWS:\n      return {\n        ...state,\n        gradingOverviews: action.payload\n      };\n    case UPDATE_NOTIFICATIONS:\n      return {\n        ...state,\n        notifications: action.payload\n      };\n    case REMOTE_EXEC_UPDATE_DEVICES:\n      return {\n        ...state,\n        remoteExecutionDevices: action.payload\n      };\n    case REMOTE_EXEC_UPDATE_SESSION:\n      return {\n        ...state,\n        remoteExecutionSession: action.payload\n      };\n    case REMOVE_GITHUB_OCTOKIT_OBJECT_AND_ACCESS_TOKEN:\n      return {\n        ...state,\n        githubOctokitObject: { octokit: undefined },\n        githubAccessToken: undefined\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\n\nimport { AcademyReducer as academy } from '../../../features/academy/AcademyReducer';\nimport { AchievementReducer as achievement } from '../../../features/achievement/AchievementReducer';\nimport { DashboardReducer as dashboard } from '../../../features/dashboard/DashboardReducer';\nimport { PlaygroundReducer as playground } from '../../../features/playground/PlaygroundReducer';\nimport { WorkspaceReducer as workspaces } from '../../workspace/WorkspaceReducer';\nimport { ApplicationReducer as application } from '../ApplicationReducer';\nimport { SessionsReducer as session } from './SessionsReducer';\n\nconst createRootReducer = () =>\n  combineReducers({\n    academy,\n    achievement,\n    application,\n    dashboard,\n    playground,\n    session,\n    workspaces\n  });\n\nexport default createRootReducer;\n","import { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport {\n  Assessment,\n  AssessmentConfiguration,\n  AssessmentOverview,\n  AssessmentStatuses,\n  GradingStatuses,\n  IContestVotingQuestion,\n  IMCQQuestion,\n  IProgrammingQuestion,\n  Library,\n  TestcaseTypes\n} from '../assessment/AssessmentTypes';\n\nexport const mockAssessmentConfigurations: AssessmentConfiguration[][] = [\n  [\n    {\n      assessmentConfigId: 1,\n      type: 'Missions',\n      isManuallyGraded: true,\n      displayInDashboard: true,\n      hoursBeforeEarlyXpDecay: 48,\n      earlySubmissionXp: 200\n    },\n    {\n      assessmentConfigId: 2,\n      type: 'Quests',\n      isManuallyGraded: true,\n      displayInDashboard: true,\n      hoursBeforeEarlyXpDecay: 48,\n      earlySubmissionXp: 200\n    },\n    {\n      assessmentConfigId: 3,\n      type: 'Paths',\n      isManuallyGraded: true,\n      displayInDashboard: true,\n      hoursBeforeEarlyXpDecay: 48,\n      earlySubmissionXp: 200\n    },\n    {\n      assessmentConfigId: 4,\n      type: 'Contests',\n      isManuallyGraded: true,\n      displayInDashboard: true,\n      hoursBeforeEarlyXpDecay: 48,\n      earlySubmissionXp: 200\n    },\n    {\n      assessmentConfigId: 5,\n      type: 'Others',\n      isManuallyGraded: true,\n      displayInDashboard: true,\n      hoursBeforeEarlyXpDecay: 48,\n      earlySubmissionXp: 200\n    }\n  ],\n  [\n    {\n      assessmentConfigId: 1,\n      type: 'Mission Impossible',\n      isManuallyGraded: true,\n      displayInDashboard: true,\n      hoursBeforeEarlyXpDecay: 48,\n      earlySubmissionXp: 200\n    },\n    {\n      assessmentConfigId: 2,\n      type: 'Data Structures',\n      isManuallyGraded: true,\n      displayInDashboard: true,\n      hoursBeforeEarlyXpDecay: 48,\n      earlySubmissionXp: 200\n    },\n    {\n      assessmentConfigId: 3,\n      type: 'Algorithm Frenzy',\n      isManuallyGraded: true,\n      displayInDashboard: true,\n      hoursBeforeEarlyXpDecay: 48,\n      earlySubmissionXp: 200\n    }\n  ]\n];\n\nconst mockUnopenedAssessmentsOverviews: AssessmentOverview[] = [\n  {\n    type: 'Missions',\n    isManuallyGraded: true,\n    closeAt: '2048-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/300/',\n    id: 1,\n    maxXp: 1000,\n    openAt: '2038-06-18T05:24:26.026Z',\n    title: 'An Odessey to Runes (Duplicate)',\n    shortSummary:\n      'This is a test for the UI of the unopened assessment overview. It links to the mock Mission 0',\n    status: AssessmentStatuses.not_attempted,\n    story: 'mission-1',\n    xp: 0,\n    gradingStatus: GradingStatuses.none\n  }\n];\n\nconst mockOpenedAssessmentsOverviews: AssessmentOverview[] = [\n  {\n    type: 'Missions',\n    isManuallyGraded: true,\n    closeAt: '2048-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/300/',\n    id: 1,\n    maxXp: 1000,\n    openAt: '2018-06-18T05:24:26.026Z',\n    title: 'An Odessey to Runes',\n    shortSummary: `\n  *Lorem ipsum* dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n  incididunt ut labore et dolore magna aliqua.\n  \n  \\`\\`\\`\n  const a = 5;\n  \\`\\`\\`\n  \n  Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium\n  _doloremque laudantium_, totam rem aperiam, eaque ipsa quae ab illo inventore\n  [veritatis et quasi architecto](google.com) beatae vitae dicta sunt\n  \\`explicabo\\`.\n  \n  `,\n    status: AssessmentStatuses.attempted,\n    story: 'mission-1',\n    xp: 1,\n    gradingStatus: GradingStatuses.none\n  },\n  {\n    type: 'Missions',\n    isManuallyGraded: true,\n    closeAt: '2048-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/350x200/?text=World&font=lobster',\n    id: 2,\n    maxXp: 1000,\n    openAt: '2018-07-18T05:24:26.026Z',\n    title: 'The Secret to Streams',\n    shortSummary:\n      'Once upon a time, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec vulputate sapien. Fusce vel lacus fermentum, efficitur ipsum.',\n    status: AssessmentStatuses.attempting,\n    story: 'mission-2',\n    xp: 2,\n    gradingStatus: GradingStatuses.none\n  },\n  {\n    type: 'Quests',\n    isManuallyGraded: true,\n    closeAt: '2048-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/350x200/?text=Hello',\n    id: 3,\n    maxXp: 1000,\n    openAt: '2018-07-18T05:24:26.026Z',\n    title: 'A sample Sidequest',\n    shortSummary:\n      'Once upon a time, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec vulputate sapien. Fusce vel lacus fermentum, efficitur ipsum.',\n    status: AssessmentStatuses.not_attempted,\n    story: 'sidequest-2.1',\n    xp: 3,\n    gradingStatus: GradingStatuses.none\n  },\n  {\n    type: 'Paths',\n    isManuallyGraded: true,\n    closeAt: '2069-04-20T01:23:45.111Z',\n    coverImage: 'https://fakeimg.pl/700x400/417678,64/?text=%E3%83%91%E3%82%B9&font=noto',\n    id: 6,\n    maxXp: 200,\n    openAt: '2018-01-01T00:00:00.000Z',\n    title: 'Basic logic gates',\n    shortSummary:\n      'This mock path serves as a demonstration of the support provided for mock programming path functionality.',\n    status: AssessmentStatuses.not_attempted,\n    story: null,\n    xp: 0,\n    gradingStatus: GradingStatuses.excluded\n  },\n  {\n    type: 'Others',\n    isManuallyGraded: false,\n    closeAt: '2048-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/350x200/?text=Hello',\n    id: 5,\n    maxXp: 1000,\n    openAt: '2018-07-18T05:24:26.026Z',\n    title: 'A sample Practical',\n    shortSummary:\n      'Once upon a time, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec vulputate sapien. Fusce vel lacus fermentum, efficitur ipsum.',\n    status: AssessmentStatuses.not_attempted,\n    story: 'sidequest-2.1',\n    xp: 3,\n    gradingStatus: GradingStatuses.none,\n    private: true\n  }\n];\n\nconst mockClosedAssessmentOverviews: AssessmentOverview[] = [\n  {\n    type: 'Missions',\n    isManuallyGraded: true,\n    closeAt: '2008-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/350x200/ff0000/000',\n    id: 4,\n    maxXp: 1000,\n    openAt: '2007-07-18T05:24:26.026Z',\n    title: 'A closed Mission',\n    shortSummary:\n      'This is a test for the grading status tooltip when the assessment is partially graded (undergoing manual grading). It should render as an orange clock.',\n    status: AssessmentStatuses.submitted,\n    story: 'mission-3',\n    xp: 800,\n    gradingStatus: GradingStatuses.grading\n  },\n  {\n    type: 'Quests',\n    isManuallyGraded: true,\n    closeAt: '2008-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/350x200/ff0000,128/000,255',\n    id: 5,\n    maxXp: 1000,\n    openAt: '2007-07-18T05:24:26.026Z',\n    title: 'Closed (not graded) Sidequest',\n    shortSummary:\n      'This is a test for the grading status tooltip when the assessment is not graded. It should render as a red cross.',\n    status: AssessmentStatuses.submitted,\n    story: null,\n    xp: 500,\n    gradingStatus: GradingStatuses.none\n  },\n  {\n    type: 'Quests',\n    isManuallyGraded: true,\n    closeAt: '2008-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/350x200/ff0000,128/000,255',\n    id: 5,\n    maxXp: 500,\n    openAt: '2007-07-18T05:24:26.026Z',\n    title: 'Closed (fully graded) Sidequest',\n    shortSummary:\n      'This is a test for the grading status tooltip when the assessment is fully graded. It should render as a green tick. This sidequest links to the mock Sidequest 4.',\n    status: AssessmentStatuses.submitted,\n    story: null,\n    xp: 150,\n    gradingStatus: GradingStatuses.graded\n  },\n  {\n    type: 'Quests',\n    isManuallyGraded: true,\n    closeAt: '2008-06-18T05:24:26.026Z',\n    coverImage: 'https://fakeimg.pl/350x200/ff0000/000',\n    id: 5,\n    maxXp: 0,\n    openAt: '2007-07-18T05:24:26.026Z',\n    title: 'Ungraded assessment',\n    shortSummary:\n      'This is a test for the grading status tooltip when the assessment does not require manual grading (e.g. paths and contests). It should render as a blue disable sign. This sidequest links to the mock Sidequest 4.',\n    status: AssessmentStatuses.submitted,\n    story: null,\n    xp: 100,\n    gradingStatus: GradingStatuses.excluded\n  }\n];\n\nexport const mockAssessmentOverviews = [\n  ...mockUnopenedAssessmentsOverviews,\n  ...mockOpenedAssessmentsOverviews,\n  ...mockClosedAssessmentOverviews\n];\n\nexport const mockLibrary: Library = {\n  external: {\n    name: ExternalLibraryName.NONE,\n    symbols: []\n  },\n  globals: []\n};\n\nexport const mockAssessmentQuestions: Array<IProgrammingQuestion | IMCQQuestion> = [\n  {\n    autogradingResults: [],\n    answer: null,\n    content: `\n  This question has an id of \\`0\\`.\n  \n  \\`\\`\\`\n  What's your favourite dinner food?\n  \\`\\`\\`\n  `,\n    id: 0,\n    library: mockLibrary,\n    prepend: `const pizza = \"pizza\";\n  const sushi = \"sushi\";\n  const chickenrice = \"chicken rice\";`,\n    postpend: \"// This is a mock Postpend! You shouldn't be able to see me!\",\n    testcases: [\n      {\n        type: TestcaseTypes.public,\n        program: `answer();`,\n        score: 1,\n        answer: `\"pizza\"`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `answer();`,\n        score: 1,\n        answer: `\"sushi\"`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `answer();`,\n        score: 1,\n        answer: `\"chicken rice\"`\n      }\n    ],\n    solutionTemplate: `function answer() {\n      // Write something here!\n  }\n  `,\n    type: 'programming',\n    xp: 0,\n    maxXp: 2,\n    blocking: false\n  },\n  {\n    autogradingResults: [],\n    answer: `function areaOfCircle(x) {\n      return square(x) * pi;\n  }\n  \n  function volumeOfSphere(x) {\n      return 4 / 3 * cube(x) * pi;\n  }`,\n    content: 'Hello and welcome to this assessment! This is the 1st question.',\n    id: 1,\n    library: mockLibrary,\n    prepend: `const square = x => x * x;\n  const cube = x => x * x * x;\n  const pi = 3.1415928;`,\n    postpend: '',\n    testcases: [\n      {\n        type: TestcaseTypes.public,\n        program: `areaOfCircle(5);`,\n        score: 1,\n        answer: `78.53982`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `volumeOfSphere(5);`,\n        score: 1,\n        answer: `523.5988`\n      }\n    ],\n    solutionTemplate: `function areaOfCircle(x) {\n      // return area of circle\n  }\n  \n  function volumeOfSphere(x) {\n      // return volume of sphere\n  }`,\n    type: 'programming',\n    xp: 0,\n    maxXp: 2,\n    blocking: false\n  },\n  {\n    answer: 3,\n    content:\n      'This is the 3rd question. Oddly enough, it is an ungraded MCQ question that uses the binary tree library! Option C has a null hint!',\n    choices: [\n      {\n        content: '**Option** `A`',\n        hint: '_hint_ A is `here`'\n      },\n      {\n        content: '### B',\n        hint: 'hint B'\n      },\n      {\n        content: 'C',\n        hint: null\n      },\n      {\n        content: 'D',\n        hint: 'hint D'\n      }\n    ],\n    id: 2,\n    library: mockLibrary,\n    type: 'mcq',\n    solution: 0,\n    xp: 0,\n    maxXp: 2,\n    blocking: false\n  },\n  {\n    answer: 3,\n    content:\n      'This is the 4th question. Oddly enough, it is a graded MCQ question that uses the binary tree library!',\n    choices: [\n      {\n        content: 'A',\n        hint: null\n      },\n      {\n        content: 'B',\n        hint: null\n      },\n      {\n        content: 'C',\n        hint: null\n      },\n      {\n        content: 'D',\n        hint: null\n      }\n    ],\n    id: 3,\n    library: mockLibrary,\n    type: 'mcq',\n    solution: undefined,\n    xp: 0,\n    maxXp: 2,\n    blocking: false\n  },\n  {\n    autogradingResults: [],\n    answer: null,\n    content: 'You have reached the last question! Have some fun with the tone matrix...',\n    id: 4,\n    library: mockLibrary,\n    prepend: '',\n    postpend: '',\n    testcases: [],\n    solutionTemplate: '5th question mock solution template',\n    type: 'programming',\n    xp: 0,\n    maxXp: 2,\n    blocking: false\n  }\n];\n\nexport const mockClosedAssessmentQuestions: Array<IProgrammingQuestion | IMCQQuestion> = [\n  {\n    answer: `function fibonacci(n) {\n      if (n <= 2) {\n          return 1;\n      } else {\n          return fibonacci(n-1) + fibonacci(n-2);\n      }\n  }`,\n    content: 'You can see autograding results!!!',\n    id: 0,\n    library: mockLibrary,\n    prepend: '',\n    postpend: \"// This is a mock Postpend! You shouldn't be able to see me!\",\n    testcases: [\n      {\n        type: TestcaseTypes.public,\n        program: `fibonacci(3);`,\n        score: 1,\n        answer: `2`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `fibonacci(4);`,\n        score: 1,\n        answer: `3`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `fibonacci(5);`,\n        score: 1,\n        answer: `5`\n      }\n    ],\n    solutionTemplate: `function fibonacci(n) {\n      // Your answer here\n  }`,\n    type: 'programming',\n    grader: {\n      name: 'avenger',\n      id: 1\n    },\n    gradedAt: '2038-06-18T05:24:26.026Z',\n    xp: 0,\n    maxXp: 2,\n    blocking: false,\n    comments: `Good job. You are awarded the full marks!\n  \n  ----\n  ## markdown test\n  \n  # header\n  \n  **bold**\n  \n  _italics_\n  \n  * list\n  \n  1. numbered list\n  \n  - [] checkboxes\n  \n  > quote\n  \n      code\n  \n  [link to Source Academy](https://sourceacademy.nus.edu.sg)  \n  \n  ![](image-url-goes-here)`,\n    autogradingResults: [\n      {\n        resultType: 'pass'\n      },\n      {\n        resultType: 'fail',\n        expected: '8',\n        actual: '5'\n      },\n      {\n        resultType: 'error',\n        errors: [\n          {\n            errorType: 'timeout'\n          },\n          {\n            errorType: 'syntax',\n            line: 1,\n            location: 'student',\n            errorLine: 'function fibonacci(n) {',\n            errorExplanation: 'Just kidding!'\n          }\n        ]\n      }\n    ]\n  },\n  {\n    answer: `function recurse(rune, n) {\n      return n <= 1 ? rune : make_cross(recurse(rune, n - 1));\n  }`,\n    content: 'This is a runes question - there are no testcases nor autograding results.',\n    id: 1,\n    library: mockLibrary,\n    prepend: '',\n    postpend: '',\n    testcases: [],\n    solutionTemplate: `function recurse(rune, n) {\n      // Your answer here\n  }`,\n    type: 'programming',\n    grader: {\n      name: 'some avenger',\n      id: 1\n    },\n    gradedAt: '2038-06-18T05:24:26.026Z',\n    xp: 0,\n    maxXp: 2,\n    blocking: false,\n    comments: `You open the Report Card, not knowing what to expect...\n  \n      ## WOW!\n      Amazing grasp of runes. We can now move on to the next assignment.\n      \n      <br/>\n      \n      Robot Dog: \\`woof\\`\n      \n      You look at the display of the robot dog.\n      \n          FEED ME\n      1. Bread\n      2. Water\n      \n      <br/>\n      \n      * I am hungry.\n      * I am thirsty.\n      \n      <br/>\n      <br/>\n          \n      New message from **Avenger**!\n      \n      > _Cadet, please meet me at Level X-05, outside the pod bay doors. There is an important mission awaiting us._\n      \n      > _May the [Source](https://sourceacademy.nus.edu.sg) be with you._\n      \n      > Best regards, Avocado A. Avenger\n      \n      #### Upcoming Tasks\n      - [] Meet Avenger Avenger at Level X-05\n      - [] Open the Pod Bay Doors`,\n    autogradingResults: []\n  }\n];\n\nexport const mockPathQuestions: Array<IProgrammingQuestion | IMCQQuestion> = [\n  {\n    answer: null,\n    content: 'As a recap: which of the following is not a valid logic gate?',\n    choices: [\n      {\n        content: 'XOR gate',\n        hint: 'This is the exclusive-OR gate!'\n      },\n      {\n        content: 'IF gate',\n        hint: 'Correct!'\n      },\n      {\n        content: 'AND gate',\n        hint: 'This logic gate exists!'\n      },\n      {\n        content: 'OR gate',\n        hint: 'This logic gate exists!'\n      }\n    ],\n    id: 0,\n    library: mockLibrary,\n    type: 'mcq',\n    solution: 1,\n    xp: 0,\n    maxXp: 0,\n    blocking: false\n  },\n  {\n    autogradingResults: [],\n    answer: null,\n    content: `An AND gate is a digital logic gate that implements logical conjunction on its inputs. It returns a single output that is HIGH (active) iff all the inputs to the AND gate are HIGH (active).\n  \n  In this question, let us model an AND gate as a function, and treat HIGH (active) inputs as the boolean value \\`true\\` and LOW (inactive) inputs as the boolean value \\`false\\`.\n  \n  As an AND gate is not restricted to exactly two inputs, our function shall be the same. Implement the function \\`AND(inputs)\\` which takes in the list \\`inputs\\` (a list of boolean values), and returns the output of the AND gate as a boolean. You may assume the list \\`inputs\\` is of minimum length 2.\n  \n  This question makes use of the sentinel function method to throw custom errors for each testcase.`,\n    id: 1,\n    library: mockLibrary,\n    prepend: `const OR = (x, y) => x || y;`,\n    postpend: `\n  const __AND = (xs) => {\n    if (AND(list(true, true)) === undefined) {\n      error('Your function is empty!');\n    } else {}\n    \n    const result = AND(xs);\n  \n    if (!is_boolean(result)) {\n      error('Your function does not return a boolean!');\n    } else {}\n    \n    if (equal(xs, list(true, false)) && result) {\n      error('Check the truth table for an AND gate again!');\n    } else if (equal(xs, list(true, true, false)) && result) {\n      error('Are you using all inputs in the list?');\n    } else if (equal(xs, list(true, true, true)) && !result) {\n      error('Are you sure your base case is correct?');\n    } else if (AND(list(true, true)) === AND(list(false, false))) {\n      error('Oi! Do not hardcode values!');\n    } else {\n      return result;\n    }\n  };`,\n    testcases: [\n      {\n        type: TestcaseTypes.public,\n        program: `__AND(list(true, false));`,\n        score: 0,\n        answer: `false`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `__AND(list(true, true, false));`,\n        score: 0,\n        answer: `false`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `__AND(list(true, OR(true, false), OR(true, true)));`,\n        score: 0,\n        answer: `true`\n      },\n      {\n        type: TestcaseTypes.opaque,\n        program: `__AND(list(true, OR(false, true), AND(list(true, false)), false));`,\n        score: 0,\n        answer: `false`\n      },\n      {\n        type: TestcaseTypes.opaque,\n        program: `__AND(list(true, OR(true, false), OR(true, AND(list(false, true))), true));`,\n        score: 0,\n        answer: `true`\n      }\n    ],\n    solutionTemplate: `function AND(inputs) {\n      // Your answer here!\n  }`,\n    type: 'programming',\n    xp: 0,\n    maxXp: 0,\n    blocking: false\n  },\n  {\n    autogradingResults: [],\n    answer: null,\n    content: `The XOR (exclusive-OR) gate is a digital logic gate that accepts two inputs and returns a single output that is HIGH (active) iff one of the inputs are HIGH (active), but not both.\n  \n  In this question, let us model the XOR gate as a function. Implement the function \\`XOR(x, y)\\` which takes two boolean inputs \\`x\\` and \\`y\\` and which returns the output of the XOR gate as a boolean.\n  \n  This question makes use of the wrapping container method to throw custom errors for each testcase.`,\n    id: 2,\n    library: mockLibrary,\n    prepend: ``,\n    postpend: `\n  const __XOR = (x, y) => {\n    if (XOR(false, false) === undefined) {\n      error('Your function is empty!');\n    } else {}\n    \n    const result = XOR(x, y);\n  \n    if (!is_boolean(result)) {\n      error('Your function does not return a boolean!');\n    } else {}\n    \n    if (((x && !y) || (y && !x)) && !result) {\n      error('Check your truth tables!');\n    } else if (XOR(false, false) === XOR(false, true)) {\n      error('Oi! Do not hardcode values!');\n    } else {\n      return result;\n    }\n  };`,\n    testcases: [\n      {\n        type: TestcaseTypes.public,\n        program: `__XOR(true, false);`,\n        score: 0,\n        answer: `true`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `__XOR(false, true);`,\n        score: 0,\n        answer: `true`\n      },\n      {\n        type: TestcaseTypes.opaque,\n        program: `__XOR(true, XOR(true, false));`,\n        score: 0,\n        answer: `false`\n      }\n    ],\n    solutionTemplate: `function XOR(x, y) {\n      // Your answer here!\n  }`,\n    type: 'programming',\n    xp: 0,\n    maxXp: 0,\n    blocking: false\n  },\n  {\n    autogradingResults: [],\n    answer: null,\n    content: `The NOR logic gate is special in that it is an _universal logic gate_, that is to say, they can be composed to form any other logic gate.\n  \n  Implement the AND logic gate **using ONLY the NOR logic gate**, as the \\`NOR_AND(x, y)\\` function that takes in two booleans as input.\n  \n  The \\`NOR\\` function modeled after a NOR gate is provided for you - it accepts two boolean values and returns \\`true\\` iff both inputs are \\`false\\`.`,\n    id: 3,\n    library: mockLibrary,\n    prepend: `\n  let counter = 0;\n  const NOR = (x, y) => {\n    counter = counter + 1;\n    return !(x || y);\n  };`,\n    postpend: `\n  const __NOR_AND = (x, y) => {\n    if (NOR_AND(false, false) === undefined) {\n      error('Your function is empty!');\n    } else {}\n    \n    counter = 0;\n    const result = NOR_AND(x, y);\n  \n    if (!is_boolean(result)) {\n      error('Your function does not return a boolean!');\n    } else {}\n    \n    if (!x && y && result) {\n      error('Check your truth tables!');\n    } else if (x && y && !result && counter > 0) {\n      error('Nope! Try again :)');\n    } else if (x && y && !result) {\n      error('...You did not use NOR and still got it wrong!');\n    } else if (x && y && result && counter !== 3) {\n      error('Did you use NOR in your solution? >:(');\n    } else if (x && !y && counter !== 6) {\n      error('Incorrect number of calls.');\n    } else {\n      return result;\n    }\n  };`,\n    testcases: [\n      {\n        type: TestcaseTypes.public,\n        program: `__NOR_AND(false, true);`,\n        score: 0,\n        answer: `false`\n      },\n      {\n        type: TestcaseTypes.public,\n        program: `__NOR_AND(true, true);`,\n        score: 0,\n        answer: `true`\n      },\n      {\n        type: TestcaseTypes.opaque,\n        program: `__NOR_AND(true, NOR_AND(false, true));`,\n        score: 0,\n        answer: `false`\n      }\n    ],\n    solutionTemplate: `function NOR_AND(x, y) {\n      // Your answer here!\n  }`,\n    type: 'programming',\n    xp: 0,\n    maxXp: 0,\n    blocking: false\n  }\n];\n\nconst mockContestEntryQuestion: Array<IContestVotingQuestion> = [\n  {\n    id: 0,\n    type: 'voting',\n    content: 'Sample Contest Voting Question',\n    xp: 0,\n    maxXp: 0,\n    answer: [],\n    prepend: '',\n    postpend: '',\n    contestEntries: [\n      {\n        submission_id: 1,\n        answer: { code: \"display('voting test')\" }\n      },\n      {\n        submission_id: 2,\n        answer: { code: 'function voting_test() { return true; }' }\n      }\n    ],\n    contestLeaderboard: [\n      {\n        submission_id: 1,\n        student_name: 'student_1',\n        answer: { code: \"display('leaderboard test')\" }\n      },\n      {\n        submission_id: 2,\n        student_name: 'student_2',\n        answer: { code: 'function leaderboard_test() { return true; }' }\n      }\n    ],\n    library: mockLibrary,\n    blocking: false\n  }\n];\n\n/*\n * A few Assessments to try out in workspaces.\n */\nexport const mockAssessments: Assessment[] = [\n  {\n    type: 'Missions',\n    id: 1,\n    longSummary:\n      'This is the mission briefing. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas viverra, sem scelerisque ultricies ullamcorper, sem nibh sollicitudin enim, at ultricies sem orci eget odio. Pellentesque varius et mauris quis vestibulum. Etiam in egestas dolor. Nunc consectetur, sapien sodales accumsan convallis, lectus mi tempus ipsum, vel ornare metus turpis sed justo. Vivamus at tellus sed ex convallis commodo at in lectus. Pellentesque pharetra pulvinar sapien pellentesque facilisis. Curabitur efficitur malesuada urna sed aliquam. Quisque massa metus, aliquam in sagittis non, cursus in sem. Morbi vel nunc at nunc pharetra lobortis. Aliquam feugiat ultricies ipsum vel sollicitudin. Vivamus nulla massa, hendrerit sit amet nibh quis, porttitor convallis nisi. ',\n    missionPDF: 'www.google.com',\n    questions: mockAssessmentQuestions,\n    title: 'An Odessey to Runes'\n  },\n  {\n    type: 'Missions',\n    id: 2,\n    longSummary:\n      'This is the mission briefing. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas viverra, sem scelerisque ultricies ullamcorper, sem nibh sollicitudin enim, at ultricies sem orci eget odio. Pellentesque varius et mauris quis vestibulum. Etiam in egestas dolor. Nunc consectetur, sapien sodales accumsan convallis, lectus mi tempus ipsum, vel ornare metus turpis sed justo. Vivamus at tellus sed ex convallis commodo at in lectus. Pellentesque pharetra pulvinar sapien pellentesque facilisis. Curabitur efficitur malesuada urna sed aliquam. Quisque massa metus, aliquam in sagittis non, cursus in sem. Morbi vel nunc at nunc pharetra lobortis. Aliquam feugiat ultricies ipsum vel sollicitudin. Vivamus nulla massa, hendrerit sit amet nibh quis, porttitor convallis nisi. ',\n    missionPDF: 'www.google.com',\n    questions: mockAssessmentQuestions,\n    title: 'The Secret to Streams'\n  },\n  {\n    type: 'Quests',\n    id: 3,\n    longSummary: `###This is the sidequest briefing.\n  \n  *Lorem ipsum* dolor sit amet, consectetur adipiscing elit.\n  \n  > Maecenas viverra, sem scelerisque ultricies ullamcorper, sem nibh sollicitudin\n  enim, at ultricies sem orci eget odio. Pellentesque varius et mauris quis\n  vestibulum.\n  \n  - Etiam in egestas dolor.\n  - Nunc consectetur, sapien sodales accumsan convallis, lectus mi tempus ipsum,\n    vel ornare metus turpis sed justo.\n  - Vivamus at tellus sed ex convallis commodo at in lectus.\n  \n  \\`\\`\\`\n  Pellentesque\n  pharetra\n  pulvinar\n  sapien\n  \\`\\`\\``,\n    missionPDF: 'www.google.com',\n    questions: mockAssessmentQuestions,\n    title: 'A sample Sidequest'\n  },\n  {\n    type: 'Missions',\n    id: 4,\n    longSummary:\n      'This is the closed mission briefing. The save button should not be there. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas viverra, sem scelerisque ultricies ullamcorper, sem nibh sollicitudin enim, at ultricies sem orci eget odio. Pellentesque varius et mauris quis vestibulum. Etiam in egestas dolor. Nunc consectetur, sapien sodales accumsan convallis, lectus mi tempus ipsum, vel ornare metus turpis sed justo. Vivamus at tellus sed ex convallis commodo at in lectus. Pellentesque pharetra pulvinar sapien pellentesque facilisis. Curabitur efficitur malesuada urna sed aliquam. Quisque massa metus, aliquam in sagittis non, cursus in sem. Morbi vel nunc at nunc pharetra lobortis. Aliquam feugiat ultricies ipsum vel sollicitudin. Vivamus nulla massa, hendrerit sit amet nibh quis, porttitor convallis nisi. ',\n    missionPDF: 'www.google.com',\n    questions: mockClosedAssessmentQuestions,\n    title: 'A Closed Mission'\n  },\n  {\n    type: 'Quests',\n    id: 5,\n    longSummary:\n      'This is the closed sidequest briefing. The save button should not exist. This is a placeholder sidequest for testing rendering of grading statuses.',\n    missionPDF: 'www.google.com',\n    questions: mockClosedAssessmentQuestions,\n    title: 'A Closed Sidequest'\n  },\n  {\n    type: 'Paths',\n    id: 6,\n    longSummary: `### Basic logic gates\n  \n  This path is intended to demonstrate concepts from the lecture **Logic Circuits**. You are strongly encouraged to attempt this path to check your understanding, prior to the next Studio session. For this, you will be granted a small amount of XP!\n  \n  The path comprises 4 questions and is fully autograded and guided, and there are **no private test cases** - there will be no manual review by default. Please consult your Avenger if you require assistance!</TEXT>`,\n    missionPDF: 'www.google.com',\n    questions: mockPathQuestions,\n    title: 'A sample guided path'\n  },\n  // mock assessment used for testing contest voting assessments\n  {\n    type: 'Others',\n    id: 7,\n    title: 'A sample contest voting assessment',\n    longSummary: 'Vote for your favourite contest entries here!',\n    missionPDF: 'www.google.com',\n    questions: mockContestEntryQuestion\n  }\n];\n","import { Chapter, Variant } from 'Clang-slang/dist/types';\n\nimport { GameState, Role } from '../application/ApplicationTypes';\nimport {\n  AdminPanelCourseRegistration,\n  CourseConfiguration,\n  CourseRegistration,\n  User\n} from '../application/types/SessionTypes';\nimport { Notification, NotificationTypes } from '../notificationBadge/NotificationBadgeTypes';\n\n/**\n * Mock for fetching a role, given an access token. A null\n * value is returned for invalid tokens. Fetching a particular\n * role can be simluated using an optional paramter.\n *\n * @param accessToken a valid access token for the cadet backend.\n * @param mockRole a role to mock retrieval for.\n */\nexport const mockFetchRole = (accessToken: string, role: Role = Role.Staff): Role | null => {\n  return role;\n};\n\n/**\n * Represents the information for a student.\n * TODO move this to a separate file once API specs are confirmed.\n */\nexport type StudentInfo = {\n  id: number;\n  totalXP: number;\n};\n\nconst mockStudentInfo = [\n  {\n    id: 0,\n    totalXP: 69\n  },\n  {\n    id: 1,\n    totalXP: 1000\n  }\n];\n\nexport const mockUser: User = {\n  userId: 123,\n  name: 'DevAdmin',\n  courses: [\n    {\n      courseId: 1,\n      courseName: `CS1101S Programming Methodology (AY20/21 Sem 1)`,\n      courseShortName: `CS1101S`,\n      role: Role.Admin,\n      viewable: true\n    },\n    {\n      courseId: 2,\n      courseName: `CS2040S Data Structures and Algorithms (AY20/21 Sem 2)`,\n      courseShortName: `CS2040S`,\n      role: Role.Admin,\n      viewable: false\n    },\n    {\n      courseId: 3,\n      courseName: `CS2030S Programming Methodology II (AY21/22 Sem 1)`,\n      courseShortName: `CS2030S`,\n      role: Role.Staff,\n      viewable: false\n    }\n  ]\n};\n\nexport const mockCourseRegistrations: CourseRegistration[] = [\n  {\n    courseRegId: 1,\n    role: Role.Admin,\n    group: '1F',\n    gameState: {} as GameState,\n    courseId: 1,\n    xp: 0,\n    story: {\n      story: 'mission-1',\n      playStory: true\n    },\n    agreedToResearch: true\n  },\n  {\n    courseRegId: 2,\n    role: Role.Student,\n    group: '1F',\n    gameState: {} as GameState,\n    courseId: 2,\n    xp: 0,\n    story: {\n      story: 'mission-1',\n      playStory: true\n    },\n    agreedToResearch: true\n  }\n];\n\nexport const mockAdminPanelCourseRegistrations: AdminPanelCourseRegistration[] = [\n  {\n    courseRegId: 1,\n    courseId: 1,\n    name: 'DevAdmin',\n    username: 'test/admin',\n    role: Role.Admin\n  },\n  {\n    courseRegId: 3,\n    courseId: 1,\n    name: 'Dummy student',\n    username: 'test/student',\n    role: Role.Student\n  },\n  {\n    courseRegId: 4,\n    courseId: 1,\n    name: 'Dummy staff',\n    username: 'test/staff',\n    role: Role.Staff\n  }\n];\n\nexport const mockCourseConfigurations: CourseConfiguration[] = [\n  {\n    courseName: `CS1101S Programming Methodology (AY20/21 Sem 1)`,\n    courseShortName: `CS1101S`,\n    viewable: true,\n    enableGame: false,\n    enableAchievements: true,\n    enableSourcecast: true,\n    sourceChapter: Chapter.CLANG,\n    sourceVariant: Variant.DEFAULT,\n    moduleHelpText: '',\n    assetsPrefix: ''\n  },\n  {\n    courseName: `CS2040S Data Structures and Algorithms (AY20/21 Sem 2)`,\n    courseShortName: `CS2040S`,\n    viewable: true,\n    enableGame: false,\n    enableAchievements: false,\n    enableSourcecast: false,\n    sourceChapter: Chapter.CLANG,\n    sourceVariant: Variant.DEFAULT,\n    moduleHelpText: 'Help Text!',\n    assetsPrefix: ''\n  }\n];\n\n/**\n * Mock for fetching a trainer/admin's student information. A null value\n * is returned for invalid token or role.\n *\n * @param accessToken a valid access token for the cadet backend.\n */\nexport const mockFetchStudentInfo = (accessToken: string): StudentInfo[] | null => {\n  // mocks backend role fetching\n  const permittedRoles: Role[] = [Role.Admin, Role.Staff];\n  const role: Role | null = mockFetchRole(accessToken);\n  if (role === null || !permittedRoles.includes(role)) {\n    return null;\n  } else {\n    return mockStudentInfo;\n  }\n};\n\nexport const mockNotifications: Notification[] = [\n  {\n    id: 1,\n    type: NotificationTypes.deadline,\n    assessment_id: 3,\n    assessment_type: 'Quests',\n    assessment_title: 'The Secret to Streams'\n  },\n  {\n    id: 2,\n    type: NotificationTypes.autograded,\n    assessment_id: 4,\n    assessment_type: 'Missions',\n    assessment_title: 'A Closed Mission'\n  },\n  {\n    id: 3,\n    type: NotificationTypes.graded,\n    assessment_id: 4,\n    assessment_type: 'Missions',\n    assessment_title: 'A Closed Mission'\n  },\n  {\n    id: 4,\n    type: NotificationTypes.new,\n    assessment_id: 6,\n    assessment_type: 'Paths',\n    assessment_title: 'Basic Logic'\n  },\n  {\n    id: 5,\n    type: NotificationTypes.new,\n    assessment_id: 7,\n    assessment_type: 'Missions',\n    assessment_title: 'Symphony of the Winds'\n  },\n  {\n    id: 6,\n    type: NotificationTypes.submitted,\n    submission_id: 1,\n    assessment_type: 'Missions',\n    assessment_title: 'Mission 0'\n  },\n  {\n    id: 7,\n    type: NotificationTypes.submitted,\n    submission_id: 2,\n    assessment_type: 'Missions',\n    assessment_title: 'Mission 1'\n  },\n  {\n    id: 8,\n    type: NotificationTypes.submitted,\n    submission_id: 3,\n    assessment_type: 'Missions',\n    assessment_title: 'Mission 0'\n  }\n];\n","import { GradingSummary } from '../../features/dashboard/DashboardTypes';\nimport { Grading, GradingOverview } from '../../features/grading/GradingTypes';\nimport { Role } from '../application/ApplicationTypes';\nimport { Testcase, TestcaseTypes } from '../assessment/AssessmentTypes';\nimport { mockLibrary } from './AssessmentMocks';\nimport { mockFetchRole } from './UserMocks';\n\nexport const mockGradingOverviews: GradingOverview[] = [\n  {\n    xpAdjustment: 0,\n    assessmentType: 'Missions',\n    assessmentId: 0,\n    assessmentName: 'Mission 0 ',\n    currentXp: 69,\n    xpBonus: 10,\n    initialXp: 69,\n    maxXp: 100,\n    studentId: 0,\n    studentName: 'Al Gorithm',\n    submissionId: 1,\n    submissionStatus: 'submitted',\n    groupName: '1D',\n    gradingStatus: 'graded',\n    questionCount: 6,\n    gradedCount: 6\n  },\n  {\n    xpAdjustment: -2,\n    assessmentType: 'Missions',\n    assessmentId: 1,\n    assessmentName: 'Mission 1',\n    currentXp: -2,\n    xpBonus: 12,\n    initialXp: 0,\n    maxXp: 400,\n    studentId: 0,\n    studentName: 'Dee Sign',\n    submissionId: 2,\n    submissionStatus: 'submitted',\n    groupName: '1F',\n    gradingStatus: 'grading',\n    questionCount: 6,\n    gradedCount: 2\n  },\n  {\n    xpAdjustment: 4,\n    assessmentType: 'Missions',\n    assessmentId: 0,\n    assessmentName: 'Mission 0',\n    currentXp: 1000,\n    xpBonus: 12,\n    initialXp: 996,\n    maxXp: 1000,\n    studentId: 1,\n    studentName: 'May Trix',\n    submissionId: 3,\n    submissionStatus: 'submitted',\n    groupName: '1F',\n    gradingStatus: 'none',\n    questionCount: 6,\n    gradedCount: 0\n  }\n];\n\n/**\n * Mock for fetching a trainer/admin's student grading information.\n * A null value is returned for invalid token or role.\n *\n * @param accessToken a valid access token for the cadet backend.\n * @param group a boolean if true, only fetches submissions from the grader's group\n */\nexport const mockFetchGradingOverview = (\n  accessToken: string,\n  group: boolean\n): GradingOverview[] | null => {\n  // mocks backend role fetching\n  const permittedRoles: Role[] = [Role.Admin, Role.Staff];\n  const role: Role | null = mockFetchRole(accessToken);\n  if (role === null || !permittedRoles.includes(role)) {\n    return null;\n  } else {\n    return group\n      ? [mockGradingOverviews[0]]\n      : mockGradingOverviews.sort((subX: GradingOverview, subY: GradingOverview) =>\n          subX.assessmentId !== subY.assessmentId\n            ? subY.assessmentId - subX.assessmentId\n            : subY.submissionId - subX.submissionId\n        );\n  }\n};\n\nexport const mockTestcases: Testcase[] = [\n  { type: TestcaseTypes.public, program: `remainder(12, 7);`, score: 1, answer: `5` },\n  { type: TestcaseTypes.public, program: `remainder(6, 1);`, score: 2, answer: `0` },\n  { type: TestcaseTypes.opaque, program: `remainder(-15, 6);`, score: 2, answer: `-3` },\n  { type: TestcaseTypes.opaque, program: `remainder(17, 23) === 17;`, score: 2, answer: `true` }\n];\n\nexport const mockGrading: Grading = [\n  {\n    question: {\n      answer: `function remainder(n, d) {\n  return (n - d) < 0 ? n : remainder(n - d, d);\n}`,\n      content: `\nHello and welcome to this assessment! This is the *0th question*.\n\n\\`\\`\\`\n>>> import this\n\\`\\`\\`\n`,\n      prepend: '// THIS IS A PREPEND',\n      postpend: '// THIS IS A POSTPEND',\n      testcases: mockTestcases,\n      id: 0,\n      library: mockLibrary,\n      solutionTemplate: '0th question mock solution template',\n      solution: `This is how the 0th question is solved. [7 points]\n\nfunction remainder(n, d) {\n  return n % d;\n}`,\n      type: 'programming',\n      maxXp: 1000,\n      grader: {\n        name: 'avenger',\n        id: 1\n      },\n      gradedAt: '2038-06-18T05:24:26.026Z',\n      xp: 1,\n      autogradingResults: [\n        {\n          resultType: 'pass'\n        },\n        {\n          resultType: 'fail',\n          expected: '8',\n          actual: '5'\n        },\n        {\n          resultType: 'error',\n          errors: [\n            {\n              errorType: 'dummyErrorType'\n            }\n          ]\n        },\n        {\n          resultType: 'error',\n          errors: [\n            {\n              errorType: 'systemError',\n              errorMessage: \"Cannot read property 'getUniformLocation' of null\"\n            }\n          ]\n        },\n        {\n          resultType: 'error',\n          errors: [\n            {\n              errorType: 'timeout'\n            },\n            {\n              errorType: 'syntax',\n              line: 2,\n              location: 'student',\n              errorLine: 'return (n - d) < 0 ? n : remainder(n - d, d)',\n              errorExplanation: 'Missing semicolon at the end of statement'\n            }\n          ]\n        }\n      ],\n      blocking: false\n    },\n    grade: {\n      xpAdjustment: 0,\n      xp: 0,\n      comments: `Good job. You are awarded the full marks!\n\n----\n## markdown test\n\n# header\n\n**bold**\n\n_italics_\n\n* list\n\n1. numbered list\n\n- [] checkboxes\n\n> quote\n\n    code\n\n[link to Source Academy](https://sourceacademy.nus.edu.sg)\n\n![](image-url-goes-here)\n      `,\n      grader: {\n        name: 'HARTIN MENZ',\n        id: 100\n      },\n      gradedAt: '2019-08-16T13:26:32+00:00'\n    },\n    student: {\n      name: 'Al Gorithm',\n      id: 0\n    }\n  },\n  {\n    question: {\n      prepend: '',\n      postpend: '',\n      testcases: [],\n      answer: \"This student's answer to the 1st question\",\n      content: 'Hello and welcome to this assessment! This is the 1st question.',\n      id: 1,\n      library: mockLibrary,\n      solutionTemplate: '1st question mock solution template',\n      solution: null,\n      type: 'programming',\n      maxXp: 200,\n      grader: {\n        name: 'avenger',\n        id: 1\n      },\n      gradedAt: '2038-06-18T05:24:26.026Z',\n      xp: 1,\n      autogradingResults: [\n        {\n          resultType: 'pass'\n        },\n        {\n          resultType: 'fail',\n          expected: '8',\n          actual: '5'\n        },\n        {\n          resultType: 'error',\n          errors: [\n            {\n              errorType: 'timeout'\n            },\n            {\n              errorType: 'syntax',\n              line: 1,\n              location: 'student',\n              errorLine: 'function fibonacci(n) {',\n              errorExplanation: 'Just kidding!'\n            }\n          ]\n        }\n      ],\n      blocking: false\n    },\n    grade: {\n      xpAdjustment: 0,\n      xp: 100,\n      comments: `You open the Report Card, not knowing what to expect...\n\n## WOW!\nAmazing grasp of runes. We can now move on to the next assignment.\n\n<br/>\n\nRobot Dog: \\`woof\\`\n\nYou look at the display of the robot dog.\n\n    FEED ME\n1. Bread\n2. Water\n\n<br/>\n\n* I am hungry.\n* I am thirsty.\n\n<br/>\n<br/>\n\nNew message from **Avenger**!\n\n> _Cadet, please meet me at Level X-05, outside the pod bay doors. There is an important mission awaiting us._\n\n> _May the [Source](https://sourceacademy.nus.edu.sg) be with you._\n\n> Best regards, Avocado A. Avenger\n\n#### Upcoming Tasks\n- [] Meet Avenger Avenger at Level X-05\n- [] Open the Pod Bay Doors\n      `\n    },\n    student: {\n      name: 'Al Gorithm',\n      id: 0\n    }\n  },\n  {\n    question: {\n      // C is the answer\n      prepend: '',\n      postpend: '',\n      testcases: [],\n      answer: 3,\n      solution: 2,\n      content:\n        'Hello and welcome to this assessment! This is the 2nd question. Oddly enough, it is an MCQ question!',\n      choices: [\n        {\n          content: 'A',\n          hint: 'hint A'\n        },\n        {\n          content: 'B',\n          hint: 'hint B'\n        },\n        {\n          content: 'C',\n          hint: 'hint C'\n        },\n        {\n          content: 'D',\n          hint: 'hint D'\n        }\n      ],\n      id: 2,\n      library: mockLibrary,\n      type: 'mcq',\n      maxXp: 100,\n      grader: {\n        name: 'avenger',\n        id: 1\n      },\n      gradedAt: '2038-06-18T05:24:26.026Z',\n      xp: 1,\n      autogradingResults: [\n        {\n          resultType: 'pass'\n        },\n        {\n          resultType: 'fail',\n          expected: '8',\n          actual: '5'\n        },\n        {\n          resultType: 'error',\n          errors: [\n            {\n              errorType: 'timeout'\n            },\n            {\n              errorType: 'syntax',\n              line: 1,\n              location: 'student',\n              errorLine: 'function fibonacci(n) {',\n              errorExplanation: 'Just kidding!'\n            }\n          ]\n        }\n      ],\n      blocking: false\n    },\n    grade: {\n      xpAdjustment: 0,\n      xp: 50\n    },\n    student: {\n      name: 'Al Gorithm',\n      id: 0\n    }\n  }\n];\n\n/**\n * Mock for fetching a trainer/admin's student grading information.\n * A null value is returned for invalid token or role.\n *\n * @param accessToken a valid access token for the cadet backend.\n */\nexport const mockFetchGrading = (accessToken: string, submissionId: number): Grading | null => {\n  // mocks backend role fetching\n  const permittedRoles: Role[] = [Role.Admin, Role.Staff];\n  const role: Role | null = mockFetchRole(accessToken);\n  if (role === null || !permittedRoles.includes(role)) {\n    return null;\n  } else {\n    return mockGrading;\n  }\n};\n\nexport const mockGradingSummary: GradingSummary = {\n  cols: [\n    'group',\n    'avenger',\n    'ungradedMissions',\n    'submittedMissions',\n    'ungradedQuests',\n    'submittedQuests'\n  ],\n  rows: [\n    {\n      group: 'Mock Group 1',\n      avenger: 'John',\n      ungradedMissions: 123,\n      submittedMissions: 200,\n      ungradedQuests: 100,\n      submittedQuests: 117\n    },\n    {\n      group: 'Mock Group 2',\n      avenger: 'Molly',\n      ungradedMissions: 1232,\n      submittedMissions: 205430,\n      ungradedQuests: 345,\n      submittedQuests: 11547\n    },\n    {\n      group: 'Mock Group 3',\n      avenger: 'Lenny',\n      ungradedMissions: 1532,\n      submittedMissions: 22200,\n      ungradedQuests: 134500,\n      submittedQuests: 6777\n    }\n  ]\n};\n","import { SagaIterator } from 'redux-saga';\nimport { call, put, select, takeEvery } from 'redux-saga/effects';\n\nimport { FETCH_GROUP_GRADING_SUMMARY } from '../../features/dashboard/DashboardTypes';\nimport { Grading, GradingOverview, GradingQuestion } from '../../features/grading/GradingTypes';\nimport {\n  OverallState,\n  Role,\n  SALanguage,\n  styliseSublanguage\n} from '../application/ApplicationTypes';\nimport {\n  ACKNOWLEDGE_NOTIFICATIONS,\n  AdminPanelCourseRegistration,\n  FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS,\n  FETCH_ASSESSMENT,\n  FETCH_AUTH,\n  FETCH_COURSE_CONFIG,\n  FETCH_GRADING,\n  FETCH_GRADING_OVERVIEWS,\n  FETCH_NOTIFICATIONS,\n  FETCH_USER_AND_COURSE,\n  SUBMIT_ANSWER,\n  SUBMIT_GRADING,\n  SUBMIT_GRADING_AND_CONTINUE,\n  Tokens,\n  UNSUBMIT_SUBMISSION,\n  UPDATE_ASSESSMENT_CONFIGS,\n  UPDATE_COURSE_CONFIG,\n  UPDATE_LATEST_VIEWED_COURSE\n} from '../application/types/SessionTypes';\nimport {\n  AssessmentOverview,\n  AssessmentStatuses,\n  FETCH_ASSESSMENT_OVERVIEWS,\n  Question,\n  SUBMIT_ASSESSMENT\n} from '../assessment/AssessmentTypes';\nimport {\n  Notification,\n  NotificationFilterFunction\n} from '../notificationBadge/NotificationBadgeTypes';\nimport { actions } from '../utils/ActionsHelper';\nimport { history } from '../utils/HistoryHelper';\nimport { showSuccessMessage, showWarningMessage } from '../utils/NotificationsHelper';\nimport { WorkspaceLocation } from '../workspace/WorkspaceTypes';\nimport {\n  mockAssessmentConfigurations,\n  mockAssessmentOverviews,\n  mockAssessments\n} from './AssessmentMocks';\nimport { mockFetchGrading, mockFetchGradingOverview, mockGradingSummary } from './GradingMocks';\nimport {\n  mockAdminPanelCourseRegistrations,\n  mockCourseConfigurations,\n  mockCourseRegistrations,\n  mockNotifications,\n  mockUser\n} from './UserMocks';\n\nexport function* mockBackendSaga(): SagaIterator {\n  yield takeEvery(FETCH_AUTH, function* (action: ReturnType<typeof actions.fetchAuth>) {\n    const tokens: Tokens = {\n      accessToken: 'accessToken',\n      refreshToken: 'refreshToken'\n    };\n\n    yield put(actions.setTokens(tokens));\n    yield mockGetUserAndCourse();\n    const courseId: number = yield select((state: OverallState) => state.session.courseId!);\n    yield history.push(`/courses/${courseId}`);\n  });\n\n  const mockGetUserAndCourse = function* () {\n    const user = { ...mockUser };\n    const courseRegistration = { ...mockCourseRegistrations[0] };\n    const courseConfiguration = { ...mockCourseConfigurations[0] };\n    const assessmentConfigurations = [...mockAssessmentConfigurations[0]];\n    const sublanguage: SALanguage = {\n      chapter: courseConfiguration.sourceChapter,\n      variant: courseConfiguration.sourceVariant,\n      displayName: styliseSublanguage(\n        courseConfiguration.sourceChapter,\n        courseConfiguration.sourceVariant\n      )\n    };\n\n    yield put(actions.setUser(user));\n    yield put(actions.setCourseRegistration(courseRegistration));\n    yield put(actions.setCourseConfiguration(courseConfiguration));\n    yield put(actions.setAssessmentConfigurations(assessmentConfigurations));\n    yield put(actions.updateSublanguage(sublanguage));\n  };\n\n  yield takeEvery(FETCH_USER_AND_COURSE, mockGetUserAndCourse);\n\n  yield takeEvery(FETCH_COURSE_CONFIG, function* () {\n    const courseConfiguration = { ...mockCourseConfigurations[0] };\n    yield put(actions.setCourseConfiguration(courseConfiguration));\n  });\n\n  yield takeEvery(FETCH_ASSESSMENT_OVERVIEWS, function* () {\n    yield put(actions.updateAssessmentOverviews([...mockAssessmentOverviews]));\n  });\n\n  yield takeEvery(FETCH_ASSESSMENT, function* (action: ReturnType<typeof actions.fetchAssessment>) {\n    const id = action.payload;\n    const assessment = mockAssessments[id - 1];\n    yield put(actions.updateAssessment({ ...assessment }));\n  });\n\n  yield takeEvery(SUBMIT_ANSWER, function* (action: ReturnType<typeof actions.submitAnswer>): any {\n    const questionId = action.payload.id;\n    const answer = action.payload.answer;\n    // Now, update the answer for the question in the assessment in the store\n    const assessmentId = yield select(\n      (state: OverallState) => state.workspaces.assessment.currentAssessment!\n    );\n    const assessment = yield select((state: OverallState) =>\n      state.session.assessments.get(assessmentId)\n    );\n    const newQuestions = assessment.questions.slice().map((question: Question) => {\n      if (question.id === questionId) {\n        question.answer = answer;\n      }\n      return question;\n    });\n    const newAssessment = {\n      ...assessment,\n      questions: newQuestions\n    };\n    yield put(actions.updateAssessment(newAssessment));\n    yield call(showSuccessMessage, 'Saved!', 1000);\n    return yield put(actions.updateHasUnsavedChanges('assessment' as WorkspaceLocation, false));\n  });\n\n  yield takeEvery(\n    SUBMIT_ASSESSMENT,\n    function* (action: ReturnType<typeof actions.submitAssessment>): any {\n      const assessmentId = action.payload;\n\n      // Update the status of the assessment overview in the store\n      const overviews: AssessmentOverview[] = yield select(\n        (state: OverallState) => state.session.assessmentOverviews\n      );\n      const newOverviews = overviews.map(overview => {\n        if (overview.id === assessmentId) {\n          return { ...overview, status: AssessmentStatuses.submitted };\n        }\n        return overview;\n      });\n\n      yield call(showSuccessMessage, 'Submitted!', 2000);\n      return yield put(actions.updateAssessmentOverviews(newOverviews));\n    }\n  );\n\n  yield takeEvery(\n    FETCH_GRADING_OVERVIEWS,\n    function* (action: ReturnType<typeof actions.fetchGradingOverviews>): any {\n      const accessToken = yield select((state: OverallState) => state.session.accessToken);\n      const filterToGroup = action.payload;\n      const gradingOverviews = yield call(() =>\n        mockFetchGradingOverview(accessToken, filterToGroup)\n      );\n      if (gradingOverviews !== null) {\n        yield put(actions.updateGradingOverviews([...gradingOverviews]));\n      }\n    }\n  );\n\n  yield takeEvery(FETCH_GRADING, function* (action: ReturnType<typeof actions.fetchGrading>): any {\n    const submissionId = action.payload;\n    const accessToken = yield select((state: OverallState) => state.session.accessToken);\n    const grading = yield call(() => mockFetchGrading(accessToken, submissionId));\n    if (grading !== null) {\n      yield put(actions.updateGrading(submissionId, [...grading]));\n    }\n  });\n\n  yield takeEvery(\n    UNSUBMIT_SUBMISSION,\n    function* (action: ReturnType<typeof actions.unsubmitSubmission>) {\n      const { submissionId } = action.payload;\n      const overviews: GradingOverview[] = yield select(\n        (state: OverallState) => state.session.gradingOverviews || []\n      );\n      const index = overviews.findIndex(\n        overview =>\n          overview.submissionId === submissionId && overview.submissionStatus === 'submitted'\n      );\n      if (index === -1) {\n        yield call(showWarningMessage, '400: Bad Request');\n        return;\n      }\n      const newOverviews = (overviews as GradingOverview[]).map(overview => {\n        if (overview.submissionId === submissionId) {\n          return { ...overview, submissionStatus: 'attempted' };\n        }\n        return overview;\n      });\n      yield call(showSuccessMessage, 'Unsubmit successful!', 1000);\n      yield put(actions.updateGradingOverviews(newOverviews));\n    }\n  );\n\n  const sendGrade = function* (\n    action: ReturnType<typeof actions.submitGrading | typeof actions.submitGradingAndContinue>\n  ): any {\n    const role: Role = yield select((state: OverallState) => state.session.role!);\n    if (role === Role.Student) {\n      return yield call(showWarningMessage, 'Only staff can submit answers.');\n    }\n\n    const { submissionId, questionId, xpAdjustment, comments } = action.payload;\n    // Now, update the grade for the question in the Grading in the store\n    const grading: Grading = yield select((state: OverallState) =>\n      state.session.gradings.get(submissionId)\n    );\n    const newGrading = grading.slice().map((gradingQuestion: GradingQuestion) => {\n      if (gradingQuestion.question.id === questionId) {\n        gradingQuestion.grade = {\n          xpAdjustment,\n          xp: gradingQuestion.grade.xp,\n          comments\n        };\n      }\n      return gradingQuestion;\n    });\n    yield put(actions.updateGrading(submissionId, newGrading));\n    yield call(showSuccessMessage, 'Submitted!', 1000);\n  };\n\n  const sendGradeAndContinue = function* (\n    action: ReturnType<typeof actions.submitGradingAndContinue>\n  ): any {\n    const { submissionId } = action.payload;\n    yield* sendGrade(action);\n\n    const [currentQuestion, courseId] = yield select((state: OverallState) => [\n      state.workspaces.grading.currentQuestion,\n      state.session.courseId!\n    ]);\n    /**\n     * Move to next question for grading: this only works because the\n     * SUBMIT_GRADING_AND_CONTINUE Redux action is currently only\n     * used in the Grading Workspace\n     *\n     * If the questionId is out of bounds, the componentDidUpdate callback of\n     * GradingWorkspace will cause a redirect back to '/courses/${courseId}/grading'\n     */\n    yield history.push(\n      `/courses/${courseId}/grading/${submissionId}/${(currentQuestion || 0) + 1}`\n    );\n  };\n\n  yield takeEvery(SUBMIT_GRADING, sendGrade);\n\n  yield takeEvery(SUBMIT_GRADING_AND_CONTINUE, sendGradeAndContinue);\n\n  yield takeEvery(\n    FETCH_NOTIFICATIONS,\n    function* (action: ReturnType<typeof actions.fetchNotifications>) {\n      yield put(actions.updateNotifications([...mockNotifications]));\n    }\n  );\n\n  yield takeEvery(\n    ACKNOWLEDGE_NOTIFICATIONS,\n    function* (action: ReturnType<typeof actions.acknowledgeNotifications>) {\n      const notificationFilter: NotificationFilterFunction | undefined = action.payload.withFilter;\n\n      const notifications: Notification[] = yield select(\n        (state: OverallState) => state.session.notifications\n      );\n\n      let notificationsToAcknowledge = notifications;\n\n      if (notificationFilter) {\n        notificationsToAcknowledge = notificationFilter(notifications);\n      }\n\n      if (notificationsToAcknowledge.length === 0) {\n        return;\n      }\n\n      const ids = notificationsToAcknowledge.map(n => n.id);\n\n      const newNotifications: Notification[] = notifications.filter(\n        notification => !ids.includes(notification.id)\n      );\n\n      yield put(actions.updateNotifications(newNotifications));\n    }\n  );\n\n  yield takeEvery(\n    UPDATE_LATEST_VIEWED_COURSE,\n    function* (action: ReturnType<typeof actions.updateLatestViewedCourse>) {\n      const { courseId } = action.payload;\n      const idx = courseId - 1; // zero-indexed\n\n      const courseConfiguration = { ...mockCourseConfigurations[idx] };\n      yield put(actions.setCourseConfiguration(courseConfiguration));\n      yield put(actions.setAssessmentConfigurations([...mockAssessmentConfigurations[idx]]));\n      yield put(actions.setCourseRegistration({ ...mockCourseRegistrations[idx] }));\n      yield put(\n        actions.updateSublanguage({\n          chapter: courseConfiguration.sourceChapter,\n          variant: courseConfiguration.sourceVariant,\n          displayName: styliseSublanguage(\n            courseConfiguration.sourceChapter,\n            courseConfiguration.sourceVariant\n          )\n        })\n      );\n      yield call(showSuccessMessage, `Switched to ${courseConfiguration.courseName}!`, 5000);\n    }\n  );\n\n  yield takeEvery(\n    UPDATE_COURSE_CONFIG,\n    function* (action: ReturnType<typeof actions.updateCourseConfig>) {\n      const courseConfig = action.payload;\n\n      yield put(actions.setCourseConfiguration(courseConfig));\n      yield call(showSuccessMessage, 'Updated successfully!', 1000);\n    }\n  );\n\n  yield takeEvery(\n    UPDATE_ASSESSMENT_CONFIGS,\n    function* (action: ReturnType<typeof actions.updateAssessmentConfigs>): any {\n      const assessmentConfig = action.payload;\n\n      yield put(actions.setAssessmentConfigurations(assessmentConfig));\n      yield call(showSuccessMessage, 'Updated successfully!', 1000);\n    }\n  );\n\n  yield takeEvery(\n    FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS,\n    function* (action: ReturnType<typeof actions.fetchAdminPanelCourseRegistrations>) {\n      const courseRegistrations: AdminPanelCourseRegistration[] = [\n        ...mockAdminPanelCourseRegistrations\n      ];\n      yield put(actions.setAdminPanelCourseRegistrations(courseRegistrations));\n    }\n  );\n\n  yield takeEvery(FETCH_GROUP_GRADING_SUMMARY, function* () {\n    yield put(actions.updateGroupGradingSummary({ ...mockGradingSummary }));\n  });\n}\n","import moment from 'moment';\n\nconst now = new Date();\n\nexport const isExpired = (deadline?: Date) => deadline !== undefined && deadline <= now;\n\nexport const isReleased = (release?: Date) => release === undefined || release <= now;\n\nexport const isWithinTimeRange = (fromTime?: Date, toTime?: Date) => {\n  // if bounds not specified, return true\n  if (fromTime === undefined && toTime === undefined) {\n    return true;\n  }\n\n  // express times as numbers\n  const now = new Date();\n  const currentTime = now.getHours() * 100 + now.getMinutes();\n  const leftBound =\n    fromTime === undefined ? undefined : fromTime.getHours() * 100 + fromTime.getMinutes();\n  const rightBound =\n    toTime === undefined ? undefined : toTime.getHours() * 100 + toTime.getMinutes();\n\n  if (leftBound === undefined) {\n    return currentTime <= rightBound!;\n  } else if (rightBound === undefined) {\n    return currentTime >= leftBound!;\n  } else if (leftBound >= rightBound) {\n    // happens when, for example, leftBound = 2300, rightBound = 0100\n    return currentTime <= rightBound || currentTime >= leftBound;\n  } else {\n    return currentTime <= rightBound && currentTime >= leftBound;\n  }\n};\n\nexport const timeFromExpired = (deadline?: Date) =>\n  deadline === undefined ? 0 : deadline.getTime() - now.getTime();\n\nexport const prettifyDate = (deadline?: Date) => {\n  if (deadline === undefined) return '';\n\n  return moment(deadline).format('D MMMM YYYY HH:mm');\n};\n\nexport const prettifyTime = (time?: Date) => {\n  if (time === undefined) return '';\n  return moment(time).format('HH:mm');\n};\n\n// Converts Date to deadline countdown\nexport const prettifyDeadline = (deadline?: Date) => {\n  if (deadline === undefined) {\n    return 'Unlimited';\n  } else if (isExpired(deadline)) {\n    return 'Expired';\n  }\n\n  const now = moment();\n\n  const weeksAway = Math.ceil(moment(deadline).diff(now, 'weeks', true));\n  const daysAway = Math.ceil(moment(deadline).diff(now, 'days', true));\n  const hoursAway = Math.ceil(moment(deadline).diff(now, 'hours', true));\n\n  let prettifiedDeadline = '';\n  if (weeksAway > 1) {\n    prettifiedDeadline = weeksAway + ' Weeks';\n  } else if (daysAway > 1) {\n    prettifiedDeadline = daysAway + ' Days';\n  } else if (hoursAway > 1) {\n    prettifiedDeadline = hoursAway + ' Hours';\n  } else {\n    prettifiedDeadline = '1 Hour';\n  }\n\n  return prettifiedDeadline;\n};\n","import { cloneDeep, uniq } from 'lodash';\nimport { v4 } from 'uuid';\n\nimport {\n  AchievementGoal,\n  AchievementItem,\n  AchievementStatus,\n  defaultGoalProgress,\n  GoalDefinition,\n  GoalProgress,\n  GoalType\n} from '../../../features/achievement/AchievementTypes';\nimport { showDangerMessage } from '../../utils/NotificationsHelper';\nimport { isExpired, isReleased } from './DateHelper';\n\n/**\n * An AchievementNode item encapsulates all important information of an achievement item\n *\n * @param {AchievementItem} achievement the achievement item\n * @param {Date | undefined} displayDeadline deadline displayed on the achievement card\n * @param {number} xp attained XP of the achievement\n * @param {number} progressFrac progress percentage in fraction. It is always between 0 to 1, both inclusive.\n * @param {AchievementStatus} status the achievement status\n * @param {Set<string>} children a set of immediate prerequisites uuid\n * @param {Set<string>} descendant a set of all descendant prerequisites uuid (including immediate prerequisites)\n * @param {Set<string>} parents a set of all immediate parent uuid\n */\nclass AchievementNode {\n  public achievement: AchievementItem;\n  public displayDeadline?: Date;\n  public xp: number;\n  public progressFrac: number;\n  public status: AchievementStatus;\n  public children: Set<string>;\n  public descendant: Set<string>;\n  public parents: Set<string>;\n\n  constructor(achievement: AchievementItem) {\n    const { deadline, prerequisiteUuids } = achievement;\n\n    this.achievement = achievement;\n    this.displayDeadline = deadline;\n    this.xp = 0;\n    this.progressFrac = 0;\n    this.status = AchievementStatus.ACTIVE;\n    this.children = new Set(prerequisiteUuids);\n    this.descendant = new Set(prerequisiteUuids);\n    this.parents = new Set();\n  }\n}\n\n/**\n * The AchievementInferencer consumes achievements and goals, then infers useful React props\n *\n * Note: The inferencer is responsible for assigning new UUIDs to AchievementItem and AchievementGoal\n */\nclass AchievementInferencer {\n  private nodeList: Map<string, AchievementNode> = new Map(); // key = achievementUuid, value = AchievementNode\n  private goalList: Map<string, AchievementGoal> = new Map(); // key = goalUuid, value = AchievementGoal\n  private textToUuid: Map<string, string> = new Map(); // key = goalText, value = goalUuid\n  private titleToUuid: Map<string, string> = new Map(); // key = achievementTitle, value = achievementUuid\n  private achievementsToDelete: string[] = [];\n  private goalsToDelete: string[] = [];\n\n  constructor(achievements: AchievementItem[], goals: AchievementGoal[]) {\n    this.nodeList = this.constructNodeList(achievements);\n    this.goalList = this.constructGoalList(goals);\n    this.processNodes();\n    this.processGoals();\n  }\n\n  /**\n   * Invalid Goal for the getters to return if the goal does not exist in the goalList\n   */\n  private invalidGoal: AchievementGoal = {\n    uuid: 'invalid',\n    text: 'invalid',\n    achievementUuids: [],\n    meta: { type: GoalType.MANUAL, targetCount: 0 },\n    count: 0,\n    targetCount: 0,\n    completed: false\n  };\n\n  /**\n   * Invalid Achievement for the getters to return if the goal does not exist in the goalList\n   */\n  private invalidAchievement: AchievementItem = {\n    uuid: 'invalid',\n    title: 'invalid',\n    xp: 0,\n    isVariableXp: false,\n    deadline: undefined,\n    release: undefined,\n    isTask: false,\n    position: 0,\n    prerequisiteUuids: [],\n    goalUuids: [],\n    cardBackground: 'invalid',\n    view: { coverImage: 'invalid', description: 'invalid', completionText: 'invalid' }\n  };\n\n  /**\n   * Returns an array of AchievementItem\n   */\n  public getAllAchievements() {\n    return [...this.nodeList.values()].map(node => node.achievement);\n  }\n\n  /**\n   * Returns an array of AchievementItem that have been released\n   */\n  public getAllReleasedAchievements() {\n    return [...this.nodeList.values()]\n      .filter(node => node.status !== AchievementStatus.UNRELEASED)\n      .map(node => node.achievement);\n  }\n\n  public getAllCompletedAchievements() {\n    return [...this.nodeList.values()]\n      .filter(node => node.status === AchievementStatus.COMPLETED)\n      .map(node => node.achievement);\n  }\n\n  /**\n   * Returns an array of achievementUuid\n   */\n  public getAllAchievementUuids() {\n    return [...this.nodeList.keys()];\n  }\n\n  /**\n   * Returns an array of AchievementGoal\n   */\n  public getAllGoals() {\n    return [...this.goalList.values()];\n  }\n\n  /**\n   * Returns an array of goalUuid\n   */\n  public getAllGoalUuids() {\n    return [...this.goalList.keys()];\n  }\n\n  /**\n   * Returns true if achievement exists\n   */\n  public hasAchievement(uuid: string) {\n    return this.nodeList.has(uuid);\n  }\n\n  /**\n   * Returns true if the achievement is a prerequisite of another achievement\n   *\n   * @param uuid Achievement uuid\n   */\n  public isPrerequisite(uuid: string) {\n    const node = this.nodeList.get(uuid);\n    return node ? node.parents.size > 0 : false;\n  }\n\n  /**\n   * Returns the AchievementItem\n   * Returns an invalid achievement item if the achievement is not in the map\n   *\n   * @param uuid Achievement Uuid\n   */\n  public getAchievement(uuid: string) {\n    const node = this.nodeList.get(uuid);\n    return node ? node.achievement : this.invalidAchievement;\n  }\n\n  /**\n   * Returns true if goal exists\n   */\n  public hasGoal(uuid: string) {\n    return this.goalList.has(uuid);\n  }\n\n  /**\n   * Returns the AchievementGoal\n   * Returns an invalid goal if the goal is not in the map\n   *\n   * @param uuid Goal Uuid\n   */\n  public getGoal(uuid: string) {\n    return this.goalList.get(uuid) || this.invalidGoal;\n  }\n\n  /**\n   * Returns the GoalDefinition\n   *\n   * @param uuid Goal Uuid\n   */\n  public getGoalDefinition(uuid: string) {\n    return this.getGoal(uuid) as GoalDefinition;\n  }\n\n  public getGoalProgress(uuid: string) {\n    return this.getGoal(uuid) as GoalProgress;\n  }\n\n  /**\n   * Returns the position of the achievement\n   *\n   * @param uuid Achievement Uuid\n   */\n  public getAchievementPositionByUuid(uuid: string) {\n    return this.getAchievement(uuid).position;\n  }\n\n  /**\n   * Returns the uuids of the achievements that were deleted\n   */\n  public getAchievementsToDelete() {\n    return this.achievementsToDelete;\n  }\n\n  /**\n   * Returns the uuids of the goals that were deleted\n   */\n  public getGoalsToDelete() {\n    return this.goalsToDelete;\n  }\n\n  /**\n   * Resets the array so the same achievement/goal is not deleted twice\n   */\n  public resetToDelete() {\n    this.achievementsToDelete = [];\n    this.goalsToDelete = [];\n  }\n\n  /**\n   * Returns an array of achievements that use the goal\n   *\n   * @param goalUuid UUID of the goal in question\n   */\n  public getAchievementsByGoal(goalUuid: string) {\n    return this.getGoal(goalUuid).achievementUuids;\n  }\n\n  public listSortedAchievementUuids() {\n    return this.getAllAchievements()\n      .sort((a, b) => a.position - b.position)\n      .map(achievement => achievement.uuid);\n  }\n\n  /**\n   * Returns true if the goal is invalid\n   *\n   * @param goal An AchievementGoal\n   */\n  public isInvalidGoal(goal: AchievementGoal) {\n    return goal === this.invalidGoal;\n  }\n\n  /**\n   * Returns true if the achievement is invalid\n   *\n   * @param achievement An AchievementItem\n   */\n  public isInvalidAchievement(achievement: AchievementItem) {\n    return achievement === this.invalidAchievement;\n  }\n\n  /**\n   * Inserts a new AchievementItem into the Inferencer,\n   * then returns the newly assigned achievementUuid\n   *\n   * @param achievement the AchievementItem\n   */\n  public insertAchievement(achievement: AchievementItem) {\n    // first, generate a new unique uuid\n    let newUuid = v4();\n    // a small overhead to truly guarantee uniqueness\n    while (this.nodeList.has(newUuid)) {\n      newUuid = v4();\n    }\n\n    // then assign the new unique uuid by overwriting the achievement item supplied by param\n    // and insert it into nodeList\n    achievement.uuid = newUuid;\n\n    this.nodeList.set(newUuid, new AchievementNode(achievement));\n\n    // finally, process the nodeList\n    this.processNodes();\n    this.normalizePositions(achievement.uuid, achievement.position);\n\n    return newUuid;\n  }\n\n  /**\n   * Inserts a new AchievementItem into the Inferencer,\n   * then returns the newly assigned achievementUuid.\n   * Used for inserting assessment achievements on the fly.\n   *\n   * @param achievement the AchievementItem\n   */\n  public insertFakeAchievement(achievement: AchievementItem) {\n    // and insert it into nodeList\n    this.nodeList.set(achievement.uuid, new AchievementNode(achievement));\n\n    // finally, process the nodeList\n    this.processNodes();\n    this.normalizePositions(achievement.uuid, achievement.position);\n\n    return achievement.uuid;\n  }\n\n  /**\n   * Inserts a new GoalDefinition into the Inferencer,\n   * then returns the newly assigned goalUuid\n   *\n   * @param definition the GoalDefinition\n   */\n  public insertGoalDefinition(definition: GoalDefinition) {\n    // first, generate a new unique uuid by finding the max uuid\n    let newUuid = v4();\n    // a small overhead to truly guarantee uniqueness\n    while (this.goalList.has(newUuid)) {\n      newUuid = v4();\n    }\n\n    // then assign the new unique uuid by overwriting the goal item supplied by param\n    // and insert it into goalList\n    definition.uuid = newUuid;\n    this.goalList.set(newUuid, { ...definition, ...defaultGoalProgress });\n\n    // finally, process the goalList\n    this.processGoals();\n\n    return newUuid;\n  }\n\n  /**\n   * Inserts a new GoalDefinition into the Inferencer,\n   * then returns the newly assigned goalUuid\n   * Used for inserting assessment goals on the fly\n   *\n   * @param definition the GoalDefinition\n   * @param complete whether the goal should be marked as completed or not\n   */\n  public insertFakeGoalDefinition(definition: GoalDefinition, complete: boolean) {\n    // then assign the new unique uuid by overwriting the goal item supplied by param\n    // and insert it into goalList\n    if (complete) {\n      this.goalList.set(definition.uuid, {\n        ...definition,\n        count: 1,\n        targetCount: 1,\n        completed: true\n      });\n    } else {\n      this.goalList.set(definition.uuid, {\n        ...definition,\n        count: 0,\n        targetCount: 1,\n        completed: false\n      });\n    }\n\n    // finally, process the goalList\n    this.processGoals();\n\n    return definition.uuid;\n  }\n\n  /**\n   * Updates the AchievementItem in the Inferencer\n   *\n   * @param achievement the AchievementItem\n   */\n  public modifyAchievement(achievement: AchievementItem) {\n    // directly replace the AchievementNode in nodeList\n    this.nodeList.set(achievement.uuid, new AchievementNode(achievement));\n\n    // then, process the nodeList\n    this.processNodes();\n    this.normalizePositions(achievement.uuid, achievement.position);\n  }\n\n  /**\n   * Updates the GoalDefinition in the Inferencer\n   *\n   * @param definition the GoalDefinition\n   */\n  public modifyGoalDefinition(definition: GoalDefinition) {\n    // directly replace the GoalDefinition in goalList\n    this.goalList.set(definition.uuid, { ...definition, ...defaultGoalProgress });\n\n    // then, process the nodeList and goalList\n    this.processNodes();\n    this.processGoals();\n  }\n\n  public modifyGoalProgress(progress: GoalProgress) {\n    const goal = this.getGoal(progress.uuid);\n    if (this.isInvalidGoal(goal)) {\n      return;\n    }\n    this.goalList.set(progress.uuid, { ...goal, ...progress });\n\n    const achievementUuids = goal.achievementUuids;\n    for (const uuid in achievementUuids) {\n      const node = this.nodeList.get(uuid);\n      if (node) {\n        this.generateXp(node);\n        this.generateProgressFrac(node);\n        this.generateStatus(node);\n      }\n    }\n  }\n\n  /**\n   * Removes the AchievementItem from the Inferencer\n   *\n   * @param targetUuid Achievement Uuid\n   */\n  public removeAchievement(targetUuid: string) {\n    const hasTarget = (node: AchievementNode) => node.children.has(targetUuid);\n\n    const sanitizeNode = (node: AchievementNode) => {\n      const newPrerequisiteUuids = node.achievement.prerequisiteUuids.filter(\n        uuid => uuid !== targetUuid\n      );\n      node.achievement.prerequisiteUuids = newPrerequisiteUuids;\n\n      return new AchievementNode(node.achievement);\n    };\n\n    // first, remove achievement from node list\n    this.nodeList.delete(targetUuid);\n    // then, remove reference of the target in other achievement's prerequisite\n    this.nodeList.forEach((node, uuid) => {\n      if (hasTarget(node)) {\n        this.nodeList.set(uuid, sanitizeNode(node));\n      }\n    });\n\n    // add the achievement to the list of things to delete\n    this.achievementsToDelete.push(targetUuid);\n\n    // finally, process the nodeList\n    this.processNodes();\n    this.normalizePositions();\n  }\n\n  /**\n   * Removes the GoalDefinition from the Inferencer\n   *\n   * @param targetUuid Goal Uuid\n   */\n  public removeGoalDefinition(targetUuid: string) {\n    const findTargetIndex = (node: AchievementNode) =>\n      node.achievement.goalUuids.findIndex(uuid => uuid === targetUuid);\n\n    const sanitizeNode = (node: AchievementNode) => {\n      const targetIndex = findTargetIndex(node);\n      if (targetIndex !== -1) {\n        node.achievement.goalUuids.splice(targetIndex, 1);\n      }\n    };\n\n    // first, remove goal from goal list\n    this.goalList.delete(targetUuid);\n    // then, remove the goalUuid from all achievement goalUuids\n    this.nodeList.forEach(node => sanitizeNode(node));\n\n    // add the goal to the list of things to delete\n    this.goalsToDelete.push(targetUuid);\n\n    // finally, process the nodeList and goalList\n    this.processNodes();\n    this.processGoals();\n  }\n\n  /**\n   * Returns an array of achievementUuid that isTask or is completed\n   */\n  public listTaskUuids() {\n    return this.getAllAchievements()\n      .filter(achievement => achievement.isTask || this.isCompleted(achievement))\n      .map(task => task.uuid);\n  }\n\n  /**\n   * Returns an array of achievementId that isTask or is completed sorted by position\n   */\n  public listSortedTaskUuids() {\n    return this.getAllAchievements()\n      .filter(achievement => achievement.isTask || this.isCompleted(achievement))\n      .sort((taskA, taskB) => taskA.position - taskB.position)\n      .map(sortedTask => sortedTask.uuid);\n  }\n\n  /**\n   * Returns an array of achievementId that isTask or is completed sorted by position\n   */\n  public listSortedReleasedTaskUuids() {\n    return this.getAllReleasedAchievements()\n      .filter(achievement => achievement.isTask || this.isCompleted(achievement))\n      .sort((taskA, taskB) => taskA.position - taskB.position)\n      .map(sortedTask => sortedTask.uuid);\n  }\n\n  /**\n   * Returns an array of achievementId sorted by position\n   */\n  public listAllSortedAchievementUuids() {\n    return this.getAllAchievements()\n      .sort((taskA, taskB) => taskA.position - taskB.position)\n      .map(sortedTask => sortedTask.uuid);\n  }\n\n  /**\n   * Returns whether an achievement is completed or not.\n   *\n   * NOTE: It might be better (more efficient) to simply have a completed proporty on each achievement.\n   */\n  public isCompleted(achievement: AchievementItem) {\n    const goalLength = achievement.goalUuids.length;\n    const prereqLength = achievement.prerequisiteUuids.length;\n\n    // an achievement with no goals and prerequisites should not be considered complete\n    if (goalLength === 0 && prereqLength === 0) {\n      return false;\n    }\n\n    // if any of the goals are not complete, return false\n    for (let i = 0; i < goalLength; i++) {\n      if (!this.getGoal(achievement.goalUuids[i]).completed) {\n        return false;\n      }\n    }\n    // if any of the prereqs are not complete, return false\n    for (let i = 0; i < prereqLength; i++) {\n      if (!this.isCompleted(this.getAchievement(achievement.prerequisiteUuids[i]))) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Returns an array of AchievementGoal which belongs to the achievement\n   *\n   * @param uuid Achievement Uuid\n   */\n  public listGoals(uuid: string) {\n    const { goalUuids } = this.getAchievement(uuid);\n    return goalUuids.map(goalUuid => this.getGoal(goalUuid));\n  }\n\n  /**\n   * Returns an array of AchievementGoal which belongs to the prerequisites of the achievement\n   *\n   * @param uuid Achievement Uuid\n   */\n  public listPrerequisiteGoals(uuid: string) {\n    const childGoalUuids: string[] = [];\n    for (const childUuid of this.getImmediateChildren(uuid)) {\n      const { goalUuids } = this.getAchievement(childUuid);\n      goalUuids.forEach(goalUuid => childGoalUuids.push(goalUuid));\n    }\n\n    return childGoalUuids.map(goalUuid => this.getGoal(goalUuid));\n  }\n\n  /**\n   * Returns the Goal Uuid associate to the Goal Text or undefined\n   *\n   * @param text goalText\n   */\n  public getUuidByText(text: string) {\n    return this.textToUuid.get(text);\n  }\n\n  /**\n   * Returns the Goal Text associate to the Goal Uuid or undefined\n   *\n   * @param text goalUuid\n   */\n  public getTextByUuid(uuid: string) {\n    return this.getGoal(uuid).text;\n  }\n\n  /**\n   * Returns the Achievement Uuid associate to the Achievement Title or undefined\n   *\n   * @param title achievementTitle\n   */\n  public getUuidByTitle(title: string) {\n    return this.titleToUuid.get(title);\n  }\n\n  /**\n   * Returns the Achievement Title associate to the Achievement Uuid or undefined\n   *\n   * @param text achievementUuid\n   */\n  public getTitleByUuid(uuid: string) {\n    return this.getAchievement(uuid).title;\n  }\n\n  /**\n   * Returns XP earned from the achievement\n   *\n   * @param uuid Achievement Uuid\n   */\n  public getAchievementXp(uuid: string) {\n    const achievement = this.getAchievement(uuid);\n    if (achievement.isVariableXp) {\n      return this.listGoals(achievement.uuid).reduce((xp, goal) => xp + goal.count, 0);\n    } else {\n      return achievement.xp;\n    }\n  }\n\n  /**\n   * Returns total XP earned from all achievements\n   */\n  public getTotalXp() {\n    return this.getAllCompletedAchievements().reduce(\n      (totalXp, achievement) => totalXp + this.getAchievementXp(achievement.uuid),\n      0\n    );\n  }\n\n  /**\n   * Returns the achievement progress percentage in fraction\n   *\n   * @param uuid Achievement Uuid\n   */\n  public getProgressFrac(uuid: string) {\n    return this.nodeList.has(uuid) ? this.nodeList.get(uuid)!.progressFrac : 0;\n  }\n\n  /**\n   * Returns the achievement status\n   *\n   * @param uuid Achievement Uuid\n   */\n  public getStatus(uuid: string) {\n    return this.nodeList.has(uuid) ? this.nodeList.get(uuid)!.status : AchievementStatus.ACTIVE;\n  }\n\n  /**\n   * Returns the achievement display deadline\n   *\n   * @param uuid Achievement Uuid\n   */\n  public getDisplayDeadline(uuid: string) {\n    return this.nodeList.has(uuid) ? this.nodeList.get(uuid)!.displayDeadline : undefined;\n  }\n\n  /**\n   * Returns true if the child is a prerequisite of parent achievement\n   *\n   * @param uuid Parent Achievement Uuid\n   * @param childUuid Child Achievement Uuid\n   */\n  public isImmediateChild(uuid: string, childUuid: string) {\n    return this.nodeList.has(uuid) ? this.nodeList.get(uuid)!.children.has(childUuid) : false;\n  }\n\n  /**\n   * Returns a set of prerequisite uuid\n   *\n   * @param uuid Achievement Uuid\n   */\n  public getImmediateChildren(uuid: string) {\n    return this.nodeList.has(uuid) ? this.nodeList.get(uuid)!.children : new Set<string>();\n  }\n\n  /**\n   * Returns true if an achievement is a descendant of ancestor achievement\n   *\n   * @param uuid Ancestor Achievement Uuid\n   * @param childUuid Descendant Achievement Uuid\n   */\n  public isDescendant(uuid: string, childUuid: string) {\n    return this.nodeList.has(uuid) ? this.nodeList.get(uuid)!.descendant.has(childUuid) : false;\n  }\n\n  /**\n   * Returns a set of descendant uuid\n   *\n   * @param uuid Achievement Uuid\n   */\n  public getDescendants(uuid: string) {\n    return this.nodeList.has(uuid) ? this.nodeList.get(uuid)!.descendant : new Set<string>();\n  }\n\n  /**\n   * Returns the total XP of the achievement and all its descendants\n   *\n   * @param uuid Achievement uuid\n   */\n  public getDescendantXp(uuid: string) {\n    let totalXp = this.getAchievementXp(uuid);\n\n    this.getDescendants(uuid).forEach(descendantUuid => {\n      if (this.isCompleted(this.getAchievement(descendantUuid))) {\n        totalXp += this.getAchievementXp(descendantUuid);\n      }\n    });\n\n    return totalXp;\n  }\n\n  /**\n   * Returns a list of achievementUuid that may be a prerequisite of the achievement\n   *\n   * @param uuid Achievement Uuid\n   */\n  public listAvailablePrerequisiteUuids(uuid: string) {\n    return this.getAllAchievementUuids().filter(\n      target =>\n        target !== uuid && !this.isDescendant(uuid, target) && !this.isDescendant(target, uuid)\n    );\n  }\n\n  /**\n   * Recalculates the AchievementNode data of each achievements, O(N) operation\n   */\n  private processNodes() {\n    this.titleToUuid = new Map();\n\n    this.nodeList.forEach(node => {\n      const { title, uuid } = node.achievement;\n      this.titleToUuid.set(title, uuid);\n\n      node.achievement.prerequisiteUuids = uniq(node.achievement.prerequisiteUuids);\n      node.achievement.goalUuids = uniq(node.achievement.goalUuids);\n\n      this.generateParentReference(node);\n      this.generateDescendant(node);\n      this.generateDisplayDeadline(node);\n      this.generateXp(node);\n      this.generateProgressFrac(node);\n      this.generateStatus(node);\n    });\n  }\n\n  private processGoals() {\n    this.textToUuid = new Map();\n\n    this.goalList.forEach(goal => {\n      const { text, uuid } = goal;\n      this.textToUuid.set(text, uuid);\n      goal.achievementUuids = uniq(goal.achievementUuids);\n    });\n  }\n\n  /**\n   * Returns a new nodeList constructed based on achievements\n   *\n   * @param achievements an array of AchievementItem\n   */\n  private constructNodeList(achievements: AchievementItem[]) {\n    const nodeList = new Map<string, AchievementNode>();\n    achievements.forEach(achievement =>\n      nodeList.set(achievement.uuid, new AchievementNode(cloneDeep(achievement)))\n    );\n    return nodeList;\n  }\n\n  /**\n   * Returns a new goalList constructed based on goals\n   *\n   * @param goals an array of AchievementGoal\n   */\n  private constructGoalList(goals: AchievementGoal[]) {\n    const goalList = new Map<string, AchievementGoal>();\n    goals.forEach(goal => goalList.set(goal.uuid, cloneDeep(goal)));\n    return goalList;\n  }\n\n  /**\n   * Mark immediate children's parent as this node\n   *\n   * @param node The AchievementNode\n   */\n  private generateParentReference(node: AchievementNode) {\n    // Mark immediate childeren\n    for (const childUuid of node.children) {\n      this.nodeList.get(childUuid)?.parents.add(node.achievement.uuid);\n    }\n  }\n\n  /**\n   * Recursively append grandchildren's uuid to children, O(N) operation\n   *\n   * @param node the AchievementNode\n   */\n  private generateDescendant(node: AchievementNode) {\n    for (const childUuid of node.descendant) {\n      if (childUuid === node.achievement.uuid) {\n        const { title } = node.achievement;\n        // Note: not the best error handling practice, but as long as admin verifies the\n        // data in AchievementPreview and do not publish new achievements with circular\n        // dependency error, it should be suffice\n        showDangerMessage(`Circular dependency detected in achievement ${title}`, 30000);\n      }\n      for (const grandchildUuid of this.getDescendants(childUuid)) {\n        // Newly added grandchild is appended to the back of the set.\n        node.descendant.add(grandchildUuid);\n        // Hence the great grandchildren will be added when the iterator reaches there\n      }\n    }\n  }\n\n  /**\n   * Set the node's display deadline by comparing with all descendants' deadlines\n   *\n   * Displays the closest unexpired deadline of all descendants. If none (e.g. descendant\n   * deadlines are expired or undefined), then display the node's own deadline\n   *\n   * @param node the AchievementNode\n   */\n  private generateDisplayDeadline(node: AchievementNode) {\n    // Comparator of two deadlines\n    const compareDeadlines = (\n      displayDeadline: Date | undefined,\n      currentDeadline: Date | undefined\n    ) => {\n      if (currentDeadline === undefined || isExpired(currentDeadline)) {\n        // currentDeadline undefined or expired, nothing change\n        return displayDeadline;\n      } else if (displayDeadline === undefined) {\n        return currentDeadline;\n      } else {\n        // currentDeadline unexpired, displayDeadline may or may not expired\n        // hence display the closest unexpired deadline\n        return isExpired(displayDeadline) || currentDeadline < displayDeadline\n          ? currentDeadline\n          : displayDeadline;\n      }\n    };\n\n    // Temporary array of all descendants' deadlines\n    const descendantDeadlines: (Date | undefined)[] = [];\n    for (const childUuid of node.descendant) {\n      const childDeadline = this.getAchievement(childUuid).deadline;\n      descendantDeadlines.push(childDeadline);\n    }\n\n    // Reduces the temporary array to a single Date value\n    node.displayDeadline = descendantDeadlines.reduce(compareDeadlines, node.displayDeadline);\n  }\n\n  /**\n   * Calculates the achievement attained XP\n   *\n   * @param node the AchievementNode\n   */\n  private generateXp(node: AchievementNode) {\n    const { goalUuids, isVariableXp } = node.achievement;\n    const allGoalsCompleted = goalUuids.reduce(\n      (completion, goalUuid) => completion && this.getGoal(goalUuid).completed,\n      true\n    );\n    node.xp = allGoalsCompleted\n      ? isVariableXp\n        ? goalUuids.reduce((xp, goalUuid) => xp + this.getGoal(goalUuid).count, 0)\n        : node.achievement.xp\n      : 0;\n  }\n\n  /**\n   * Calculates the achievement progress percentage between [0..1]\n   *\n   * @param node the AchievementNode\n   */\n  private generateProgressFrac(node: AchievementNode) {\n    const { goalUuids } = node.achievement;\n    if (goalUuids.length === 0) {\n      node.progressFrac = 0;\n    } else {\n      const num = goalUuids.reduce((count, goalUuid) => count + this.getGoal(goalUuid).count, 0);\n      const denom = goalUuids.reduce(\n        (count, goalUuid) => count + this.getGoal(goalUuid).targetCount,\n        0\n      );\n      node.progressFrac = Math.min(denom === 0 ? 0 : num / denom, 1);\n    }\n  }\n\n  /**\n   * Generates the achievement status\n   *\n   * AchievementStatus.COMPLETED if contains goals and all goals completed\n   * AchievementStatus.ACTIVE if has at least 1 active descendant\n   * AchievementStatus.EXPIRED if none of the above\n   *\n   * @param node the AchievementNode\n   */\n  private generateStatus(node: AchievementNode) {\n    // checks if the achievement's goals and prereqs are complete\n    const achievementCompleted = this.isCompleted(node.achievement);\n\n    const hasReleased = isReleased(node.achievement.release);\n    const hasUnexpiredDeadline = !isExpired(node.displayDeadline);\n\n    node.status = achievementCompleted\n      ? AchievementStatus.COMPLETED\n      : hasReleased\n      ? hasUnexpiredDeadline\n        ? AchievementStatus.ACTIVE\n        : AchievementStatus.EXPIRED\n      : AchievementStatus.UNRELEASED;\n  }\n\n  /**\n   * Reassign the achievement position number without changing their orders.\n   * If anchorUuid and anchorPosition is supplied, the anchor achievement is\n   * guaranteed to have its position set at anchorPosition.\n   *\n   * @param anchorUuid anchor achievementUuid\n   * @param anchorPosition anchor position\n   */\n  private normalizePositions(anchorUuid?: string, anchorPosition?: number) {\n    let newPosition = 1;\n    this.getAllAchievements()\n      .filter(achievement => achievement.isTask)\n      .filter(achievement => achievement.position >= 0) // force negative position tasks to show up on top\n      .sort((taskA, taskB) => taskA.position - taskB.position)\n      .forEach(sortedTask => (sortedTask.position = newPosition++));\n    this.getAllAchievements()\n      .filter(achievement => !achievement.isTask)\n      .forEach(nonTask => (nonTask.position = 0));\n\n    // If some achievement got misplaced at the anchorPosition, swap it\n    // back with the anchor achievement\n    if (anchorUuid && anchorPosition && anchorPosition !== 0) {\n      const anchorAchievement = this.getAchievement(anchorUuid);\n      const newPosition = anchorAchievement.position;\n      if (newPosition !== anchorPosition) {\n        const misplacedAchievement = this.getAllAchievements().find(\n          achievement => achievement.position === anchorPosition\n        );\n        if (misplacedAchievement) {\n          misplacedAchievement.position = newPosition;\n          anchorAchievement.position = anchorPosition;\n        }\n      }\n    }\n  }\n}\n\nexport default AchievementInferencer;\n","import React from 'react';\n\nimport AchievementInferencer from '../../commons/achievement/utils/AchievementInferencer';\nimport { Links } from '../../commons/utils/Constants';\nimport { FilterStatus } from './AchievementTypes';\n\nexport const AchievementContext = React.createContext(new AchievementInferencer([], []));\n\nexport enum DeadlineColors {\n  RED = '#f00',\n  BLACK = '#000'\n}\n\nexport enum FilterColors {\n  BLUE = '#4df',\n  WHITE = '#fff'\n}\n\nexport const achievementAssets = `${Links.sourceAcademyAssets}achievement`;\nexport const backgroundUrl = `${achievementAssets}/view-background`;\nexport const cardBackgroundUrl = `${achievementAssets}/card-background`;\nexport const coverImageUrl = `${achievementAssets}/cover-image`;\n\n// Keeping these urls in as comments in case future changes want to use them\n\nexport const getAbilityBackground = () => {\n  return {\n    background: `url(${backgroundUrl}/exploration.png) no-repeat center/cover`\n  };\n  /*\n  switch (ability) {\n    case AchievementAbility.CORE:\n      return {\n        background: `url(${backgroundUrl}/core.png) no-repeat center/cover`\n      };\n    case AchievementAbility.EFFORT:\n      return {\n        background: `url(${backgroundUrl}/effort.png) no-repeat center/cover`\n      };\n    case AchievementAbility.EXPLORATION:\n      return {\n        background: `url(${backgroundUrl}/exploration.png) no-repeat center/cover`\n      };\n    case AchievementAbility.COMMUNITY:\n      return {\n        background: `url(${backgroundUrl}/community.png) no-repeat center/cover`\n      };\n    case AchievementAbility.FLEX:\n      return {\n        background: `url(${backgroundUrl}/flex.png) no-repeat center/cover`\n      };\n    default:\n      return {\n        background: ``\n      };\n  }\n  */\n};\n\nexport const getAbilityColor = () => {\n  return '#9ce'; // blue\n  /*\n  switch (ability) {\n    case AchievementAbility.CORE:\n      return '#fb0'; // gold\n    case AchievementAbility.EFFORT:\n      return '#bf6'; // green\n    case AchievementAbility.EXPLORATION:\n      return '#9ce'; // blue\n    case AchievementAbility.COMMUNITY:\n      return '#f68'; // pink\n    case AchievementAbility.FLEX:\n      return '#fff'; // white\n    default:\n      return '';\n  }\n  */\n};\n\nexport const getAbilityGlow = () => ({\n  border: `1px solid ${getAbilityColor()}`,\n  boxShadow: `0 0 10px ${getAbilityColor()}`\n});\n/*\n  ability === AchievementAbility.FLEX\n    ? {\n        border: `1px solid ${getAbilityColor(ability)}`,\n        boxShadow: `\n          0 0 10px #ff0,   \n          -1px 0 9px #f0f, \n          1px 0 9px #0ff`\n      }\n    : {\n        border: `1px solid ${getAbilityColor(ability)}`,\n        boxShadow: `0 0 10px ${getAbilityColor(ability)}`\n      };\n  */\n\nexport const getFilterColor = (globalStatus: FilterStatus, ownStatus: FilterStatus) =>\n  globalStatus === ownStatus ? FilterColors.BLUE : FilterColors.WHITE;\n\n// Make selected achievement + view glow\nexport const handleGlow = (uuid: string, focusUuid: string) =>\n  uuid === focusUuid ? getAbilityGlow() : undefined;\n\nexport const xpPerLevel = 1000;\n","import { Button, Checkbox, MenuItem, NumericInput } from '@blueprintjs/core';\nimport { ItemPredicate, ItemRenderer, Select } from '@blueprintjs/select';\nimport { useContext, useEffect, useState } from 'react';\nimport { AchievementContext } from 'src/features/achievement/AchievementConstants';\nimport {\n  AchievementGoal,\n  AchievementUser,\n  GoalProgress\n} from 'src/features/achievement/AchievementTypes';\n\nimport { showSuccessMessage, showWarningMessage } from '../utils/NotificationsHelper';\n\ntype AchievementManualEditorProps = {\n  hiddenState: [boolean, any];\n  userState: [AchievementUser | undefined, any];\n  studio: string;\n  users: AchievementUser[];\n  getUsers: () => void;\n  updateGoalProgress: (studentCourseRegId: number, progress: GoalProgress) => void;\n};\n\nconst GoalSelect = Select.ofType<AchievementGoal>();\nconst goalRenderer: ItemRenderer<AchievementGoal> = (goal, { handleClick }) => (\n  <MenuItem key={goal.uuid} onClick={handleClick} text={goal.text} />\n);\nconst goalPredicate: ItemPredicate<AchievementGoal> = (query, item) =>\n  item.text.toLowerCase().includes(query.toLowerCase());\n\nconst UserSelect = Select.ofType<AchievementUser>();\nconst userRenderer: ItemRenderer<AchievementUser> = (user, { handleClick }) => (\n  <MenuItem key={user.courseRegId} onClick={handleClick} text={user.name || user.username} />\n);\nconst userPredicate: ItemPredicate<AchievementUser> = (query, item) =>\n  [item.name, item.username, item.group].reduce(\n    (acc: boolean, x) => (x ? acc || x.toLowerCase().includes(query.toLowerCase()) : acc),\n    false\n  );\n\nexport function updateGoalProcessed() {\n  showSuccessMessage('Goal updated');\n}\n\nfunction AchievementManualEditor(props: AchievementManualEditorProps) {\n  const { userState, hiddenState, studio, getUsers, updateGoalProgress } = props;\n  const users =\n    studio === 'Staff'\n      ? // The name can be null for users who have yet to log in. We push these to the back of the array.\n        [...props.users].sort(\n          (user1, user2) =>\n            user1.name != null && user2.name != null\n              ? user1.name.localeCompare(user2.name)\n              : user1.name == null\n              ? 1 // user1.name is null, user1 > user2\n              : -1 // user2.name is null, user1 < user2\n        )\n      : props.users\n          .filter(user => user.group === studio)\n          .sort(\n            (user1, user2) =>\n              user1.name != null && user2.name != null\n                ? user1.name.localeCompare(user2.name)\n                : user1.name == null\n                ? 1 // user1.name is null, user1 > user2\n                : -1 // user2.name is null, user1 < user2\n          );\n\n  useEffect(getUsers, [getUsers]);\n\n  const inferencer = useContext(AchievementContext);\n  const manualAchievements: AchievementGoal[] = inferencer\n    .getAllGoals()\n    .filter(goals => goals.meta.type === 'Manual');\n\n  const [goal, changeGoal] = useState<AchievementGoal | undefined>(undefined);\n  const [selectedUser, changeSelectedUser] = userState;\n  const [count, changeCount] = useState<number>(0);\n  const [viewHidden, changeViewHidden] = hiddenState;\n\n  const updateGoal = () => {\n    if (goal && selectedUser) {\n      const progress: GoalProgress = {\n        uuid: goal.uuid,\n        count: count < 0 ? 0 : Math.floor(count),\n        targetCount: goal.targetCount,\n        completed: count >= goal.targetCount\n      };\n      updateGoalProgress(selectedUser.courseRegId, progress);\n    } else {\n      !goal && showWarningMessage('Goal not selected');\n      !selectedUser && showWarningMessage('User not selected');\n    }\n  };\n\n  return (\n    <div className=\"achievement-manual-editor\">\n      <h3>User: </h3>\n      <UserSelect\n        filterable={true}\n        items={users}\n        itemRenderer={userRenderer}\n        itemPredicate={userPredicate}\n        onItemSelect={changeSelectedUser}\n        noResults={<MenuItem disabled={true} text=\"No matching user\" />}\n      >\n        <Button\n          outlined={true}\n          text={selectedUser ? selectedUser.name || selectedUser.username : 'No User Selected'}\n          color=\"White\"\n        />\n      </UserSelect>\n\n      <h3>Goal: </h3>\n      <GoalSelect\n        filterable={true}\n        items={manualAchievements}\n        itemRenderer={goalRenderer}\n        itemPredicate={goalPredicate}\n        onItemSelect={changeGoal}\n        noResults={<MenuItem disabled={true} text=\"No matching goal\" />}\n      >\n        <Button outlined={true} text={goal ? goal.text : 'No Goal Selected'} color=\"White\" />\n      </GoalSelect>\n\n      <h3>Count: </h3>\n      <NumericInput\n        value={count}\n        min={0}\n        allowNumericCharactersOnly={true}\n        minorStepSize={null}\n        placeholder=\"Count\"\n        onValueChange={changeCount}\n      />\n\n      <h3> </h3>\n      <Button outlined={true} text=\"Update Goal\" onClick={updateGoal} intent=\"primary\" />\n\n      <h3> </h3>\n      <Checkbox\n        checked={viewHidden}\n        label=\"View Hidden Achievements\"\n        onChange={() => changeViewHidden(!viewHidden)}\n      />\n    </div>\n  );\n}\n\nexport default AchievementManualEditor;\n","import {\n  AchievementGoal,\n  AchievementItem,\n  EventMeta,\n  EventType,\n  GoalProgress,\n  GoalType\n} from '../../../features/achievement/AchievementTypes';\nimport { showSuccessMessage } from '../../utils/NotificationsHelper';\nimport AchievementInferencer from './AchievementInferencer';\nimport { isExpired, isReleased, isWithinTimeRange } from './DateHelper';\n\nfunction eventShouldCount(meta: EventMeta): boolean {\n  // goal is not released, or has expired\n  if (isExpired(meta.deadline) || !isReleased(meta.release)) {\n    return false;\n  }\n  if (isWithinTimeRange(meta.observeFrom, meta.observeTo)) {\n    return true;\n  }\n  return false;\n}\n\nexport function incrementCount(goalUuid: string, inferencer: AchievementInferencer) {\n  const progress: GoalProgress = { ...inferencer.getGoalProgress(goalUuid) };\n  progress.count = progress.count + 1;\n  const wasCompleted = progress.completed;\n  progress.completed = progress.count >= progress.targetCount;\n\n  const incompleteAchievements: string[] = [];\n  if (!wasCompleted && progress.completed) {\n    const achievements: string[] = inferencer.getAchievementsByGoal(goalUuid);\n    for (const achievement of achievements) {\n      if (!inferencer.isCompleted(inferencer.getAchievement(achievement))) {\n        incompleteAchievements.push(achievement);\n      }\n    }\n  }\n\n  inferencer.modifyGoalProgress(progress);\n\n  for (const achievementUuid of incompleteAchievements) {\n    const achievement: AchievementItem = inferencer.getAchievement(achievementUuid);\n    if (inferencer.isCompleted(achievement)) {\n      showSuccessMessage('Completed acheivement: ' + achievement.title);\n    }\n  }\n}\n\nexport function goalIncludesEvents(goal: AchievementGoal, eventNames: EventType[]) {\n  if (goal.meta.type === GoalType.EVENT && eventShouldCount(goal.meta)) {\n    for (let i = 0; i < goal.meta.eventNames.length; i++) {\n      for (let j = 0; j < eventNames.length; j++) {\n        if (goal.meta.eventNames[i] === eventNames[j]) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n}\n","import {\n  AchievementGoal,\n  AchievementItem,\n  GoalDefinition,\n  GoalMeta,\n  GoalType\n} from '../../../features/achievement/AchievementTypes';\n\nexport const backendifyGoalDefinition = (goal: GoalDefinition) => ({\n  targetCount: goal.meta.type === GoalType.ASSESSMENT ? 1 : goal.meta.targetCount,\n  meta: goal.meta,\n  text: goal.text,\n  type: goal.meta.type,\n  uuid: goal.uuid\n});\n\nexport const frontendifyAchievementGoal = (goal: any) =>\n  ({\n    uuid: goal.uuid || '',\n    text: goal.text || '',\n    achievementUuids: goal.achievementUuids,\n    meta: (goal.meta.type === 'Event'\n      ? {\n          ...goal.meta,\n          release: goal.meta.release ? new Date(goal.meta.release) : undefined,\n          deadline: goal.meta.deadline ? new Date(goal.meta.deadline) : undefined,\n          observeFrom: goal.meta.observeFrom ? new Date(goal.meta.observeFrom) : undefined,\n          observeTo: goal.meta.observeTo ? new Date(goal.meta.observeTo) : undefined\n        }\n      : goal.meta) as GoalMeta,\n    count: goal.count,\n    targetCount: goal.targetCount,\n    completed: goal.count >= goal.targetCount\n  } as AchievementGoal);\n\nexport const frontendifyAchievementItem = (achievement: any) =>\n  ({\n    uuid: achievement.uuid || '',\n    title: achievement.title || '',\n    xp: achievement.xp,\n    isVariableXp: achievement.isVariableXp,\n    deadline: achievement.deadline === null ? undefined : new Date(achievement.deadline),\n    release: achievement.release === null ? undefined : new Date(achievement.release),\n    isTask: achievement.isTask,\n    position: achievement.position,\n    prerequisiteUuids: achievement.prerequisiteUuids,\n    goalUuids: achievement.goalUuids,\n    cardBackground: achievement.cardBackground || '',\n    view: {\n      coverImage: achievement.view.coverImage || '',\n      completionText: achievement.view.completionText || '',\n      description: achievement.view.description || ''\n    }\n  } as AchievementItem);\n\nexport const backendifyAchievementItem = (achievement: AchievementItem) => ({\n  ...achievement,\n  deadline: achievement.deadline ? achievement.deadline : null,\n  release: achievement.release ? achievement.release : null\n});\n","import { call } from 'redux-saga/effects';\n\nimport {\n  AchievementGoal,\n  AchievementItem,\n  AchievementUser,\n  GoalDefinition,\n  GoalProgress\n} from '../../features/achievement/AchievementTypes';\nimport { GradingSummary } from '../../features/dashboard/DashboardTypes';\nimport { Grading, GradingOverview, GradingQuestion } from '../../features/grading/GradingTypes';\nimport {\n  Device,\n  WebSocketEndpointInformation\n} from '../../features/remoteExecution/RemoteExecutionTypes';\nimport { PlaybackData, SourcecastData } from '../../features/sourceRecorder/SourceRecorderTypes';\nimport { UsernameRoleGroup } from '../../pages/academy/adminPanel/subcomponents/AddUserPanel';\nimport { store } from '../../pages/createStore';\nimport {\n  backendifyAchievementItem,\n  backendifyGoalDefinition,\n  frontendifyAchievementGoal,\n  frontendifyAchievementItem\n} from '../achievement/utils/AchievementBackender';\nimport { Role } from '../application/ApplicationTypes';\nimport { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport {\n  AdminPanelCourseRegistration,\n  CourseConfiguration,\n  CourseRegistration,\n  Tokens,\n  UpdateCourseConfiguration,\n  User\n} from '../application/types/SessionTypes';\nimport {\n  Assessment,\n  AssessmentConfiguration,\n  AssessmentOverview,\n  ContestEntry,\n  GradingStatus,\n  IContestVotingQuestion,\n  IProgrammingQuestion,\n  QuestionType,\n  QuestionTypes\n} from '../assessment/AssessmentTypes';\nimport { Notification } from '../notificationBadge/NotificationBadgeTypes';\nimport { actions } from '../utils/ActionsHelper';\nimport { castLibrary } from '../utils/CastBackend';\nimport Constants from '../utils/Constants';\nimport { showWarningMessage } from '../utils/NotificationsHelper';\n\n/**\n * @property accessToken - backend access token\n * @property errorMessage - message to showWarningMessage on failure\n * @property body - request body, for HTTP POST\n * @property noContentType - set to true when sending multipart data\n * @property noHeaderAccept - if Accept: application/json should be omitted\n * @property refreshToken - backend refresh token\n * @property shouldRefresh - if should attempt to refresh access token\n *\n * If shouldRefresh, accessToken and refreshToken are required.\n */\ntype RequestOptions = {\n  accessToken?: string;\n  errorMessage?: string;\n  body?: object;\n  noContentType?: boolean;\n  noHeaderAccept?: boolean;\n  refreshToken?: string;\n  shouldAutoLogout?: boolean;\n  shouldRefresh?: boolean;\n};\n\n/**\n * POST /auth/login\n */\nexport const postAuth = async (\n  code: string,\n  providerId: string,\n  clientId?: string,\n  redirectUri?: string\n): Promise<Tokens | null> => {\n  const resp = await request('auth/login', 'POST', {\n    body: {\n      code,\n      provider: providerId,\n      ...(clientId ? { client_id: clientId } : {}),\n      ...(redirectUri ? { redirect_uri: redirectUri } : {})\n    },\n    errorMessage: 'Could not login. Please contact the module administrator.'\n  });\n  if (!resp) {\n    return null;\n  }\n  const tokens = await resp.json();\n  return {\n    accessToken: tokens.access_token,\n    refreshToken: tokens.refresh_token\n  };\n};\n\n/**\n * POST /auth/refresh\n */\nconst postRefresh = async (refreshToken: string): Promise<Tokens | null> => {\n  const resp = await request('auth/refresh', 'POST', {\n    body: { refresh_token: refreshToken }\n  });\n  if (!resp) {\n    return null;\n  }\n\n  const tokens = await resp.json();\n\n  return {\n    accessToken: tokens.access_token,\n    refreshToken: tokens.refresh_token\n  };\n};\n\n/**\n * GET /user\n */\nexport const getUser = async (\n  tokens: Tokens\n): Promise<{\n  user: User | null;\n  courseRegistration: CourseRegistration | null;\n  courseConfiguration: CourseConfiguration | null;\n  assessmentConfigurations: AssessmentConfiguration[] | null;\n}> => {\n  const resp = await request('user', 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return {\n      user: null,\n      courseRegistration: null,\n      courseConfiguration: null,\n      assessmentConfigurations: null\n    };\n  }\n\n  return await resp.json();\n};\n\n/**\n * GET /user/latest_viewed_course\n */\nexport const getLatestCourseRegistrationAndConfiguration = async (\n  tokens: Tokens\n): Promise<{\n  courseRegistration: CourseRegistration | null;\n  courseConfiguration: CourseConfiguration | null;\n  assessmentConfigurations: AssessmentConfiguration[] | null;\n}> => {\n  const resp = await request('user/latest_viewed_course', 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return {\n      courseRegistration: null,\n      courseConfiguration: null,\n      assessmentConfigurations: null\n    };\n  }\n\n  return await resp.json();\n};\n\n/**\n * PUT /user/latest_viewed_course\n */\nexport const putLatestViewedCourse = async (\n  tokens: Tokens,\n  courseId: number\n): Promise<Response | null> => {\n  const resp = await request(`user/latest_viewed_course`, 'PUT', {\n    ...tokens,\n    body: { courseId: courseId },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * PUT /courses/{courseId}/user/research_agreement\n */\nexport const putCourseResearchAgreement = async (\n  tokens: Tokens,\n  agreedToResearch: boolean\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/user/research_agreement`, 'PUT', {\n    ...tokens,\n    body: { agreedToResearch },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * POST /config/create\n */\nexport const postCreateCourse = async (\n  tokens: Tokens,\n  courseConfig: UpdateCourseConfiguration\n): Promise<Response | null> => {\n  const resp = await request(`config/create`, 'POST', {\n    ...tokens,\n    body: { ...courseConfig },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * GET /courses/{courseId}/config\n */\nexport const getCourseConfig = async (tokens: Tokens): Promise<CourseConfiguration | null> => {\n  const resp = await request(`${courseId()}/config`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n\n  if (!resp || !resp.ok) {\n    return null;\n  }\n\n  return resp.json();\n};\n\n/**\n * GET /courses/{courseId}/achievements\n *\n * Will be updated after a separate db for student progress is ready\n */\nexport const getAchievements = async (tokens: Tokens): Promise<AchievementItem[] | null> => {\n  const resp = await request(`${courseId()}/achievements`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n\n  if (!resp || !resp.ok) {\n    return null; // invalid accessToken _and_ refreshToken\n  }\n\n  const achievements = await resp.json();\n\n  return achievements.map((achievement: any) => frontendifyAchievementItem(achievement));\n};\n\n/**\n * GET /courses/{courseId}/admin/users/{studentCourseRegId}/goals\n */\nexport const getGoals = async (\n  tokens: Tokens,\n  studentCourseRegId: number\n): Promise<AchievementGoal[] | null> => {\n  const resp = await request(`${courseId()}/admin/users/${studentCourseRegId}/goals`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n\n  if (!resp || !resp.ok) {\n    return null;\n  }\n\n  const achievementGoals = await resp.json();\n\n  return achievementGoals.map((goal: any) => frontendifyAchievementGoal(goal));\n};\n\n/**\n * GET /courses/{courseId}/self/goals\n */\nexport const getOwnGoals = async (tokens: Tokens): Promise<AchievementGoal[] | null> => {\n  const resp = await request(`${courseId()}/self/goals`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n\n  if (!resp || !resp.ok) {\n    return null; // invalid accessToken _and_ refreshToken\n  }\n\n  const achievementGoals = await resp.json();\n\n  return achievementGoals.map((goal: any) => frontendifyAchievementGoal(goal));\n};\n\n/**\n * GET /courses/{courseId}/admin/users\n */\nexport const getAllUsers = async (tokens: Tokens): Promise<AchievementUser[] | null> => {\n  const resp = await request(`${courseId()}/admin/users`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n\n  if (!resp || !resp.ok) {\n    return null; // invalid accessToken _and_ refreshToken\n  }\n\n  const users = await resp.json();\n\n  return users.map(\n    (user: any): AchievementUser => ({\n      name: user.name,\n      courseRegId: user.courseRegId,\n      group: user.group,\n      username: user.username\n    })\n  );\n};\n\n/**\n * PUT /courses/{courseId}/admin/achievements\n */\nexport async function bulkUpdateAchievements(\n  achievements: AchievementItem[],\n  tokens: Tokens\n): Promise<Response | null> {\n  const resp = await request(`${courseId()}/admin/achievements`, 'PUT', {\n    accessToken: tokens.accessToken,\n    body: { achievements: achievements.map(achievement => backendifyAchievementItem(achievement)) },\n    noHeaderAccept: true,\n    refreshToken: tokens.refreshToken,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n  // TODO: confirmation notification\n}\n\n/**\n * PUT /courses/{courseId}/admin/goals\n */\nexport async function bulkUpdateGoals(\n  goals: GoalDefinition[],\n  tokens: Tokens\n): Promise<Response | null> {\n  const resp = await request(`${courseId()}/admin/goals`, 'PUT', {\n    accessToken: tokens.accessToken,\n    body: {\n      goals: goals.map(goal => backendifyGoalDefinition(goal))\n    },\n    noHeaderAccept: true,\n    refreshToken: tokens.refreshToken,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n  // TODO: confirmation notification\n}\n\n/**\n * POST /courses/{courseId}/self/goals/{goalUuid}/progress\n */\nexport const updateOwnGoalProgress = async (\n  progress: GoalProgress,\n  tokens: Tokens\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/self/goals/${progress.uuid}/progress`, 'POST', {\n    ...tokens,\n    body: { progress: progress },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * POST /courses/{courseId}/admin/users/{studentCourseRegId}/goals/{goalUuid}/progress\n */\nexport const updateGoalProgress = async (\n  studentCourseRegId: number,\n  progress: GoalProgress,\n  tokens: Tokens\n): Promise<Response | null> => {\n  const resp = await request(\n    `${courseId()}/admin/users/${studentCourseRegId}/goals/${progress.uuid}/progress`,\n    'POST',\n    {\n      ...tokens,\n      body: { progress: progress },\n      noHeaderAccept: true,\n      shouldAutoLogout: false,\n      shouldRefresh: true\n    }\n  );\n\n  return resp;\n};\n\n/**\n * DELETE /courses/{courseId}/admin/achievements/{achievementUuid}\n */\nexport const removeAchievement = async (uuid: string, tokens: Tokens): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/achievements/${uuid}`, 'DELETE', {\n    ...tokens,\n    body: { uuid: uuid },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * DELETE /courses/{courseId}/admin/goals/{goalUuid}\n */\nexport const removeGoal = async (uuid: string, tokens: Tokens): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/goals/${uuid}`, 'DELETE', {\n    ...tokens,\n    body: { uuid: uuid },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * GET /courses/{courseId}/assessments\n */\nexport const getAssessmentOverviews = async (\n  tokens: Tokens\n): Promise<AssessmentOverview[] | null> => {\n  const resp = await request(`${courseId()}/assessments`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return null; // invalid accessToken _and_ refreshToken\n  }\n  const assessmentOverviews = await resp.json();\n  return assessmentOverviews.map((overview: any) => {\n    overview.gradingStatus = computeGradingStatus(\n      overview.isManuallyGraded,\n      overview.status,\n      overview.gradedCount,\n      overview.questionCount\n    );\n    delete overview.gradedCount;\n    delete overview.questionCount;\n\n    return overview as AssessmentOverview;\n  });\n};\n\n/**\n * GET /courses/{courseId}/user/total_xp\n */\nexport const getTotalXp = async (tokens: Tokens, courseRegId?: number): Promise<number | null> => {\n  let resp;\n  if (courseRegId !== undefined) {\n    // If courseRegId is provided, get the total XP of a specific student\n    resp = await request(`${courseId()}/admin/users/${courseRegId}/total_xp`, 'GET', {\n      ...tokens,\n      shouldRefresh: true\n    });\n  } else {\n    // Otherwise, get the total XP of the current user\n    resp = await request(`${courseId()}/user/total_xp`, 'GET', {\n      ...tokens,\n      shouldRefresh: true\n    });\n  }\n\n  if (!resp || !resp.ok) {\n    return null; // invalid accessToken _and_ refreshToken\n  }\n  const totalXp = await resp.json();\n  return totalXp;\n};\n\n/**\n * GET /courses/{courseId}/admin/users/total_xp\n */\nexport const getAllUserXp = async (tokens: Tokens): Promise<number | null> => {\n  const resp = await request(`${courseId()}/admin/users/total_xp`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return null; // invalid accessToken _and_ refreshToken\n  }\n  const totalXp = await resp.json();\n  return totalXp;\n};\n\n/**\n * GET /courses/{courseId}/admin/users/{course_reg_id}/assessments\n */\nexport const getUserAssessmentOverviews = async (\n  courseRegId: number,\n  tokens: Tokens\n): Promise<AssessmentOverview[] | null> => {\n  const resp = await request(`${courseId()}/admin/users/${courseRegId}/assessments`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return null; // invalid accessToken _and_ refreshToken\n  }\n  const assessmentOverviews = await resp.json();\n  return assessmentOverviews.map((overview: any) => {\n    overview.gradingStatus = computeGradingStatus(\n      overview.isManuallyGraded,\n      overview.status,\n      overview.gradedCount,\n      overview.questionCount\n    );\n    delete overview.gradedCount;\n    delete overview.questionCount;\n\n    return overview as AssessmentOverview;\n  });\n};\n\n/**\n * GET /courses/{courseId}/assessments/{assessmentId}\n * Note: if assessment is password-protected, a corresponding unlock request will be sent to\n * POST /courses/{courseId}/assessments/{assessmentId}/unlock\n */\nexport const getAssessment = async (\n  assessmentId: number,\n  tokens: Tokens,\n  courseRegId?: number\n): Promise<Assessment | null> => {\n  let resp;\n  if (courseRegId !== undefined) {\n    // If courseRegId is provided, we are getting the assessment for another user as an admin\n    resp = await request(\n      `${courseId()}/admin/users/${courseRegId}/assessments/${assessmentId}`,\n      'GET',\n      {\n        ...tokens,\n        shouldRefresh: true\n      }\n    );\n  } else {\n    // Otherwise, we are getting the assessment for the current user\n    resp = await request(`${courseId()}/assessments/${assessmentId}`, 'GET', {\n      ...tokens,\n      shouldAutoLogout: false,\n      shouldRefresh: true\n    });\n  }\n\n  // Attempt to load password-protected assessment\n  while (resp && resp.status === 403) {\n    const input = window.prompt('Please enter password.', '');\n    if (!input) {\n      resp = null;\n      window.history.back();\n      return null;\n    }\n\n    resp = await request(`${courseId()}/assessments/${assessmentId}/unlock`, 'POST', {\n      ...tokens,\n      body: {\n        password: input\n      },\n      shouldAutoLogout: false,\n      shouldRefresh: true\n    });\n  }\n\n  if (!resp || !resp.ok) {\n    return null;\n  }\n\n  const assessment = (await resp.json()) as Assessment;\n\n  assessment.questions = assessment.questions.map(q => {\n    if (q.type === QuestionTypes.programming) {\n      const question = q as IProgrammingQuestion;\n      question.autogradingResults = question.autogradingResults || [];\n      question.prepend = question.prepend || '';\n      question.postpend = question.postpend || '';\n      question.testcases = question.testcases || [];\n      q = question;\n    }\n\n    if (q.type === QuestionTypes.voting) {\n      const question = q as IContestVotingQuestion;\n      question.prepend = question.prepend || '';\n      question.postpend = question.postpend || '';\n    }\n\n    // If the backend returns :nil (null) for grader, then the question is not graded\n    // Delete the grader and gradedAt attributes\n    if (q.grader === null) {\n      delete q.grader;\n      delete q.gradedAt;\n    }\n\n    // Make library.external.name uppercase\n    q.library.external.name = q.library.external.name.toUpperCase() as ExternalLibraryName;\n    // Make globals into an Array of (string, value)\n    q.library.globals = Object.entries(q.library.globals as object).map(entry => {\n      try {\n        entry[1] = (window as any).eval(entry[1]);\n      } catch (e) {}\n      return entry;\n    });\n\n    return q;\n  });\n  return assessment;\n};\n\n/**\n * POST /courses/{courseId}/assessments/question/{questionId}/answer\n */\nexport const postAnswer = async (\n  id: number,\n  answer: string | number | ContestEntry[],\n  tokens: Tokens\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/assessments/question/${id}/answer`, 'POST', {\n    ...tokens,\n    body: typeof answer == 'object' ? { answer: answer } : { answer: `${answer}` },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n  return resp;\n};\n\n/**\n * POST /courses/{courseId}/assessments/{assessmentId}/submit\n */\nexport const postAssessment = async (id: number, tokens: Tokens): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/assessments/${id}/submit`, 'POST', {\n    ...tokens,\n    noHeaderAccept: true,\n    shouldAutoLogout: false, // 400 if some questions unattempted\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/*\n * GET /courses/{courseId}/admin/grading\n */\nexport const getGradingOverviews = async (\n  tokens: Tokens,\n  group: boolean\n): Promise<GradingOverview[] | null> => {\n  const resp = await request(`${courseId()}/admin/grading?group=${group}`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp) {\n    return null; // invalid accessToken _and_ refreshToken\n  }\n  const gradingOverviews = await resp.json();\n  return gradingOverviews\n    .map((overview: any) => {\n      const gradingOverview: GradingOverview = {\n        assessmentId: overview.assessment.id,\n        assessmentName: overview.assessment.title,\n        assessmentType: overview.assessment.type,\n        studentId: overview.student.id,\n        studentName: overview.student.name,\n        submissionId: overview.id,\n        submissionStatus: overview.status,\n        groupName: overview.student.groupName,\n        groupLeaderId: overview.student.groupLeaderId,\n        // Grading Status\n        gradingStatus: 'none',\n        questionCount: overview.assessment.questionCount,\n        gradedCount: overview.gradedCount,\n        // XP\n        initialXp: overview.xp,\n        xpAdjustment: overview.xpAdjustment,\n        currentXp: overview.xp + overview.xpAdjustment,\n        maxXp: overview.assessment.maxXp,\n        xpBonus: overview.xpBonus\n      };\n      gradingOverview.gradingStatus = computeGradingStatus(\n        overview.assessment.isManuallyGraded,\n        gradingOverview.submissionStatus,\n        gradingOverview.gradedCount,\n        gradingOverview.questionCount\n      );\n      return gradingOverview;\n    })\n    .sort((subX: GradingOverview, subY: GradingOverview) =>\n      subX.assessmentId !== subY.assessmentId\n        ? subY.assessmentId - subX.assessmentId\n        : subY.submissionId - subX.submissionId\n    );\n};\n\n/**\n * GET /courses/{courseId}/admin/grading/{submissionId}\n */\nexport const getGrading = async (submissionId: number, tokens: Tokens): Promise<Grading | null> => {\n  const resp = await request(`${courseId()}/admin/grading/${submissionId}`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n\n  if (!resp) {\n    return null;\n  }\n\n  const gradingResult = await resp.json();\n  const grading: Grading = gradingResult.map((gradingQuestion: any) => {\n    const { student, question, grade } = gradingQuestion;\n    const result = {\n      question: {\n        answer: question.answer,\n        autogradingResults: question.autogradingResults || [],\n        choices: question.choices,\n        content: question.content,\n        id: question.id,\n        library: castLibrary(question.library),\n        solution: gradingQuestion.solution || question.solution || null,\n        solutionTemplate: question.solutionTemplate,\n        prepend: question.prepend || '',\n        postpend: question.postpend || '',\n        testcases: question.testcases || [],\n        type: question.type as QuestionType,\n        maxXp: question.maxXp\n      },\n      student,\n      grade: {\n        xp: grade.xp,\n        xpAdjustment: grade.xpAdjustment,\n        comments: grade.comments\n      }\n    } as GradingQuestion;\n\n    if (gradingQuestion.grade.grader !== null) {\n      result.grade.grader = gradingQuestion.grade.grader;\n      result.grade.gradedAt = gradingQuestion.grade.gradedAt;\n    }\n\n    return result;\n  });\n\n  return grading;\n};\n\n/**\n * POST /courses/{courseId}/admin/grading/{submissionId}/{questionId}\n */\nexport const postGrading = async (\n  submissionId: number,\n  questionId: number,\n  xpAdjustment: number,\n  tokens: Tokens,\n  comments?: string\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/grading/${submissionId}/${questionId}`, 'POST', {\n    ...tokens,\n    body: {\n      grading: {\n        xpAdjustment,\n        comments\n      }\n    },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * POST /courses/{courseId}/admin/grading/{submissionId}/autograde\n */\nexport const postReautogradeSubmission = async (\n  submissionId: number,\n  tokens: Tokens\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/grading/${submissionId}/autograde`, 'POST', {\n    ...tokens,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * POST /courses/{courseId}/admin/grading/{submissionId}/{questionId}/autograde\n */\nexport const postReautogradeAnswer = async (\n  submissionId: number,\n  questionId: number,\n  tokens: Tokens\n): Promise<Response | null> => {\n  const resp = await request(\n    `${courseId()}/admin/grading/${submissionId}/${questionId}/autograde`,\n    'POST',\n    {\n      ...tokens,\n      noHeaderAccept: true,\n      shouldAutoLogout: false,\n      shouldRefresh: true\n    }\n  );\n\n  return resp;\n};\n\n/**\n * POST /courses/{courseId}/admin/grading/{submissionId}/unsubmit\n */\nexport const postUnsubmit = async (\n  submissionId: number,\n  tokens: Tokens\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/grading/${submissionId}/unsubmit`, 'POST', {\n    ...tokens,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * GET /courses/{courseId}/notifications\n */\nexport const getNotifications = async (tokens: Tokens): Promise<Notification[]> => {\n  const resp: Response | null = await request(`${courseId()}/notifications`, 'GET', {\n    ...tokens,\n    shouldAutoLogout: false\n  });\n\n  let notifications: Notification[] = [];\n\n  if (!resp || !resp.ok) {\n    return notifications;\n  }\n\n  const result = await resp.json();\n\n  notifications = result.map((notification: any) => {\n    return {\n      id: notification.id,\n      type: notification.type,\n      assessment_id: notification.assessment_id || undefined,\n      assessment_type: notification.assessment ? notification.assessment.type : undefined,\n      assessment_title: notification.assessment ? notification.assessment.title : undefined,\n      submission_id: notification.submission_id || undefined\n    } as Notification;\n  });\n\n  return notifications;\n};\n\n/**\n * POST /courses/{courseId}/notifications/acknowledge\n */\nexport const postAcknowledgeNotifications = async (\n  tokens: Tokens,\n  ids: number[]\n): Promise<Response | null> => {\n  const resp: Response | null = await request(`${courseId()}/notifications/acknowledge`, 'POST', {\n    ...tokens,\n    body: { notificationIds: ids },\n    shouldAutoLogout: false\n  });\n\n  return resp;\n};\n\n/**\n * GET /courses/{courseId}/sourcecast\n */\nexport const getSourcecastIndex = async (tokens: Tokens): Promise<SourcecastData[] | null> => {\n  const resp = await request(`${courseId()}/sourcecast`, 'GET', {\n    ...tokens,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return null;\n  }\n\n  return await resp.json();\n};\n\n/**\n * POST /courses/{courseId}/admin/sourcecast\n */\nexport const postSourcecast = async (\n  title: string,\n  description: string,\n  uid: string,\n  audio: Blob,\n  playbackData: PlaybackData,\n  tokens: Tokens\n): Promise<Response | null> => {\n  const formData = new FormData();\n  const filename = Date.now().toString() + '.wav';\n  formData.append('sourcecast[title]', title);\n  formData.append('sourcecast[description]', description);\n  formData.append('sourcecast[uid]', uid);\n  formData.append('sourcecast[audio]', audio, filename);\n  formData.append('sourcecast[playbackData]', JSON.stringify(playbackData));\n  const resp = await request(`${courseId()}/admin/sourcecast`, 'POST', {\n    ...tokens,\n    body: formData,\n    noContentType: true,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * DELETE /courses/{courseId}/admin/sourcecast/{sourcecastId}\n */\nexport const deleteSourcecastEntry = async (\n  id: number,\n  tokens: Tokens\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/sourcecast/${id}`, 'DELETE', {\n    ...tokens,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * POST /courses/{courseId}/admin/assessments/{assessmentId}\n */\nexport const updateAssessment = async (\n  id: number,\n  body: { openAt?: string; closeAt?: string; isPublished?: boolean },\n  tokens: Tokens\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/assessments/${id}`, 'POST', {\n    ...tokens,\n    body: body,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * DELETE /courses/{courseId}/admin/assessments/{assessmentId}\n */\nexport const deleteAssessment = async (id: number, tokens: Tokens): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/assessments/${id}`, 'DELETE', {\n    ...tokens,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * POST /courses/{courseId}/admin/assessments\n */\nexport const uploadAssessment = async (\n  file: File,\n  tokens: Tokens,\n  forceUpdate: boolean,\n  assessmentConfigId: number\n): Promise<Response | null> => {\n  const formData = new FormData();\n  formData.append('assessment[file]', file);\n  formData.append('forceUpdate', String(forceUpdate));\n  formData.append('assessmentConfigId', String(assessmentConfigId));\n  const resp = await request(`${courseId()}/admin/assessments`, 'POST', {\n    ...tokens,\n    body: formData,\n    noContentType: true,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * GET /courses/{courseId}/admin/grading/summary\n */\nexport const getGradingSummary = async (tokens: Tokens): Promise<GradingSummary | null> => {\n  const resp = await request(`${courseId()}/admin/grading/summary`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return null;\n  }\n\n  return await resp.json();\n};\n\n/**\n * PUT /courses/{courseId}/admin/config\n */\nexport const putCourseConfig = async (\n  tokens: Tokens,\n  courseConfig: UpdateCourseConfiguration\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/config`, 'PUT', {\n    ...tokens,\n    body: courseConfig,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * GET /courses/{courseId}/admin/config/assessment_configs\n */\nexport const getAssessmentConfigs = async (\n  tokens: Tokens\n): Promise<AssessmentConfiguration[] | null> => {\n  const resp = await request(`${courseId()}/admin/config/assessment_configs`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return null;\n  }\n\n  return await resp.json();\n};\n\n/**\n * PUT /courses/{courseId}/admin/config/assessment_configs\n */\nexport const putAssessmentConfigs = async (\n  tokens: Tokens,\n  assessmentConfigs: AssessmentConfiguration[],\n  overrideCourseId?: number\n): Promise<Response | null> => {\n  const resp = await request(\n    `${\n      overrideCourseId != null ? `courses/${overrideCourseId}` : courseId()\n    }/admin/config/assessment_configs`,\n    'PUT',\n    {\n      ...tokens,\n      body: { assessmentConfigs },\n      noHeaderAccept: true,\n      shouldAutoLogout: false,\n      shouldRefresh: true\n    }\n  );\n\n  return resp;\n};\n\n/**\n * DELETE /courses/{courseId}/admin/config/assessment_config/{assessmentConfigId}\n */\nexport const removeAssessmentConfig = async (\n  tokens: Tokens,\n  assessmentConfig: AssessmentConfiguration\n): Promise<Response | null> => {\n  const resp = await request(\n    `${courseId()}/admin/config/assessment_config/${assessmentConfig.assessmentConfigId}`,\n    'DELETE',\n    {\n      ...tokens,\n      noHeaderAccept: true,\n      shouldAutoLogout: false,\n      shouldRefresh: true\n    }\n  );\n\n  return resp;\n};\n\n/**\n * GET /courses/{courseId}/admin/users\n */\nexport const getUserCourseRegistrations = async (\n  tokens: Tokens\n): Promise<AdminPanelCourseRegistration[] | null> => {\n  const resp = await request(`${courseId()}/admin/users`, 'GET', {\n    ...tokens,\n    shouldRefresh: true\n  });\n  if (!resp || !resp.ok) {\n    return null;\n  }\n\n  return await resp.json();\n};\n\n/**\n * PUT /courses/{courseId}/admin/users\n */\nexport const putNewUsers = async (\n  tokens: Tokens,\n  users: UsernameRoleGroup[],\n  provider: string\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/users`, 'PUT', {\n    ...tokens,\n    body: { users, provider },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * PUT /courses/{courseId}/admin/users/{courseRegId}/role\n */\nexport const putUserRole = async (\n  tokens: Tokens,\n  courseRegId: number,\n  role: Role\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/users/${courseRegId}/role`, 'PUT', {\n    ...tokens,\n    body: { role },\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * DELETE /courses/{courseId}/admin/users/{courseRegId}\n */\nexport const removeUserCourseRegistration = async (\n  tokens: Tokens,\n  courseRegId: number\n): Promise<Response | null> => {\n  const resp = await request(`${courseId()}/admin/users/${courseRegId}`, 'DELETE', {\n    ...tokens,\n    noHeaderAccept: true,\n    shouldAutoLogout: false,\n    shouldRefresh: true\n  });\n\n  return resp;\n};\n\n/**\n * GET /devices\n */\nexport async function fetchDevices(tokens: Tokens): Promise<Device | null> {\n  const resp = await request(`devices`, 'GET', {\n    accessToken: tokens.accessToken,\n    refreshToken: tokens.refreshToken,\n    shouldRefresh: true\n  });\n\n  return resp && resp.ok ? resp.json() : null;\n}\n\n/**\n * GET /devices/:id/ws_endpoint\n */\nexport async function getDeviceWSEndpoint(\n  device: Device,\n  tokens: Tokens\n): Promise<WebSocketEndpointInformation | null> {\n  const resp = await request(`devices/${device.id}/ws_endpoint`, 'GET', {\n    accessToken: tokens.accessToken,\n    refreshToken: tokens.refreshToken,\n    shouldRefresh: true,\n    shouldAutoLogout: false\n  });\n\n  return resp && resp.ok ? resp.json() : null;\n}\n\n/**\n * POST /devices\n */\nexport async function registerDevice(device: Omit<Device, 'id'>, tokens?: Tokens): Promise<Device> {\n  tokens = fillTokens(tokens);\n  const resp = await request(`devices`, 'POST', {\n    accessToken: tokens.accessToken,\n    refreshToken: tokens.refreshToken,\n    shouldRefresh: true,\n    shouldAutoLogout: false,\n    body: device\n  });\n\n  if (!resp) {\n    throw new Error('Unknown error occurred.');\n  }\n\n  if (!resp.ok) {\n    const message = await resp.text();\n    throw new Error(`Failed to register: ${message}`);\n  }\n\n  return resp.json();\n}\n\n/**\n * POST /devices/:id\n */\nexport async function editDevice(\n  device: Pick<Device, 'id' | 'title'>,\n  tokens?: Tokens\n): Promise<boolean> {\n  tokens = fillTokens(tokens);\n  const resp = await request(`devices/${device.id}`, 'POST', {\n    accessToken: tokens.accessToken,\n    refreshToken: tokens.refreshToken,\n    shouldRefresh: true,\n    shouldAutoLogout: false,\n    body: { title: device.title }\n  });\n\n  if (!resp) {\n    throw new Error('Unknown error occurred.');\n  }\n\n  if (!resp.ok) {\n    const message = await resp.text();\n    throw new Error(`Failed to edit: ${message}`);\n  }\n\n  return true;\n}\n\n/**\n * DELETE /devices/:id\n */\nexport async function deleteDevice(device: Pick<Device, 'id'>, tokens?: Tokens): Promise<boolean> {\n  tokens = fillTokens(tokens);\n  const resp = await request(`devices/${device.id}`, 'DELETE', {\n    accessToken: tokens.accessToken,\n    refreshToken: tokens.refreshToken,\n    shouldRefresh: true\n  });\n\n  if (!resp) {\n    throw new Error('Unknown error occurred.');\n  }\n\n  if (!resp.ok) {\n    const message = await resp.text();\n    throw new Error(`Failed to delete: ${message}`);\n  }\n\n  return true;\n}\n\nfunction fillTokens(tokens?: Tokens): Tokens {\n  tokens = tokens || getTokensFromStore();\n  if (!tokens) {\n    throw new Error('Not logged in.');\n  }\n  return tokens;\n}\n\nfunction getTokensFromStore(): Tokens | undefined {\n  const { accessToken, refreshToken } = store.getState().session;\n  return accessToken && refreshToken ? { accessToken, refreshToken } : undefined;\n}\n\n/**\n * @returns {(Response|null)} Response if successful, otherwise null.\n *\n * @see @type{RequestOptions} for options to this function.\n *\n * If opts.shouldRefresh, an initial response status of < 200 or > 299 will\n * cause this function to call postRefresh to attempt to setToken with fresh\n * tokens.\n *\n * If fetch throws an error, or final response has status code < 200 or > 299,\n * this function will cause the user to logout.\n */\nexport const request = async (\n  path: string,\n  method: string,\n  opts: RequestOptions\n): Promise<Response | null> => {\n  const headers = new Headers();\n  if (!opts.noHeaderAccept) {\n    headers.append('Accept', 'application/json');\n  }\n  if (opts.accessToken) {\n    headers.append('Authorization', `Bearer ${opts.accessToken}`);\n  }\n\n  const fetchOpts: any = { method, headers };\n  if (opts.body) {\n    if (opts.noContentType) {\n      // Content Type is not needed for sending multipart data\n      fetchOpts.body = opts.body;\n    } else {\n      headers.append('Content-Type', 'application/json');\n      fetchOpts.body = JSON.stringify(opts.body);\n    }\n  }\n\n  try {\n    const resp = await fetch(`${Constants.backendUrl}/v2/${path}`, fetchOpts);\n\n    // response.ok is (200 <= response.status <= 299)\n    // response.status of > 299 does not raise error; so deal with in in the try clause\n    if (opts.shouldRefresh && resp && resp.status === 401) {\n      const newTokens = await postRefresh(opts.refreshToken!);\n      store.dispatch(actions.setTokens(newTokens!));\n      const newOpts = {\n        ...opts,\n        accessToken: newTokens!.accessToken,\n        shouldRefresh: false\n      };\n      return request(path, method, newOpts);\n    }\n\n    if (resp && !resp.ok && opts.shouldAutoLogout === false) {\n      // this clause is mostly for SUBMIT_ANSWER; show an error message instead\n      // and ask student to manually logout, so that they have a chance to save\n      // their answers\n      return resp;\n    }\n\n    if (!resp.ok) {\n      showWarningMessage(\n        opts.errorMessage\n          ? opts.errorMessage\n          : `Error while communicating with backend: ${resp.status} ${resp.statusText}${\n              resp.status === 401 || resp.status === 403\n                ? '; try logging in again, after manually saving any work.'\n                : ''\n            }`\n      );\n      return null;\n    }\n\n    return resp;\n  } catch (e) {\n    showWarningMessage(\n      opts.errorMessage\n        ? opts.errorMessage\n        : 'Error while communicating with backend; check your network?'\n    );\n\n    return null;\n  }\n};\n\n/**\n * Handles display of warning notifications for failed HTTP requests, i.e. those with no response\n * or a HTTP error status code (not 2xx).\n *\n * @param {(Response|null)} resp Result of the failed HTTP request\n */\nexport function* handleResponseError(resp: Response | null): any {\n  // Default: check if the response is null\n  if (!resp) {\n    yield call(showWarningMessage, \"Couldn't reach our servers. Are you online?\");\n    return;\n  }\n\n  let respText = yield resp.text();\n\n  if (respText.length > 100 && resp.status) {\n    // This happens when error is not properly handled in backend\n    // Hence returning status code instead for bug reporting\n    respText = `Something went wrong (got ${resp.status} response)`;\n  }\n\n  yield call(showWarningMessage, respText);\n}\n\nconst computeGradingStatus = (\n  isManuallyGraded: boolean,\n  submissionStatus: any,\n  numGraded: number,\n  numQuestions: number\n): GradingStatus =>\n  // isGraded refers to whether the assessment type is graded or not, as specified in\n  // the respective assessment configuration\n  isManuallyGraded && submissionStatus === 'submitted'\n    ? numGraded === 0\n      ? 'none'\n      : numGraded === numQuestions\n      ? 'graded'\n      : 'grading'\n    : 'excluded';\n\nconst courseId: () => string = () => {\n  const id = store.getState().session.courseId;\n  if (id) {\n    return `courses/${id}`;\n  } else {\n    // TODO: Rewrite this logic\n    showWarningMessage(`No course selected!`, 1000);\n    throw new Error(`No course selected`);\n  }\n};\n","import { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport { Library } from '../assessment/AssessmentTypes';\n\n/**\n * Casts a library returned by an API call to a\n * Library used in the frontend.\n */\nexport const castLibrary = (lib: any): Library => ({\n  external: {\n    /** external names are lowercase for API results */\n    name: lib.external.name.toUpperCase() as ExternalLibraryName,\n    symbols: lib.external.symbols\n  },\n  // backend provides `null` if these fields are not set, but frontend wants undefined (for defaulting)\n  execTimeMs: lib.execTimeMs == null ? undefined : lib.execTimeMs,\n  variant: lib.variant == null ? undefined : lib.variant,\n  /** globals are passed as an object, mapping symbol name -> value */\n  globals: Object.entries(lib.globals as object).map(entry => {\n    /** The value that is passed is evaluated into an actual JS value */\n    try {\n      entry[1] = (window as any).eval(entry[1]);\n    } catch (e) {}\n    return entry;\n  })\n});\n","import { ActionMatchingPattern } from '@redux-saga/types';\nimport * as Sentry from '@sentry/browser';\nimport {\n  ActionPattern,\n  ForkEffect,\n  HelperWorkerParameters,\n  takeEvery,\n  takeLatest,\n  takeLeading\n} from 'redux-saga/effects';\n\n// it's not possible to abstract the two functions into HOF over takeEvery and takeLatest\n// without stepping out of TypeScript's type system because the type system does not support\n// higher-kinded types (type parameters that take )\n\nfunction handleUncaughtError(error: any) {\n  if (process.env.NODE_ENV === 'development') {\n    // react-error-overlay is a \"special\" package that's automatically included\n    // in development mode by CRA\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    import('react-error-overlay').then(reo => reo.reportRuntimeError(error));\n  }\n  Sentry.captureException(error);\n  console.error(error);\n}\n\nfunction isIterator(obj: any) {\n  return obj && typeof obj.next === 'function' && typeof obj.throw === 'function';\n}\n\nexport function safeTakeEvery<P extends ActionPattern, A extends ActionMatchingPattern<P>>(\n  pattern: P,\n  worker: (action: A) => any\n): ForkEffect<never>;\nexport function safeTakeEvery<P extends ActionPattern, Fn extends (...args: any[]) => any>(\n  pattern: P,\n  worker: Fn,\n  ...args: HelperWorkerParameters<ActionMatchingPattern<P>, Fn>\n): ForkEffect<never> {\n  function* wrappedWorker(...args: HelperWorkerParameters<ActionMatchingPattern<P>, Fn>) {\n    try {\n      const result = worker(...args);\n      if (isIterator(result)) {\n        yield* result;\n      }\n    } catch (error) {\n      handleUncaughtError(error);\n    }\n  }\n  return takeEvery<P, typeof wrappedWorker>(pattern, wrappedWorker, ...args);\n}\n\nexport function safeTakeLatest<P extends ActionPattern, A extends ActionMatchingPattern<P>>(\n  pattern: P,\n  worker: (action: A) => any\n): ForkEffect<never>;\nexport function safeTakeLatest<P extends ActionPattern, Fn extends (...args: any[]) => any>(\n  pattern: P,\n  worker: Fn,\n  ...args: HelperWorkerParameters<ActionMatchingPattern<P>, Fn>\n): ForkEffect<never> {\n  function* wrappedWorker(...args: HelperWorkerParameters<ActionMatchingPattern<P>, Fn>) {\n    try {\n      const result = worker(...args);\n      if (isIterator(result)) {\n        yield* result;\n      }\n    } catch (error) {\n      handleUncaughtError(error);\n    }\n  }\n  return takeLatest<P, typeof wrappedWorker>(pattern, wrappedWorker, ...args);\n}\n\nexport function safeTakeLeading<P extends ActionPattern, A extends ActionMatchingPattern<P>>(\n  pattern: P,\n  worker: (action: A) => any\n): ForkEffect<never>;\nexport function safeTakeLeading<P extends ActionPattern, Fn extends (...args: any[]) => any>(\n  pattern: P,\n  worker: Fn,\n  ...args: HelperWorkerParameters<ActionMatchingPattern<P>, Fn>\n): ForkEffect<never> {\n  function* wrappedWorker(...args: HelperWorkerParameters<ActionMatchingPattern<P>, Fn>) {\n    try {\n      const result = worker(...args);\n      if (isIterator(result)) {\n        yield* result;\n      }\n    } catch (error) {\n      handleUncaughtError(error);\n    }\n  }\n  return takeLeading<P, typeof wrappedWorker>(pattern, wrappedWorker, ...args);\n}\n","import { SagaIterator } from 'redux-saga';\nimport { call, delay, put, select } from 'redux-saga/effects';\n\nimport {\n  AchievementGoal,\n  ADD_EVENT,\n  BULK_UPDATE_ACHIEVEMENTS,\n  BULK_UPDATE_GOALS,\n  EventType,\n  GET_ACHIEVEMENTS,\n  GET_GOALS,\n  GET_OWN_GOALS,\n  GET_USER_ASSESSMENT_OVERVIEWS,\n  GET_USERS,\n  HANDLE_EVENT,\n  REMOVE_ACHIEVEMENT,\n  REMOVE_GOAL,\n  UPDATE_GOAL_PROGRESS,\n  UPDATE_OWN_GOAL_PROGRESS\n} from '../../features/achievement/AchievementTypes';\nimport { updateGoalProcessed } from '../achievement/AchievementManualEditor';\nimport AchievementInferencer from '../achievement/utils/AchievementInferencer';\nimport { goalIncludesEvents, incrementCount } from '../achievement/utils/EventHandler';\nimport { OverallState } from '../application/ApplicationTypes';\nimport { Tokens } from '../application/types/SessionTypes';\nimport { actions } from '../utils/ActionsHelper';\nimport Constants from '../utils/Constants';\nimport {\n  bulkUpdateAchievements,\n  bulkUpdateGoals,\n  getAchievements,\n  getAllUsers,\n  getGoals,\n  getOwnGoals,\n  getUserAssessmentOverviews,\n  removeAchievement,\n  removeGoal,\n  updateGoalProgress,\n  updateOwnGoalProgress\n} from './RequestsSaga';\nimport { safeTakeEvery as takeEvery } from './SafeEffects';\n\nfunction selectTokens() {\n  return select((state: OverallState) => ({\n    accessToken: state.session.accessToken,\n    refreshToken: state.session.refreshToken\n  }));\n}\n\nexport default function* AchievementSaga(): SagaIterator {\n  yield takeEvery(\n    BULK_UPDATE_ACHIEVEMENTS,\n    function* (action: ReturnType<typeof actions.bulkUpdateAchievements>): any {\n      const tokens: Tokens = yield selectTokens();\n\n      const achievements = action.payload;\n\n      const resp = yield call(bulkUpdateAchievements, achievements, tokens);\n\n      if (!resp) {\n        return;\n      }\n    }\n  );\n\n  yield takeEvery(\n    BULK_UPDATE_GOALS,\n    function* (action: ReturnType<typeof actions.bulkUpdateGoals>): any {\n      const tokens: Tokens = yield selectTokens();\n\n      const goals = action.payload;\n\n      const resp = yield call(bulkUpdateGoals, goals, tokens);\n\n      if (!resp) {\n        return;\n      }\n    }\n  );\n\n  yield takeEvery(GET_ACHIEVEMENTS, function* (): any {\n    const tokens: Tokens = yield selectTokens();\n\n    const achievements = yield call(getAchievements, tokens);\n\n    if (achievements) {\n      yield put(actions.saveAchievements(achievements));\n    }\n  });\n\n  yield takeEvery(GET_GOALS, function* (action: ReturnType<typeof actions.getGoals>): any {\n    const tokens: Tokens = yield selectTokens();\n\n    const studentCourseRegId = action.payload;\n\n    const goals = yield call(getGoals, tokens, studentCourseRegId);\n\n    if (goals) {\n      yield put(actions.saveGoals(goals));\n    }\n  });\n\n  yield takeEvery(GET_OWN_GOALS, function* (action: ReturnType<typeof actions.getOwnGoals>): any {\n    const tokens: Tokens = yield selectTokens();\n\n    const goals = yield call(getOwnGoals, tokens);\n\n    if (goals) {\n      yield put(actions.saveGoals(goals));\n    }\n  });\n\n  yield takeEvery(GET_USERS, function* (action: ReturnType<typeof actions.getUsers>): any {\n    const tokens: Tokens = yield selectTokens();\n\n    const users = yield call(getAllUsers, tokens);\n\n    if (users) {\n      yield put(actions.saveUsers(users));\n    }\n  });\n\n  yield takeEvery(\n    REMOVE_ACHIEVEMENT,\n    function* (action: ReturnType<typeof actions.removeAchievement>): any {\n      const tokens: Tokens = yield selectTokens();\n\n      const achievement = action.payload;\n\n      const resp = yield call(removeAchievement, achievement, tokens);\n\n      if (!resp) {\n        return;\n      }\n    }\n  );\n\n  yield takeEvery(REMOVE_GOAL, function* (action: ReturnType<typeof actions.removeGoal>): any {\n    const tokens: Tokens = yield selectTokens();\n\n    const definition = action.payload;\n\n    const resp = yield call(removeGoal, definition, tokens);\n\n    if (!resp) {\n      return;\n    }\n  });\n\n  yield takeEvery(\n    UPDATE_OWN_GOAL_PROGRESS,\n    function* (action: ReturnType<typeof actions.updateOwnGoalProgress>): any {\n      const tokens: Tokens = yield selectTokens();\n\n      const progress = action.payload;\n\n      const resp = yield call(updateOwnGoalProgress, progress, tokens);\n\n      if (!resp) {\n        return;\n      }\n    }\n  );\n\n  yield takeEvery(\n    UPDATE_GOAL_PROGRESS,\n    function* (action: ReturnType<typeof actions.updateGoalProgress>): any {\n      const tokens: Tokens = yield selectTokens();\n\n      const { studentCourseRegId, progress } = action.payload;\n\n      const resp = yield call(updateGoalProgress, studentCourseRegId, progress, tokens);\n\n      if (!resp) {\n        return;\n      }\n      if (resp.ok) {\n        yield put(actions.getGoals(studentCourseRegId));\n        updateGoalProcessed();\n      }\n    }\n  );\n\n  let loggedEvents: EventType[][] = [];\n  let timeoutSet: boolean = false;\n  const updateInterval = 3000;\n\n  yield takeEvery(ADD_EVENT, function* (action: ReturnType<typeof actions.addEvent>): any {\n    const role = yield select((state: OverallState) => state.session.role);\n    const enableAchievements = yield select(\n      (state: OverallState) => state.session.enableAchievements\n    );\n    if (role && enableAchievements && !Constants.playgroundOnly) {\n      loggedEvents.push(action.payload);\n\n      if (!timeoutSet && role) {\n        // make sure that only one action every interval will handleEvent\n        timeoutSet = true;\n        yield delay(updateInterval);\n\n        timeoutSet = false;\n        yield put(actions.handleEvent(loggedEvents));\n        loggedEvents = [];\n      }\n    }\n  });\n\n  yield takeEvery(HANDLE_EVENT, function* (action: ReturnType<typeof actions.handleEvent>): any {\n    const tokens: Tokens = yield selectTokens();\n\n    // get the most recent list of achievements\n    const backendAchievements = yield call(getAchievements, tokens);\n    if (backendAchievements) {\n      yield put(actions.saveAchievements(backendAchievements));\n    }\n\n    // get the goals and their progress from the backend\n    const backendGoals = yield call(getOwnGoals, tokens);\n    if (backendGoals) {\n      yield put(actions.saveGoals(backendGoals));\n    } else {\n      // if there are no goals, handling events will do nothing\n      return;\n    }\n\n    const achievements = yield select((state: OverallState) => state.achievement.achievements);\n    const goals = yield select((state: OverallState) => state.achievement.goals);\n\n    const inferencer = new AchievementInferencer(achievements, goals);\n    const loggedEvents: EventType[][] = action.payload;\n\n    const updatedGoals = new Set<string>();\n\n    loggedEvents.forEach((events: EventType[]) => {\n      const eventGoalUuids = goals\n        .filter((goal: AchievementGoal) => goalIncludesEvents(goal, events))\n        .map((goal: AchievementGoal) => goal.uuid);\n      eventGoalUuids.forEach((uuid: string) => {\n        incrementCount(uuid, inferencer);\n        updatedGoals.add(uuid);\n      });\n    });\n\n    for (const uuid of updatedGoals) {\n      const resp = yield call(updateOwnGoalProgress, inferencer.getGoalProgress(uuid), tokens);\n\n      if (!resp) {\n        return;\n      }\n    }\n  });\n\n  yield takeEvery(\n    GET_USER_ASSESSMENT_OVERVIEWS,\n    function* (action: ReturnType<typeof actions.getUserAssessmentOverviews>): any {\n      const tokens: Tokens = yield selectTokens();\n\n      const assessmentOverviews = yield call(getUserAssessmentOverviews, action.payload, tokens);\n\n      if (assessmentOverviews) {\n        yield put(actions.saveUserAssessmentOverviews(assessmentOverviews));\n      }\n    }\n  );\n}\n","import Constants from './Constants';\n\nexport function computeEndpointUrl(providerId: string): string | undefined {\n  const ep = Constants.authProviders.get(providerId);\n  if (!ep) {\n    return undefined;\n  }\n  try {\n    const epUrl = new URL(ep.endpoint);\n    epUrl.searchParams.set('redirect_uri', computeRedirectUri(providerId)!);\n    return epUrl.toString();\n  } catch (e) {\n    // in dev, sometimes the endpoint is a dummy; allow that\n    return ep.endpoint || '';\n  }\n}\n\nexport function computeRedirectUri(providerId: string): string | undefined {\n  const ep = Constants.authProviders.get(providerId);\n  if (!ep) {\n    return undefined;\n  }\n  const port = window.location.port === '' ? '' : `:${window.location.port}`;\n  const callback = `${window.location.protocol}//${window.location.hostname}${port}/login${\n    ep.isDefault ? '' : '?provider=' + encodeURIComponent(providerId)\n  }`;\n  return callback;\n}\n\nexport function getClientId(providerId: string): string | undefined {\n  const ep = Constants.authProviders.get(providerId);\n  if (!ep) {\n    return undefined;\n  }\n  try {\n    const epUrl = new URL(ep.endpoint);\n    return epUrl.searchParams.get('client_id') || undefined;\n  } catch (e) {\n    // in dev, sometimes the endpoint is a dummy; allow that\n    return ep.endpoint || undefined;\n  }\n}\n\nexport function getDefaultProvider():\n  | [string, NonNullable<ReturnType<typeof Constants.authProviders.get>>]\n  | undefined {\n  return [...Constants.authProviders.entries()].find(([_, { isDefault }]) => isDefault);\n}\n","/*eslint no-eval: \"error\"*/\n/*eslint-env browser*/\nimport { SagaIterator } from 'redux-saga';\nimport { call, put, select } from 'redux-saga/effects';\nimport { ADD_NEW_USERS_TO_COURSE, CREATE_COURSE } from 'src/features/academy/AcademyTypes';\nimport { UsernameRoleGroup } from 'src/pages/academy/adminPanel/subcomponents/AddUserPanel';\n\nimport {\n  FETCH_GROUP_GRADING_SUMMARY,\n  GradingSummary\n} from '../../features/dashboard/DashboardTypes';\nimport { Grading, GradingOverview, GradingQuestion } from '../../features/grading/GradingTypes';\nimport {\n  CHANGE_DATE_ASSESSMENT,\n  DELETE_ASSESSMENT,\n  PUBLISH_ASSESSMENT,\n  UPLOAD_ASSESSMENT\n} from '../../features/groundControl/GroundControlTypes';\nimport { FETCH_SOURCECAST_INDEX } from '../../features/sourceRecorder/sourcecast/SourcecastTypes';\nimport {\n  SAVE_SOURCECAST_DATA,\n  SourcecastData\n} from '../../features/sourceRecorder/SourceRecorderTypes';\nimport { DELETE_SOURCECAST_ENTRY } from '../../features/sourceRecorder/sourcereel/SourcereelTypes';\nimport { OverallState, Role } from '../application/ApplicationTypes';\nimport {\n  ACKNOWLEDGE_NOTIFICATIONS,\n  AdminPanelCourseRegistration,\n  CourseConfiguration,\n  CourseRegistration,\n  DELETE_ASSESSMENT_CONFIG,\n  DELETE_USER_COURSE_REGISTRATION,\n  FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS,\n  FETCH_ALL_USER_XP,\n  FETCH_ASSESSMENT,\n  FETCH_ASSESSMENT_ADMIN,\n  FETCH_ASSESSMENT_CONFIGS,\n  FETCH_AUTH,\n  FETCH_COURSE_CONFIG,\n  FETCH_GRADING,\n  FETCH_GRADING_OVERVIEWS,\n  FETCH_NOTIFICATIONS,\n  FETCH_TOTAL_XP,\n  FETCH_TOTAL_XP_ADMIN,\n  FETCH_USER_AND_COURSE,\n  REAUTOGRADE_ANSWER,\n  REAUTOGRADE_SUBMISSION,\n  SUBMIT_ANSWER,\n  SUBMIT_GRADING,\n  SUBMIT_GRADING_AND_CONTINUE,\n  Tokens,\n  UNSUBMIT_SUBMISSION,\n  UPDATE_ASSESSMENT_CONFIGS,\n  UPDATE_COURSE_CONFIG,\n  UPDATE_COURSE_RESEARCH_AGREEMENT,\n  UPDATE_LATEST_VIEWED_COURSE,\n  UPDATE_USER_ROLE,\n  UpdateCourseConfiguration,\n  User\n} from '../application/types/SessionTypes';\nimport {\n  Assessment,\n  AssessmentConfiguration,\n  AssessmentOverview,\n  AssessmentStatuses,\n  FETCH_ASSESSMENT_OVERVIEWS,\n  Question,\n  SUBMIT_ASSESSMENT\n} from '../assessment/AssessmentTypes';\nimport {\n  Notification,\n  NotificationFilterFunction\n} from '../notificationBadge/NotificationBadgeTypes';\nimport { actions } from '../utils/ActionsHelper';\nimport { computeRedirectUri, getClientId, getDefaultProvider } from '../utils/AuthHelper';\nimport { history } from '../utils/HistoryHelper';\nimport { showSuccessMessage, showWarningMessage } from '../utils/NotificationsHelper';\nimport { CHANGE_SUBLANGUAGE, WorkspaceLocation } from '../workspace/WorkspaceTypes';\nimport {\n  deleteAssessment,\n  deleteSourcecastEntry,\n  getAllUserXp,\n  getAssessment,\n  getAssessmentConfigs,\n  getAssessmentOverviews,\n  getCourseConfig,\n  getGrading,\n  getGradingOverviews,\n  getGradingSummary,\n  getLatestCourseRegistrationAndConfiguration,\n  getNotifications,\n  getSourcecastIndex,\n  getTotalXp,\n  getUser,\n  getUserCourseRegistrations,\n  handleResponseError,\n  postAcknowledgeNotifications,\n  postAnswer,\n  postAssessment,\n  postAuth,\n  postCreateCourse,\n  postGrading,\n  postReautogradeAnswer,\n  postReautogradeSubmission,\n  postSourcecast,\n  postUnsubmit,\n  putAssessmentConfigs,\n  putCourseConfig,\n  putCourseResearchAgreement,\n  putLatestViewedCourse,\n  putNewUsers,\n  putUserRole,\n  removeAssessmentConfig,\n  removeUserCourseRegistration,\n  updateAssessment,\n  uploadAssessment\n} from './RequestsSaga';\nimport { safeTakeEvery as takeEvery } from './SafeEffects';\n\nfunction selectTokens() {\n  return select((state: OverallState) => ({\n    accessToken: state.session.accessToken,\n    refreshToken: state.session.refreshToken\n  }));\n}\n\nfunction* BackendSaga(): SagaIterator {\n  yield takeEvery(FETCH_AUTH, function* (action: ReturnType<typeof actions.fetchAuth>): any {\n    const { code, providerId: payloadProviderId } = action.payload;\n\n    const providerId = payloadProviderId || (getDefaultProvider() || [null])[0];\n    if (!providerId) {\n      yield call(\n        showWarningMessage,\n        'Could not log in; invalid provider or no providers configured.'\n      );\n      return yield history.push('/');\n    }\n\n    const clientId = getClientId(providerId);\n    const redirectUrl = computeRedirectUri(providerId);\n\n    const tokens: Tokens | null = yield call(postAuth, code, providerId, clientId, redirectUrl);\n    if (!tokens) {\n      return yield history.push('/');\n    }\n    yield put(actions.setTokens(tokens));\n\n    // Note: courseRegistration, courseConfiguration and assessmentConfigurations\n    // are either all null OR all not null\n    const {\n      user,\n      courseRegistration,\n      courseConfiguration,\n      assessmentConfigurations\n    }: {\n      user: User | null;\n      courseRegistration: CourseRegistration | null;\n      courseConfiguration: CourseConfiguration | null;\n      assessmentConfigurations: AssessmentConfiguration[] | null;\n    } = yield call(getUser, tokens);\n\n    if (!user) {\n      return;\n    }\n\n    yield put(actions.setUser(user));\n\n    // Handle case where user does not have a latest viewed course in the backend\n    // but is enrolled in some course (this happens occationally due to e.g. removal from a course)\n    if (courseConfiguration === null && user.courses.length > 0) {\n      yield put(actions.updateLatestViewedCourse(user.courses[0].courseId));\n    }\n\n    if (courseRegistration && courseConfiguration && assessmentConfigurations) {\n      yield put(actions.setCourseRegistration(courseRegistration));\n      yield put(actions.setCourseConfiguration(courseConfiguration));\n      yield put(actions.setAssessmentConfigurations(assessmentConfigurations));\n      return yield history.push(`/courses/${courseRegistration.courseId}`);\n    }\n\n    return yield history.push(`/welcome`);\n  });\n\n  yield takeEvery(\n    FETCH_USER_AND_COURSE,\n    function* (action: ReturnType<typeof actions.fetchUserAndCourse>): any {\n      const tokens = yield selectTokens();\n\n      const {\n        user,\n        courseRegistration,\n        courseConfiguration,\n        assessmentConfigurations\n      }: {\n        user: User | null;\n        courseRegistration: CourseRegistration | null;\n        courseConfiguration: CourseConfiguration | null;\n        assessmentConfigurations: AssessmentConfiguration[] | null;\n      } = yield call(getUser, tokens);\n\n      if (!user) {\n        return;\n      }\n\n      yield put(actions.setUser(user));\n\n      // Handle case where user does not have a latest viewed course in the backend\n      // but is enrolled in some course (this happens occationally due to e.g. removal from a course)\n      if (courseConfiguration === null && user.courses.length > 0) {\n        yield put(actions.updateLatestViewedCourse(user.courses[0].courseId));\n      }\n\n      if (courseRegistration && courseConfiguration && assessmentConfigurations) {\n        yield put(actions.setCourseRegistration(courseRegistration));\n        yield put(actions.setCourseConfiguration(courseConfiguration));\n        yield put(actions.setAssessmentConfigurations(assessmentConfigurations));\n      }\n    }\n  );\n\n  yield takeEvery(FETCH_COURSE_CONFIG, function* () {\n    const tokens: Tokens = yield selectTokens();\n    const { config }: { config: CourseConfiguration | null } = yield call(getCourseConfig, tokens);\n    if (config) {\n      yield put(actions.setCourseConfiguration(config));\n    }\n  });\n\n  yield takeEvery(FETCH_ASSESSMENT_OVERVIEWS, function* () {\n    const tokens: Tokens = yield selectTokens();\n\n    const assessmentOverviews: AssessmentOverview[] | null = yield call(\n      getAssessmentOverviews,\n      tokens\n    );\n    if (assessmentOverviews) {\n      yield put(actions.updateAssessmentOverviews(assessmentOverviews));\n    }\n  });\n\n  yield takeEvery(FETCH_ALL_USER_XP, function* () {\n    const tokens: Tokens = yield selectTokens();\n\n    const res: { all_users_xp: string[][] } = yield call(getAllUserXp, tokens);\n    if (res) {\n      yield put(actions.updateAllUserXp(res.all_users_xp));\n    }\n  });\n\n  yield takeEvery(FETCH_TOTAL_XP, function* () {\n    const tokens: Tokens = yield selectTokens();\n\n    const res: { totalXp: number } = yield call(getTotalXp, tokens);\n    if (res) {\n      yield put(actions.updateTotalXp(res.totalXp));\n    }\n  });\n\n  yield takeEvery(\n    FETCH_TOTAL_XP_ADMIN,\n    function* (action: ReturnType<typeof actions.fetchTotalXpAdmin>) {\n      const tokens: Tokens = yield selectTokens();\n\n      const courseRegId = action.payload;\n\n      const res: { totalXp: number } = yield call(getTotalXp, tokens, courseRegId);\n      if (res) {\n        yield put(actions.updateTotalXp(res.totalXp));\n      }\n    }\n  );\n\n  yield takeEvery(FETCH_ASSESSMENT, function* (action: ReturnType<typeof actions.fetchAssessment>) {\n    const tokens: Tokens = yield selectTokens();\n\n    const assessmentId = action.payload;\n\n    const assessment: Assessment | null = yield call(getAssessment, assessmentId, tokens);\n    if (assessment) {\n      yield put(actions.updateAssessment(assessment));\n    }\n  });\n\n  yield takeEvery(\n    FETCH_ASSESSMENT_ADMIN,\n    function* (action: ReturnType<typeof actions.fetchAssessmentAdmin>) {\n      const tokens: Tokens = yield selectTokens();\n\n      const { assessmentId, courseRegId } = action.payload;\n\n      const assessment: Assessment | null = yield call(\n        getAssessment,\n        assessmentId,\n        tokens,\n        courseRegId\n      );\n      if (assessment) {\n        yield put(actions.updateAssessment(assessment));\n      }\n    }\n  );\n\n  yield takeEvery(SUBMIT_ANSWER, function* (action: ReturnType<typeof actions.submitAnswer>): any {\n    const tokens: Tokens = yield selectTokens();\n    const questionId = action.payload.id;\n    const answer = action.payload.answer;\n\n    const resp: Response | null = yield call(postAnswer, questionId, answer, tokens);\n    if (!resp || !resp.ok) {\n      return yield handleResponseError(resp);\n    }\n\n    yield call(showSuccessMessage, 'Saved!', 1000);\n\n    // Now, update the answer for the question in the assessment in the store\n    const assessmentId: number = yield select(\n      (state: OverallState) => state.workspaces.assessment.currentAssessment!\n    );\n    const assessment: any = yield select((state: OverallState) =>\n      state.session.assessments.get(assessmentId)\n    );\n    const newQuestions = assessment.questions.slice().map((question: Question) => {\n      if (question.id === questionId) {\n        return { ...question, answer };\n      }\n      return question;\n    });\n    const newAssessment = {\n      ...assessment,\n      questions: newQuestions\n    };\n\n    yield put(actions.updateAssessment(newAssessment));\n    return yield put(actions.updateHasUnsavedChanges('assessment' as WorkspaceLocation, false));\n  });\n\n  yield takeEvery(\n    SUBMIT_ASSESSMENT,\n    function* (action: ReturnType<typeof actions.submitAssessment>): any {\n      const tokens: Tokens = yield selectTokens();\n      const assessmentId = action.payload;\n\n      const resp: Response | null = yield call(postAssessment, assessmentId, tokens);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield call(showSuccessMessage, 'Submitted!', 2000);\n\n      // Now, update the status of the assessment overview in the store\n      const overviews: AssessmentOverview[] = yield select(\n        (state: OverallState) => state.session.assessmentOverviews\n      );\n      const newOverviews = overviews.map(overview => {\n        if (overview.id === assessmentId) {\n          return { ...overview, status: AssessmentStatuses.submitted };\n        }\n        return overview;\n      });\n\n      return yield put(actions.updateAssessmentOverviews(newOverviews));\n    }\n  );\n\n  yield takeEvery(\n    FETCH_GRADING_OVERVIEWS,\n    function* (action: ReturnType<typeof actions.fetchGradingOverviews>) {\n      const tokens: Tokens = yield selectTokens();\n\n      const filterToGroup = action.payload;\n\n      const gradingOverviews: GradingOverview[] | null = yield call(\n        getGradingOverviews,\n        tokens,\n        filterToGroup\n      );\n      if (gradingOverviews) {\n        yield put(actions.updateGradingOverviews(gradingOverviews));\n      }\n    }\n  );\n\n  yield takeEvery(FETCH_GRADING, function* (action: ReturnType<typeof actions.fetchGrading>) {\n    const tokens: Tokens = yield selectTokens();\n    const id = action.payload;\n\n    const grading: Grading | null = yield call(getGrading, id, tokens);\n    if (grading) {\n      yield put(actions.updateGrading(id, grading));\n    }\n  });\n\n  /**\n   * Unsubmits the submission and updates the grading overviews of the new status.\n   */\n  yield takeEvery(\n    UNSUBMIT_SUBMISSION,\n    function* (action: ReturnType<typeof actions.unsubmitSubmission>): any {\n      const tokens: Tokens = yield selectTokens();\n      const { submissionId } = action.payload;\n\n      const resp: Response | null = yield postUnsubmit(submissionId, tokens);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      const overviews: GradingOverview[] = yield select(\n        (state: OverallState) => state.session.gradingOverviews || []\n      );\n      const newOverviews = overviews.map(overview => {\n        if (overview.submissionId === submissionId) {\n          return { ...overview, submissionStatus: 'attempted' };\n        }\n        return overview;\n      });\n\n      yield call(showSuccessMessage, 'Unsubmit successful', 1000);\n      yield put(actions.updateGradingOverviews(newOverviews));\n    }\n  );\n\n  const sendGrade = function* (\n    action:\n      | ReturnType<typeof actions.submitGrading>\n      | ReturnType<typeof actions.submitGradingAndContinue>\n  ): any {\n    const role: Role = yield select((state: OverallState) => state.session.role!);\n    if (role === Role.Student) {\n      return yield call(showWarningMessage, 'Only staff can submit answers.');\n    }\n\n    const { submissionId, questionId, xpAdjustment, comments } = action.payload;\n    const tokens: Tokens = yield selectTokens();\n\n    const resp: Response | null = yield postGrading(\n      submissionId,\n      questionId,\n      xpAdjustment,\n      tokens,\n      comments\n    );\n    if (!resp || !resp.ok) {\n      return yield handleResponseError(resp);\n    }\n\n    yield call(showSuccessMessage, 'Submitted!', 1000);\n\n    // Now, update the grade for the question in the Grading in the store\n    const grading: Grading = yield select((state: OverallState) =>\n      state.session.gradings.get(submissionId)\n    );\n    const newGrading = grading.slice().map((gradingQuestion: GradingQuestion) => {\n      if (gradingQuestion.question.id === questionId) {\n        gradingQuestion.grade = {\n          xpAdjustment,\n          xp: gradingQuestion.grade.xp,\n          comments\n        };\n      }\n      return gradingQuestion;\n    });\n\n    yield put(actions.updateGrading(submissionId, newGrading));\n  };\n\n  const sendGradeAndContinue = function* (\n    action: ReturnType<typeof actions.submitGradingAndContinue>\n  ) {\n    yield* sendGrade(action);\n\n    const { submissionId } = action.payload;\n    const [currentQuestion, courseId]: [number | undefined, number] = yield select(\n      (state: OverallState) => [state.workspaces.grading.currentQuestion, state.session.courseId!]\n    );\n\n    /**\n     * Move to next question for grading: this only works because the\n     * SUBMIT_GRADING_AND_CONTINUE Redux action is currently only\n     * used in the Grading Workspace\n     *\n     * If the questionId is out of bounds, the componentDidUpdate callback of\n     * GradingWorkspace will cause a redirect back to '/academy/grading'\n     */\n    yield history.push(\n      `/courses/${courseId}/grading/${submissionId}/${(currentQuestion || 0) + 1}`\n    );\n  };\n\n  yield takeEvery(SUBMIT_GRADING, sendGrade);\n\n  yield takeEvery(SUBMIT_GRADING_AND_CONTINUE, sendGradeAndContinue);\n\n  yield takeEvery(\n    REAUTOGRADE_SUBMISSION,\n    function* (action: ReturnType<typeof actions.reautogradeSubmission>) {\n      const submissionId = action.payload;\n      const tokens: Tokens = yield selectTokens();\n      const resp: Response | null = yield call(postReautogradeSubmission, submissionId, tokens);\n\n      yield call(handleReautogradeResponse, resp);\n    }\n  );\n\n  yield takeEvery(\n    REAUTOGRADE_ANSWER,\n    function* (action: ReturnType<typeof actions.reautogradeAnswer>) {\n      const { submissionId, questionId } = action.payload;\n      const tokens: Tokens = yield selectTokens();\n      const resp: Response | null = yield call(\n        postReautogradeAnswer,\n        submissionId,\n        questionId,\n        tokens\n      );\n\n      yield call(handleReautogradeResponse, resp);\n    }\n  );\n\n  yield takeEvery(\n    FETCH_NOTIFICATIONS,\n    function* (action: ReturnType<typeof actions.fetchNotifications>) {\n      const tokens: Tokens = yield selectTokens();\n      const notifications: Notification[] = yield call(getNotifications, tokens);\n\n      yield put(actions.updateNotifications(notifications));\n    }\n  );\n\n  yield takeEvery(\n    ACKNOWLEDGE_NOTIFICATIONS,\n    function* (action: ReturnType<typeof actions.acknowledgeNotifications>): any {\n      const tokens: Tokens = yield selectTokens();\n      const notificationFilter: NotificationFilterFunction | undefined = action.payload.withFilter;\n      const notifications: Notification[] = yield select(\n        (state: OverallState) => state.session.notifications\n      );\n\n      let notificationsToAcknowledge = notifications;\n\n      if (notificationFilter) {\n        notificationsToAcknowledge = notificationFilter(notifications);\n      }\n\n      if (notificationsToAcknowledge.length === 0) {\n        return;\n      }\n\n      const ids = notificationsToAcknowledge.map(n => n.id);\n      const newNotifications: Notification[] = notifications.filter(\n        notification => !ids.includes(notification.id)\n      );\n\n      yield put(actions.updateNotifications(newNotifications));\n\n      const resp: Response | null = yield call(postAcknowledgeNotifications, tokens, ids);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n    }\n  );\n\n  yield takeEvery(\n    DELETE_SOURCECAST_ENTRY,\n    function* (action: ReturnType<typeof actions.deleteSourcecastEntry>): any {\n      const role: Role = yield select((state: OverallState) => state.session.role!);\n      if (role === Role.Student) {\n        return yield call(showWarningMessage, 'Only staff can delete sourcecasts.');\n      }\n\n      const tokens: Tokens = yield selectTokens();\n      const { id } = action.payload;\n\n      const resp: Response | null = yield deleteSourcecastEntry(id, tokens);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      const sourcecastIndex: SourcecastData[] | null = yield call(getSourcecastIndex, tokens);\n      if (sourcecastIndex) {\n        yield put(actions.updateSourcecastIndex(sourcecastIndex, action.payload.workspaceLocation));\n      }\n\n      yield call(showSuccessMessage, 'Deleted successfully!', 1000);\n    }\n  );\n\n  yield takeEvery(\n    FETCH_SOURCECAST_INDEX,\n    function* (action: ReturnType<typeof actions.fetchSourcecastIndex>) {\n      const tokens: Tokens = yield selectTokens();\n\n      const sourcecastIndex: SourcecastData[] | null = yield call(getSourcecastIndex, tokens);\n      if (sourcecastIndex) {\n        yield put(actions.updateSourcecastIndex(sourcecastIndex, action.payload.workspaceLocation));\n      }\n    }\n  );\n\n  yield takeEvery(\n    SAVE_SOURCECAST_DATA,\n    function* (action: ReturnType<typeof actions.saveSourcecastData>): any {\n      const [role, courseId]: [Role, number | undefined] = yield select((state: OverallState) => [\n        state.session.role!,\n        state.session.courseId\n      ]);\n      if (role === Role.Student) {\n        return yield call(showWarningMessage, 'Only staff can save sourcecasts.');\n      }\n\n      const { title, description, uid, audio, playbackData } = action.payload;\n      const tokens: Tokens = yield selectTokens();\n\n      const resp: Response | null = yield postSourcecast(\n        title,\n        description,\n        uid,\n        audio,\n        playbackData,\n        tokens\n      );\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield call(showSuccessMessage, 'Saved successfully!', 1000);\n      yield history.push(`/courses/${courseId}/sourcecast`);\n    }\n  );\n\n  yield takeEvery(\n    CHANGE_SUBLANGUAGE,\n    function* (action: ReturnType<typeof actions.changeSublanguage>): any {\n      const tokens: Tokens = yield selectTokens();\n      const { sublang } = action.payload;\n\n      const resp: Response | null = yield call(putCourseConfig, tokens, {\n        sourceChapter: sublang.chapter,\n        sourceVariant: sublang.variant\n      });\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(\n        actions.setCourseConfiguration({\n          sourceChapter: sublang.chapter,\n          sourceVariant: sublang.variant\n        })\n      );\n      yield call(showSuccessMessage, 'Updated successfully!', 1000);\n    }\n  );\n\n  yield takeEvery(\n    UPDATE_LATEST_VIEWED_COURSE,\n    function* (action: ReturnType<typeof actions.updateLatestViewedCourse>): any {\n      const tokens: Tokens = yield selectTokens();\n      const { courseId } = action.payload;\n\n      const resp: Response | null = yield call(putLatestViewedCourse, tokens, courseId);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      const {\n        courseRegistration,\n        courseConfiguration,\n        assessmentConfigurations\n      }: {\n        courseRegistration: CourseRegistration | null;\n        courseConfiguration: CourseConfiguration | null;\n        assessmentConfigurations: AssessmentConfiguration[] | null;\n      } = yield call(getLatestCourseRegistrationAndConfiguration, tokens);\n\n      if (!courseRegistration || !courseConfiguration || !assessmentConfigurations) {\n        yield call(showWarningMessage, `Failed to load course!`);\n        return yield history.push('/welcome');\n      }\n\n      yield put(actions.setCourseConfiguration(courseConfiguration));\n      yield put(actions.setAssessmentConfigurations(assessmentConfigurations));\n      yield put(actions.setCourseRegistration(courseRegistration));\n      yield call(showSuccessMessage, `Switched to ${courseConfiguration.courseName}!`, 5000);\n    }\n  );\n\n  yield takeEvery(\n    UPDATE_COURSE_CONFIG,\n    function* (action: ReturnType<typeof actions.updateCourseConfig>): any {\n      const tokens: Tokens = yield selectTokens();\n      const courseConfig: UpdateCourseConfiguration = action.payload;\n\n      const resp: Response | null = yield call(putCourseConfig, tokens, courseConfig);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(actions.setCourseConfiguration(courseConfig));\n      yield call(showSuccessMessage, 'Updated successfully!', 1000);\n    }\n  );\n\n  yield takeEvery(FETCH_ASSESSMENT_CONFIGS, function* (): any {\n    const tokens: Tokens = yield selectTokens();\n\n    const assessmentConfigs: AssessmentConfiguration[] | null = yield call(\n      getAssessmentConfigs,\n      tokens\n    );\n\n    if (assessmentConfigs) {\n      yield put(actions.setAssessmentConfigurations(assessmentConfigs));\n    }\n  });\n\n  yield takeEvery(\n    UPDATE_ASSESSMENT_CONFIGS,\n    function* (action: ReturnType<typeof actions.updateAssessmentConfigs>): any {\n      const tokens: Tokens = yield selectTokens();\n      const assessmentConfigs: AssessmentConfiguration[] = action.payload;\n\n      const resp: Response | null = yield call(putAssessmentConfigs, tokens, assessmentConfigs);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      const updatedAssessmentConfigs: AssessmentConfiguration[] | null = yield call(\n        getAssessmentConfigs,\n        tokens\n      );\n\n      if (updatedAssessmentConfigs) {\n        yield put(actions.setAssessmentConfigurations(updatedAssessmentConfigs));\n      }\n      yield call(showSuccessMessage, 'Updated successfully!', 1000);\n    }\n  );\n\n  yield takeEvery(\n    DELETE_ASSESSMENT_CONFIG,\n    function* (action: ReturnType<typeof actions.deleteAssessmentConfig>): any {\n      const tokens: Tokens = yield selectTokens();\n      const assessmentConfig: AssessmentConfiguration = action.payload;\n\n      const resp: Response | null = yield call(removeAssessmentConfig, tokens, assessmentConfig);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n    }\n  );\n\n  yield takeEvery(\n    FETCH_ADMIN_PANEL_COURSE_REGISTRATIONS,\n    function* (action: ReturnType<typeof actions.fetchAdminPanelCourseRegistrations>) {\n      const tokens: Tokens = yield selectTokens();\n\n      const courseRegistrations: AdminPanelCourseRegistration[] | null = yield call(\n        getUserCourseRegistrations,\n        tokens\n      );\n      if (courseRegistrations) {\n        yield put(actions.setAdminPanelCourseRegistrations(courseRegistrations));\n      }\n    }\n  );\n\n  yield takeEvery(CREATE_COURSE, function* (action: ReturnType<typeof actions.createCourse>): any {\n    const tokens: Tokens = yield selectTokens();\n    const courseConfig: UpdateCourseConfiguration = action.payload;\n\n    const resp: Response | null = yield call(postCreateCourse, tokens, courseConfig);\n    if (!resp || !resp.ok) {\n      return yield handleResponseError(resp);\n    }\n\n    const {\n      user,\n      courseRegistration,\n      courseConfiguration\n    }: {\n      user: User | null;\n      courseRegistration: CourseRegistration | null;\n      courseConfiguration: CourseConfiguration | null;\n      assessmentConfigurations: AssessmentConfiguration[] | null;\n    } = yield call(getUser, tokens);\n\n    if (!user || !courseRegistration || !courseConfiguration) {\n      return yield showWarningMessage('An error occurred. Please try again.');\n    }\n\n    /**\n     * setUser updates the Dropdown course selection menu with the updated courses\n     *\n     * Setting the role here handles an edge case where a user creates his first ever course.\n     * Without it, the history.push below would not work as the /courses routes will not be rendered\n     * (see Application.tsx)\n     */\n    yield put(actions.setUser(user));\n    yield put(actions.setCourseRegistration({ role: Role.Student }));\n\n    const placeholderAssessmentConfig = [\n      {\n        type: 'Missions',\n        assessmentConfigId: -1,\n        isManuallyGraded: true,\n        displayInDashboard: true,\n        hoursBeforeEarlyXpDecay: 0,\n        earlySubmissionXp: 0\n      }\n    ];\n\n    const resp1: Response | null = yield call(\n      putAssessmentConfigs,\n      tokens,\n      placeholderAssessmentConfig,\n      courseRegistration.courseId\n    );\n    if (!resp1 || !resp1.ok) {\n      return yield handleResponseError(resp);\n    }\n\n    yield call(showSuccessMessage, 'Successfully created your new course!');\n    yield call([history, 'push'], `/courses/${courseRegistration.courseId}`);\n  });\n\n  yield takeEvery(\n    ADD_NEW_USERS_TO_COURSE,\n    function* (action: ReturnType<typeof actions.addNewUsersToCourse>): any {\n      const tokens: Tokens = yield selectTokens();\n      const { users, provider }: { users: UsernameRoleGroup[]; provider: string } = action.payload;\n\n      const resp: Response | null = yield call(putNewUsers, tokens, users, provider);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(actions.fetchAdminPanelCourseRegistrations());\n      yield call(showSuccessMessage, 'Users added!');\n    }\n  );\n\n  yield takeEvery(\n    UPDATE_USER_ROLE,\n    function* (action: ReturnType<typeof actions.updateUserRole>): any {\n      const tokens: Tokens = yield selectTokens();\n      const { courseRegId, role }: { courseRegId: number; role: Role } = action.payload;\n\n      const resp: Response | null = yield call(putUserRole, tokens, courseRegId, role);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(actions.fetchAdminPanelCourseRegistrations());\n      yield call(showSuccessMessage, 'Role updated!');\n    }\n  );\n\n  yield takeEvery(\n    UPDATE_COURSE_RESEARCH_AGREEMENT,\n    function* (action: ReturnType<typeof actions.updateCourseResearchAgreement>): any {\n      const tokens: Tokens = yield selectTokens();\n      const { agreedToResearch } = action.payload;\n\n      const resp: Response | null = yield call(\n        putCourseResearchAgreement,\n        tokens,\n        agreedToResearch\n      );\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(actions.setCourseRegistration({ agreedToResearch }));\n      yield call(showSuccessMessage, 'Research preference saved!');\n    }\n  );\n\n  yield takeEvery(\n    DELETE_USER_COURSE_REGISTRATION,\n    function* (action: ReturnType<typeof actions.deleteUserCourseRegistration>): any {\n      const tokens: Tokens = yield selectTokens();\n      const { courseRegId }: { courseRegId: number } = action.payload;\n\n      const resp: Response | null = yield call(removeUserCourseRegistration, tokens, courseRegId);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(actions.fetchAdminPanelCourseRegistrations());\n      yield call(showSuccessMessage, 'User deleted!');\n    }\n  );\n\n  yield takeEvery(\n    FETCH_GROUP_GRADING_SUMMARY,\n    function* (action: ReturnType<typeof actions.fetchGroupGradingSummary>) {\n      const tokens: Tokens = yield selectTokens();\n\n      const groupOverviews: GradingSummary | null = yield call(getGradingSummary, tokens);\n      if (groupOverviews) {\n        yield put(actions.updateGroupGradingSummary(groupOverviews));\n      }\n    }\n  );\n\n  yield takeEvery(\n    CHANGE_DATE_ASSESSMENT,\n    function* (action: ReturnType<typeof actions.changeDateAssessment>): any {\n      const tokens: Tokens = yield selectTokens();\n      const id = action.payload.id;\n      const closeAt = action.payload.closeAt;\n      const openAt = action.payload.openAt;\n\n      const resp: Response | null = yield updateAssessment(id, { openAt, closeAt }, tokens);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(actions.fetchAssessmentOverviews());\n      yield call(showSuccessMessage, 'Updated successfully!', 1000);\n    }\n  );\n\n  yield takeEvery(\n    DELETE_ASSESSMENT,\n    function* (action: ReturnType<typeof actions.deleteAssessment>): any {\n      const tokens: Tokens = yield selectTokens();\n      const id = action.payload;\n\n      const resp: Response | null = yield deleteAssessment(id, tokens);\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(actions.fetchAssessmentOverviews());\n      yield call(showSuccessMessage, 'Deleted successfully!', 1000);\n    }\n  );\n\n  yield takeEvery(\n    PUBLISH_ASSESSMENT,\n    function* (action: ReturnType<typeof actions.publishAssessment>): any {\n      const tokens: Tokens = yield selectTokens();\n      const id = action.payload.id;\n      const togglePublishTo = action.payload.togglePublishTo;\n\n      const resp: Response | null = yield updateAssessment(\n        id,\n        { isPublished: togglePublishTo },\n        tokens\n      );\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      yield put(actions.fetchAssessmentOverviews());\n\n      if (togglePublishTo) {\n        yield call(showSuccessMessage, 'Published successfully!', 1000);\n      } else {\n        yield call(showSuccessMessage, 'Unpublished successfully!', 1000);\n      }\n    }\n  );\n\n  yield takeEvery(\n    UPLOAD_ASSESSMENT,\n    function* (action: ReturnType<typeof actions.uploadAssessment>): any {\n      const tokens: Tokens = yield selectTokens();\n      const { file, forceUpdate, assessmentConfigId } = action.payload;\n\n      const resp: Response | null = yield uploadAssessment(\n        file,\n        tokens,\n        forceUpdate,\n        assessmentConfigId\n      );\n      if (!resp || !resp.ok) {\n        return yield handleResponseError(resp);\n      }\n\n      const respText: string = yield resp.text();\n      if (respText === 'OK') {\n        yield call(showSuccessMessage, 'Uploaded successfully!', 2000);\n      } else if (respText === 'Force Update OK') {\n        yield call(showSuccessMessage, 'Assessment force updated successfully!', 2000);\n      }\n\n      yield put(actions.fetchAssessmentOverviews());\n    }\n  );\n}\n\nfunction* handleReautogradeResponse(resp: Response | null): any {\n  if (resp && resp.ok) {\n    return yield call(showSuccessMessage, 'Autograde job queued successfully.');\n  }\n\n  if (resp && resp.status === 400) {\n    return yield call(showWarningMessage, 'Cannot reautograde non-submitted submission.');\n  }\n\n  return yield call(showWarningMessage, 'Failed to queue autograde job.');\n}\n\nexport default BackendSaga;\n","export class GitHubFileNodeData {\n  childrenRetrieved: boolean = false;\n  filePath: string = 'dummy_path';\n  fileType: string = 'unset';\n\n  constructor(path: string, type: string) {\n    this.filePath = path;\n    this.fileType = type;\n  }\n}\n","import { TreeNodeInfo } from '@blueprintjs/core';\nimport { GetResponseTypeFromEndpointMethod } from '@octokit/types';\n\nimport * as GitHubUtils from '../../features/github/GitHubUtils';\nimport { GitHubFileNodeData } from './GitHubFileNodeData';\n\n/**\n * A utility class for the GitHub overlay file explorer that handles the creation of TreeNodeInfos\n */\nexport class GitHubTreeNodeCreator {\n  static fileIndex: number = 0;\n  static currentRepoName: string = '';\n\n  /**\n   * Generates an array of TreeNodeInfos corresponding to the first level of a given repository.\n   *\n   * When loading a new repository, this function should always be called first as node creation is stateful.\n   *\n   * @param repoName The name of the repository where the file exists\n   */\n  public static async getFirstLayerRepoFileNodes(repoName: string) {\n    if (repoName === '') {\n      return [];\n    }\n\n    // Only allow mutations if the repoName is correct\n    GitHubTreeNodeCreator.fileIndex = 0;\n    GitHubTreeNodeCreator.currentRepoName = repoName;\n\n    return await GitHubTreeNodeCreator.getChildNodes(repoName, '');\n  }\n\n  /**\n   * Generates an array of TreeNodeInfo corresponding to the children of a given folder\n   *\n   * @param repoName The name of the repository where the folder exists\n   * @param filePath The filePath of the folder\n   */\n  public static async getChildNodes(repoName: string, filePath: string) {\n    const childNodes: TreeNodeInfo<GitHubFileNodeData>[] = [];\n\n    // Ensures that we will only generate children if the repoNames match\n    if (repoName !== GitHubTreeNodeCreator.currentRepoName) {\n      return childNodes;\n    }\n\n    const octokit = GitHubUtils.getGitHubOctokitInstance();\n\n    if (octokit === undefined) {\n      return childNodes;\n    }\n\n    try {\n      type GetAuthenticatedResponse = GetResponseTypeFromEndpointMethod<\n        typeof octokit.users.getAuthenticated\n      >;\n      const authUser: GetAuthenticatedResponse = await octokit.users.getAuthenticated();\n      const githubLoginID = authUser.data.login;\n\n      type GetContentResponse = GetResponseTypeFromEndpointMethod<typeof octokit.repos.getContent>;\n      const results: GetContentResponse = await octokit.repos.getContent({\n        owner: githubLoginID,\n        repo: repoName,\n        path: filePath\n      });\n\n      const childFiles = results.data;\n\n      if (Array.isArray(childFiles)) {\n        childFiles.forEach(childFile => {\n          childNodes.push(this.createNode(childFile));\n        });\n      }\n    } catch (err) {\n      console.error(err);\n    }\n\n    return childNodes;\n  }\n\n  /**\n   * Generates a single TreeNodeInfo corresponding to a single file or folder.\n   *\n   * @param octokitFileData File data as described by Octokit's REST API\n   */\n  private static createNode(octokitFileData: any) {\n    const index = GitHubTreeNodeCreator.fileIndex;\n\n    let node: TreeNodeInfo<GitHubFileNodeData> = {\n      id: index,\n      label: 'dummy file'\n    };\n\n    if (octokitFileData.type === 'file') {\n      node = {\n        id: index,\n        nodeData: new GitHubFileNodeData(octokitFileData.path, 'file'),\n        icon: 'document',\n        label: octokitFileData.name\n      };\n    }\n\n    if (octokitFileData.type === 'dir') {\n      node = {\n        id: index,\n        nodeData: new GitHubFileNodeData(octokitFileData.path, 'dir'),\n        icon: 'folder-close',\n        label: octokitFileData.name,\n        childNodes: [] // Child nodes are initially empty\n      };\n    }\n\n    GitHubTreeNodeCreator.fileIndex++;\n\n    return node;\n  }\n}\n","import {\n  AnchorButton,\n  Button,\n  Classes,\n  Dialog,\n  InputGroup,\n  Intent,\n  Tree,\n  TreeNodeInfo\n} from '@blueprintjs/core';\nimport { Octokit } from '@octokit/rest';\nimport { GetResponseTypeFromEndpointMethod } from '@octokit/types';\nimport classNames from 'classnames';\nimport React, { useEffect, useState } from 'react';\n\nimport {\n  checkIfFileCanBeOpened,\n  checkIfFileCanBeSavedAndGetSaveType,\n  checkIfUserAgreesToOverwriteEditorData,\n  checkIfUserAgreesToPerformOverwritingSave,\n  openFileInEditor,\n  performCreatingSave,\n  performOverwritingSave\n} from '../../features/github/GitHubUtils';\nimport { GitHubFileNodeData } from './GitHubFileNodeData';\nimport { GitHubTreeNodeCreator } from './GitHubTreeNodeCreator';\n\nexport type FileExplorerDialogProps = {\n  repoName: string;\n  pickerType: string;\n  octokit: Octokit;\n  editorContent: string;\n  onSubmit: (submitContent: string) => void;\n};\n\nconst FileExplorerDialog: React.FC<FileExplorerDialogProps> = props => {\n  const [repoFiles, setRepoFiles] = useState<TreeNodeInfo<GitHubFileNodeData>[]>([]);\n  const [filePath, setFilePath] = useState('');\n  const [commitMessage, setCommitMessage] = useState('');\n\n  useEffect(() => {\n    setFirstLayerRepoFiles(props.repoName, setRepoFiles);\n  }, [props.repoName]);\n\n  return (\n    <Dialog className=\"githubDialog\" isOpen={true} onClose={handleClose}>\n      <div className={classNames('githubDialogHeader', Classes.DIALOG_HEADER)}>\n        <h3>Select a File</h3>\n      </div>\n      <div className={Classes.DIALOG_BODY}>\n        <Tree\n          contents={repoFiles}\n          onNodeClick={handleNodeClick}\n          onNodeCollapse={handleNodeCollapse}\n          onNodeExpand={handleNodeExpand}\n          className={classNames('FileTree', Classes.ELEVATION_0)}\n        />\n        {props.pickerType === 'Save' && (\n          <div>\n            <InputGroup\n              id=\"FileNameTextBox\"\n              onChange={handleFileNameChange}\n              onClick={handleClickFileNameBox}\n              placeholder={'Enter File Name'}\n              value={filePath}\n            />\n            <InputGroup\n              onChange={handleCommitMessageChange}\n              placeholder={'Enter Commit Message'}\n              value={commitMessage}\n            />\n          </div>\n        )}\n      </div>\n      <div className={Classes.DIALOG_FOOTER}>\n        <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n          <Button onClick={handleClose}>Close</Button>\n          <AnchorButton onClick={handleSubmit} intent={Intent.PRIMARY} text={props.pickerType} />\n        </div>\n      </div>\n    </Dialog>\n  );\n\n  async function setFirstLayerRepoFiles(repoName: string, setRepoFiles: any) {\n    try {\n      const initialRepoFiles = await GitHubTreeNodeCreator.getFirstLayerRepoFileNodes(repoName);\n      setRepoFiles(initialRepoFiles);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  function handleClose() {\n    props.onSubmit('');\n  }\n\n  async function handleSubmit() {\n    type GetAuthenticatedResponse = GetResponseTypeFromEndpointMethod<\n      typeof props.octokit.users.getAuthenticated\n    >;\n    const authUser: GetAuthenticatedResponse = await props.octokit.users.getAuthenticated();\n    const githubLoginID = authUser.data.login;\n    const githubName = authUser.data.name;\n    const githubEmail = authUser.data.email;\n\n    if (props.pickerType === 'Open') {\n      if (await checkIfFileCanBeOpened(props.octokit, githubLoginID, props.repoName, filePath)) {\n        if (await checkIfUserAgreesToOverwriteEditorData()) {\n          openFileInEditor(props.octokit, githubLoginID, props.repoName, filePath);\n        }\n      }\n    }\n\n    if (props.pickerType === 'Save') {\n      const { canBeSaved, saveType } = await checkIfFileCanBeSavedAndGetSaveType(\n        props.octokit,\n        githubLoginID,\n        props.repoName,\n        filePath\n      );\n\n      if (canBeSaved) {\n        if (saveType === 'Overwrite' && (await checkIfUserAgreesToPerformOverwritingSave())) {\n          performOverwritingSave(\n            props.octokit,\n            githubLoginID,\n            props.repoName,\n            filePath,\n            githubName,\n            githubEmail,\n            commitMessage,\n            props.editorContent\n          );\n        }\n\n        if (saveType === 'Create') {\n          performCreatingSave(\n            props.octokit,\n            githubLoginID,\n            props.repoName,\n            filePath,\n            githubName,\n            githubEmail,\n            commitMessage,\n            props.editorContent\n          );\n        }\n      }\n    }\n    props.onSubmit('');\n  }\n\n  async function handleNodeClick(\n    treeNode: TreeNodeInfo<GitHubFileNodeData>,\n    _nodePath: number[],\n    e: React.MouseEvent<HTMLElement>\n  ) {\n    const originallySelected = treeNode.isSelected;\n\n    const allNodesCallback = (node: TreeNodeInfo<GitHubFileNodeData>) => (node.isSelected = false);\n    const specificNodeCallback = (node: TreeNodeInfo<GitHubFileNodeData>) => {\n      // if originally selected is null, set to true\n      // else, toggle the selection\n      node.isSelected = originallySelected === null ? true : !originallySelected;\n      const newFilePath =\n        node.nodeData !== undefined && node.isSelected ? node.nodeData.filePath : '';\n      setFilePath(newFilePath);\n    };\n\n    const newRepoFiles = await cloneWithCallbacks(\n      repoFiles,\n      treeNode,\n      allNodesCallback,\n      specificNodeCallback\n    );\n\n    if (newRepoFiles !== null) {\n      setRepoFiles(newRepoFiles);\n    }\n  }\n\n  async function handleNodeCollapse(treeNode: TreeNodeInfo<GitHubFileNodeData>) {\n    const newRepoFiles = await cloneWithCallbacks(\n      repoFiles,\n      treeNode,\n      (node: TreeNodeInfo<GitHubFileNodeData>) => {},\n      (node: TreeNodeInfo<GitHubFileNodeData>) => (node.isExpanded = false)\n    );\n\n    if (newRepoFiles !== null) {\n      setRepoFiles(newRepoFiles);\n    }\n  }\n\n  async function handleNodeExpand(treeNode: TreeNodeInfo<GitHubFileNodeData>) {\n    const newRepoFiles = await cloneWithCallbacks(\n      repoFiles,\n      treeNode,\n      (node: TreeNodeInfo<GitHubFileNodeData>) => {},\n      async (node: TreeNodeInfo<GitHubFileNodeData>) => {\n        node.isExpanded = true;\n\n        if (node.nodeData !== undefined && !node.nodeData.childrenRetrieved) {\n          node.childNodes = await GitHubTreeNodeCreator.getChildNodes(\n            props.repoName,\n            node.nodeData.filePath\n          );\n          node.nodeData.childrenRetrieved = true;\n        }\n      }\n    );\n\n    if (newRepoFiles !== null) {\n      setRepoFiles(newRepoFiles);\n    }\n  }\n\n  async function cloneWithCallbacks(\n    treeNodes: TreeNodeInfo<GitHubFileNodeData>[],\n    treeNodeToEdit: TreeNodeInfo<GitHubFileNodeData>,\n    allNodesCallback: (node: TreeNodeInfo<GitHubFileNodeData>) => void,\n    specificNodeCallback: (node: TreeNodeInfo<GitHubFileNodeData>) => void\n  ) {\n    if (treeNodes === null) {\n      return null;\n    }\n\n    const newTreeNodes = [];\n\n    for (let i = 0; i < treeNodes.length; i++) {\n      const node = treeNodes[i];\n      const clonedNode = Object.assign({}, node);\n      await allNodesCallback(clonedNode);\n\n      if (treeNodeToEdit === node) {\n        await specificNodeCallback(clonedNode);\n      }\n\n      if (clonedNode.childNodes !== undefined) {\n        const newChildNodes = await cloneWithCallbacks(\n          clonedNode.childNodes,\n          treeNodeToEdit,\n          allNodesCallback,\n          specificNodeCallback\n        );\n\n        if (newChildNodes !== null) {\n          clonedNode.childNodes = newChildNodes;\n        }\n      }\n\n      newTreeNodes.push(clonedNode);\n    }\n\n    return newTreeNodes;\n  }\n\n  function handleFileNameChange(e: any) {\n    setFilePath(e.target.value);\n  }\n\n  function handleCommitMessageChange(e: any) {\n    setCommitMessage(e.target.value);\n  }\n\n  function handleClickFileNameBox(e: any) {\n    if (filePath === '') {\n      setFilePath('.js');\n    }\n  }\n};\n\nexport default FileExplorerDialog;\n","import {\n  AnchorButton,\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n  Radio,\n  RadioGroup\n} from '@blueprintjs/core';\nimport classNames from 'classnames';\nimport React, { useState } from 'react';\n\nimport { showWarningMessage } from '../utils/NotificationsHelper';\n\nexport type RepositoryDialogProps = {\n  userRepos: any[];\n  onSubmit: (repoName: string) => void;\n};\n\nconst RepositoryDialog: React.FC<RepositoryDialogProps> = props => {\n  const [repoName, setRepoName] = useState('');\n\n  return (\n    <Dialog className=\"githubDialog\" isOpen={true} onClose={handleClose}>\n      <div className={classNames('githubDialogHeader', Classes.DIALOG_HEADER)}>\n        <h3>Select a Repository</h3>\n      </div>\n      <div className={Classes.DIALOG_BODY}>\n        <RadioGroup\n          className=\"RepositoryRadioGroup\"\n          onChange={handleSelect}\n          selectedValue={repoName}\n        >\n          {props.userRepos.map((repo: any) => (\n            <Radio label={repo.name} key={repo.id} value={repo.name} />\n          ))}\n        </RadioGroup>\n      </div>\n      <div className={classNames(Classes.DIALOG_FOOTER)}>\n        <div className={classNames(Classes.DIALOG_FOOTER_ACTIONS)}>\n          <Button onClick={handleClose}>Close</Button>\n          <AnchorButton onClick={handleSubmit} intent={Intent.PRIMARY}>\n            Select\n          </AnchorButton>\n        </div>\n      </div>\n    </Dialog>\n  );\n\n  function handleSelect(e: any) {\n    setRepoName(e.target.value);\n  }\n\n  function handleClose() {\n    props.onSubmit('');\n  }\n\n  function handleSubmit() {\n    if (repoName === '') {\n      showWarningMessage('No repository selected!', 1000);\n    } else {\n      props.onSubmit(repoName);\n    }\n  }\n};\n\nexport default RepositoryDialog;\n","import {\n  GetResponseDataTypeFromEndpointMethod,\n  GetResponseTypeFromEndpointMethod\n} from '@octokit/types';\nimport { SagaIterator } from 'redux-saga';\nimport { call, put, takeLatest } from 'redux-saga/effects';\n\nimport {\n  GITHUB_OPEN_FILE,\n  GITHUB_SAVE_FILE,\n  GITHUB_SAVE_FILE_AS\n} from '../../features/github/GitHubTypes';\nimport * as GitHubUtils from '../../features/github/GitHubUtils';\nimport { getGitHubOctokitInstance } from '../../features/github/GitHubUtils';\nimport { store } from '../../pages/createStore';\nimport { LOGIN_GITHUB, LOGOUT_GITHUB } from '../application/types/SessionTypes';\nimport FileExplorerDialog, { FileExplorerDialogProps } from '../gitHubOverlay/FileExplorerDialog';\nimport RepositoryDialog, { RepositoryDialogProps } from '../gitHubOverlay/RepositoryDialog';\nimport { actions } from '../utils/ActionsHelper';\nimport Constants from '../utils/Constants';\nimport { promisifyDialog } from '../utils/DialogHelper';\nimport { showSuccessMessage, showWarningMessage } from '../utils/NotificationsHelper';\n\nexport function* GitHubPersistenceSaga(): SagaIterator {\n  yield takeLatest(LOGIN_GITHUB, githubLoginSaga);\n  yield takeLatest(LOGOUT_GITHUB, githubLogoutSaga);\n\n  yield takeLatest(GITHUB_OPEN_FILE, githubOpenFile);\n  yield takeLatest(GITHUB_SAVE_FILE, githubSaveFile);\n  yield takeLatest(GITHUB_SAVE_FILE_AS, githubSaveFileAs);\n}\n\nfunction* githubLoginSaga() {\n  const githubOauthLoginLink = `https://github.com/login/oauth/authorize?client_id=${Constants.githubClientId}&scope=repo`;\n  const windowName = 'Connect With OAuth';\n  const windowSpecs = 'height=600,width=400';\n\n  // Create the broadcast channel\n  const broadcastChannel = new BroadcastChannel('GitHubOAuthAccessToken');\n\n  broadcastChannel.onmessage = receivedMessage => {\n    store.dispatch(actions.setGitHubOctokitObject(receivedMessage.data));\n    store.dispatch(actions.setGitHubAccessToken(receivedMessage.data));\n    showSuccessMessage('Logged in to GitHub', 1000);\n  };\n\n  if (!Constants.githubClientId) {\n    // Direct to the callback page to show the error messages\n    yield call(window.open, `/callback/github`, windowName, windowSpecs);\n  } else {\n    // Creates a window directed towards the GitHub oauth link for this app\n    // After the app has been approved by the user, it will be redirected to our GitHub callback page\n    // We receive the auth token through our broadcast channel\n    yield call(window.open, githubOauthLoginLink, windowName, windowSpecs);\n  }\n}\n\nfunction* githubLogoutSaga() {\n  if (store.getState() && store.getState().workspaces.githubAssessment.hasUnsavedChanges) {\n    yield call(showWarningMessage, 'You have unsaved changes!', 2000);\n    return;\n  }\n\n  yield put(actions.removeGitHubOctokitObjectAndAccessToken());\n  yield call(showSuccessMessage, `Logged out from GitHub`, 1000);\n}\n\nfunction* githubOpenFile(): any {\n  const octokit = GitHubUtils.getGitHubOctokitInstance();\n  if (octokit === undefined) {\n    return;\n  }\n\n  type ListForAuthenticatedUserData = GetResponseDataTypeFromEndpointMethod<\n    typeof octokit.repos.listForAuthenticatedUser\n  >;\n  const userRepos: ListForAuthenticatedUserData = yield call(\n    async () =>\n      await octokit.paginate(octokit.repos.listForAuthenticatedUser, {\n        // 100 is the maximum number of results that can be retrieved per page.\n        per_page: 100\n      })\n  );\n\n  const getRepoName = async () =>\n    await promisifyDialog<RepositoryDialogProps, string>(RepositoryDialog, resolve => ({\n      userRepos: userRepos,\n      onSubmit: resolve\n    }));\n  const repoName = yield call(getRepoName);\n\n  const editorContent = '';\n\n  if (repoName !== '') {\n    const pickerType = 'Open';\n    const promisifiedDialog = async () =>\n      await promisifyDialog<FileExplorerDialogProps, string>(FileExplorerDialog, resolve => ({\n        repoName: repoName,\n        pickerType: pickerType,\n        octokit: octokit,\n        editorContent: editorContent,\n        onSubmit: resolve\n      }));\n\n    yield call(promisifiedDialog);\n  }\n}\n\nfunction* githubSaveFile(): any {\n  const octokit = getGitHubOctokitInstance();\n  if (octokit === undefined) return;\n\n  type GetAuthenticatedResponse = GetResponseTypeFromEndpointMethod<\n    typeof octokit.users.getAuthenticated\n  >;\n  const authUser: GetAuthenticatedResponse = yield call(octokit.users.getAuthenticated);\n\n  const githubLoginId = authUser.data.login;\n  const repoName = store.getState().playground.githubSaveInfo.repoName;\n  const filePath = store.getState().playground.githubSaveInfo.filePath;\n  const githubEmail = authUser.data.email;\n  const githubName = authUser.data.name;\n  const commitMessage = 'Changes made from Source Academy';\n  // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n  const content = store.getState().workspaces.playground.editorTabs[0].value;\n\n  GitHubUtils.performOverwritingSave(\n    octokit,\n    githubLoginId,\n    repoName,\n    filePath,\n    githubEmail,\n    githubName,\n    commitMessage,\n    content\n  );\n}\n\nfunction* githubSaveFileAs(): any {\n  const octokit = GitHubUtils.getGitHubOctokitInstance();\n  if (octokit === undefined) {\n    return;\n  }\n\n  type ListForAuthenticatedUserData = GetResponseDataTypeFromEndpointMethod<\n    typeof octokit.repos.listForAuthenticatedUser\n  >;\n  const userRepos: ListForAuthenticatedUserData = yield call(\n    async () =>\n      await octokit.paginate(octokit.repos.listForAuthenticatedUser, {\n        // 100 is the maximum number of results that can be retrieved per page.\n        per_page: 100\n      })\n  );\n\n  const getRepoName = async () =>\n    await promisifyDialog<RepositoryDialogProps, string>(RepositoryDialog, resolve => ({\n      userRepos: userRepos,\n      onSubmit: resolve\n    }));\n  const repoName = yield call(getRepoName);\n\n  // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n  const editorContent = store.getState().workspaces.playground.editorTabs[0].value;\n\n  if (repoName !== '') {\n    const pickerType = 'Save';\n\n    const promisifiedFileExplorer = async () =>\n      await promisifyDialog<FileExplorerDialogProps, string>(FileExplorerDialog, resolve => ({\n        repoName: repoName,\n        pickerType: pickerType,\n        octokit: octokit,\n        editorContent: editorContent,\n        onSubmit: resolve\n      }));\n\n    yield call(promisifiedFileExplorer);\n  }\n}\n\nexport default GitHubPersistenceSaga;\n","export const GITHUB_OPEN_FILE = 'GITHUB_OPEN_FILE';\nexport const GITHUB_SAVE_FILE = 'GITHUB_SAVE_FILE';\nexport const GITHUB_SAVE_FILE_AS = 'GITHUB_SAVE_FILE_AS';\n\nexport type GitHubSaveInfo = {\n  repoName: string;\n  filePath: string;\n  lastSaved?: Date;\n};\n","import * as Sentry from '@sentry/browser';\nimport { SagaIterator } from 'redux-saga';\nimport { call } from 'redux-saga/effects';\n\nimport { LOG_OUT } from '../application/types/CommonsTypes';\nimport { LOGIN, SET_USER } from '../application/types/SessionTypes';\nimport { actions } from '../utils/ActionsHelper';\nimport { computeEndpointUrl } from '../utils/AuthHelper';\nimport { showWarningMessage } from '../utils/NotificationsHelper';\nimport { safeTakeEvery as takeEvery } from './SafeEffects';\n\nexport default function* LoginSaga(): SagaIterator {\n  yield takeEvery(LOGIN, updateLoginHref);\n\n  yield takeEvery(SET_USER, (action: ReturnType<typeof actions.setUser>) => {\n    Sentry.setUser({ id: action.payload.userId.toString() });\n  });\n\n  yield takeEvery(LOG_OUT, () => {\n    Sentry.setUser(null);\n  });\n}\n\nfunction* updateLoginHref({ payload: providerId }: ReturnType<typeof actions.login>) {\n  const epUrl = computeEndpointUrl(providerId);\n  if (!epUrl) {\n    yield call(showWarningMessage, 'Could not log in; invalid provider name provided.');\n    return undefined;\n  }\n  window.location.href = epUrl;\n  return undefined;\n}\n","import { Intent } from '@blueprintjs/core';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport { SagaIterator } from 'redux-saga';\nimport { call, put, select } from 'redux-saga/effects';\n\nimport {\n  PERSISTENCE_INITIALISE,\n  PERSISTENCE_OPEN_PICKER,\n  PERSISTENCE_SAVE_FILE,\n  PERSISTENCE_SAVE_FILE_AS,\n  PersistenceFile\n} from '../../features/persistence/PersistenceTypes';\nimport { store } from '../../pages/createStore';\nimport { OverallState } from '../application/ApplicationTypes';\nimport { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport { LOGOUT_GOOGLE } from '../application/types/SessionTypes';\nimport { actions } from '../utils/ActionsHelper';\nimport Constants from '../utils/Constants';\nimport { showSimpleConfirmDialog, showSimplePromptDialog } from '../utils/DialogHelper';\nimport {\n  dismiss,\n  showMessage,\n  showSuccessMessage,\n  showWarningMessage\n} from '../utils/NotificationsHelper';\nimport { AsyncReturnType } from '../utils/TypeHelper';\nimport { safeTakeEvery as takeEvery, safeTakeLatest as takeLatest } from './SafeEffects';\n\nconst DISCOVERY_DOCS = ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'];\nconst SCOPES = 'profile https://www.googleapis.com/auth/drive.file';\nconst UPLOAD_PATH = 'https://www.googleapis.com/upload/drive/v3/files';\n\n// Special ID value for the Google Drive API.\nconst ROOT_ID = 'root';\n\nconst MIME_SOURCE = 'text/plain';\n// const MIME_FOLDER = 'application/vnd.google-apps.folder';\n\nexport function* persistenceSaga(): SagaIterator {\n  yield takeLatest(LOGOUT_GOOGLE, function* () {\n    yield put(actions.playgroundUpdatePersistenceFile(undefined));\n    yield call(ensureInitialised);\n    yield call([gapi.auth2.getAuthInstance(), 'signOut']);\n  });\n\n  yield takeLatest(PERSISTENCE_OPEN_PICKER, function* (): any {\n    let toastKey: string | undefined;\n    try {\n      yield call(ensureInitialisedAndAuthorised);\n\n      const { id, name, picked } = yield call(pickFile, 'Pick a file to open');\n      if (!picked) {\n        return;\n      }\n      const confirmOpen: boolean = yield call(showSimpleConfirmDialog, {\n        title: 'Opening from Google Drive',\n        contents: (\n          <p>\n            Opening <strong>{name}</strong> will overwrite the current contents of your workspace.\n            Are you sure?\n          </p>\n        ),\n        positiveLabel: 'Open',\n        negativeLabel: 'Cancel'\n      });\n      if (!confirmOpen) {\n        return;\n      }\n\n      toastKey = yield call(showMessage, {\n        message: 'Opening file...',\n        timeout: 0,\n        intent: Intent.PRIMARY\n      });\n\n      const { result: meta } = yield call([gapi.client.drive.files, 'get'], {\n        fileId: id,\n        fields: 'appProperties'\n      });\n      const contents = yield call([gapi.client.drive.files, 'get'], { fileId: id, alt: 'media' });\n      yield put(actions.updateEditorValue(contents.body, 'playground'));\n      yield put(actions.playgroundUpdatePersistenceFile({ id, name, lastSaved: new Date() }));\n      if (meta && meta.appProperties) {\n        yield put(\n          actions.chapterSelect(\n            parseInt(meta.appProperties.chapter || '4', 10) as Chapter,\n            meta.appProperties.variant || Variant.DEFAULT,\n            'playground'\n          )\n        );\n        yield put(\n          actions.externalLibrarySelect(\n            Object.values(ExternalLibraryName).find(v => v === meta.appProperties.external) ||\n              ExternalLibraryName.NONE,\n            'playground'\n          )\n        );\n      }\n\n      yield call(showSuccessMessage, `Loaded ${name}.`, 1000);\n    } catch (ex) {\n      console.error(ex);\n      yield call(showWarningMessage, `Error while opening file.`, 1000);\n    } finally {\n      if (toastKey) {\n        dismiss(toastKey);\n      }\n    }\n  });\n\n  yield takeLatest(PERSISTENCE_SAVE_FILE_AS, function* (): any {\n    let toastKey: string | undefined;\n    try {\n      yield call(ensureInitialisedAndAuthorised);\n\n      const [code, variant, external] = yield select((state: OverallState) => [\n        // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n        state.workspaces.playground.editorTabs[0].value,\n        state.workspaces.playground.context.variant,\n        state.workspaces.playground.externalLibrary\n      ]);\n\n      const pickedDir: PickFileResult = yield call(\n        pickFile,\n        'Pick a folder, or cancel to pick the root folder',\n        {\n          pickFolders: true,\n          showFolders: true,\n          showFiles: false\n        }\n      );\n\n      const saveToDir: PersistenceFile = pickedDir.picked\n        ? pickedDir\n        : { id: ROOT_ID, name: 'My Drive' };\n\n      const pickedFile: PickFileResult = yield call(\n        pickFile,\n        `Saving to ${saveToDir.name}; pick a file to overwrite, or cancel to save as a new file`,\n        {\n          pickFolders: false,\n          showFolders: false,\n          showFiles: true,\n          rootFolder: saveToDir.id\n        }\n      );\n\n      if (pickedFile.picked) {\n        const reallyOverwrite: boolean = yield call(showSimpleConfirmDialog, {\n          title: 'Saving to Google Drive',\n          contents: (\n            <span>\n              Really overwrite <strong>{pickedFile.name}</strong>?\n            </span>\n          )\n        });\n        if (!reallyOverwrite) {\n          return;\n        }\n        yield put(actions.playgroundUpdatePersistenceFile(pickedFile));\n        yield put(actions.persistenceSaveFile(pickedFile));\n      } else {\n        const response: AsyncReturnType<typeof showSimplePromptDialog> = yield call(\n          showSimplePromptDialog,\n          {\n            title: 'Saving to Google Drive',\n            contents: (\n              <>\n                <p>\n                  Saving to folder <strong>{saveToDir.name}</strong>.\n                </p>\n                <p>Save as name?</p>\n              </>\n            ),\n            positiveLabel: 'Save as new file',\n            negativeLabel: 'Cancel',\n            props: {\n              validationFunction: value => !!value\n            }\n          }\n        );\n\n        if (!response.buttonResponse) {\n          return;\n        }\n\n        const config: IPlaygroundConfig = {\n          variant,\n          external\n        };\n\n        toastKey = yield call(showMessage, {\n          message: `Saving as ${response.value}...`,\n          timeout: 0,\n          intent: Intent.PRIMARY\n        });\n\n        const newFile = yield call(\n          createFile,\n          response.value,\n          saveToDir.id,\n          MIME_SOURCE,\n          code,\n          config\n        );\n\n        yield put(actions.playgroundUpdatePersistenceFile({ ...newFile, lastSaved: new Date() }));\n        yield call(\n          showSuccessMessage,\n          `${response.value} successfully saved to Google Drive.`,\n          1000\n        );\n      }\n    } catch (ex) {\n      console.error(ex);\n      yield call(showWarningMessage, `Error while saving file.`, 1000);\n    } finally {\n      if (toastKey) {\n        dismiss(toastKey);\n      }\n    }\n  });\n\n  yield takeEvery(\n    PERSISTENCE_SAVE_FILE,\n    function* ({ payload: { id, name } }: ReturnType<typeof actions.persistenceSaveFile>) {\n      let toastKey: string | undefined;\n      try {\n        toastKey = yield call(showMessage, {\n          message: `Saving as ${name}...`,\n          timeout: 0,\n          intent: Intent.PRIMARY\n        });\n\n        yield call(ensureInitialisedAndAuthorised);\n\n        const [code, variant, external] = yield select((state: OverallState) => [\n          // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n          state.workspaces.playground.editorTabs[0].value,\n          state.workspaces.playground.context.variant,\n          state.workspaces.playground.externalLibrary\n        ]);\n\n        const config: IPlaygroundConfig = {\n          variant,\n          external\n        };\n        yield call(updateFile, id, name, MIME_SOURCE, code, config);\n        yield put(actions.playgroundUpdatePersistenceFile({ id, name, lastSaved: new Date() }));\n        yield call(showSuccessMessage, `${name} successfully saved to Google Drive.`, 1000);\n      } catch (ex) {\n        console.error(ex);\n        yield call(showWarningMessage, `Error while saving file.`, 1000);\n      } finally {\n        if (toastKey) {\n          dismiss(toastKey);\n        }\n      }\n    }\n  );\n\n  yield takeEvery(PERSISTENCE_INITIALISE, ensureInitialised);\n}\n\ninterface IPlaygroundConfig {\n  variant: string;\n  external: string;\n}\n\n// Reason for this: we don't want to initialise and load the gapi JS until\n// it is actually needed\n// Note the following properties of Promises:\n// - It is okay to call .then() multiple times on the same promise\n// - It is okay to call resolve() multiple times (the subsequent resolves have\n//   no effect\n// See ECMA 262: https://www.ecma-international.org/ecma-262/6.0/#sec-promise-resolve-functions\n// These two properties make a Promise a good way to have a lazy singleton\n// (in this case, the singleton is not an object but the initialisation of the\n// gapi library)\nlet startInitialisation: (_: void) => void;\nconst initialisationPromise: Promise<void> = new Promise(res => {\n  startInitialisation = res;\n}).then(initialise);\n\nfunction handleUserChanged(user: gapi.auth2.GoogleUser) {\n  store.dispatch(\n    actions.setGoogleUser(user.isSignedIn() ? user.getBasicProfile().getEmail() : undefined)\n  );\n}\n\nasync function initialise() {\n  await new Promise((resolve, reject) =>\n    gapi.load('client:auth2', { callback: resolve, onerror: reject })\n  );\n  await gapi.client.init({\n    apiKey: Constants.googleApiKey,\n    clientId: Constants.googleClientId,\n    discoveryDocs: DISCOVERY_DOCS,\n    scope: SCOPES\n  });\n  gapi.auth2.getAuthInstance().currentUser.listen(handleUserChanged);\n  handleUserChanged(gapi.auth2.getAuthInstance().currentUser.get());\n}\n\nfunction* ensureInitialised() {\n  startInitialisation();\n  yield initialisationPromise;\n}\n\nfunction* ensureInitialisedAndAuthorised() {\n  yield call(ensureInitialised);\n  if (!gapi.auth2.getAuthInstance().isSignedIn.get()) {\n    yield gapi.auth2.getAuthInstance().signIn();\n  }\n}\n\ntype PickFileResult =\n  | { id: string; name: string; mimeType: string; parentId: string; picked: true }\n  | { picked: false };\n\nfunction pickFile(\n  title: string,\n  options?: {\n    pickFolders?: boolean;\n    showFolders?: boolean;\n    showFiles?: boolean;\n    rootFolder?: string;\n  }\n): Promise<PickFileResult> {\n  const pickFolders = typeof options?.pickFolders === 'undefined' ? false : options?.pickFolders;\n  const showFolders = typeof options?.showFolders === 'undefined' ? true : options?.showFolders;\n  const showFiles = typeof options?.showFiles === 'undefined' ? true : options?.showFiles;\n  return new Promise(res => {\n    gapi.load('picker', () => {\n      const view = new google.picker.DocsView(\n        showFiles ? google.picker.ViewId.DOCS : google.picker.ViewId.FOLDERS\n      );\n      if (options?.rootFolder) {\n        view.setParent(options.rootFolder);\n      }\n      view.setOwnedByMe(true);\n      view.setIncludeFolders(showFolders);\n      view.setSelectFolderEnabled(pickFolders);\n      view.setMode(google.picker.DocsViewMode.LIST);\n\n      const picker = new google.picker.PickerBuilder()\n        .setTitle(title)\n        .enableFeature(google.picker.Feature.NAV_HIDDEN)\n        .addView(view)\n        .setOAuthToken(\n          gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token\n        )\n        .setAppId(Constants.googleAppId!)\n        .setDeveloperKey(Constants.googleApiKey!)\n        .setCallback((data: any) => {\n          switch (data[google.picker.Response.ACTION]) {\n            case google.picker.Action.PICKED: {\n              const { id, name, mimeType, parentId } = data.docs[0];\n              res({ id, name, mimeType, parentId, picked: true });\n              break;\n            }\n            case google.picker.Action.CANCEL: {\n              res({ picked: false });\n              break;\n            }\n          }\n        })\n        .build();\n      picker.setVisible(true);\n    });\n  });\n}\n\nfunction createFile(\n  filename: string,\n  parent: string,\n  mimeType: string,\n  contents: string = '',\n  config: IPlaygroundConfig | {}\n): Promise<PersistenceFile> {\n  const name = filename;\n  const meta = {\n    name,\n    mimeType,\n    parents: [parent],\n    appProperties: {\n      source: true,\n      ...config\n    }\n  };\n\n  const { body, headers } = createMultipartBody(meta, contents, mimeType);\n\n  return gapi.client\n    .request({\n      path: UPLOAD_PATH,\n      method: 'POST',\n      params: {\n        uploadType: 'multipart'\n      },\n      headers,\n      body\n    })\n    .then(({ result }) => ({ id: result.id, name: result.name }));\n}\n\nfunction updateFile(\n  id: string,\n  name: string,\n  mimeType: string,\n  contents: string = '',\n  config: IPlaygroundConfig | {}\n): Promise<any> {\n  const meta = {\n    name,\n    mimeType,\n    appProperties: {\n      source: true,\n      ...config\n    }\n  };\n\n  const { body, headers } = createMultipartBody(meta, contents, mimeType);\n\n  return gapi.client.request({\n    path: UPLOAD_PATH + '/' + id,\n    method: 'PATCH',\n    params: {\n      uploadType: 'multipart'\n    },\n    headers,\n    body\n  });\n}\n\nfunction createMultipartBody(\n  meta: any,\n  contents: string,\n  contentsMime: string\n): { body: string; boundary: string; headers: { [name: string]: string } } {\n  const metaJson = JSON.stringify(meta);\n  let boundary: string;\n  do {\n    boundary = generateBoundary();\n  } while (metaJson.includes(boundary) || contents.includes(boundary));\n\n  const body = `--${boundary}\nContent-Type: application/json; charset=utf-8\n\n${JSON.stringify(meta)}\n--${boundary}\nContent-Type: ${contentsMime}\n\n${contents}\n--${boundary}--\n`;\n\n  return { body, boundary, headers: { 'Content-Type': `multipart/related; boundary=${boundary}` } };\n}\n\n// Adapted from\n// https://github.com/form-data/form-data/blob/master/lib/form_data.js\n\n// Copyright (c) 2012 Felix Geisendörfer (felix@debuggable.com) and contributors\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nfunction generateBoundary(): string {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  let boundary = '--------------------------';\n  for (let i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  return boundary;\n}\n\n// End adapted part\n\nexport default persistenceSaga;\n","import { Variant } from 'Clang-slang/dist/types';\nimport { compressToEncodedURIComponent } from 'lz-string';\nimport * as qs from 'query-string';\nimport { SagaIterator } from 'redux-saga';\nimport { call, delay, put, race, select } from 'redux-saga/effects';\n\nimport {\n  changeQueryString,\n  shortenURL,\n  updateShortURL\n} from '../../features/playground/PlaygroundActions';\nimport { GENERATE_LZ_STRING, SHORTEN_URL } from '../../features/playground/PlaygroundTypes';\nimport { defaultEditorValue, OverallState } from '../application/ApplicationTypes';\nimport { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport Constants from '../utils/Constants';\nimport { showSuccessMessage, showWarningMessage } from '../utils/NotificationsHelper';\nimport { safeTakeEvery as takeEvery } from './SafeEffects';\n\nexport default function* PlaygroundSaga(): SagaIterator {\n  yield takeEvery(GENERATE_LZ_STRING, updateQueryString);\n\n  yield takeEvery(SHORTEN_URL, function* (action: ReturnType<typeof shortenURL>): any {\n    const queryString = yield select((state: OverallState) => state.playground.queryString);\n    const keyword = action.payload;\n    const errorMsg = 'ERROR';\n\n    let resp, timeout;\n\n    //we catch and move on if there are errors (plus have a timeout in case)\n    try {\n      const { result, hasTimedOut } = yield race({\n        result: call(shortenURLRequest, queryString, keyword),\n        hasTimedOut: delay(10000)\n      });\n\n      resp = result;\n      timeout = hasTimedOut;\n    } catch (_) {}\n\n    if (!resp || timeout) {\n      yield put(updateShortURL(errorMsg));\n      return yield call(showWarningMessage, 'Something went wrong trying to create the link.');\n    }\n\n    if (resp.status !== 'success' && !resp.shorturl) {\n      yield put(updateShortURL(errorMsg));\n      return yield call(showWarningMessage, resp.message);\n    }\n\n    if (resp.status !== 'success') {\n      yield call(showSuccessMessage, resp.message);\n    }\n    yield put(updateShortURL(Constants.urlShortenerBase + resp.url.keyword));\n  });\n}\n\nfunction* updateQueryString() {\n  const code: string = yield select(\n    // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n    (state: OverallState) => state.workspaces.playground.editorTabs[0].value\n  );\n  if (!code || code === defaultEditorValue) {\n    yield put(changeQueryString(''));\n    return;\n  }\n  const variant: Variant = yield select(\n    (state: OverallState) => state.workspaces.playground.context.variant\n  );\n  const external: ExternalLibraryName = yield select(\n    (state: OverallState) => state.workspaces.playground.externalLibrary\n  );\n  const execTime: number = yield select(\n    (state: OverallState) => state.workspaces.playground.execTime\n  );\n  const newQueryString: string = qs.stringify({\n    prgrm: compressToEncodedURIComponent(code),\n    variant,\n    ext: external,\n    exec: execTime\n  });\n  yield put(changeQueryString(newQueryString));\n}\n\n/**\n * Gets short url from microservice\n * @returns {(Response|null)} Response if successful, otherwise null.\n */\nexport async function shortenURLRequest(\n  queryString: string,\n  keyword: string\n): Promise<Response | null> {\n  const url = `${window.location.protocol}//${window.location.host}/playground#${queryString}`;\n\n  const params = {\n    signature: Constants.urlShortenerSignature,\n    action: 'shorturl',\n    format: 'json',\n    keyword,\n    url\n  };\n  const fetchOpts: RequestInit = {\n    method: 'POST',\n    body: Object.entries(params).reduce((formData, [k, v]) => {\n      formData.append(k, v!);\n      return formData;\n    }, new FormData())\n  };\n\n  const resp = await fetch(`${Constants.urlShortenerBase}yourls-api.php`, fetchOpts);\n  if (!resp || !resp.ok) {\n    return null;\n  }\n\n  const res = await resp.json();\n  return res;\n}\n","import { SlingClient } from '@sourceacademy/sling-client';\nimport { ExceptionError } from 'Clang-slang/dist/errors/errors';\nimport { Variant } from 'Clang-slang/dist/types';\nimport _ from 'lodash';\nimport { SagaIterator } from 'redux-saga';\nimport { call, put, race, select, take } from 'redux-saga/effects';\nimport {\n  Ev3DevicePeripherals,\n  Ev3MotorData,\n  Ev3MotorTypes,\n  Ev3SensorData,\n  Ev3SensorTypes\n} from 'src/features/remoteExecution/RemoteExecutionEv3Types';\nimport {\n  Device,\n  DeviceSession,\n  deviceTypesById,\n  REMOTE_EXEC_CONNECT,\n  REMOTE_EXEC_DISCONNECT,\n  REMOTE_EXEC_FETCH_DEVICES,\n  WebSocketEndpointInformation\n} from 'src/features/remoteExecution/RemoteExecutionTypes';\nimport { store } from 'src/pages/createStore';\n\nimport { OverallState } from '../application/ApplicationTypes';\nimport { ExternalLibraryName } from '../application/types/ExternalTypes';\nimport { BEGIN_INTERRUPT_EXECUTION } from '../application/types/InterpreterTypes';\nimport { actions } from '../utils/ActionsHelper';\nimport { fetchDevices, getDeviceWSEndpoint } from './RequestsSaga';\nimport { safeTakeEvery as takeEvery, safeTakeLatest as takeLatest } from './SafeEffects';\n\nconst dummyLocation = {\n  start: { line: 0, column: 0 },\n  end: { line: 0, column: 0 }\n};\n\nexport function* remoteExecutionSaga(): SagaIterator {\n  yield takeLatest(REMOTE_EXEC_FETCH_DEVICES, function* () {\n    const [tokens, session]: [any, DeviceSession | undefined] = yield select(\n      (state: OverallState) => [\n        {\n          accessToken: state.session.accessToken,\n          refreshToken: state.session.refreshToken\n        },\n        state.session.remoteExecutionSession\n      ]\n    );\n    const devices: Device[] = yield call(fetchDevices, tokens);\n\n    yield put(actions.remoteExecUpdateDevices(devices));\n\n    if (!session) {\n      return;\n    }\n    const updatedDevice = devices.find(({ id }) => id === session.device.id);\n    if (updatedDevice) {\n      yield put(\n        actions.remoteExecUpdateSession({\n          ...session,\n          device: updatedDevice\n        })\n      );\n    }\n  });\n\n  yield takeEvery(\n    REMOTE_EXEC_CONNECT,\n    function* (action: ReturnType<typeof actions.remoteExecConnect>) {\n      const [tokens, session]: [any, DeviceSession | undefined] = yield select(\n        (state: OverallState) => [\n          {\n            accessToken: state.session.accessToken,\n            refreshToken: state.session.refreshToken\n          },\n          state.session.remoteExecutionSession\n        ]\n      );\n      const { device, workspace } = action.payload;\n      yield put(\n        actions.remoteExecUpdateSession({\n          device,\n          workspace,\n          connection: { status: 'CONNECTING' }\n        })\n      );\n      const endpoint: WebSocketEndpointInformation | null = yield call(\n        getDeviceWSEndpoint,\n        device,\n        tokens\n      );\n      if (!endpoint) {\n        yield put(\n          actions.remoteExecUpdateSession({\n            ...action.payload,\n            connection: { status: 'FAILED', error: 'Could not retrieve MQTT endpoint' }\n          })\n        );\n        return;\n      }\n\n      const oldClient = session?.connection.client;\n      if (oldClient) {\n        try {\n          oldClient.disconnect();\n        } catch {}\n      }\n      const client: SlingClient = new SlingClient({\n        clientId: `${endpoint.clientNamePrefix}${generateClientNonce()}`,\n        deviceId: endpoint.thingName,\n        websocketEndpoint: endpoint.endpoint\n      });\n      client.on('statusChange', isRunning => {\n        store.dispatch(\n          actions.updateWorkspace(workspace, {\n            isRunning\n          })\n        );\n      });\n      client.on('monitor', message => {\n        const port = message[0].split(':')[1];\n        const key = `port${port.substring(port.length - 1)}` as keyof Ev3DevicePeripherals;\n        const currentSession = store.getState().session.remoteExecutionSession!; // Guaranteed valid session\n\n        const dispatchAction = (peripheralData: Ev3MotorData | Ev3SensorData) =>\n          store.dispatch(\n            actions.remoteExecUpdateSession({\n              ...currentSession,\n              device: {\n                ...currentSession.device,\n                peripherals: {\n                  ..._.pickBy(\n                    currentSession.device.peripherals,\n                    p => Date.now() - p.lastUpdated < 3000\n                  ),\n                  [key]: { ...peripheralData, lastUpdated: Date.now() }\n                }\n              }\n            })\n          );\n\n        if (message[1].endsWith('motor')) {\n          const type = message[1] as Ev3MotorTypes;\n          const position = parseInt(message[2]);\n          const speed = parseInt(message[3]);\n          const peripheralData: Ev3MotorData = { type, position, speed };\n          dispatchAction(peripheralData);\n        } else {\n          const type = message[1] as Ev3SensorTypes;\n          const mode = message[2] as any;\n          const value = parseInt(message[3]);\n          const peripheralData: Ev3SensorData = { type, mode, value };\n          dispatchAction(peripheralData);\n        }\n      });\n\n      client.on('display', (message, type) => {\n        switch (type) {\n          case 'output':\n            store.dispatch(actions.handleConsoleLog(workspace, `${message}`));\n            break;\n          case 'error': {\n            const error = new ExceptionError(new Error(`${message}`), dummyLocation);\n            store.dispatch(actions.evalInterpreterError([error], workspace));\n            break;\n          }\n          case 'result':\n            store.dispatch(actions.evalInterpreterSuccess(message, workspace));\n            break;\n        }\n      });\n      const deviceType = deviceTypesById.get(device.type);\n\n      yield put(\n        actions.remoteExecUpdateSession({\n          device,\n          workspace,\n          connection: { status: 'CONNECTING', client, endpoint }\n        })\n      );\n      yield put(\n        actions.updateWorkspace(workspace, {\n          isRunning: false,\n          isEditorAutorun: false,\n          isDebugging: false,\n          externalLibrary: deviceType?.deviceLibraryName,\n          output: []\n        })\n      );\n      yield put(\n        actions.beginClearContext(\n          workspace,\n          {\n            variant: Variant.DEFAULT,\n            external: {\n              name: deviceType?.deviceLibraryName || ExternalLibraryName.NONE,\n              symbols: deviceType?.internalFunctions || []\n            },\n            globals: []\n          },\n          false\n        )\n      );\n      try {\n        const connectPromise = new Promise((resolve, reject) => {\n          try {\n            client.once('connect', () => resolve(true));\n            client.once('error', reject);\n            client.connect();\n          } catch {\n            reject();\n          }\n        });\n        const connectOrCancel: {\n          connect?: boolean;\n        } = yield race({\n          connect: connectPromise,\n          reconnect: take(REMOTE_EXEC_CONNECT),\n          disconnect: take(REMOTE_EXEC_DISCONNECT)\n        });\n        if (connectOrCancel.connect) {\n          yield put(\n            actions.remoteExecUpdateSession({\n              ...action.payload,\n              connection: { status: 'CONNECTED', client, endpoint }\n            })\n          );\n        } else {\n          client.disconnect();\n        }\n      } catch (err) {\n        client.disconnect();\n        yield put(\n          actions.remoteExecUpdateSession({\n            ...action.payload,\n            connection: { status: 'FAILED', client, error: err.toString() }\n          })\n        );\n      }\n    }\n  );\n\n  yield takeLatest(\n    REMOTE_EXEC_DISCONNECT,\n    function* (action: ReturnType<typeof actions.remoteExecDisconnect>) {\n      const session: DeviceSession | undefined = yield select(\n        (state: OverallState) => state.session.remoteExecutionSession\n      );\n      if (!session) {\n        return;\n      }\n      const oldClient = session.connection.client;\n      if (oldClient) {\n        oldClient.disconnect();\n      }\n      yield put(actions.remoteExecUpdateSession(undefined));\n      yield put(actions.externalLibrarySelect(ExternalLibraryName.NONE, session.workspace, true));\n    }\n  );\n\n  yield takeEvery(BEGIN_INTERRUPT_EXECUTION, function* () {\n    const session: DeviceSession | undefined = yield select(\n      (state: OverallState) => state.session.remoteExecutionSession\n    );\n    if (!session || session.connection.status !== 'CONNECTED') {\n      return;\n    }\n\n    session.connection.client.sendStop();\n  });\n}\n\nconst ALPHANUMERIC = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\nconst generateClientNonce = () =>\n  new Array(16)\n    .fill(undefined)\n    .map(_ => ALPHANUMERIC[Math.floor(Math.random() * ALPHANUMERIC.length)])\n    .join('');\n\nexport default remoteExecutionSaga;\n","import { Context, findDeclaration, interrupt, runInContext } from 'Clang-slang';\nimport { InterruptedError } from 'Clang-slang/dist/errors/errors';\nimport { parse } from 'Clang-slang/dist/parser/parser';\nimport { Chapter, Variant } from 'Clang-slang/dist/types';\nimport { random } from 'lodash';\nimport Phaser from 'phaser';\nimport { SagaIterator } from 'redux-saga';\nimport { call, put, race, select, StrictEffect, take } from 'redux-saga/effects';\nimport EnvVisualizer from 'src/features/envVisualizer/EnvVisualizer';\n\nimport { EventType } from '../../features/achievement/AchievementTypes';\nimport DataVisualizer from '../../features/dataVisualizer/dataVisualizer';\nimport { DeviceSession } from '../../features/remoteExecution/RemoteExecutionTypes';\nimport {\n  isSourceLanguage,\n  OverallState,\n  styliseSublanguage\n} from '../application/ApplicationTypes';\nimport { externalLibraries, ExternalLibraryName } from '../application/types/ExternalTypes';\nimport {\n  BEGIN_DEBUG_PAUSE,\n  BEGIN_INTERRUPT_EXECUTION,\n  DEBUG_RESET,\n  DEBUG_RESUME,\n  HIGHLIGHT_LINE\n} from '../application/types/InterpreterTypes';\nimport { Library, Testcase, TestcaseType, TestcaseTypes } from '../assessment/AssessmentTypes';\nimport { actions } from '../utils/ActionsHelper';\nimport DisplayBufferService from '../utils/DisplayBufferService';\nimport {\n  getBlockExtraMethodsString,\n  getDifferenceInMethods,\n  getRestoreExtraMethodsString,\n  getStoreExtraMethodsString,\n  highlightClean,\n  highlightLine,\n  makeElevatedContext,\n  visualizeEnv\n} from '../utils/JsSlangHelper';\nimport { showSuccessMessage, showWarningMessage } from '../utils/NotificationsHelper';\nimport { notifyProgramEvaluated } from '../workspace/WorkspaceActions';\nimport {\n  ADD_HTML_CONSOLE_ERROR,\n  BEGIN_CLEAR_CONTEXT,\n  CHAPTER_SELECT,\n  END_CLEAR_CONTEXT,\n  EVAL_EDITOR,\n  EVAL_EDITOR_AND_TESTCASES,\n  EVAL_REPL,\n  EVAL_SILENT,\n  EVAL_TESTCASE,\n  NAV_DECLARATION,\n  PLAYGROUND_EXTERNAL_SELECT,\n  TOGGLE_EDITOR_AUTORUN,\n  WorkspaceLocation\n} from '../workspace/WorkspaceTypes';\nimport { safeTakeEvery as takeEvery, safeTakeLeading as takeLeading } from './SafeEffects';\n\nexport default function* WorkspaceSaga(): SagaIterator {\n  let context: Context;\n\n  yield takeEvery(\n    ADD_HTML_CONSOLE_ERROR,\n    function* (action: ReturnType<typeof actions.addHtmlConsoleError>) {\n      yield put(\n        actions.handleConsoleLog(action.payload.workspaceLocation, action.payload.errorMsg)\n      );\n    }\n  );\n\n  yield takeEvery(EVAL_EDITOR, function* (action: ReturnType<typeof actions.evalEditor>) {\n    const workspaceLocation = action.payload.workspaceLocation;\n    yield* evalEditor(workspaceLocation);\n  });\n\n  yield takeEvery(\n    TOGGLE_EDITOR_AUTORUN,\n    function* (action: ReturnType<typeof actions.toggleEditorAutorun>): any {\n      const workspaceLocation = action.payload.workspaceLocation;\n      const isEditorAutorun = yield select(\n        (state: OverallState) => state.workspaces[workspaceLocation].isEditorAutorun\n      );\n      yield call(showWarningMessage, 'Autorun ' + (isEditorAutorun ? 'Started' : 'Stopped'), 750);\n    }\n  );\n\n  yield takeEvery(EVAL_REPL, function* (action: ReturnType<typeof actions.evalRepl>) {\n    const workspaceLocation = action.payload.workspaceLocation;\n    const code: string = yield select(\n      (state: OverallState) => state.workspaces[workspaceLocation].replValue\n    );\n    const execTime: number = yield select(\n      (state: OverallState) => state.workspaces[workspaceLocation].execTime\n    );\n    yield put(actions.beginInterruptExecution(workspaceLocation));\n    yield put(actions.clearReplInput(workspaceLocation));\n    yield put(actions.sendReplInputToOutput(code, workspaceLocation));\n    context = yield select((state: OverallState) => state.workspaces[workspaceLocation].context);\n    yield call(evalCode, code, context, execTime, workspaceLocation, EVAL_REPL);\n  });\n\n  yield takeEvery(DEBUG_RESUME, function* (action: ReturnType<typeof actions.debuggerResume>) {\n    const workspaceLocation = action.payload.workspaceLocation;\n    const code: string = yield select(\n      // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n      (state: OverallState) => state.workspaces[workspaceLocation].editorTabs[0].value\n    );\n    const execTime: number = yield select(\n      (state: OverallState) => state.workspaces[workspaceLocation].execTime\n    );\n    yield put(actions.beginInterruptExecution(workspaceLocation));\n    /** Clear the context, with the same chapter and externalSymbols as before. */\n    yield put(actions.clearReplOutput(workspaceLocation));\n    context = yield select((state: OverallState) => state.workspaces[workspaceLocation].context);\n    yield put(actions.highlightEditorLine([], workspaceLocation));\n    yield call(evalCode, code, context, execTime, workspaceLocation, DEBUG_RESUME);\n  });\n\n  yield takeEvery(DEBUG_RESET, function* (action: ReturnType<typeof actions.debuggerReset>) {\n    const workspaceLocation = action.payload.workspaceLocation;\n    context = yield select((state: OverallState) => state.workspaces[workspaceLocation].context);\n    yield put(actions.clearReplOutput(workspaceLocation));\n    yield put(actions.highlightEditorLine([], workspaceLocation));\n    context.runtime.break = false;\n    lastDebuggerResult = undefined;\n  });\n\n  yield takeEvery(\n    HIGHLIGHT_LINE,\n    function* (action: ReturnType<typeof actions.highlightEditorLine>) {\n      const highlightedLines = action.payload.highlightedLines;\n      if (highlightedLines.length === 0) {\n        highlightClean();\n      } else {\n        highlightLine(highlightedLines[0]);\n      }\n      yield;\n    }\n  );\n\n  yield takeEvery(EVAL_TESTCASE, function* (action: ReturnType<typeof actions.evalTestcase>) {\n    yield put(actions.addEvent([EventType.RUN_TESTCASE]));\n    const workspaceLocation = action.payload.workspaceLocation;\n    const index = action.payload.testcaseId;\n    yield* runTestCase(workspaceLocation, index);\n  });\n\n  yield takeEvery(CHAPTER_SELECT, function* (action: ReturnType<typeof actions.chapterSelect>) {\n    const { workspaceLocation, chapter: newChapter, variant: newVariant } = action.payload;\n    const [oldVariant, oldChapter, symbols, globals, externalLibraryName]: [\n      Variant,\n      Chapter,\n      string[],\n      Array<[string, any]>,\n      ExternalLibraryName\n    ] = yield select((state: OverallState) => [\n      state.workspaces[workspaceLocation].context.variant,\n      state.workspaces[workspaceLocation].context.externalSymbols,\n      state.workspaces[workspaceLocation].globals,\n      state.workspaces[workspaceLocation].externalLibrary\n    ]);\n\n    const chapterChanged: boolean = newChapter !== oldChapter || newVariant !== oldVariant;\n    const toChangeChapter: boolean = chapterChanged;\n\n    if (toChangeChapter) {\n      const library: Library = {\n        variant: newVariant,\n        external: {\n          name: externalLibraryName,\n          symbols\n        },\n        globals\n      };\n      yield put(actions.beginClearContext(workspaceLocation, library, false));\n      yield put(actions.clearReplOutput(workspaceLocation));\n      yield put(actions.debuggerReset(workspaceLocation));\n      yield call(\n        showSuccessMessage,\n        `Switched to ${styliseSublanguage(newChapter, newVariant)}`,\n        1000\n      );\n    }\n  });\n\n  /**\n   * Note that the PLAYGROUND_EXTERNAL_SELECT action is made to\n   * select the library for playground.\n   * This is because assessments do not have a chapter & library select, the question\n   * specifies the chapter and library to be used.\n   *\n   * To abstract this to assessments, the state structure must be manipulated to store\n   * the external library name in a WorkspaceState (as compared to IWorkspaceManagerState).\n   *\n   * @see IWorkspaceManagerState @see WorkspaceState\n   */\n  yield takeEvery(\n    PLAYGROUND_EXTERNAL_SELECT,\n    function* (action: ReturnType<typeof actions.externalLibrarySelect>) {\n      const { workspaceLocation, externalLibraryName: newExternalLibraryName } = action.payload;\n      const [globals, oldExternalLibraryName]: [Array<[string, any]>, ExternalLibraryName] =\n        yield select((state: OverallState) => [\n          state.workspaces[workspaceLocation].globals,\n          state.workspaces[workspaceLocation].externalLibrary\n        ]);\n      const symbols = externalLibraries.get(newExternalLibraryName)!;\n      const library: Library = {\n        external: {\n          name: newExternalLibraryName,\n          symbols\n        },\n        globals\n      };\n      if (newExternalLibraryName !== oldExternalLibraryName || action.payload.initialise) {\n        yield put(actions.changeExternalLibrary(newExternalLibraryName, workspaceLocation));\n        yield put(actions.beginClearContext(workspaceLocation, library, true));\n        yield put(actions.clearReplOutput(workspaceLocation));\n        if (!action.payload.initialise) {\n          yield call(showSuccessMessage, `Switched to ${newExternalLibraryName} library`, 1000);\n        }\n      }\n    }\n  );\n\n  /**\n   * Handles the side effect of resetting the WebGL context when context is reset.\n   *\n   * @see webGLgraphics.js under 'public/externalLibs/graphics' for information on\n   * the function.\n   */\n  yield takeEvery(\n    BEGIN_CLEAR_CONTEXT,\n    function* (action: ReturnType<typeof actions.beginClearContext>) {\n      DataVisualizer.clear();\n      EnvVisualizer.clear();\n      const globals: Array<[string, any]> = action.payload.library.globals as Array<[string, any]>;\n      for (const [key, value] of globals) {\n        window[key] = value;\n      }\n      yield put(\n        actions.endClearContext(\n          {\n            ...action.payload.library,\n            moduleParams: {\n              runes: {},\n              phaser: Phaser\n            }\n          },\n          action.payload.workspaceLocation\n        )\n      );\n      yield undefined;\n    }\n  );\n\n  yield takeEvery(\n    NAV_DECLARATION,\n    function* (action: ReturnType<typeof actions.navigateToDeclaration>) {\n      const workspaceLocation = action.payload.workspaceLocation;\n      const code: string = yield select(\n        // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n        (state: OverallState) => state.workspaces[workspaceLocation].editorTabs[0].value\n      );\n      context = yield select((state: OverallState) => state.workspaces[workspaceLocation].context);\n\n      const result = findDeclaration(code, context, {\n        line: action.payload.cursorPosition.row + 1,\n        column: action.payload.cursorPosition.column\n      });\n      if (result) {\n        yield put(\n          actions.moveCursor(action.payload.workspaceLocation, {\n            row: result.start.line - 1,\n            column: result.start.column\n          })\n        );\n      }\n    }\n  );\n\n  yield takeLeading(\n    EVAL_EDITOR_AND_TESTCASES,\n    function* (action: ReturnType<typeof actions.runAllTestcases>) {\n      const { workspaceLocation } = action.payload;\n\n      yield call(evalEditor, workspaceLocation);\n\n      const testcases: Testcase[] = yield select(\n        (state: OverallState) => state.workspaces[workspaceLocation].editorTestcases\n      );\n      // Avoid displaying message if there are no testcases\n      if (testcases.length > 0) {\n        // Display a message to the user\n        yield call(showSuccessMessage, `Running all testcases!`, 2000);\n        for (const idx of testcases.keys()) {\n          // break each testcase up into separate event loop iterations\n          // so that the UI updates\n          yield new Promise(resolve => setTimeout(resolve, 0));\n\n          const programSucceeded: boolean = yield call(runTestCase, workspaceLocation, idx);\n          // Prematurely terminate if execution of the program failed (not the testcase)\n          if (!programSucceeded) {\n            return;\n          }\n        }\n      }\n    }\n  );\n}\n\nlet lastDebuggerResult: any;\nfunction* updateInspector(workspaceLocation: WorkspaceLocation): SagaIterator {\n  try {\n    const start = lastDebuggerResult.context.runtime.nodes[0].loc.start.line - 1;\n    const end = lastDebuggerResult.context.runtime.nodes[0].loc.end.line - 1;\n    yield put(actions.highlightEditorLine([start, end], workspaceLocation));\n    visualizeEnv(lastDebuggerResult);\n  } catch (e) {\n    yield put(actions.highlightEditorLine([], workspaceLocation));\n    // most likely harmless, we can pretty much ignore this.\n    // half of the time this comes from execution ending or a stack overflow and\n    // the context goes missing.\n  }\n}\n\nfunction* clearContext(workspaceLocation: WorkspaceLocation, program: string) {\n  const [symbols, externalLibraryName, globals, variant]: [\n    string[],\n    ExternalLibraryName,\n    Array<[string, any]>,\n    Variant\n  ] = yield select((state: OverallState) => [\n    state.workspaces[workspaceLocation].context.externalSymbols,\n    state.workspaces[workspaceLocation].externalLibrary,\n    state.workspaces[workspaceLocation].globals,\n    state.workspaces[workspaceLocation].context.variant\n  ]);\n\n  const library = {\n    variant,\n    external: {\n      name: externalLibraryName,\n      symbols\n    },\n    globals\n  };\n\n  // Clear the context, with the same chapter and externalSymbols as before.\n  yield put(actions.beginClearContext(workspaceLocation, library, false));\n  // Wait for the clearing to be done.\n  yield take(END_CLEAR_CONTEXT);\n}\n\nexport function* dumpDisplayBuffer(\n  workspaceLocation: WorkspaceLocation\n): Generator<StrictEffect, void, any> {\n  yield put(actions.handleConsoleLog(workspaceLocation, ...DisplayBufferService.dump()));\n}\n\nexport function* evalEditor(\n  workspaceLocation: WorkspaceLocation\n): Generator<StrictEffect, void, any> {\n  const [prepend, editorCode, execTime, remoteExecutionSession]: [\n    string,\n    string,\n    number,\n    DeviceSession | undefined\n  ] = yield select((state: OverallState) => [\n    // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n    state.workspaces[workspaceLocation].editorTabs[0].prependValue,\n    state.workspaces[workspaceLocation].editorTabs[0].value,\n    state.workspaces[workspaceLocation].execTime,\n    state.session.remoteExecutionSession\n  ]);\n\n  yield put(actions.addEvent([EventType.RUN_CODE]));\n\n  if (remoteExecutionSession && remoteExecutionSession.workspace === workspaceLocation) {\n    yield put(actions.remoteExecRun(editorCode));\n  } else {\n    // End any code that is running right now.\n    yield put(actions.beginInterruptExecution(workspaceLocation));\n    yield* clearContext(workspaceLocation, editorCode);\n    yield put(actions.clearReplOutput(workspaceLocation));\n    const context = yield select(\n      (state: OverallState) => state.workspaces[workspaceLocation].context\n    );\n    let value = editorCode;\n    // Check for initial syntax errors. If there are errors, we continue with\n    // eval and let it print the error messages.\n    if (isSourceLanguage(context.chapter)) {\n      parse(value, context);\n    }\n    if (!context.errors.length) {\n      // Otherwise we step through the breakpoints one by one and check them.\n      const exploded = editorCode.split('\\n');\n      const breakpoints: string[] = yield select(\n        // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n        (state: OverallState) => state.workspaces[workspaceLocation].editorTabs[0].breakpoints\n      );\n      for (const b in breakpoints) {\n        if (typeof b !== 'string') {\n          continue;\n        }\n\n        const index: number = +b;\n        context.errors = [];\n        exploded[index] = 'debugger;' + exploded[index];\n        value = exploded.join('\\n');\n        if (isSourceLanguage(context.chapter)) {\n          parse(value, context);\n        }\n        if (context.errors.length) {\n          const msg = 'Hint: Misplaced breakpoint at line ' + (index + 1) + '.';\n          yield put(actions.sendReplInputToOutput(msg, workspaceLocation));\n        }\n      }\n    }\n    // Clear the errors on the context before any further evaluation.\n    context.errors = [];\n\n    // Evaluate the prepend silently with a privileged context, if it exists\n    if (prepend.length) {\n      const elevatedContext = makeElevatedContext(context);\n      yield call(evalCode, prepend, elevatedContext, execTime, workspaceLocation, EVAL_SILENT);\n      // Block use of methods from privileged context\n      yield* blockExtraMethods(elevatedContext, context, execTime, workspaceLocation);\n    }\n\n    yield call(evalCode, value, context, execTime, workspaceLocation, EVAL_EDITOR);\n  }\n}\n\nexport function* runTestCase(\n  workspaceLocation: WorkspaceLocation,\n  index: number\n): Generator<StrictEffect, boolean, any> {\n  const [prepend, value, postpend, testcase]: [string, string, string, string] = yield select(\n    (state: OverallState) => {\n      // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n      const prepend = state.workspaces[workspaceLocation].editorTabs[0].prependValue;\n      const value = state.workspaces[workspaceLocation].editorTabs[0].value;\n      const postpend = state.workspaces[workspaceLocation].editorTabs[0].postpendValue;\n      const testcase = state.workspaces[workspaceLocation].editorTestcases[index].program;\n      return [prepend, value, postpend, testcase] as [string, string, string, string];\n    }\n  );\n  const type: TestcaseType = yield select(\n    (state: OverallState) => state.workspaces[workspaceLocation].editorTestcases[index].type\n  );\n  const execTime: number = yield select(\n    (state: OverallState) => state.workspaces[workspaceLocation].execTime\n  );\n\n  yield* clearContext(workspaceLocation, value);\n\n  // Do NOT clear the REPL output!\n\n  /**\n   *  Shard a new privileged context elevated to use Source chapter 4 for testcases - enables\n   *  grader programs in postpend to run as expected without raising interpreter errors\n   *  But, do not persist this context to the workspace state - this prevent students from using\n   *  this elevated context to run dis-allowed code beyond the current chapter from the REPL\n   */\n  const context: Context<any> = yield select(\n    (state: OverallState) => state.workspaces[workspaceLocation].context\n  );\n\n  // Execute prepend silently in privileged context\n  const elevatedContext = makeElevatedContext(context);\n  yield call(evalCode, prepend, elevatedContext, execTime, workspaceLocation, EVAL_SILENT);\n\n  // Block use of methods from privileged context using a randomly generated blocking key\n  // Then execute student program silently in the original workspace context\n  const blockKey = String(random(1048576, 68719476736));\n  yield* blockExtraMethods(elevatedContext, context, execTime, workspaceLocation, blockKey);\n  yield call(evalCode, value, context, execTime, workspaceLocation, EVAL_SILENT);\n\n  // Halt execution if the student's code in the editor results in an error\n  if (context.errors.length) {\n    yield put(actions.evalTestcaseFailure(context.errors, workspaceLocation, index));\n    return false;\n  }\n\n  // Execute postpend silently back in privileged context, if it exists\n  if (postpend) {\n    // TODO: consider doing a swap. If the user has modified any of the variables,\n    // i.e. reusing any of the \"reserved\" names, prevent it from being accessed in the REPL.\n    yield* restoreExtraMethods(elevatedContext, context, execTime, workspaceLocation, blockKey);\n    yield call(evalCode, postpend, elevatedContext, execTime, workspaceLocation, EVAL_SILENT);\n    yield* blockExtraMethods(elevatedContext, context, execTime, workspaceLocation, blockKey);\n  }\n  // Finally execute the testcase function call in the privileged context\n  yield* evalTestCode(testcase, elevatedContext, execTime, workspaceLocation, index, type);\n  return true;\n}\n\nexport function* blockExtraMethods(\n  elevatedContext: Context,\n  context: Context,\n  execTime: number,\n  workspaceLocation: WorkspaceLocation,\n  unblockKey?: string\n) {\n  // Extract additional methods available in the elevated context relative to the context\n  const toBeBlocked = getDifferenceInMethods(elevatedContext, context);\n  if (unblockKey) {\n    const storeValues = getStoreExtraMethodsString(toBeBlocked, unblockKey);\n    yield call(evalCode, storeValues, elevatedContext, execTime, workspaceLocation, EVAL_SILENT);\n  }\n\n  const nullifier = getBlockExtraMethodsString(toBeBlocked);\n  yield call(evalCode, nullifier, elevatedContext, execTime, workspaceLocation, EVAL_SILENT);\n}\n\nexport function* restoreExtraMethods(\n  elevatedContext: Context,\n  context: Context,\n  execTime: number,\n  workspaceLocation: WorkspaceLocation,\n  unblockKey: string\n) {\n  const toUnblock = getDifferenceInMethods(elevatedContext, context);\n  const restorer = getRestoreExtraMethodsString(toUnblock, unblockKey);\n  yield call(evalCode, restorer, elevatedContext, execTime, workspaceLocation, EVAL_SILENT);\n}\n\nexport function* evalCode(\n  code: string,\n  context: Context,\n  execTime: number,\n  workspaceLocation: WorkspaceLocation,\n  actionType: string\n): SagaIterator {\n  const stepLimit: number = yield select(\n    (state: OverallState) => state.workspaces[workspaceLocation].stepLimit\n  );\n\n  const { result, interrupted, paused } = yield race({\n    result: call(runInContext, code, context, {\n      scheduler: 'preemptive',\n      executionMethod: 'interpreter',\n      originalMaxExecTime: execTime,\n      stepLimit: stepLimit,\n      variant: Variant.DEFAULT,\n      useSubst: false\n    }),\n\n    /**\n     * A BEGIN_INTERRUPT_EXECUTION signals the beginning of an interruption,\n     * i.e the trigger for the interpreter to interrupt execution.\n     */\n    interrupted: take(BEGIN_INTERRUPT_EXECUTION),\n    paused: take(BEGIN_DEBUG_PAUSE)\n  });\n  if (interrupted) {\n    interrupt(context);\n    /* Redundancy, added ensure that interruption results in an error. */\n    context.errors.push(new InterruptedError(context.runtime.nodes[0]));\n    yield put(actions.debuggerReset(workspaceLocation));\n    yield put(actions.endInterruptExecution(workspaceLocation));\n    yield call(showWarningMessage, 'Execution aborted', 750);\n    return;\n  }\n\n  if (paused) {\n    yield put(actions.endDebuggerPause(workspaceLocation));\n    yield call(updateInspector, workspaceLocation);\n    yield call(showWarningMessage, 'Execution paused', 750);\n    return;\n  }\n\n  if (actionType === EVAL_EDITOR) {\n    lastDebuggerResult = result;\n  }\n  yield call(updateInspector, workspaceLocation);\n\n  if (\n    result.status !== 'suspended' &&\n    result.status !== 'finished' &&\n    result.status !== 'suspended-non-det'\n  ) {\n    yield* dumpDisplayBuffer(workspaceLocation);\n    yield put(actions.evalInterpreterError(context.errors, workspaceLocation));\n\n    // we need to parse again, but preserve the errors in context\n    const oldErrors = context.errors;\n    context.errors = [];\n    context.errors = oldErrors;\n    // for achievement event tracking\n    const events = context.errors.length > 0 ? [EventType.ERROR] : [];\n    yield put(actions.addEvent(events));\n    return;\n  } else if (result.status === 'suspended') {\n    yield put(actions.endDebuggerPause(workspaceLocation));\n    yield put(actions.evalInterpreterSuccess('Breakpoint hit!', workspaceLocation));\n    return;\n  }\n  yield* dumpDisplayBuffer(workspaceLocation);\n  // Do not write interpreter output to REPL, if executing chunks (e.g. prepend/postpend blocks)\n  if (actionType !== EVAL_SILENT) {\n    yield put(actions.evalInterpreterSuccess(result.value, workspaceLocation));\n  }\n\n  // For EVAL_EDITOR and EVAL_REPL, we send notification to workspace that a program has been evaluated\n  if (actionType === EVAL_EDITOR || actionType === EVAL_REPL) {\n    if (context.errors.length > 0) {\n      yield put(actions.addEvent([EventType.ERROR]));\n    }\n    yield put(notifyProgramEvaluated(result, lastDebuggerResult, code, context, workspaceLocation));\n  }\n}\n\nexport function* evalTestCode(\n  code: string,\n  context: Context,\n  execTime: number,\n  workspaceLocation: WorkspaceLocation,\n  index: number,\n  type: TestcaseType\n) {\n  yield put(actions.resetTestcase(workspaceLocation, index));\n  const { result, interrupted } = yield race({\n    result: call(runInContext, code, context, {\n      scheduler: 'preemptive',\n      originalMaxExecTime: execTime,\n      throwInfiniteLoops: true\n    }),\n    /**\n     * A BEGIN_INTERRUPT_EXECUTION signals the beginning of an interruption,\n     * i.e the trigger for the interpreter to interrupt execution.\n     */\n    interrupted: take(BEGIN_INTERRUPT_EXECUTION)\n  });\n\n  if (interrupted) {\n    interrupt(context);\n    yield* dumpDisplayBuffer(workspaceLocation);\n    // Redundancy, added ensure that interruption results in an error.\n    context.errors.push(new InterruptedError(context.runtime.nodes[0]));\n    yield put(actions.endInterruptExecution(workspaceLocation));\n    yield call(showWarningMessage, `Execution of testcase ${index} aborted`, 750);\n    return;\n  }\n\n  yield* dumpDisplayBuffer(workspaceLocation);\n  /** result.status here is either 'error' or 'finished'; 'suspended' is not possible\n   *  since debugger is presently disabled in assessment and grading environments\n   */\n  if (result.status === 'error') {\n    yield put(actions.evalInterpreterError(context.errors, workspaceLocation));\n    yield put(actions.evalTestcaseFailure(context.errors, workspaceLocation, index));\n  } else if (result.status === 'finished') {\n    // Execution of the testcase is successful, i.e. no errors were raised\n    yield put(actions.evalInterpreterSuccess(result.value, workspaceLocation));\n    yield put(actions.evalTestcaseSuccess(result.value, workspaceLocation, index));\n  }\n\n  // If a opaque testcase was executed, remove its output from the REPL\n  if (type === TestcaseTypes.opaque) {\n    yield put(actions.clearReplOutputLast(workspaceLocation));\n  }\n}\n","import { SagaIterator } from 'redux-saga';\nimport { fork } from 'redux-saga/effects';\n\nimport { mockBackendSaga } from '../mocks/BackendMocks';\nimport Constants from '../utils/Constants';\nimport AchievementSaga from './AchievementSaga';\nimport BackendSaga from './BackendSaga';\nimport GitHubPersistenceSaga from './GitHubPersistenceSaga';\nimport LoginSaga from './LoginSaga';\nimport PersistenceSaga from './PersistenceSaga';\nimport PlaygroundSaga from './PlaygroundSaga';\nimport RemoteExecutionSaga from './RemoteExecutionSaga';\nimport WorkspaceSaga from './WorkspaceSaga';\n\nexport default function* MainSaga(): SagaIterator {\n  yield fork(Constants.useBackend ? BackendSaga : mockBackendSaga);\n  yield fork(WorkspaceSaga);\n  yield fork(LoginSaga);\n  yield fork(PlaygroundSaga);\n  yield fork(AchievementSaga);\n  yield fork(PersistenceSaga);\n  yield fork(GitHubPersistenceSaga);\n  yield fork(RemoteExecutionSaga);\n}\n","import { Chapter, Variant } from 'Clang-slang/dist/types';\nimport { compressToUTF16, decompressFromUTF16 } from 'lz-string';\n\nimport { OverallState } from '../commons/application/ApplicationTypes';\nimport { ExternalLibraryName } from '../commons/application/types/ExternalTypes';\nimport { SessionState } from '../commons/application/types/SessionTypes';\nimport { showWarningMessage } from '../commons/utils/NotificationsHelper';\nimport { AchievementItem } from '../features/achievement/AchievementTypes';\n\nexport type SavedState = {\n  session: Partial<SessionState>;\n  achievements: AchievementItem[];\n  playgroundEditorValue: string;\n  playgroundIsEditorAutorun: boolean;\n  playgroundSourceChapter: number;\n  playgroundSourceVariant: Variant;\n  playgroundExternalLibrary: ExternalLibraryName;\n};\n\nexport const loadStoredState = (): SavedState | undefined => {\n  try {\n    const serializedState = localStorage.getItem('storedState');\n    if (!serializedState) {\n      return undefined;\n    }\n    const decompressed = decompressFromUTF16(serializedState);\n    if (!decompressed) {\n      return undefined;\n    }\n    return JSON.parse(decompressed) as SavedState;\n  } catch (err) {\n    showWarningMessage('Error loading from local storage');\n    return undefined;\n  }\n};\n\nexport const saveState = (state: OverallState) => {\n  try {\n    const stateToBeSaved: SavedState = {\n      session: {\n        accessToken: state.session.accessToken,\n        refreshToken: state.session.refreshToken,\n        courseRegId: state.session.courseRegId,\n        role: state.session.role,\n        name: state.session.name,\n        userId: state.session.userId,\n        courses: state.session.courses,\n        courseId: state.session.courseId,\n        courseName: state.session.courseName,\n        courseShortName: state.session.courseShortName,\n        viewable: state.session.viewable,\n        enableGame: state.session.enableGame,\n        enableAchievements: state.session.enableAchievements,\n        enableSourcecast: state.session.enableSourcecast,\n        moduleHelpText: state.session.moduleHelpText,\n        assetsPrefix: state.session.assetsPrefix,\n        assessmentConfigurations: state.session.assessmentConfigurations,\n        githubAccessToken: state.session.githubAccessToken\n      },\n      achievements: state.achievement.achievements,\n      // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n      playgroundEditorValue: state.workspaces.playground.editorTabs[0].value,\n      playgroundIsEditorAutorun: state.workspaces.playground.isEditorAutorun,\n      playgroundSourceChapter: Chapter.CLANG,\n      playgroundSourceVariant: state.workspaces.playground.context.variant,\n      playgroundExternalLibrary: state.workspaces.playground.externalLibrary\n    };\n    const serialized = compressToUTF16(JSON.stringify(stateToBeSaved));\n    localStorage.setItem('storedState', serialized);\n  } catch (err) {\n    showWarningMessage('Error saving to local storage');\n  }\n};\n","import { Chapter } from 'Clang-slang/dist/types';\nimport { throttle } from 'lodash';\nimport { applyMiddleware, compose, createStore as _createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport { defaultState } from '../commons/application/ApplicationTypes';\nimport createRootReducer from '../commons/application/reducers/RootReducer';\nimport MainSaga from '../commons/sagas/MainSaga';\nimport { generateOctokitInstance } from '../commons/utils/GitHubPersistenceHelper';\nimport { loadStoredState, SavedState, saveState } from './localStorage';\n\nexport const store = createStore();\n\nexport function createStore() {\n  const sagaMiddleware = createSagaMiddleware();\n  const middleware = [sagaMiddleware];\n\n  const composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        serialize: true,\n        maxAge: 300\n      }) || compose\n    : compose;\n\n  const initialStore = loadStore(loadStoredState()) || defaultState;\n\n  const enhancers = composeEnhancers(applyMiddleware(...middleware));\n\n  const createdStore = _createStore(createRootReducer(), initialStore as any, enhancers);\n  sagaMiddleware.run(MainSaga);\n\n  createdStore.subscribe(\n    throttle(() => {\n      saveState(createdStore.getState());\n    }, 1000)\n  );\n\n  return createdStore;\n}\n\nfunction loadStore(loadedStore: SavedState | undefined) {\n  if (!loadedStore) {\n    return undefined;\n  }\n  return {\n    ...defaultState,\n    session: {\n      ...defaultState.session,\n      ...(loadedStore.session ? loadedStore.session : {}),\n      githubOctokitObject: {\n        octokit: loadedStore.session.githubAccessToken\n          ? generateOctokitInstance(loadedStore.session.githubAccessToken)\n          : undefined\n      }\n    },\n    workspaces: {\n      ...defaultState.workspaces,\n      playground: {\n        ...defaultState.workspaces.playground,\n        editorTabs: loadedStore.playgroundEditorValue\n          ? // TODO: Hardcoded to make use of the first editor tab. Rewrite after editor tabs are added.\n            [\n              {\n                value: loadedStore.playgroundEditorValue,\n                prependValue: '',\n                postpendValue: '',\n                highlightedLines: [],\n                breakpoints: []\n              }\n            ]\n          : defaultState.workspaces.playground.editorTabs,\n        isEditorAutorun: loadedStore.playgroundIsEditorAutorun\n          ? loadedStore.playgroundIsEditorAutorun\n          : defaultState.workspaces.playground.isEditorAutorun,\n        externalLibrary: loadedStore.playgroundExternalLibrary\n          ? loadedStore.playgroundExternalLibrary\n          : defaultState.workspaces.playground.externalLibrary,\n        context: {\n          ...defaultState.workspaces.playground.context,\n          chapter: loadedStore.playgroundSourceChapter\n            ? loadedStore.playgroundSourceChapter\n            : Chapter.CLANG,\n          variant: loadedStore.playgroundSourceVariant\n            ? loadedStore.playgroundSourceVariant\n            : defaultState.workspaces.playground.context.variant\n        }\n      }\n    }\n  };\n}\n"],"sourceRoot":""}